!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=1756)}([function(e,t,n){"use strict";var r=n(2),i=e.exports={};i.nestedProperty=n(313),i.isPlainObject=n(166),i.isArray=n(312),i.mod=n(559),i.toLogRange=n(315),i.relinkPrivateKeys=n(1377),i.ensureArray=n(1371);var o=n(1369);i.valObjects=o.valObjects,i.coerce=o.coerce,i.coerce2=o.coerce2,i.coerceFont=o.coerceFont,i.validate=o.validate;var a=n(1370);i.dateTime2ms=a.dateTime2ms,i.isDateTime=a.isDateTime,i.ms2DateTime=a.ms2DateTime,i.ms2DateTimeLocal=a.ms2DateTimeLocal,i.cleanDate=a.cleanDate,i.isJSDate=a.isJSDate,i.formatDate=a.formatDate,i.incrementMonth=a.incrementMonth,i.dateTick0=a.dateTick0,i.dfltRange=a.dfltRange,i.findExactDates=a.findExactDates,i.MIN_MS=a.MIN_MS,i.MAX_MS=a.MAX_MS;var s=n(563);i.findBin=s.findBin,i.sorterAsc=s.sorterAsc,i.sorterDes=s.sorterDes,i.distinctVals=s.distinctVals,i.roundUp=s.roundUp;var l=n(1378);i.aggNums=l.aggNums,i.len=l.len,i.mean=l.mean,i.variance=l.variance,i.stdev=l.stdev,i.interp=l.interp;var u=n(558);i.init2dArray=u.init2dArray,i.transposeRagged=u.transposeRagged,i.dot=u.dot,i.translationMatrix=u.translationMatrix,i.rotationMatrix=u.rotationMatrix,i.rotationXYMatrix=u.rotationXYMatrix,i.apply2DTransform=u.apply2DTransform,i.apply2DTransform2=u.apply2DTransform2;var c=n(8);i.extendFlat=c.extendFlat,i.extendDeep=c.extendDeep,i.extendDeepAll=c.extendDeepAll,i.extendDeepNoArrays=c.extendDeepNoArrays;var f=n(167);i.log=f.log,i.warn=f.warn,i.error=f.error,i.notifier=n(1375),i.filterUnique=n(1372),i.filterVisible=n(1373),i.pushUnique=n(561),i.cleanNumber=n(1368),i.noop=n(314),i.identity=n(1374),i.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var o=0;o<t.length;o++){var a=t[o],s=i.nestedProperty(e,a.replace("?",n)),l=i.nestedProperty(e,a.replace("?",r)),u=s.get();s.set(l.get()),l.set(u)}},i.pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1},i.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},i.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},i.simpleMap=function(e,t,n,r){for(var i=e.length,o=new Array(i),a=0;a<i;a++)o[a]=t(e[a],n,r);return o},i.randstr=function e(t,n,r){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var i,o,a,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(i=2;s===1/0;i*=2)s=Math.log(Math.pow(2,n/i))/Math.log(r)*i;var u=s-Math.floor(s);for(i=0;i<Math.floor(s);i++)a=Math.floor(Math.random()*r).toString(r),l=a+l;u&&(o=Math.pow(r,u),a=Math.floor(Math.random()*o).toString(r),l=a+l);var c=parseInt(l,r);return t&&t.indexOf(l)>-1||c!==1/0&&c>=Math.pow(2,n)?e(t,n,r):l},i.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={};return n.optionList=[],n._newoption=function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)},n["_"+t]=e,n},i.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,o,a=e.length,s=2*a,l=2*t-1,u=new Array(l),c=new Array(a);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<a;n++){for(o=0,r=0;r<l;r++)i=n+r+1-t,i<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=e[i]*u[r];c[n]=o}return c},i.syncOrAsync=function(e,t,n){function r(){return i.syncOrAsync(e,t,n)}for(var o,a;e.length;)if(a=e.splice(0,1)[0],(o=a(t))&&o.then)return o.then(r).then(void 0,i.promiseError);return n&&n(t)},i.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},i.noneOrAll=function(e,t,n){if(e){var r,i,o=!1,a=!0;for(r=0;r<n.length;r++)i=e[n[r]],void 0!==i&&null!==i?o=!0:a=!1;if(o&&!a)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},i.mergeArray=function(e,t,n){if(Array.isArray(e))for(var r=Math.min(e.length,t.length),i=0;i<r;i++)t[i][n]=e[i]},i.minExtend=function(e,t){var n={};"object"!==typeof t&&(t={});var r,o,a,s=Object.keys(e);for(r=0;r<s.length;r++)o=s[r],a=e[o],"_"!==o.charAt(0)&&"function"!==typeof a&&("module"===o?n[o]=a:Array.isArray(a)?n[o]=a.slice(0,3):n[o]=a&&"object"===typeof a?i.minExtend(e[o],t[o]):a);for(s=Object.keys(t),r=0;r<s.length;r++)o=s[r],"object"===typeof(a=t[o])&&o in n&&"object"===typeof n[o]||(n[o]=a);return n},i.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},i.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},i.getPlotDiv=function(e){for(;e&&e.removeAttribute;e=e.parentNode)if(i.isPlotDiv(e))return e},i.isPlotDiv=function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},i.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},i.addStyleRule=function(e,t){if(!i.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),i.styleSheet=n.sheet}var r=i.styleSheet;r.insertRule?r.insertRule(e+"{"+t+"}",0):r.addRule?r.addRule(e,t,0):i.warn("addStyleRule failed")},i.isIE=function(){return"undefined"!==typeof window.navigator.msSaveBlob},i.isD3Selection=function(e){return e&&"function"===typeof e.classed},i.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],s=null,l=r[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],o===r.length-1?n[s]=t:n[s]={},n=n[s]):(o===r.length-1?n[a]=t:n[a]={},n=n[a])}return i};var h=/^([^\[\.]+)\.(.+)?/,d=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;i.expandObjectPaths=function(e){var t,n,r,o,a,s,l;if("object"===typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(h))?(o=e[n],r=t[1],delete e[n],e[r]=i.extendDeepNoArrays(e[r]||{},i.objectFromPath(n,i.expandObjectPaths(o))[r])):(t=n.match(d))?(o=e[n],r=t[1],a=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(l=t[4],s=e[r][a]=e[r][a]||{},i.extendDeepNoArrays(s,i.objectFromPath(l,i.expandObjectPaths(o)))):e[r][a]=i.expandObjectPaths(o)):e[n]=i.expandObjectPaths(e[n]));return e},i.numSeparate=function(e,t,n){if(n||(n=!1),"string"!==typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"===typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),o=t.charAt(1),a=e.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+l}},function(e,t,n){"use strict";var r=n(1700),i=n(213);t.easeCubicInOut=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},t.bezier=function(e,t,n,i){var o=new r(e,t,n,i);return function(e){return o.solve(e)}},t.ease=t.bezier(.25,.1,.25,1),t.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},t.wrap=function(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i},t.coalesce=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(null!==t&&void 0!==t)return t}},t.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach(function(e,a){t(e,function(e,t){e&&(o=e),i[a]=t,0===--r&&n(o,i)})})},t.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},t.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e},t.extendAll=function(e,t){for(var n in t)Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},t.inherit=function(e,n){var r="function"===typeof e?e.prototype:e,i=Object.create(r);return t.extendAll(i,n),i},t.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n};var o=1;t.uniqueId=function(){return o++},t.debounce=function(e,t){var n,r;return function(){r=arguments,clearTimeout(n),n=setTimeout(function(){e.apply(null,r)},t)}},t.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},t.bindHandlers=function(e){for(var t in e)"function"===typeof e[t]&&0===t.indexOf("_on")&&(e[t]=e[t].bind(e))},t.setOptions=function(e,t){e.hasOwnProperty("options")||(e.options=e.options?Object.create(e.options):{});for(var n in t)e.options[n]=t[n];return e.options},t.getCoordinatesCenter=function(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,a=0;a<e.length;a++)t=Math.min(t,e[a].column),n=Math.min(n,e[a].row),r=Math.max(r,e[a].column),o=Math.max(o,e[a].row);var s=r-t,l=o-n,u=Math.max(s,l);return new i((t+r)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(u)/Math.LN2))},t.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.mapObject=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r},t.filterObject=function(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r},t.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"===typeof t&&null!==t&&null!==n){if("object"!==typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},t.clone=function(e){return Array.isArray(e)?e.map(t.clone):"object"===typeof e?t.mapObject(e,t.clone):e},t.arraysIntersect=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1};var a={};t.warnOnce=function(e){a[e]||("undefined"!==typeof console&&console.warn(e),a[e]=!0)}},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function l(e){return null===e?NaN:+e}function u(e){return!isNaN(e)}function c(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function f(e){return e.length}function h(e){for(var t=1;e*t%1;)t*=10;return t}function d(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function m(e){return(e+="")===ka||e[0]===Ea?Ea+e:e}function v(e){return(e+="")[0]===Ea?e.slice(1):e}function g(e){return m(e)in this._}function y(e){return(e=m(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(v(t));return e}function x(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return!1;return!0}function w(){this._=Object.create(null)}function M(e){return e}function k(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function E(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Sa.length;n<r;++n){var i=Sa[n]+t;if(i in e)return i}}function S(){}function T(){}function A(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function C(){da.event.preventDefault()}function D(){for(var e,t=da.event;e=t.sourceEvent;)t=e;return t}function O(e){for(var t=new T,n=0,r=arguments.length;++n<r;)t[arguments[n]]=A(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=da.event;i.target=e,da.event=i,t[i.type].apply(n,r)}finally{da.event=o}}},t}function P(e){return Aa(e,Pa),e}function L(e){return"function"===typeof e?e:function(){return Ca(e,this)}}function I(e){return"function"===typeof e?e:function(){return Da(e,this)}}function N(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=da.ns.qualify(e),null==t?e.local?r:n:"function"===typeof t?e.local?s:a:e.local?o:i}function R(e){return e.trim().replace(/\s+/g," ")}function j(e){return new RegExp("(?:^|\\s+)"+da.requote(e)+"(?:\\s+|$)","g")}function z(e){return(e+"").trim().split(/^|\s+/)}function F(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=z(e).map(B);var i=e.length;return"function"===typeof t?r:n}function B(e){var t=j(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",R(i+" "+e))):n.setAttribute("class",R(i.replace(t," ")))}}function U(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"===typeof t?o:i}function V(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"===typeof t?i:r}function H(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===La&&t.documentElement.namespaceURI===La?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"===typeof e?e:(e=da.ns.qualify(e)).local?n:t}function Y(){var e=this.parentNode;e&&e.removeChild(this)}function W(e){return{__data__:e}}function q(e){return function(){return Oa(this,e)}}function G(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function X(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function Z(e){return Aa(e,Na),e}function K(e){var t,n;return function(r,i,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<l;);return a}}function $(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=l(t,ma(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+da.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),l=J;s>0&&(e=e.slice(0,s));var u=Ra.get(e);return u&&(e=u,l=Q),s?t?i:r:t?S:o}function J(e,t){return function(n){var r=da.event;da.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{da.event=r}}}function Q(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++za,n="click"+t,r=da.select(a(e)).on("touchmove"+t,C).on("dragstart"+t,C).on("selectstart"+t,C);if(null==ja&&(ja=!("onselectstart"in e)&&E(e.style,"userSelect")),ja){var i=o(e).style,s=i[ja];i[ja]="none"}return function(e){if(r.on(t,null),ja&&(i[ja]=s),e){var o=function(){r.on(n,null)};r.on(n,function(){C(),o()},!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Fa<0){var i=a(e);if(i.scrollX||i.scrollY){n=da.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Fa=!(o.f||o.e),n.remove()}}return Fa?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ne(){return da.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:e<-1?Va:Math.acos(e)}function ae(e){return e>1?Wa:e<-1?-Wa:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function le(e){return((e=Math.exp(e))+1/e)/2}function ue(e){return((e=Math.exp(2*e))-1)/(e+1)}function ce(e){return(e=Math.sin(e/2))*e}function fe(){}function he(e,t,n){return this instanceof he?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof he?new he(e.h,e.s,e.l):Se(""+e,Te,he):new he(e,t,n)}function de(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?o+(a-o)*e/60:e<180?a:e<240?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a,new we(i(e+120),i(e),i(e-120))}function pe(e,t,n){return this instanceof pe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof pe?new pe(e.h,e.c,e.l):e instanceof ve?ye(e.l,e.a,e.b):ye((e=Ae((e=da.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new pe(e,t,n)}function me(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ve(n,Math.cos(e*=qa)*t,Math.sin(e)*t)}function ve(e,t,n){return this instanceof ve?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ve?new ve(e.l,e.a,e.b):e instanceof pe?me(e.h,e.c,e.l):Ae((e=we(e)).r,e.g,e.b):new ve(e,t,n)}function ge(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=be(i)*ts,r=be(r)*ns,o=be(o)*rs,new we(_e(3.2404542*i-1.5371385*r-.4985314*o),_e(-.969266*i+1.8760108*r+.041556*o),_e(.0556434*i-.2040259*r+1.0572252*o))}function ye(e,t,n){return e>0?new pe(Math.atan2(n,t)*Ga,Math.sqrt(t*t+n*n),e):new pe(NaN,NaN,e)}function be(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function xe(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function _e(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function we(e,t,n){return this instanceof we?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof we?new we(e.r,e.g,e.b):Se(""+e,we,de):new we(e,t,n)}function Me(e){return new we(e>>16,e>>8&255,255&e)}function ke(e){return Me(e)+""}function Ee(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Se(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(De(i[0]),De(i[1]),De(i[2]))}return(o=as.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function Te(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new he(r,i,l)}function Ae(e,t,n){e=Ce(e),t=Ce(t),n=Ce(n);var r=xe((.4124564*e+.3575761*t+.1804375*n)/ts),i=xe((.2126729*e+.7151522*t+.072175*n)/ns);return ve(116*i-16,500*(r-i),200*(i-xe((.0193339*e+.119192*t+.9503041*n)/rs)))}function Ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function De(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Oe(e){return"function"===typeof e?e:function(){return e}}function Pe(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),Le(t,n,e,r)}}function Le(e,t,n,r){function i(){var e,t=l.status;if(!t&&Ne(l)||t>=200&&t<300||304===t){try{e=n.call(o,l)}catch(e){return void a.error.call(o,e)}a.load.call(o,e)}else a.error.call(o,l)}var o={},a=da.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=da.event;da.event=e;try{a.progress.call(o,l)}finally{da.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(u=e,o):u},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ma(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"===typeof r&&(i=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},da.rebind(o,a,"on"),null==r?o:o.get(Ie(r))}function Ie(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ne(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Re(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return ls?ls.n=o:ss=o,ls=o,us||(cs=clearTimeout(cs),us=1,fs(je)),o}function je(){var e=ze(),t=Fe()-e;t>24?(isFinite(t)&&(clearTimeout(cs),cs=setTimeout(je,t)),us=0):(us=1,fs(je))}function ze(){for(var e=Date.now(),t=ss;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Fe(){for(var e,t=ss,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ss=t.n;return ls=e,n}function Be(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ue(e,t){var n=Math.pow(10,3*Ma(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ve(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:M;return function(e){var n=ds.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,m="",v="",g=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,v="%",d="f";break;case"p":p=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+d.toLowerCase());case"c":y=!1;case"d":g=!0,h=0;break;case"s":p=-1,d="r"}"$"===l&&(m=i[0],v=i[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h)))),d=ps.get(d)||He;var b=u&&f;return function(e){var n=v;if(g&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(p<0){var l=da.formatPrefix(e,h);e=l.scale(e),n=l.symbol+v}else e*=p;e=d(e,h);var x,_,w=e.lastIndexOf(".");if(w<0){var M=y?e.lastIndexOf("e"):-1;M<0?(x=e,_=""):(x=e.substring(0,M),_=e.substring(M))}else x=e.substring(0,w),_=t+e.substring(w+1);!u&&f&&(x=o(x,1/0));var k=m.length+x.length+_.length+(b?0:i.length),E=k<c?new Array(k=c-k+1).join(r):"";return b&&(x=o(E+x,E.length?c-_.length:1/0)),i+=m,e=x+_,("<"===a?i+e+E:">"===a?E+i+e:"^"===a?E.substring(0,k>>=1)+i+e+E.substring(k):i+(b?e:E+e))+n}}}function He(e){return e+""}function Ye(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function We(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new vs(n-1)),1),n}function o(e,n){return t(e=new vs(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{vs=Ye;var r=new Ye;return r._=e,a(r,t,n)}finally{vs=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var l=e.utc=qe(e);return l.floor=l,l.round=qe(r),l.ceil=qe(i),l.offset=qe(o),l.range=s,e}function qe(e){return function(t,n){try{vs=Ye;var r=new Ye;return r._=t,e(r,n)._}finally{vs=Date}}}function Ge(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=ys[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=A[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(e.slice(l,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&vs!==Ye,o=new(i?Ye:vs);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=C[a in ys?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.w=M.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){k.lastIndex=0;var r=k.exec(t.slice(n));return r?(e.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,A.c.toString(),t,r)}function l(e,t,r){return n(e,A.x.toString(),t,r)}function u(e,t,r){return n(e,A.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,h=e.date,d=e.time,p=e.periods,m=e.days,v=e.shortDays,g=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{vs=Ye;var t=new vs;return t._=e,r(t)}finally{vs=Date}}var r=t(e);return n.parse=function(e){try{vs=Ye;var t=r.parse(e);return t&&t._}finally{vs=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=dt;var b=da.map(),x=Ze(m),_=Ke(m),w=Ze(v),M=Ke(v),k=Ze(g),E=Ke(g),S=Ze(y),T=Ke(y);p.forEach(function(e,t){b.set(e.toLowerCase(),t)});var A={a:function(e){return v[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(f),d:function(e,t){return Xe(e.getDate(),t,2)},e:function(e,t){return Xe(e.getDate(),t,2)},H:function(e,t){return Xe(e.getHours(),t,2)},I:function(e,t){return Xe(e.getHours()%12||12,t,2)},j:function(e,t){return Xe(1+ms.dayOfYear(e),t,3)},L:function(e,t){return Xe(e.getMilliseconds(),t,3)},m:function(e,t){return Xe(e.getMonth()+1,t,2)},M:function(e,t){return Xe(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return Xe(e.getSeconds(),t,2)},U:function(e,t){return Xe(ms.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Xe(ms.mondayOfYear(e),t,2)},x:t(h),X:t(d),y:function(e,t){return Xe(e.getFullYear()%100,t,2)},Y:function(e,t){return Xe(e.getFullYear()%1e4,t,4)},Z:ft,"%":function(){return"%"}},C={a:r,A:i,b:o,B:a,c:s,d:ot,e:ot,H:st,I:st,j:at,L:ct,m:it,M:lt,p:c,S:ut,U:Je,w:$e,W:Qe,x:l,X:u,y:tt,Y:et,Z:nt,"%":ht};return t}function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ze(e){return new RegExp("^(?:"+e.map(da.requote).join("|")+")","i")}function Ke(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function $e(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Qe(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.y=rt(+r[0]),n+r[0].length):-1}function nt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rt(e){return e+(e>68?1900:2e3)}function it(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ot(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function at(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function st(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function lt(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ut(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ct(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ft(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=Ma(t)/60|0,i=Ma(t)%60;return n+Xe(r,"0",2)+Xe(i,"0",2)}function ht(e,t,n){xs.lastIndex=0;var r=xs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dt(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function pt(){}function mt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function vt(e,t){e&&ks.hasOwnProperty(e.type)&&ks[e.type](e,t)}function gt(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function yt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)gt(e[n],t,1);t.polygonEnd()}function bt(){function e(e,t){e*=qa,t=t*qa/2+Va/4;var n=e-r,a=n>=0?1:-1,s=a*n,l=Math.cos(t),u=Math.sin(t),c=o*u,f=i*l+c*Math.cos(s),h=c*a*Math.sin(s);Ss.add(Math.atan2(h,f)),r=e,i=l,o=u}var t,n,r,i,o;Ts.point=function(a,s){Ts.point=e,r=(t=a)*qa,i=Math.cos(s=(n=s)*qa/2+Va/4),o=Math.sin(s)},Ts.lineEnd=function(){e(t,n)}}function xt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function _t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function kt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Et(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function St(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function Tt(e,t){return Ma(e[0]-t[0])<Ba&&Ma(e[1]-t[1])<Ba}function At(e,t){e*=qa;var n=Math.cos(t*=qa);Ct(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Ct(e,t,n){++As,Ds+=(e-Ds)/As,Os+=(t-Os)/As,Ps+=(n-Ps)/As}function Dt(){function e(e,i){e*=qa;var o=Math.cos(i*=qa),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-t*l)*u+(u=t*s-n*a)*u),t*a+n*s+r*l);Cs+=u,Ls+=u*(t+(t=a)),Is+=u*(n+(n=s)),Ns+=u*(r+(r=l)),Ct(t,n,r)}var t,n,r;Fs.point=function(i,o){i*=qa;var a=Math.cos(o*=qa);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Fs.point=e,Ct(t,n,r)}}function Ot(){Fs.point=At}function Pt(){function e(e,t){e*=qa;var n=Math.cos(t*=qa),a=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),u=i*l-o*s,c=o*a-r*l,f=r*s-i*a,h=Math.sqrt(u*u+c*c+f*f),d=r*a+i*s+o*l,p=h&&-oe(d)/h,m=Math.atan2(h,d);Rs+=p*u,js+=p*c,zs+=p*f,Cs+=m,Ls+=m*(r+(r=a)),Is+=m*(i+(i=s)),Ns+=m*(o+(o=l)),Ct(r,i,o)}var t,n,r,i,o;Fs.point=function(a,s){t=a,n=s,Fs.point=e,a*=qa;var l=Math.cos(s*=qa);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),Ct(r,i,o)},Fs.lineEnd=function(){e(t,n),Fs.lineEnd=Ot,Fs.point=At}}function Lt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function It(){return!0}function Nt(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Tt(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var l=new jt(n,e,null,!0),u=new jt(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new jt(r,e,null,!1),u=new jt(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(t),Rt(o),Rt(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Rt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function jt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function zt(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);v.point(n[0],n[1])}function l(){y.point=s,v.lineStart()}function u(){y.point=a,v.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);x.point(n[0],n[1])}function f(){x.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(m.pop(),p.push(m),m=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ft))}var d,p,m,v=t(o),g=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,d=da.merge(d);var e=Wt(g,p);d.length?(_||(o.polygonStart(),_=!0),Nt(d,Ut,e,n,o)):e&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Bt(),x=t(b),_=!1;return y}}function Ft(e){return e.length>1}function Bt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:S,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(e,t){return((e=e.x)[0]<0?e[1]-Wa-Ba:Wa-e[1])-((t=t.x)[0]<0?t[1]-Wa-Ba:Wa-t[1])}function Vt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Va:-Va,l=Ma(o-n);Ma(l-Va)<Ba?(e.point(n,r=(r+a)/2>0?Wa:-Wa),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=Va&&(Ma(n-i)<Ba&&(n-=i*Ba),Ma(o-s)<Ba&&(o-=s*Ba),r=Ht(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Ht(e,t,n,r){var i,o,a=Math.sin(e-n);return Ma(a)>Ba?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function Yt(e,t,n,r){var i;if(null==e)i=n*Wa,r.point(-Va,i),r.point(0,i),r.point(Va,i),r.point(Va,0),r.point(Va,-i),r.point(0,-i),r.point(-Va,-i),r.point(-Va,0),r.point(-Va,i);else if(Ma(e[0]-t[0])>Ba){var o=e[0]<t[0]?Va:-Va;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Wt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var f=u[0],h=f[0],d=f[1]/2+Va/4,p=Math.sin(d),m=Math.cos(d),v=1;;){v===c&&(v=0),e=u[v];var g=e[0],y=e[1]/2+Va/4,b=Math.sin(y),x=Math.cos(y),_=g-h,w=_>=0?1:-1,M=w*_,k=M>Va,E=p*b;if(Ss.add(Math.atan2(E*w*Math.sin(M),m*x+E*Math.cos(M))),o+=k?_+w*Ha:_,k^h>=n^g>=n){var S=wt(xt(f),xt(e));Et(S);var T=wt(i,S);Et(T);var A=(k^_>=0?-1:1)*ae(T[2]);(r>A||r===A&&(S[0]||S[1]))&&(a+=k^_>=0?1:-1)}if(!v++)break;h=g,p=b,m=x,f=e}}return(o<-Ba||o<Ba&&Ss<-Ba)^1&a}function qt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,h){var d,p=[f,h],m=t(f,h),v=a?m?0:i(f,h):m?i(f+(f<0?Va:-Va),h):0;if(!n&&(u=l=m)&&e.lineStart(),m!==l&&(d=r(n,p),(Tt(n,d)||Tt(p,d))&&(p[0]+=Ba,p[1]+=Ba,m=t(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),d=r(p,n),e.point(d[0],d[1])):(d=r(n,p),e.point(d[0],d[1]),e.lineEnd()),n=d;else if(s&&n&&a^m){var g;v&o||!(g=r(p,n,!0))||(c=0,a?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||n&&Tt(n,p)||e.point(p[0],p[1]),n=p,l=m,o=v},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(e,t,n){var r=xt(e),i=xt(t),a=[1,0,0],s=wt(r,i),l=_t(s,s),u=s[0],c=l-u*u;if(!c)return!n&&e;var f=o*l/c,h=-o*u/c,d=wt(a,s),p=kt(a,f);Mt(p,kt(s,h));var m=d,v=_t(p,m),g=_t(m,m),y=v*v-g*(_t(p,p)-1);if(!(y<0)){var b=Math.sqrt(y),x=kt(m,(-v-b)/g);if(Mt(x,p),x=St(x),!n)return x;var _,w=e[0],M=t[0],k=e[1],E=t[1];M<w&&(_=w,w=M,M=_);var S=M-w,T=Ma(S-Va)<Ba,A=T||S<Ba;if(!T&&E<k&&(_=k,k=E,E=_),A?T?k+E>0^x[1]<(Ma(x[0]-w)<Ba?k:E):k<=x[1]&&x[1]<=E:S>Va^(w<=x[0]&&x[0]<=M)){var C=kt(m,(-v+b)/g);return Mt(C,p),[x,St(C)]}}}function i(t,n){var r=a?e:Va-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=Ma(o)>Ba;return zt(t,n,xn(e,6*qa),a?[0,-e]:[-Va,e-Va])}function Gt(e,t,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=s.x,f=s.y,h=0,d=1,p=c-l,m=f-u;if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=n-l,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<d&&(d=o)}if(o=t-u,m||!(o>0)){if(o/=m,m<0){if(o<h)return;o<d&&(d=o)}else if(m>0){if(o>d)return;o>h&&(h=o)}if(o=r-u,m||!(o<0)){if(o/=m,m<0){if(o>d)return;o>h&&(h=o)}else if(m>0){if(o<h)return;o<d&&(d=o)}return h>0&&(i.a={x:l+h*p,y:u+h*m}),d<1&&(i.b={x:l+d*p,y:u+d*m}),i}}}}}}function Xt(e,t,n,r){function i(r,i){return Ma(r[0]-e)<Ba?i>0?0:3:Ma(r[0]-n)<Ba?i>0?2:1:Ma(r[1]-t)<Ba?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e){for(var t=0,n=v.length,r=e[1],i=0;i<n;++i)for(var o,a=1,s=v[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&ie(u,o,e)>0&&++t:o[1]<=r&&ie(u,o,e)<0&&--t,u=o;return 0!==t}function u(o,s,l,u){var c=0,f=0;if(null==o||(c=i(o,l))!==(f=i(s,l))||a(o,s)<0^l>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+l+4)%4)!==f);else u.point(s[0],s[1])}function c(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function f(e,t){c(e,t)&&s.point(e,t)}function h(){C.point=p,v&&v.push(g=[]),k=!0,M=!1,_=w=NaN}function d(){m&&(p(y,b),x&&M&&T.rejoin(),m.push(T.buffer())),C.point=f,M&&s.lineEnd()}function p(e,t){e=Math.max(-Us,Math.min(Us,e)),t=Math.max(-Us,Math.min(Us,t));var n=c(e,t);if(v&&g.push([e,t]),k)y=e,b=t,x=n,k=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&M)s.point(e,t);else{var r={a:{x:_,y:w},b:{x:e,y:t}};A(r)?(M||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),E=!1):n&&(s.lineStart(),s.point(e,t),E=!1)}_=e,w=t,M=n}var m,v,g,y,b,x,_,w,M,k,E,S=s,T=Bt(),A=Gt(e,t,n,r),C={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=T,m=[],v=[],E=!0},polygonEnd:function(){s=S,m=da.merge(m);var t=l([e,r]),n=E&&t,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Nt(m,o,t,u,s),s.polygonEnd()),m=v=g=null}};return C}}function Zt(e){var t=0,n=Va/3,r=hn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Va/180,n=e[1]*Va/180):[t/Va*180,n/Va*180]},i}function Kt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ae((o-(e*e+n*n)*i*i)/(2*i))]},n}function $t(){function e(e,t){Hs+=i*e-r*t,r=e,i=t}var t,n,r,i;Xs.point=function(o,a){Xs.point=e,t=r=o,n=i=a},Xs.lineEnd=function(){e(t,n)}}function Jt(e,t){e<Ys&&(Ys=e),e>qs&&(qs=e),t<Ws&&(Ws=t),t>Gs&&(Gs=t)}function Qt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=en(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=en(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function en(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tn(e,t){Ds+=e,Os+=t,++Ps}function nn(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Ls+=a*(t+e)/2,Is+=a*(n+r)/2,Ns+=a,tn(t=e,n=r)}var t,n;Ks.point=function(r,i){Ks.point=e,tn(t=r,n=i)}}function rn(){Ks.point=tn}function on(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Ls+=a*(r+e)/2,Is+=a*(i+t)/2,Ns+=a,a=i*e-r*t,Rs+=a*(r+e),js+=a*(i+t),zs+=3*a,tn(r=e,i=t)}var t,n,r,i;Ks.point=function(o,a){Ks.point=e,tn(t=r=o,n=i=a)},Ks.lineEnd=function(){e(t,n)}}function an(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Ha)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:S};return s}function sn(e){function t(e){return(s?r:n)(e)}function n(t){return cn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,k.point=o,t.lineStart()}function o(n,r){var o=xt([n,r]),a=e(n,r);i(b,x,y,_,w,M,b=a[0],x=a[1],y=n,_=o[0],w=o[1],M=o[2],s,t),t.point(b,x)}function a(){k.point=n,t.lineEnd()}function l(){r(),k.point=u,k.lineEnd=c}function u(e,t){o(f=e,h=t),d=b,p=x,m=_,v=w,g=M,k.point=o}function c(){i(b,x,y,_,w,M,d,p,f,m,v,g,s,t),k.lineEnd=a,a()}var f,h,d,p,m,v,g,y,b,x,_,w,M,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),k.lineStart=l},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function i(t,n,r,s,l,u,c,f,h,d,p,m,v,g){var y=c-t,b=f-n,x=y*y+b*b;if(x>4*o&&v--){var _=s+d,w=l+p,M=u+m,k=Math.sqrt(_*_+w*w+M*M),E=Math.asin(M/=k),S=Ma(Ma(M)-1)<Ba||Ma(r-h)<Ba?(r+h)/2:Math.atan2(w,_),T=e(S,E),A=T[0],C=T[1],D=A-t,O=C-n,P=b*D-y*O;(P*P/x>o||Ma((y*D+b*O)/x-.5)>.3||s*d+l*p+u*m<a)&&(i(t,n,r,s,l,u,A,C,S,_/=k,w/=k,M,v,g),g.point(A,C),i(A,C,S,_,w,M,c,f,h,d,p,m,v,g))}}var o=.5,a=Math.cos(30*qa),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function ln(e){var t=sn(function(t,n){return e([t*Ga,n*Ga])});return function(e){return dn(t(e))}}function un(e){this.stream=e}function cn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function fn(e){return hn(function(){return e})()}function hn(e){function t(e){return e=s(e[0]*qa,e[1]*qa),[e[0]*h+l,u-e[1]*h]}function n(e){return(e=s.invert((e[0]-l)/h,(u-e[1])/h))&&[e[0]*Ga,e[1]*Ga]}function r(){s=Lt(a=vn(g,y,b),o);var e=o(m,v);return l=d-e[0]*h,u=p+e[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,s,l,u,c,f=sn(function(e,t){return e=o(e,t),[e[0]*h+l,u-e[1]*h]}),h=150,d=480,p=250,m=0,v=0,g=0,y=0,b=0,x=Bs,_=M,w=null,k=null;return t.stream=function(e){return c&&(c.valid=!1),c=dn(x(a,f(_(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(x=null==e?(w=e,Bs):qt((w=+e)*qa),i()):w},t.clipExtent=function(e){return arguments.length?(k=e,_=e?Xt(e[0][0],e[0][1],e[1][0],e[1][1]):M,i()):k},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],r()):[d,p]},t.center=function(e){return arguments.length?(m=e[0]%360*qa,v=e[1]%360*qa,r()):[m*Ga,v*Ga]},t.rotate=function(e){return arguments.length?(g=e[0]%360*qa,y=e[1]%360*qa,b=e.length>2?e[2]%360*qa:0,r()):[g*Ga,y*Ga,b*Ga]},da.rebind(t,f,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function dn(e){return cn(e,function(t,n){e.point(t*qa,n*qa)})}function pn(e,t){return[e,t]}function mn(e,t){return[e>Va?e-Ha:e<-Va?e+Ha:e,t]}function vn(e,t,n){return e?t||n?Lt(yn(e),bn(t,n)):yn(e):t||n?bn(t,n):mn}function gn(e){return function(t,n){return t+=e,[t>Va?t-Ha:t<-Va?t+Ha:t,n]}}function yn(e){var t=gn(e);return t.invert=gn(-e),t}function bn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),ae(c*o+l*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),ae(c*r-s*i)]},n}function xn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var l=a*t;null!=i?(i=_n(n,i),o=_n(n,o),(a>0?i<o:i>o)&&(i+=a*Ha)):(i=e+a*Ha,o=e-.5*l);for(var u,c=i;a>0?c>o:c<o;c-=l)s.point((u=St([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function _n(e,t){var n=xt(t);n[0]-=e,Et(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ba)%(2*Math.PI)}function wn(e,t,n){var r=da.range(e,t-Ba,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function Mn(e,t,n){var r=da.range(e,t-Ba,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function kn(e){return e.source}function En(e){return e.target}function Sn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),u=i*Math.sin(e),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(ce(r-t)+i*a*ce(n-e))),d=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*d,n=Math.sin(h-e)*d,r=n*l+t*c,i=n*u+t*f,a=n*o+t*s;return[Math.atan2(i,r)*Ga,Math.atan2(a,Math.sqrt(r*r+i*i))*Ga]}:function(){return[e*Ga,t*Ga]};return p.distance=h,p}function Tn(){function e(e,i){var o=Math.sin(i*=qa),a=Math.cos(i),s=Ma((e*=qa)-t),l=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),t=e,n=o,r=a}var t,n,r;Js.point=function(i,o){t=i*qa,n=Math.sin(o*=qa),r=Math.cos(o),Js.point=e},Js.lineEnd=function(){Js.point=Js.lineEnd=S}}function An(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function Cn(e,t){function n(e,t){a>0?t<-Wa+Ba&&(t=-Wa+Ba):t>Wa-Ba&&(t=Wa-Ba);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Va/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Wa]},n):On}function Dn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return Ma(i)<Ba?pn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function On(e,t){return[e,Math.log(Math.tan(Va/4+t/2))]}function Pn(e){var t,n=fn(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Va*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Ln(e,t){return[Math.log(Math.tan(Va/4+t/2)),-e]}function In(e){return e[0]}function Nn(e){return e[1]}function Rn(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function jn(e,t){return e[0]-t[0]||e[1]-t[1]}function zn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,l=e[1],u=n[1],c=t[1]-l,f=r[1]-u,h=(s*(l-u)-f*(i-o))/(f*a-s*c);return[i+h*a,l+h*c]}function Bn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Un(){lr(this),this.edge=this.site=this.circle=null}function Vn(e){var t=cl.pop()||new Un;return t.site=e,t}function Hn(e){Qn(e),sl.remove(e),cl.push(e),lr(e)}function Yn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];Hn(e);for(var l=o;l.circle&&Ma(n-l.circle.x)<Ba&&Ma(r-l.circle.cy)<Ba;)o=l.P,s.unshift(l),Hn(l),l=o;s.unshift(l),Qn(l);for(var u=a;u.circle&&Ma(n-u.circle.x)<Ba&&Ma(r-u.circle.cy)<Ba;)a=u.N,s.push(u),Hn(u),u=a;s.push(u),Qn(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],or(u.edge,l.site,u.site,i);l=s[0],u=s[f-1],u.edge=rr(l.site,u.site,null,i),Jn(l),Jn(u)}function Wn(e){for(var t,n,r,i,o=e.x,a=e.y,s=sl._;s;)if((r=qn(s,a)-o)>Ba)s=s.L;else{if(!((i=o-Gn(s,a))>Ba)){r>-Ba?(t=s.P,n=s):i>-Ba?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Vn(e);if(sl.insert(t,l),t||n){if(t===n)return Qn(t),n=Vn(t.site),sl.insert(l,n),l.edge=n.edge=rr(t.site,l.site),Jn(t),void Jn(n);if(!n)return void(l.edge=rr(t.site,l.site));Qn(t),Qn(n);var u=t.site,c=u.x,f=u.y,h=e.x-c,d=e.y-f,p=n.site,m=p.x-c,v=p.y-f,g=2*(h*v-d*m),y=h*h+d*d,b=m*m+v*v,x={x:(v*y-d*b)/g+c,y:(h*b-m*y)/g+f};or(n.edge,u,p,x),l.edge=rr(u,e,null,x),n.edge=rr(e,p,null,x),Jn(t),Jn(n)}}function qn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Gn(e,t){var n=e.N;if(n)return qn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Xn(e){this.site=e,this.edges=[]}function Zn(e){for(var t,n,r,i,o,a,s,l,u,c,f=e[0][0],h=e[1][0],d=e[0][1],p=e[1][1],m=al,v=m.length;v--;)if((o=m[v])&&o.prepare())for(s=o.edges,l=s.length,a=0;a<l;)c=s[a].end(),r=c.x,i=c.y,u=s[++a%l].start(),t=u.x,n=u.y,(Ma(r-t)>Ba||Ma(i-n)>Ba)&&(s.splice(a,0,new ar(ir(o.site,c,Ma(r-f)<Ba&&p-i>Ba?{x:f,y:Ma(t-f)<Ba?n:p}:Ma(i-p)<Ba&&h-r>Ba?{x:Ma(n-p)<Ba?t:h,y:p}:Ma(r-h)<Ba&&i-d>Ba?{x:h,y:Ma(t-h)<Ba?n:d}:Ma(i-d)<Ba&&r-f>Ba?{x:Ma(n-d)<Ba?t:f,y:d}:null),o.site,null)),++l)}function Kn(e,t){return t.angle-e.angle}function $n(){lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,f=o.y-s,h=2*(l*f-u*c);if(!(h>=-Ua)){var d=l*l+u*u,p=c*c+f*f,m=(f*d-u*p)/h,v=(l*p-c*d)/h,f=v+s,g=fl.pop()||new $n;g.arc=e,g.site=i,g.x=m+a,g.y=f+Math.sqrt(m*m+v*v),g.cy=f,e.circle=g;for(var y=null,b=ul._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ul.insert(y,g),y||(ll=g)}}}}function Qn(e){var t=e.circle;t&&(t.P||(ll=t.N),ul.remove(t),fl.push(t),lr(t),e.circle=null)}function er(e){for(var t,n=ol,r=Gt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!tr(t,e)||!r(t)||Ma(t.a.x-t.b.x)<Ba&&Ma(t.a.y-t.b.y)<Ba)&&(t.a=t.b=null,n.splice(i,1))}function tr(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,f=e.r,h=c.x,d=c.y,p=f.x,m=f.y,v=(h+p)/2,g=(d+m)/2;if(m===d){if(v<a||v>=s)return;if(h>p){if(o){if(o.y>=u)return}else o={x:v,y:l};n={x:v,y:u}}else{if(o){if(o.y<l)return}else o={x:v,y:u};n={x:v,y:l}}}else if(r=(h-p)/(m-d),i=g-r*v,r<-1||r>1)if(h>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(d<m){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function rr(e,t,n,r){var i=new nr(e,t);return ol.push(i),n&&or(i,e,t,n),r&&or(i,t,e,r),al[e.i].edges.push(new ar(i,e,t)),al[t.i].edges.push(new ar(i,t,e)),i}function ir(e,t,n){var r=new nr(e,null);return r.a=t,r.b=n,ol.push(r),r}function or(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ar(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function sr(){this._=null}function lr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ur(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fr(e){for(;e.L;)e=e.L;return e}function hr(e,t){var n,r,i,o=e.sort(dr).pop();for(ol=[],al=new Array(e.length),sl=new sr,ul=new sr;;)if(i=ll,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(al[o.i]=new Xn(o),Wn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Yn(i.arc)}t&&(er(t),Zn(t));var a={cells:al,edges:ol};return sl=ul=ol=al=null,a}function dr(e,t){return t.y-e.y||t.x-e.x}function pr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function mr(e){return e.x}function vr(e){return e.y}function gr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=t.nodes;l[0]&&yr(e,l[0],n,r,a,s),l[1]&&yr(e,l[1],a,r,i,s),l[2]&&yr(e,l[2],n,s,a,o),l[3]&&yr(e,l[3],a,s,i,o)}}function br(e,t,n,r,i,o,a){var s,l=1/0;return function e(u,c,f,h,d){if(!(c>o||f>a||h<r||d<i)){if(p=u.point){var p,m=t-u.x,v=n-u.y,g=m*m+v*v;if(g<l){var y=Math.sqrt(l=g);r=t-y,i=n-y,o=t+y,a=n+y,s=p}}for(var b=u.nodes,x=.5*(c+h),_=.5*(f+d),w=t>=x,M=n>=_,k=M<<1|w,E=k+4;k<E;++k)if(u=b[3&k])switch(3&k){case 0:e(u,c,f,x,_);break;case 1:e(u,x,f,h,_);break;case 2:e(u,c,_,x,d);break;case 3:e(u,x,_,h,d)}}}(e,r,i,o,a),s}function xr(e,t){e=da.rgb(e),t=da.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+Ee(Math.round(n+o*e))+Ee(Math.round(r+a*e))+Ee(Math.round(i+s*e))}}function _r(e,t){var n,r={},i={};for(n in e)n in t?r[n]=kr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mr(e,t){var n,r,i,o=dl.lastIndex=pl.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=dl.exec(e))&&(r=pl.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:wr(n,r)})),o=pl.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function kr(e,t){for(var n,r=da.interpolators.length;--r>=0&&!(n=da.interpolators[r](e,t)););return n}function Er(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(kr(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}function Sr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Tr(e){return function(t){return 1-e(1-t)}}function Ar(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Cr(e){return e*e}function Dr(e){return e*e*e}function Or(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Pr(e){return function(t){return Math.pow(t,e)}}function Lr(e){return 1-Math.cos(e*Wa)}function Ir(e){return Math.pow(2,10*(e-1))}function Nr(e){return 1-Math.sqrt(1-e*e)}function Rr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ha*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ha/t)}}function jr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function zr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fr(e,t){e=da.hcl(e),t=da.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return me(n+o*e,r+a*e,i+s*e)+""}}function Br(e,t){e=da.hsl(e),t=da.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return de(n+o*e,r+a*e,i+s*e)+""}}function Ur(e,t){e=da.lab(e),t=da.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return ge(n+o*e,r+a*e,i+s*e)+""}}function Vr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Hr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Wr(t),i=Yr(t,n),o=Wr(qr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ga,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ga:0}function Yr(e,t){return e[0]*t[0]+e[1]*t[1]}function Wr(e){var t=Math.sqrt(Yr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function qr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Gr(e){return e.length?e.pop()+",":""}function Xr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:wr(e[0],t[0])},{i:i-2,x:wr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Zr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Gr(n)+"rotate(",null,")")-2,x:wr(e,t)})):t&&n.push(Gr(n)+"rotate("+t+")")}function Kr(e,t,n,r){e!==t?r.push({i:n.push(Gr(n)+"skewX(",null,")")-2,x:wr(e,t)}):t&&n.push(Gr(n)+"skewX("+t+")")}function $r(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Gr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:wr(e[0],t[0])},{i:i-2,x:wr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Gr(n)+"scale("+t+")")}function Jr(e,t){var n=[],r=[];return e=da.transform(e),t=da.transform(t),Xr(e.translate,t.translate,n,r),Zr(e.rotate,t.rotate,n,r),Kr(e.skew,t.skew,n,r),$r(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function Qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ei(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ti(e){for(var t=e.source,n=e.target,r=ri(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ni(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ri(e,t){if(e===t)return e;for(var n=ni(e),r=ni(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ii(e){e.fixed|=2}function oi(e){e.fixed&=-7}function ai(e){e.fixed|=4,e.px=e.x,e.py=e.y}function si(e){e.fixed&=-5}function li(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(li(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ui(e,t){return da.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=mi,e}function ci(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function fi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function hi(e){return e.children}function di(e){return e.value}function pi(e,t){return t.value-e.value}function mi(e){return da.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function vi(e){return e.x}function gi(e){return e.y}function yi(e,t,n){e.y0=t,e.y=n}function bi(e){return da.range(e.length)}function xi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function _i(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function wi(e){return e.reduce(Mi,0)}function Mi(e,t){return e+t[1]}function ki(e,t){return Ei(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ei(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Si(e){return[da.min(e),da.max(e)]}function Ti(e,t){return e.value-t.value}function Ai(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ci(e,t){e._pack_next=t,t._pack_prev=e}function Di(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Oi(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),h=Math.min(e.y-e.r,h),d=Math.max(e.y+e.r,d)}if((n=e.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,f=-1/0,h=1/0,d=-1/0;if(n.forEach(Pi),r=n[0],r.x=-r.r,r.y=0,t(r),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(o=n[2],Ni(r,i,o),t(o),Ai(r,o),r._pack_prev=o,Ai(o,i),i=r._pack_next,a=3;a<u;a++){Ni(r,i,o=n[a]);var p=0,m=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(Di(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!Di(l,o);l=l._pack_prev,v++);p?(m<v||m==v&&i.r<r.r?Ci(r,i=s):Ci(r=l,i),a--):(Ai(r,o),i=o,t(o))}var g=(c+f)/2,y=(h+d)/2,b=0;for(a=0;a<u;a++)o=n[a],o.x-=g,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(Li)}}function Pi(e){e._pack_next=e._pack_prev=e}function Li(e){delete e._pack_next,delete e._pack_prev}function Ii(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ii(i[o],t,n,r)}function Ni(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+u*o,n.y=e.y+l*o-u*i}else n.x=e.x+r,n.y=e.y}function Ri(e,t){return e.parent==t.parent?1:2}function ji(e){var t=e.children;return t.length?t[0]:e.t}function zi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Fi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Bi(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ui(e,t,n){return e.a.parent===t.parent?e.a:n}function Vi(e){return 1+da.max(e,function(e){return e.y})}function Hi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Yi(e){var t=e.children;return t&&t.length?Yi(t[0]):e}function Wi(e){var t,n=e.children;return n&&(t=n.length)?Wi(n[t-1]):e}function qi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Gi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Xi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Zi(e){return e.rangeExtent?e.rangeExtent():Xi(e.range())}function Ki(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function $i(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ji(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:El}function Qi(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=da.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function eo(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Qi:Ki,l=r?ei:Qr;return a=i(e,t,l,n),s=i(t,e,l,kr),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Vr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return io(e,t)},o.tickFormat=function(t,n){return oo(e,t,n)},o.nice=function(t){return no(e,t),i()},o.copy=function(){return eo(e,t,n,r)},i()}function to(e,t){return da.rebind(e,t,"range","rangeRound","interpolate","clamp")}function no(e,t){return $i(e,Ji(ro(e,t)[2])),$i(e,Ji(ro(e,t)[2])),e}function ro(e,t){null==t&&(t=10);var n=Xi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function io(e,t){return da.range.apply(da,ro(e,t))}function oo(e,t,n){var r=ro(e,t);if(n){var i=ds.exec(n);if(i.shift(),"s"===i[8]){var o=da.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return i[7]||(i[7]="."+ao(o.scale(r[2]))),i[8]="f",n=da.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+so(i[8],r)),n=i.join("")}else n=",."+ao(r[2])+"f";return da.format(n)}function ao(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function so(e,t){var n=ao(t[2]);return e in Sl?Math.abs(n-ao(Math.max(Ma(t[0]),Ma(t[1]))))+ +("e"!==e):n-2*("%"===e)}function lo(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=$i(r.map(i),n?Math:Al);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Xi(r),a=[],s=e[0],l=e[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),f=t%1?2:t;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var h=1;h<f;h++)a.push(o(u)*h);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var h=f-1;h>0;h--)a.push(o(u)*h);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(e,n){if(!arguments.length)return Tl;arguments.length<2?n=Tl:"function"!==typeof n&&(n=da.format(n));var r=Math.max(1,t*e/a.ticks().length);return function(e){var a=e/o(Math.round(i(e)));return a*t<t-.5&&(a*=t),a<=r?n(e):""}},a.copy=function(){return lo(e.copy(),t,n,r)},to(a,e)}function uo(e,t,n){function r(t){return e(i(t))}var i=co(t),o=co(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return io(n,e)},r.tickFormat=function(e,t){return oo(n,e,t)},r.nice=function(e){return r.domain(no(n,e))},r.exponent=function(a){return arguments.length?(i=co(t=a),o=co(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return uo(e.copy(),t,n)},to(r,e)}function co(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return da.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new p;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+s);return o=r(l+c*s/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(e.length-1+s)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],f=i[1-u],h=(f-c)/(e.length-s+2*l);return o=r(c+h*l,h),u&&o.reverse(),a=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],f=i[1-u],h=Math.floor((f-c)/(e.length-s+2*l));return o=r(c+Math.round((f-c-(e.length-s)*h)/2),h),u&&o.reverse(),a=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Xi(t.a[0])},n.copy=function(){return fo(e,t)},n.domain(e)}function ho(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=da.quantile(e,n/o);return r}function r(e){if(!isNaN(e=+e))return t[da.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(l).filter(u).sort(s),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return ho(e,t)},n()}function po(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return po(e,t,n)},i()}function mo(e,t){function n(n){if(n<=n)return t[da.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return mo(e,t)},n}function vo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return io(e,t)},t.tickFormat=function(t,n){return oo(e,t,n)},t.copy=function(){return vo(e)},t}function go(){return 0}function yo(e){return e.innerRadius}function bo(e){return e.outerRadius}function xo(e){return e.startAngle}function _o(e){return e.endAngle}function wo(e){return e&&e.padAngle}function Mo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ko(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=e[0]+l,f=e[1]+u,h=t[0]+l,d=t[1]+u,p=(c+h)/2,m=(f+d)/2,v=h-c,g=d-f,y=v*v+g*g,b=n-r,x=c*d-h*f,_=(g<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*g-v*_)/y,M=(-x*v-g*_)/y,k=(x*g+v*_)/y,E=(-x*v+g*_)/y,S=w-p,T=M-m,A=k-p,C=E-m;return S*S+T*T>A*A+C*C&&(w=k,M=E),[[w-l,M-u],[w*n/b,M*n/b]]}function Eo(e){function t(t){function a(){u.push("M",o(e(c),s))}for(var l,u=[],c=[],f=-1,h=t.length,d=Oe(n),p=Oe(r);++f<h;)i.call(this,l=t[f],f)?c.push([+d.call(this,l,f),+p.call(this,l,f)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=In,r=Nn,i=It,o=So,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"===typeof e?o=e:(o=Il.get(e)||So).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function So(e){return e.length>1?e.join("L"):e+"Z"}function To(e){return e.join("L")+"Z"}function Ao(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Co(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Do(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Oo(e,t){return e.length<4?So(e):e[1]+Io(e.slice(1,-1),No(e,t))}function Po(e,t){return e.length<3?To(e):e[0]+Io((e.push(e[0]),e),No([e[e.length-2]].concat(e,[e[1]]),t))}function Lo(e,t){return e.length<3?So(e):e[0]+Io(e,No(e,t))}function Io(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return So(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,l++)o=e[l],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function No(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ro(e){if(e.length<3)return So(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Bo(jl,a),",",Bo(jl,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Uo(l,a,s);return e.pop(),l.push("L",r),l.join("")}function jo(e){if(e.length<4)return So(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Bo(jl,o)+","+Bo(jl,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Uo(n,o,a);return n.join("")}function zo(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[Bo(jl,a),",",Bo(jl,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Uo(t,a,s);return t.join("")}function Fo(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,u=-1;++u<=n;)r=e[u],i=u/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return Ro(e)}function Bo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Uo(e,t,n){e.push("C",Bo(Nl,t),",",Bo(Nl,n),",",Bo(Rl,t),",",Bo(Rl,n),",",Bo(jl,t),",",Bo(jl,n))}function Vo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ho(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Vo(i,o);++t<n;)r[t]=(a+(a=Vo(i=o,o=e[t+1])))/2;return r[t]=a,r}function Yo(e){for(var t,n,r,i,o=[],a=Ho(e),s=-1,l=e.length-1;++s<l;)t=Vo(e[s],e[s+1]),Ma(t)<Ba?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,(i=n*n+r*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Wo(e){return e.length<3?So(e):e[0]+Io(e,Yo(e))}function qo(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Wa,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Go(e){function t(t){function l(){m.push("M",s(e(g),f),c,u(e(v.reverse()),f),"Z")}for(var h,d,p,m=[],v=[],g=[],y=-1,b=t.length,x=Oe(n),_=Oe(i),w=n===r?function(){return d}:Oe(r),M=i===o?function(){return p}:Oe(o);++y<b;)a.call(this,h=t[y],y)?(v.push([d=+x.call(this,h,y),p=+_.call(this,h,y)]),g.push([+w.call(this,h,y),+M.call(this,h,y)])):v.length&&(l(),v=[],g=[]);return v.length&&l(),m.length?m.join(""):null}var n=In,r=In,i=0,o=Nn,a=It,s=So,l=s.key,u=s,c="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(l="function"===typeof e?s=e:(s=Il.get(e)||So).key,u=s.reverse||s,c=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(f=e,t):f},t}function Xo(e){return e.radius}function Zo(e){return[e.x,e.y]}function Ko(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Wa;return[n*Math.cos(r),n*Math.sin(r)]}}function $o(){return 64}function Jo(){return"circle"}function Qo(e){var t=Math.sqrt(e/Va);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ea(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ta(e,t,n){return Aa(e,Yl),e.namespace=t,e.id=n,e}function na(e,t,n,r){var i=e.id,o=e.namespace;return X(e,"function"===typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function ra(e){return null==e&&(e=""),function(){this.textContent=e}}function ia(e){return null==e?"__transition__":"__transition_"+e+"__"}function oa(e,t,n,r,i){function o(e){var t=m.delay;if(u.t=t+l,t<=e)return a(e-t);u.c=a}function a(n){var i=d.active,o=d[i];o&&(o.timer.c=null,o.timer.t=NaN,--d.count,delete d[i],o.event&&o.event.interrupt.call(e,e.__data__,o.index));for(var a in d)if(+a<r){var p=d[a];p.timer.c=null,p.timer.t=NaN,--d.count,delete d[a]}u.c=s,Re(function(){return u.c&&s(n||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=r,m.event&&m.event.start.call(e,e.__data__,t),h=[],m.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&h.push(r)}),f=m.ease,c=m.duration}function s(i){for(var o=i/c,a=f(o),s=h.length;s>0;)h[--s].call(e,a);if(o>=1)return m.event&&m.event.end.call(e,e.__data__,t),--d.count?delete d[r]:delete e[n],1}var l,u,c,f,h,d=e[n]||(e[n]={active:0,count:0}),m=d[r];m||(l=i.time,u=Re(o,0,l),m=d[r]={tween:new p,time:l,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++d.count)}function aa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function sa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function la(e){return e.toISOString()}function ua(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=da.bisect(Ql,i);return o==Ql.length?[t.year,ro(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Ql[o-1]<Ql[o]/i?o-1:o]:[nu,ro(e,n)[2]]}return r.invert=function(t){return ca(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ca)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ca(+n+1),t).length}var o=r.domain(),a=Xi(o),s=null==e?i(a,10):"number"===typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain($i(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ca(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ca(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Xi(r.domain()),o=null==e?i(n,10):"number"===typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],ca(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ua(e.copy(),t,n)},to(r,e)}function ca(e){return new Date(e)}function fa(e){return JSON.parse(e.responseText)}function ha(e){var t=va.createRange();return t.selectNode(va.body),t.createContextualFragment(e.responseText)}var da={version:"3.5.17"},pa=[].slice,ma=function(e){return pa.call(e)},va=this.document;if(va)try{ma(va.documentElement.childNodes)[0].nodeType}catch(e){ma=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),va)try{va.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var ga=this.Element.prototype,ya=ga.setAttribute,ba=ga.setAttributeNS,xa=this.CSSStyleDeclaration.prototype,_a=xa.setProperty;ga.setAttribute=function(e,t){ya.call(this,e,t+"")},ga.setAttributeNS=function(e,t,n){ba.call(this,e,t,n+"")},xa.setProperty=function(e,t,n){_a.call(this,e,t+"",n)}}da.ascending=s,da.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},da.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},da.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},da.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},da.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=+e[o])&&(r+=n);else for(;++o<i;)u(n=+t.call(e,e[o],o))&&(r+=n);return r},da.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)u(n=l(e[o]))?r+=n:--a;else for(;++o<i;)u(n=l(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},da.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},da.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=l(e[o]))&&r.push(n);else for(;++o<i;)u(n=l(t.call(e,e[o],o)))&&r.push(n);if(r.length)return da.quantile(r.sort(s),.5)},da.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<i;)u(n=l(e[s]))&&(r=n-o,o+=r/++c,a+=r*(n-o));else for(;++s<i;)u(n=l(t.call(e,e[s],s)))&&(r=n-o,o+=r/++c,a+=r*(n-o));if(c>1)return a/(c-1)},da.deviation=function(){var e=da.variance.apply(this,arguments);return e?Math.sqrt(e):e};var wa=c(s);da.bisectLeft=wa.left,da.bisect=da.bisectRight=wa.right,da.bisector=function(e){return c(1===e.length?function(t,n){return s(e(t),n)}:e)},da.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},da.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},da.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},da.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=da.min(e,f),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r},da.zip=function(){return da.transpose(arguments)},da.keys=function(e){var t=[];for(var n in e)t.push(n);return t},da.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},da.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},da.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var Ma=Math.abs;da.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=h(Ma(n)),a=-1;if(e*=o,t*=o,n*=o,n<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},da.map=function(e,t){var n=new p;if(e instanceof p)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var ka="__proto__",Ea="\0";d(p,{has:g,get:function(e){return this._[m(e)]},set:function(e,t){return this._[m(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:x,empty:_,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),da.nest=function(){function e(t,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var l,u,c,f,h=-1,d=a.length,m=o[s++],v=new p;++h<d;)(f=v.get(l=m(u=a[h])))?f.push(u):v.set(l,[u]);return t?(u=t(),c=function(n,r){u.set(n,e(t,r,s))}):(u={},c=function(n,r){u[n]=e(t,r,s)}),v.forEach(c),u}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(da.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},da.set=function(e){var t=new w;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},d(w,{has:g,add:function(e){return this._[m(e+="")]=!0,e},remove:y,values:b,size:x,empty:_,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),da.behavior={},da.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=k(e,t,t[n]);return e};var Sa=["webkit","ms","moz","Moz","o","O"];da.dispatch=function(){for(var e=new T,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=A(e);return e},T.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},da.event=null,da.requote=function(e){return e.replace(Ta,"\\$&")};var Ta=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Aa={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Ca=function(e,t){return t.querySelector(e)},Da=function(e,t){return t.querySelectorAll(e)},Oa=function(e,t){var n=e.matches||e[E(e,"matchesSelector")];return(Oa=function(e,t){return n.call(e,t)})(e,t)};"function"===typeof Sizzle&&(Ca=function(e,t){return Sizzle(e,t)[0]||null},Da=Sizzle,Oa=Sizzle.matchesSelector),da.selection=function(){return da.select(va.documentElement)};var Pa=da.selection.prototype=[];Pa.select=function(e){var t,n,r,i,o=[];e=L(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return P(o)},Pa.selectAll=function(e){var t,n,r=[];e=I(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(t=ma(e.call(n,n.__data__,s,i))),t.parentNode=n);return P(r)};var La="http://www.w3.org/1999/xhtml",Ia={svg:"http://www.w3.org/2000/svg",xhtml:La,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};da.ns={prefix:Ia,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Ia.hasOwnProperty(n)?{space:Ia[n],local:e}:e}},Pa.attr=function(e,t){if(arguments.length<2){if("string"===typeof e){var n=this.node();return e=da.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},Pa.classed=function(e,t){if(arguments.length<2){if("string"===typeof e){var n=this.node(),r=(e=z(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!j(e[i]).test(t))return!1;return!0}for(t in e)this.each(F(t,e[t]));return this}return this.each(F(e,t))},Pa.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){r<2&&(t="");for(n in e)this.each(U(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(U(e,t,n))},Pa.property=function(e,t){if(arguments.length<2){if("string"===typeof e)return this.node()[e];for(t in e)this.each(V(t,e[t]));return this}return this.each(V(e,t))},Pa.text=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Pa.html=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Pa.append=function(e){return e=H(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Pa.insert=function(e,t){return e=H(e),t=L(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Pa.remove=function(){return this.each(Y)},Pa.data=function(e,t){function n(e,n){var r,i,o,a=e.length,c=n.length,f=Math.min(a,c),h=new Array(c),d=new Array(c),m=new Array(a);if(t){var v,g=new p,y=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(g.has(v=t.call(i,i.__data__,r))?m[r]=i:g.set(v,i),y[r]=v);for(r=-1;++r<c;)(i=g.get(v=t.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):d[r]=W(o),g.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==g.get(y[r])&&(m[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):d[r]=W(o);for(;r<c;++r)d[r]=W(n[r]);for(;r<a;++r)m[r]=e[r]}d.update=h,d.parentNode=h.parentNode=m.parentNode=e.parentNode,s.push(d),l.push(h),u.push(m)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var s=Z([]),l=P([]),u=P([]);if("function"===typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return l.enter=function(){return s},l.exit=function(){return u},l},Pa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Pa.filter=function(e){var t,n,r,i=[];"function"!==typeof e&&(e=q(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return P(i)},Pa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Pa.sort=function(e){e=G.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Pa.each=function(e){return X(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Pa.call=function(e){var t=ma(arguments);return e.apply(t[0]=this,t),this},Pa.empty=function(){return!this.node()},Pa.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Pa.size=function(){var e=0;return X(this,function(){++e}),e};var Na=[];da.selection.enter=Z,da.selection.enter.prototype=Na,Na.append=Pa.append,Na.empty=Pa.empty,Na.node=Pa.node,Na.call=Pa.call,Na.size=Pa.size,Na.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return P(a)},Na.insert=function(e,t){return arguments.length<2&&(t=K(this)),Pa.insert.call(this,e,t)},da.select=function(e){var t;return"string"===typeof e?(t=[Ca(e,va)],t.parentNode=va.documentElement):(t=[e],t.parentNode=o(e)),P([t])},da.selectAll=function(e){var t;return"string"===typeof e?(t=ma(Da(e,va)),t.parentNode=va.documentElement):(t=ma(e),t.parentNode=null),P([t])},Pa.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){r<2&&(t=!1);for(n in e)this.each($(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each($(e,t,n))};var Ra=da.map({mouseenter:"mouseover",mouseleave:"mouseout"});va&&Ra.forEach(function(e){"on"+e in va&&Ra.remove(e)});var ja,za=0;da.mouse=function(e){return te(e,D())};var Fa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;da.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=D().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return te(e,r)},da.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function s(){var e,n,r=t(h,m);r&&(e=r[0]-b[0],n=r[1]-b[1],p|=e|n,b=r,d({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:e,dy:n}))}function l(){t(h,m)&&(g.on(o+v,null).on(a+v,null),y(p),d({type:"dragend"}))}var u,c=this,f=da.event.target.correspondingElement||da.event.target,h=c.parentNode,d=n.of(c,arguments),p=0,m=e(),v=".drag"+(null==m?"":"-"+m),g=da.select(i(f)).on(o+v,s).on(a+v,l),y=ee(f),b=t(h,m);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],d({type:"dragstart"})}}var n=O(e,"drag","dragstart","dragend"),r=null,i=t(S,da.mouse,a,"mousemove","mouseup"),o=t(ne,da.touch,M,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},da.rebind(e,n,"on")},da.touches=function(e,t){return arguments.length<2&&(t=D().touches),t?ma(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Ba=1e-6,Ua=Ba*Ba,Va=Math.PI,Ha=2*Va,Ya=Ha-Ba,Wa=Va/2,qa=Va/180,Ga=180/Va,Xa=Math.SQRT2;da.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,h=c*c+f*f;if(h<Ua)r=Math.log(u/a)/Xa,n=function(e){return[i+e*c,o+e*f,a*Math.exp(Xa*e*r)]};else{var d=Math.sqrt(h),p=(u*u-a*a+4*h)/(2*a*2*d),m=(u*u-a*a-4*h)/(2*u*2*d),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/Xa,n=function(e){var t=e*r,n=le(v),s=a/(2*d)*(n*ue(Xa*t+v)-se(v));return[i+s*c,o+s*f,a*n/le(Xa*t+v)]}}return n.duration=1e3*r,n},da.behavior.zoom=function(){function e(e){e.on(D,f).on(Ka+".zoom",d).on("dblclick.zoom",p).on(I,h)}function t(e){return[(e[0]-k.x)/k.k,(e[1]-k.y)/k.k]}function n(e){return[e[0]*k.k+k.x,e[1]*k.k+k.y]}function r(e){k.k=Math.max(S[0],Math.min(S[1],e))}function i(e,t){t=n(t),k.x+=e[0]-t[0],k.y+=e[1]-t[1]}function o(t,n,o,a){t.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,a)),i(v=n,o),t=da.select(t),T>0&&(t=t.transition().duration(T)),t.call(e.event)}function s(){_&&_.domain(x.range().map(function(e){return(e-k.x)/k.k}).map(x.invert)),M&&M.domain(w.range().map(function(e){return(e-k.y)/k.k}).map(w.invert))}function l(e){A++||e({type:"zoomstart"})}function u(e){s(),e({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function c(e){--A||(e({type:"zoomend"}),v=null)}function f(){function e(){s=1,i(da.mouse(r),h),u(o)}function n(){f.on(P,null).on(L,null),d(s),c(o)}var r=this,o=N.of(r,arguments),s=0,f=da.select(a(r)).on(P,e).on(L,n),h=t(da.mouse(r)),d=ee(r);Hl.call(r),l(o)}function h(){function e(){var e=da.touches(p);return d=k.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=da.event.target;da.select(t).on(x,a).on(_,s),w.push(t);for(var n=da.event.changedTouches,r=0,i=n.length;r<i;++r)v[n[r].identifier]=null;var l=e(),u=Date.now();if(1===l.length){if(u-b<500){var c=l[0];o(p,c,v[c.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),C()}b=u}else if(l.length>1){var c=l[0],f=l[1],h=c[0]-f[0],d=c[1]-f[1];g=h*h+d*d}}function a(){var e,t,n,o,a=da.touches(p);Hl.call(p);for(var s=0,l=a.length;s<l;++s,o=null)if(n=a[s],o=v[n.identifier]){if(t)break;e=n,t=o}if(o){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,f=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(f*d)}b=null,i(e,t),u(m)}function s(){if(da.event.touches.length){for(var t=da.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var i in v)return void e()}da.selectAll(w).on(y,null),M.on(D,f).on(I,h),E(),c(m)}var d,p=this,m=N.of(p,arguments),v={},g=0,y=".zoom-"+da.event.changedTouches[0].identifier,x="touchmove"+y,_="touchend"+y,w=[],M=da.select(p),E=ee(p);n(),l(m),M.on(D,null).on(I,n)}function d(){var e=N.of(this,arguments);y?clearTimeout(y):(Hl.call(this),m=t(v=g||da.mouse(this)),l(e)),y=setTimeout(function(){y=null,c(e)},50),C(),r(Math.pow(2,.002*Za())*k.k),i(v,m),u(e)}function p(){var e=da.mouse(this),n=Math.log(k.k)/Math.LN2;o(this,e,t(e),da.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,v,g,y,b,x,_,w,M,k={x:0,y:0,k:1},E=[960,500],S=$a,T=250,A=0,D="mousedown.zoom",P="mousemove.zoom",L="mouseup.zoom",I="touchstart.zoom",N=O(e,"zoomstart","zoom","zoomend");return Ka||(Ka="onwheel"in va?(Za=function(){return-da.event.deltaY*(da.event.deltaMode?120:1)},"wheel"):"onmousewheel"in va?(Za=function(){return da.event.wheelDelta},"mousewheel"):(Za=function(){return-da.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=N.of(this,arguments),t=k;Ul?da.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var n=E[0],r=E[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=da.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=k={x:i-r[0]*s,y:o-r[1]*s,k:s},u(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=k,l(e),u(e),c(e))})},e.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},s(),e):[k.x,k.y]},e.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},r(+t),s(),e):k.k},e.scaleExtent=function(t){return arguments.length?(S=null==t?$a:[+t[0],+t[1]],e):S},e.center=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],e):g},e.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],e):E},e.duration=function(t){return arguments.length?(T=+t,e):T},e.x=function(t){return arguments.length?(_=t,x=t.copy(),k={x:0,y:0,k:1},e):_},e.y=function(t){return arguments.length?(M=t,w=t.copy(),k={x:0,y:0,k:1},e):M},da.rebind(e,N,"on")};var Za,Ka,$a=[0,1/0];da.color=fe,fe.prototype.toString=function(){return this.rgb()+""},da.hsl=he;var Ja=he.prototype=new fe;Ja.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new he(this.h,this.s,this.l/e)},Ja.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new he(this.h,this.s,e*this.l)},Ja.rgb=function(){return de(this.h,this.s,this.l)},da.hcl=pe;var Qa=pe.prototype=new fe;Qa.brighter=function(e){return new pe(this.h,this.c,Math.min(100,this.l+es*(arguments.length?e:1)))},Qa.darker=function(e){return new pe(this.h,this.c,Math.max(0,this.l-es*(arguments.length?e:1)))},Qa.rgb=function(){return me(this.h,this.c,this.l).rgb()},da.lab=ve;var es=18,ts=.95047,ns=1,rs=1.08883,is=ve.prototype=new fe;is.brighter=function(e){return new ve(Math.min(100,this.l+es*(arguments.length?e:1)),this.a,this.b)},is.darker=function(e){return new ve(Math.max(0,this.l-es*(arguments.length?e:1)),this.a,this.b)},is.rgb=function(){return ge(this.l,this.a,this.b)},da.rgb=we;var os=we.prototype=new fe;os.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new we(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new we(i,i,i)},os.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new we(e*this.r,e*this.g,e*this.b)},os.hsl=function(){return Te(this.r,this.g,this.b)},os.toString=function(){return"#"+Ee(this.r)+Ee(this.g)+Ee(this.b)};var as=da.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});as.forEach(function(e,t){as.set(e,Me(t))}),da.functor=Oe,da.xhr=Pe(M),da.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Le(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=u)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<u;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],u=e.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();t&&null==(h=t(h,f++))||s.push(h)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new w,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},da.csv=da.dsv(",","text/csv"),da.tsv=da.dsv("\t","text/tab-separated-values");var ss,ls,us,cs,fs=this[E(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};da.timer=function(){Re.apply(this,arguments)},da.timer.flush=function(){ze(),Fe()},da.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var hs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ue);da.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=da.round(e,Be(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),hs[8+n/3]};var ds=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ps=da.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=da.round(e,Be(e,t))).toFixed(Math.max(0,Math.min(20,Be(e*(1+1e-15),t))))}}),ms=da.time={},vs=Date;Ye.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gs.setUTCDate.apply(this._,arguments)},setDay:function(){gs.setUTCDay.apply(this._,arguments)},setFullYear:function(){gs.setUTCFullYear.apply(this._,arguments)},setHours:function(){gs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gs.setUTCSeconds.apply(this._,arguments)},setTime:function(){gs.setTime.apply(this._,arguments)}};var gs=Date.prototype;ms.year=We(function(e){return e=ms.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ms.years=ms.year.range,ms.years.utc=ms.year.utc.range,ms.day=We(function(e){var t=new vs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ms.days=ms.day.range,ms.days.utc=ms.day.utc.range,ms.dayOfYear=function(e){var t=ms.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ms[e]=We(function(e){return(e=ms.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ms.year(e).getDay();return Math.floor((ms.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ms[e+"s"]=n.range,ms[e+"s"].utc=n.utc.range,ms[e+"OfYear"]=function(e){var n=ms.year(e).getDay();return Math.floor((ms.dayOfYear(e)+(n+t)%7)/7)}}),ms.week=ms.sunday,ms.weeks=ms.sunday.range,ms.weeks.utc=ms.sunday.utc.range,ms.weekOfYear=ms.sundayOfYear;var ys={"-":"",_:" ",0:"0"},bs=/^\s*\d+/,xs=/^%/;da.locale=function(e){return{numberFormat:Ve(e),timeFormat:Ge(e)}};var _s=da.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});da.format=_s.numberFormat,da.geo={},pt.prototype={s:0,t:0,add:function(e){mt(e,this.t,ws),mt(ws.s,this.s,this),this.s?this.t+=ws.t:this.s=ws.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ws=new pt;da.geo.stream=function(e,t){e&&Ms.hasOwnProperty(e.type)?Ms[e.type](e,t):vt(e,t)};var Ms={Feature:function(e,t){vt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)vt(n[r].geometry,t)}},ks={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){gt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)gt(n[r],t,0)},Polygon:function(e,t){yt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)yt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)vt(n[r],t)}};da.geo.area=function(e){return Es=0,da.geo.stream(e,Ts),Es};var Es,Ss=new pt,Ts={sphere:function(){Es+=4*Va},point:S,lineStart:S,lineEnd:S,polygonStart:function(){Ss.reset(),Ts.lineStart=bt},polygonEnd:function(){var e=2*Ss;Es+=e<0?4*Va+e:e,Ts.lineStart=Ts.lineEnd=Ts.point=S}};da.geo.bounds=function(){function e(e,t){b.push(x=[c=e,h=e]),t<f&&(f=t),t>d&&(d=t)}function t(t,n){var r=xt([t*qa,n*qa]);if(g){var i=wt(g,r),o=[i[1],-i[0],0],a=wt(o,i);Et(a),a=St(a);var l=t-p,u=l>0?1:-1,m=a[0]*Ga*u,v=Ma(l)>180;if(v^(u*p<m&&m<u*t)){var y=a[1]*Ga;y>d&&(d=y)}else if(m=(m+360)%360-180,v^(u*p<m&&m<u*t)){var y=-a[1]*Ga;y<f&&(f=y)}else n<f&&(f=n),n>d&&(d=n);v?t<p?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t):h>=c?(t<c&&(c=t),t>h&&(h=t)):t>p?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t)}else e(t,n);g=r,p=t}function n(){_.point=t}function r(){x[0]=c,x[1]=h,_.point=e,g=null}function i(e,n){if(g){var r=e-p;y+=Ma(r)>180?r+(r>0?360:-360):r}else m=e,v=n;Ts.point(e,n),t(e,n)}function o(){Ts.lineStart()}function a(){i(m,v),Ts.lineEnd(),Ma(y)>Ba&&(c=-(h=180)),x[0]=c,x[1]=h,g=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,h,d,p,m,v,g,y,b,x,_={point:e,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=r,Ss<0?(c=-(h=180),f=-(d=90)):y>Ba?d=90:y<-Ba&&(f=-90),x[0]=c,x[1]=h}};return function(e){d=h=-(c=f=1/0),b=[],da.geo.stream(e,_);var t=b.length;if(t){b.sort(l);for(var n,r=1,i=b[0],o=[i];r<t;++r)n=b[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-1/0,t=o.length-1,r=0,i=o[t];r<=t;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],h=i[1])}return b=x=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,d]]}}(),da.geo.centroid=function(e){As=Cs=Ds=Os=Ps=Ls=Is=Ns=Rs=js=zs=0,da.geo.stream(e,Fs);var t=Rs,n=js,r=zs,i=t*t+n*n+r*r;return i<Ua&&(t=Ls,n=Is,r=Ns,Cs<Ba&&(t=Ds,n=Os,r=Ps),(i=t*t+n*n+r*r)<Ua)?[NaN,NaN]:[Math.atan2(n,t)*Ga,ae(r/Math.sqrt(i))*Ga]};var As,Cs,Ds,Os,Ps,Ls,Is,Ns,Rs,js,zs,Fs={sphere:S,point:At,lineStart:Dt,lineEnd:Ot,polygonStart:function(){Fs.lineStart=Pt},polygonEnd:function(){Fs.lineStart=Dt}},Bs=zt(It,Vt,Yt,[-Va,-Va/2]),Us=1e9;da.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=Xt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(da.geo.conicEqualArea=function(){return Zt(Kt)}).raw=Kt,da.geo.albers=function(){return da.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},da.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=da.geo.albers(),a=da.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=da.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var u=o.scale(),c=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(l).point,r=a.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Ba,f+.12*u+Ba],[c-.214*u-Ba,f+.234*u-Ba]]).stream(l).point,i=s.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Ba,f+.166*u+Ba],[c-.115*u-Ba,f+.234*u-Ba]]).stream(l).point,e},e.scale(1070)};var Vs,Hs,Ys,Ws,qs,Gs,Xs={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Hs=0,Xs.lineStart=$t},polygonEnd:function(){Xs.lineStart=Xs.lineEnd=Xs.point=S,Vs+=Ma(Hs/2)}},Zs={point:Jt,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},Ks={point:tn,lineStart:nn,lineEnd:rn,polygonStart:function(){Ks.lineStart=on},polygonEnd:function(){Ks.point=tn,Ks.lineStart=nn,Ks.lineEnd=rn}};da.geo.path=function(){function e(e){return e&&("function"===typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),da.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return Vs=0,da.geo.stream(e,i(Xs)),Vs},e.centroid=function(e){return Ds=Os=Ps=Ls=Is=Ns=Rs=js=zs=0,da.geo.stream(e,i(Ks)),zs?[Rs/zs,js/zs]:Ns?[Ls/Ns,Is/Ns]:Ps?[Ds/Ps,Os/Ps]:[NaN,NaN]},e.bounds=function(e){return qs=Gs=-(Ys=Ws=1/0),da.geo.stream(e,i(Zs)),[[Ys,Ws],[qs,Gs]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||ln(e):M,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Qt:new an(e),"function"!==typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"===typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(da.geo.albersUsa()).context(null)},da.geo.transform=function(e){return{stream:function(t){var n=new un(t);for(var r in e)n[r]=e[r];return n}}},un.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},da.geo.projection=fn,da.geo.projectionMutator=hn,(da.geo.equirectangular=function(){return fn(pn)}).raw=pn.invert=pn,da.geo.rotation=function(e){function t(t){return t=e(t[0]*qa,t[1]*qa),t[0]*=Ga,t[1]*=Ga,t}return e=vn(e[0]%360*qa,e[1]*qa,e.length>2?e[2]*qa:0),t.invert=function(t){return t=e.invert(t[0]*qa,t[1]*qa),t[0]*=Ga,t[1]*=Ga,t},t},mn.invert=pn,da.geo.circle=function(){function e(){var e="function"===typeof r?r.apply(this,arguments):r,t=vn(-e[0]*qa,-e[1]*qa,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ga,e[1]*=Ga}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=xn((t=+r)*qa,i*qa),e):t},e.precision=function(r){return arguments.length?(n=xn(t*qa,(i=+r)*qa),e):i},e.angle(90)},da.geo.distance=function(e,t){var n,r=(t[0]-e[0])*qa,i=e[1]*qa,o=t[1]*qa,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},da.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return da.range(Math.ceil(o/v)*v,i,v).map(h).concat(da.range(Math.ceil(u/g)*g,l,g).map(d)).concat(da.range(Math.ceil(r/p)*p,n,p).filter(function(e){return Ma(e%v)>Ba}).map(c)).concat(da.range(Math.ceil(s/m)*m,a,m).filter(function(e){return Ma(e%g)>Ba}).map(f))}var n,r,i,o,a,s,l,u,c,f,h,d,p=10,m=p,v=90,g=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(l).slice(1),h(i).reverse().slice(1),d(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],o>i&&(t=o,o=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(y)):[[o,u],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],g=+t[1],e):[v,g]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(y=+t,c=wn(s,a,90),f=Mn(r,n,y),h=wn(u,l,90),d=Mn(o,i,y),e):y},e.majorExtent([[-180,-90+Ba],[180,90-Ba]]).minorExtent([[-180,-80-Ba],[180,80+Ba]])},da.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=kn,i=En;return e.distance=function(){return da.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"===typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"===typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},da.geo.interpolate=function(e,t){return Sn(e[0]*qa,e[1]*qa,t[0]*qa,t[1]*qa)},da.geo.length=function(e){return $s=0,da.geo.stream(e,Js),$s};var $s,Js={sphere:S,point:S,lineStart:Tn,lineEnd:S,polygonStart:S,polygonEnd:S},Qs=An(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(da.geo.azimuthalEqualArea=function(){return fn(Qs)}).raw=Qs;var el=An(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},M);(da.geo.azimuthalEquidistant=function(){return fn(el)}).raw=el,(da.geo.conicConformal=function(){return Zt(Cn)}).raw=Cn,(da.geo.conicEquidistant=function(){return Zt(Dn)}).raw=Dn;var tl=An(function(e){return 1/e},Math.atan);(da.geo.gnomonic=function(){return fn(tl)}).raw=tl,On.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Wa]},(da.geo.mercator=function(){return Pn(On)}).raw=On;var nl=An(function(){return 1},Math.asin);(da.geo.orthographic=function(){return fn(nl)}).raw=nl;var rl=An(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(da.geo.stereographic=function(){return fn(rl)}).raw=rl,Ln.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Wa]},(da.geo.transverseMercator=function(){var e=Pn(Ln),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Ln,da.geom={},da.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Oe(n),o=Oe(r),a=e.length,s=[],l=[];for(t=0;t<a;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(jn),t=0;t<a;t++)l.push([s[t][0],-s[t][1]]);var u=Rn(s),c=Rn(l),f=c[0]===u[0],h=c[c.length-1]===u[u.length-1],d=[];for(t=u.length-1;t>=0;--t)d.push(e[s[u[t]][2]]);for(t=+f;t<c.length-h;++t)d.push(e[s[c[t]][2]]);return d}var n=In,r=Nn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},da.geom.polygon=function(e){return Aa(e,il),e};var il=da.geom.polygon.prototype=[];il.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},il.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},il.clip=function(e){for(var t,n,r,i,o,a,s=Bn(e),l=-1,u=this.length-Bn(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],zn(a,c,i)?(zn(o,c,i)||e.push(Fn(o,a,c,i)),e.push(a)):zn(o,c,i)&&e.push(Fn(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var ol,al,sl,ll,ul,cl=[],fl=[];Xn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=fr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ur(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ur(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?fr(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ur(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,cr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,cr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},da.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return hr(n(e),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Ba)*Ba,y:Math.round(a(e,t)/Ba)*Ba,i:t}})}var r=In,i=Nn,o=r,a=i,s=hl;return e?t(e):(t.links=function(e){return hr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return hr(n(e)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(Kn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)u,i=c,u=a[s].edge,c=u.l===o?u.r:u.l,r<i.i&&r<c.i&&pr(o,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(o=Oe(r=e),t):r},t.y=function(e){return arguments.length?(a=Oe(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?hl:e,t):s===hl?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===hl?null:s&&s[1]},t)};var hl=[[-1e6,-1e6],[1e6,1e6]];da.geom.delaunay=function(e){return da.geom.voronoi().triangles(e)},da.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(Ma(l-n)+Ma(c-r)<.01)u(e,t,n,r,i,o,a,s);else{var f=e.point;e.x=e.y=e.point=null,u(e,f,l,c,i,o,a,s),u(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else u(e,t,n,r,i,o,a,s)}function u(e,t,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),f=n>=u,h=r>=c,d=h<<1|f;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=gr()),f?i=u:s=u,h?a=c:l=c,o(e,t,n,r,i,a,s,l)}var c,f,h,d,p,m,v,g,y,b=Oe(s),x=Oe(l);if(null!=t)m=t,v=n,g=r,y=i;else if(g=y=-(m=v=1/0),f=[],h=[],p=e.length,a)for(d=0;d<p;++d)c=e[d],c.x<m&&(m=c.x),c.y<v&&(v=c.y),c.x>g&&(g=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(d=0;d<p;++d){var _=+b(c=e[d],d),w=+x(c,d);_<m&&(m=_),w<v&&(v=w),_>g&&(g=_),w>y&&(y=w),f.push(_),h.push(w)}var M=g-m,k=y-v;M>k?y=v+M:g=m+k;var E=gr();if(E.add=function(e){o(E,e,+b(e,++d),+x(e,d),m,v,g,y)},E.visit=function(e){yr(e,E,m,v,g,y)},E.find=function(e){return br(E,e[0],e[1],m,v,g,y)},d=-1,null==t){for(;++d<p;)o(E,e[d],f[d],h[d],m,v,g,y);--d}else e.forEach(E.add);return f=h=e=c=null,E}var a,s=In,l=Nn;return(a=arguments.length)?(s=mr,l=vr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(l=e,o):l},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},da.interpolateRgb=xr,da.interpolateObject=_r,da.interpolateNumber=wr,da.interpolateString=Mr;var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pl=new RegExp(dl.source,"g");da.interpolate=kr,da.interpolators=[function(e,t){var n=typeof t;return("string"===n?as.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?xr:Mr:t instanceof fe?xr:Array.isArray(t)?Er:"object"===n&&isNaN(t)?_r:wr)(e,t)}],da.interpolateArray=Er;var ml=function(){return M},vl=da.map({linear:ml,poly:Pr,quad:function(){return Cr},cubic:function(){return Dr},sin:function(){return Lr},exp:function(){return Ir},circle:function(){return Nr},elastic:Rr,back:jr,bounce:function(){return zr}}),gl=da.map({in:M,out:Tr,"in-out":Ar,"out-in":function(e){return Ar(Tr(e))}});da.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=vl.get(n)||ml,r=gl.get(r)||M,Sr(r(n.apply(null,pa.call(arguments,1))))},da.interpolateHcl=Fr,da.interpolateHsl=Br,da.interpolateLab=Ur,da.interpolateRound=Vr,da.transform=function(e){var t=va.createElementNS(da.ns.prefix.svg,"g");return(da.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Hr(n?n.matrix:yl)})(e)},Hr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yl={a:1,b:0,c:0,d:1,e:0,f:0};da.interpolateTransform=Jr,da.layout={},da.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ti(e[n]));return t}},da.layout.chord=function(){function e(){var e,u,f,h,d,p={},m=[],v=da.range(o),g=[];for(n=[],r=[],e=0,h=-1;++h<o;){for(u=0,d=-1;++d<o;)u+=i[h][d];m.push(u),g.push(da.range(o)),e+=u}for(a&&v.sort(function(e,t){return a(m[e],m[t])}),s&&g.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Ha-c*o)/e,u=0,h=-1;++h<o;){for(f=u,d=-1;++d<o;){var y=v[h],b=g[y][d],x=i[y][b],_=u,w=u+=x*e;p[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:w,value:x}}r[y]={index:y,startAngle:f,endAngle:u,value:m[y]},u+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;){var M=p[h+"-"+d],k=p[d+"-"+h];(M.value||k.value)&&n.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,u):i},u.padding=function(e){return arguments.length?(c=e,n=r=null,u):c},u.sortGroups=function(e){return arguments.length?(a=e,n=r=null,u):a},u.sortSubgroups=function(e){return arguments.length?(s=e,n=null,u):s},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return r||e(),r},u},da.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(s*s/g<l){if(l<m){var u=t.charge/l;e.px-=o*u,e.py-=a*u}return!0}if(t.point&&l&&l<m){var u=t.pointCharge/l;e.px-=o*u,e.py-=a*u}}return!t.charge}}function t(e){e.px=da.event.x,e.py=da.event.y,l.resume()}var n,r,i,o,a,s,l={},u=da.dispatch("start","tick","end"),c=[1,1],f=.9,h=bl,d=xl,p=-30,m=_l,v=.1,g=.64,y=[],b=[];return l.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var t,r,l,h,d,m,g,x,_,w=y.length,M=b.length;for(r=0;r<M;++r)l=b[r],h=l.source,d=l.target,x=d.x-h.x,_=d.y-h.y,(m=x*x+_*_)&&(m=i*a[r]*((m=Math.sqrt(m))-o[r])/m,x*=m,_*=m,d.x-=x*(g=h.weight+d.weight?h.weight/(h.weight+d.weight):.5),d.y-=_*g,h.x+=x*(g=1-g),h.y+=_*g);if((g=i*v)&&(x=c[0]/2,_=c[1]/2,r=-1,g))for(;++r<w;)l=y[r],l.x+=(x-l.x)*g,l.y+=(_-l.y)*g;if(p)for(li(t=da.geom.quadtree(y),i,s),r=-1;++r<w;)(l=y[r]).fixed||t.visit(e(l));for(r=-1;++r<w;)l=y[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);u.tick({type:"tick",alpha:i})},l.nodes=function(e){return arguments.length?(y=e,l):y},l.links=function(e){return arguments.length?(b=e,l):b},l.size=function(e){return arguments.length?(c=e,l):c},l.linkDistance=function(e){return arguments.length?(h="function"===typeof e?e:+e,l):h},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(d="function"===typeof e?e:+e,l):d},l.friction=function(e){return arguments.length?(f=+e,l):f},l.charge=function(e){return arguments.length?(p="function"===typeof e?e:+e,l):p},l.chargeDistance=function(e){return arguments.length?(m=e*e,l):Math.sqrt(m)},l.gravity=function(e){return arguments.length?(v=+e,l):v},l.theta=function(e){return arguments.length?(g=e*e,l):Math.sqrt(g)},l.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):e>0&&(u.start({type:"start",alpha:i=e}),n=Re(l.tick)),l):i},l.start=function(){function e(e,r){if(!n){for(n=new Array(i),l=0;l<i;++l)n[l]=[];for(l=0;l<u;++l){var o=b[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[t],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][e]))return a;return Math.random()*r}var t,n,r,i=y.length,u=b.length,f=c[0],m=c[1];for(t=0;t<i;++t)(r=y[t]).index=t,r.weight=0;for(t=0;t<u;++t)r=b[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<i;++t)r=y[t],isNaN(r.x)&&(r.x=e("x",f)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"===typeof h)for(t=0;t<u;++t)o[t]=+h.call(this,b[t],t);else for(t=0;t<u;++t)o[t]=h;if(a=[],"function"===typeof d)for(t=0;t<u;++t)a[t]=+d.call(this,b[t],t);else for(t=0;t<u;++t)a[t]=d;if(s=[],"function"===typeof p)for(t=0;t<i;++t)s[t]=+p.call(this,y[t],t);else for(t=0;t<i;++t)s[t]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(r||(r=da.behavior.drag().origin(M).on("dragstart.force",ii).on("drag.force",t).on("dragend.force",oi)),!arguments.length)return r;this.on("mouseover.force",ai).on("mouseout.force",si).call(r)},da.rebind(l,u,"on")};var bl=20,xl=1,_l=1/0;da.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(e,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return fi(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=pi,n=hi,r=di;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ci(t,function(e){e.children&&(e.value=0)}),fi(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},da.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=t.value?r/t.value:0;++u<a;)e(s=o[u],n,l=s.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=da.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ui(n,r)},da.layout.pie=function(){function e(a){var s,l=a.length,u=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"===typeof r?r.apply(this,arguments):r),f=("function"===typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(f)/l,+("function"===typeof o?o.apply(this,arguments):o)),d=h*(f<0?-1:1),p=da.sum(u),m=p?(f-l*d)/p:0,v=da.range(l),g=[];return null!=n&&v.sort(n===wl?function(e,t){return u[t]-u[e]}:function(e,t){return n(a[e],a[t])}),v.forEach(function(e){g[e]={data:a[e],value:s=u[e],startAngle:c,endAngle:c+=s*m+d,padAngle:h}}),g}var t=Number,n=wl,r=0,i=Ha,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var wl={};da.layout.stack=function(){function e(s,l){if(!(h=s.length))return s;var u=s.map(function(n,r){return t.call(e,n,r)}),c=u.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),f=n.call(e,c,l);u=da.permute(u,f),c=da.permute(c,f);var h,d,p,m,v=r.call(e,c,l),g=u[0].length;for(p=0;p<g;++p)for(i.call(e,u[0][p],m=v[p],c[0][p][1]),d=1;d<h;++d)i.call(e,u[d][p],m+=c[d-1][p][1],c[d][p][1]);return s}var t=M,n=bi,r=xi,i=yi,o=vi,a=gi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"===typeof t?t:Ml.get(t)||bi,e):n},e.offset=function(t){return arguments.length?(r="function"===typeof t?t:kl.get(t)||xi,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var Ml=da.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(_i),o=e.map(wi),a=da.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,l=0,u=[],c=[];for(t=0;t<r;++t)n=a[t],s<l?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return da.range(e.length).reverse()},default:bi}),kl=da.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,u,c=e.length,f=e[0],h=f.length,d=[];for(d[0]=l=u=0,n=1;n<h;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}d[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)d[n]-=u;return d},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:xi});da.layout.histogram=function(){function e(e,o){for(var a,s,l=[],u=e.map(n,this),c=r.call(this,u,o),f=i.call(this,c,u,o),o=-1,h=u.length,d=f.length-1,p=t?1:1/h;++o<d;)a=l[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<h;)(s=u[o])>=c[0]&&s<=c[1]&&(a=l[da.bisect(f,s,1,d)-1],a.y+=p,a.push(e[o]));return l}var t=!0,n=Number,r=Si,i=ki;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Oe(t),e):r},e.bins=function(t){return arguments.length?(i="number"===typeof t?function(e){return Ei(e,t)}:Oe(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},da.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"===typeof t?t:function(){return t};if(s.x=s.y=0,fi(s,function(e){e.r=+c(e.value)}),fi(s,Oi),r){var f=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;fi(s,function(e){e.r+=f}),fi(s,Oi),fi(s,function(e){e.r-=f})}return Ii(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var t,n=da.layout.hierarchy().sort(Ti),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"===typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ui(e,n)},da.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),f=c[0],h=t(f);if(fi(h,n),h.parent.m=-h.z,ci(h,r),u)ci(f,o);else{var d=f,p=f,m=f;ci(f,function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>m.depth&&(m=e)});var v=s(d,p)/2-d.x,g=l[0]/(p.x+s(p,d)/2+v),y=l[1]/(m.depth||1);ci(f,function(e){e.x=(e.x+v)*g,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Bi(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,l=i.parent.children[0],u=i.m,c=o.m,f=a.m,h=l.m;a=zi(a),i=ji(i),a&&i;)l=ji(l),o=zi(o),o.a=e,r=a.z+f-i.z-u+s(a._,i._),r>0&&(Fi(Ui(a,e,n),e,r),u+=r,c+=r),f+=a.m,u+=i.m,h+=l.m,c+=o.m;a&&!zi(o)&&(o.t=a,o.m+=f-c),i&&!ji(l)&&(l.t=i,l.m+=u-h,n=e)}return n}function o(e){e.x*=l[0],e.y=e.depth*l[1]}var a=da.layout.hierarchy().sort(null).value(null),s=Ri,l=[1,1],u=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(u=null==(l=t)?o:null,e):u?null:l},e.nodeSize=function(t){return arguments.length?(u=null==(l=t)?null:o,e):u?l:null},ui(e,a)},da.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),l=s[0],u=0;fi(l,function(e){var t=e.children;t&&t.length?(e.x=Hi(t),e.y=Vi(t)):(e.x=a?u+=n(e,a):0,e.y=0,a=e)});var c=Yi(l),f=Wi(l),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return fi(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(d-h)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=da.layout.hierarchy().sort(null).value(null),n=Ri,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ui(e,t)},da.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,l,u=f(n),c=[],h=o.slice(),p=1/0,m="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(a=h[l-1]),c.area+=a.area,"squarify"!==d||(s=r(c,m))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,m,u,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=f(t),s=r.slice(),l=[];for(e(s,a.dx*a.dy/t.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),h&&(a=i),i}var a,s=da.layout.hierarchy(),l=Math.round,u=[1,1],c=null,f=qi,h=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(u=e,o):u},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?qi(t):Gi(t,"number"===typeof n?[n,n,n,n]:n)}function n(t){return Gi(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?qi:"function"===(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(l=e?Math.round:Number,o):l!=Number},o.sticky=function(e){return arguments.length?(h=e,a=null,o):h},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(d=e+"",o):d},ui(o,s)},da.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=da.random.normal.apply(da,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=da.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},da.scale={};var El={floor:M,ceil:M};da.scale.linear=function(){return eo([0,1],[0,1],kr,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};da.scale.log=function(){return lo(da.scale.linear().domain([0,1]),10,!0,[1,10])};var Tl=da.format(".0e"),Al={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};da.scale.pow=function(){return uo(da.scale.linear(),1,[0,1])},da.scale.sqrt=function(){return da.scale.pow().exponent(.5)},da.scale.ordinal=function(){return fo([],{t:"range",a:[[]]})},da.scale.category10=function(){return da.scale.ordinal().range(Cl)},da.scale.category20=function(){return da.scale.ordinal().range(Dl)},da.scale.category20b=function(){return da.scale.ordinal().range(Ol)},da.scale.category20c=function(){return da.scale.ordinal().range(Pl)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ke),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ke),Ol=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ke),Pl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ke);da.scale.quantile=function(){return ho([],[])},da.scale.quantize=function(){return po(0,1,[0,1])},da.scale.threshold=function(){return mo([.5],[0,1])},da.scale.identity=function(){return vo([0,1])},da.svg={},da.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Wa,f=s.apply(this,arguments)-Wa,h=Math.abs(f-c),d=c>f?0:1;if(u<e&&(p=u,u=e,e=p),h>=Ya)return t(u,d)+(e?t(e,1-d):"")+"Z";var p,m,v,g,y,b,x,_,w,M,k,E,S=0,T=0,A=[];if((g=(+l.apply(this,arguments)||0)/2)&&(v=o===Ll?Math.sqrt(e*e+u*u):+o.apply(this,arguments),d||(T*=-1),u&&(T=ae(v/u*Math.sin(g))),e&&(S=ae(v/e*Math.sin(g)))),u){y=u*Math.cos(c+T),b=u*Math.sin(c+T),x=u*Math.cos(f-T),_=u*Math.sin(f-T);var C=Math.abs(f-c-2*T)<=Va?0:1;if(T&&Mo(y,b,x,_)===d^C){var D=(c+f)/2;y=u*Math.cos(D),b=u*Math.sin(D),x=_=null}}else y=b=0;if(e){w=e*Math.cos(f-S),M=e*Math.sin(f-S),k=e*Math.cos(c+S),E=e*Math.sin(c+S);var O=Math.abs(c-f+2*S)<=Va?0:1;if(S&&Mo(w,M,k,E)===1-d^O){var P=(c+f)/2;w=e*Math.cos(P),M=e*Math.sin(P),k=E=null}}else w=M=0;if(h>Ba&&(p=Math.min(Math.abs(u-e)/2,+i.apply(this,arguments)))>.001){m=e<u^d?0:1;var L=p,I=p;if(h<Va){var N=null==k?[w,M]:null==x?[y,b]:Fn([y,b],[k,E],[x,_],[w,M]),R=y-N[0],j=b-N[1],z=x-N[0],F=_-N[1],B=1/Math.sin(Math.acos((R*z+j*F)/(Math.sqrt(R*R+j*j)*Math.sqrt(z*z+F*F)))/2),U=Math.sqrt(N[0]*N[0]+N[1]*N[1]);I=Math.min(p,(e-U)/(B-1)),L=Math.min(p,(u-U)/(B+1))}if(null!=x){var V=ko(null==k?[w,M]:[k,E],[y,b],u,L,d),H=ko([x,_],[w,M],u,L,d);p===L?A.push("M",V[0],"A",L,",",L," 0 0,",m," ",V[1],"A",u,",",u," 0 ",1-d^Mo(V[1][0],V[1][1],H[1][0],H[1][1]),",",d," ",H[1],"A",L,",",L," 0 0,",m," ",H[0]):A.push("M",V[0],"A",L,",",L," 0 1,",m," ",H[0])}else A.push("M",y,",",b);if(null!=k){var Y=ko([y,b],[k,E],e,-I,d),W=ko([w,M],null==x?[y,b]:[x,_],e,-I,d);p===I?A.push("L",W[0],"A",I,",",I," 0 0,",m," ",W[1],"A",e,",",e," 0 ",d^Mo(W[1][0],W[1][1],Y[1][0],Y[1][1]),",",1-d," ",Y[1],"A",I,",",I," 0 0,",m," ",Y[0]):A.push("L",W[0],"A",I,",",I," 0 0,",m," ",Y[0])}else A.push("L",w,",",M)}else A.push("M",y,",",b),null!=x&&A.push("A",u,",",u," 0 ",C,",",d," ",x,",",_),A.push("L",w,",",M),null!=k&&A.push("A",e,",",e," 0 ",O,",",1-d," ",k,",",E);return A.push("Z"),A.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=yo,r=bo,i=go,o=Ll,a=xo,s=_o,l=wo;return e.innerRadius=function(t){return arguments.length?(n=Oe(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Oe(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Oe(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Ll?Ll:Oe(t),e):o},e.startAngle=function(t){return arguments.length?(a=Oe(t),e):a},e.endAngle=function(t){return arguments.length?(s=Oe(t),e):s},e.padAngle=function(t){return arguments.length?(l=Oe(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Wa;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ll="auto";da.svg.line=function(){return Eo(M)};var Il=da.map({linear:So,"linear-closed":To,step:Ao,"step-before":Co,"step-after":Do,basis:Ro,"basis-open":jo,"basis-closed":zo,bundle:Fo,cardinal:Lo,"cardinal-open":Oo,"cardinal-closed":Po,monotone:Wo});Il.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Nl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],jl=[0,1/6,2/3,1/6];da.svg.line.radial=function(){var e=Eo(qo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Co.reverse=Do,Do.reverse=Co,da.svg.area=function(){return Go(M)},da.svg.area.radial=function(){var e=Go(qo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},da.svg.chord=function(){function e(e,s){var l=t(this,o,e,s),u=t(this,a,e,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=l.call(e,i,r)-Wa,c=u.call(e,i,r)-Wa;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Va)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=kn,a=En,s=Xo,l=xo,u=_o;return e.radius=function(t){return arguments.length?(s=Oe(t),e):s},e.source=function(t){return arguments.length?(o=Oe(t),e):o},e.target=function(t){return arguments.length?(a=Oe(t),e):a},e.startAngle=function(t){return arguments.length?(l=Oe(t),e):l},e.endAngle=function(t){return arguments.length?(u=Oe(t),e):u},e},da.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=kn,n=En,r=Zo;return e.source=function(n){return arguments.length?(t=Oe(n),e):t},e.target=function(t){return arguments.length?(n=Oe(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},da.svg.diagonal.radial=function(){var e=da.svg.diagonal(),t=Zo,n=e.projection;return e.projection=function(e){return arguments.length?n(Ko(t=e)):t},e},da.svg.symbol=function(){function e(e,r){return(zl.get(t.call(this,e,r))||Qo)(n.call(this,e,r))}var t=Jo,n=$o;return e.type=function(n){return arguments.length?(t=Oe(n),e):t},e.size=function(t){return arguments.length?(n=Oe(t),e):n},e};var zl=da.map({circle:Qo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Bl)),n=t*Bl;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Fl),n=t*Fl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Fl),n=t*Fl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});da.svg.symbolTypes=zl.keys();var Fl=Math.sqrt(3),Bl=Math.tan(30*qa);Pa.transition=function(e){for(var t,n,r=Ul||++Wl,i=ia(e),o=[],a=Vl||{time:Date.now(),ease:Or,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&oa(n,c,i,r,a),t.push(n)}return ta(o,i,r)},Pa.interrupt=function(e){return this.each(null==e?Hl:ea(ia(e)))};var Ul,Vl,Hl=ea(ia()),Yl=[],Wl=0;Yl.call=Pa.call,Yl.empty=Pa.empty,Yl.node=Pa.node,Yl.size=Pa.size,da.transition=function(e,t){return e&&e.transition?Ul?e.transition(t):e:da.selection().transition(e)},da.transition.prototype=Yl,Yl.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=L(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),oa(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return ta(a,o,i)},Yl.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,l=[];e=I(e);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=e.call(r,r.__data__,h,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&oa(i,p,s,a,o),t.push(i)}return ta(l,s,a)},Yl.filter=function(e){var t,n,r,i=[];"function"!==typeof e&&(e=q(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]);for(var n=this[o],s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return ta(i,this.namespace,this.id)},Yl.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):X(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Yl.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Jr:kr,s=da.ns.qualify(e);return na(this,"attr."+e,t,s.local?o:i)},Yl.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=da.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Yl.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=kr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(o<3){if("string"!==typeof e){o<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return na(this,"style."+e,t,i)},Yl.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Yl.text=function(e){return na(this,"text",e,ra)},Yl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Yl.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!==typeof e&&(e=da.ease.apply(da,arguments)),X(this,function(r){r[n][t].ease=e}))},Yl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:X(this,"function"===typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Yl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:X(this,"function"===typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Yl.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Vl,o=Ul;try{Ul=n,X(this,function(t,i,o){Vl=t[r][n],e.call(t,t.__data__,i,o)})}finally{Vl=i,Ul=o}}else X(this,function(i){var o=i[r][n];(o.event||(o.event=da.dispatch("start","end","interrupt"))).on(e,t)});return this},Yl.transition=function(){for(var e,t,n,r,i=this.id,o=++Wl,a=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(e=[]);for(var t=this[l],c=0,f=t.length;c<f;c++)(n=t[c])&&(r=n[a][i],oa(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return ta(s,a,o)},da.svg.axis=function(){function e(e){e.each(function(){var e,u=da.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,d=null==t?f.tickFormat?f.tickFormat.apply(f,s):M:t,p=u.selectAll(".tick").data(h,f),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ba),v=da.transition(p.exit()).style("opacity",Ba).remove(),g=da.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,b=Zi(f),x=u.selectAll(".domain").data([0]),_=(x.enter().append("path").attr("class","domain"),da.transition(x));m.append("line"),m.append("text");var w,k,E,S,T=m.select("line"),A=g.select("line"),C=p.select("text").text(d),D=m.select("text"),O=g.select("text"),P="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=aa,w="x",E="y",k="x2",S="y2",C.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+b[0]+","+P*o+"V0H"+b[1]+"V"+P*o)):(e=sa,w="y",E="x",k="y2",S="x2",C.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),_.attr("d","M"+P*o+","+b[0]+"H0V"+b[1]+"H"+P*o)),T.attr(S,P*i),D.attr(E,P*y),A.attr(k,0).attr(S,P*i),O.attr(w,0).attr(E,P*y),f.rangeBand){var L=f,I=L.rangeBand()/2;c=f=function(e){return L(e)+I}}else c.rangeBand?c=f:v.call(e,f,c);m.call(e,c,f),g.call(e,f,f)})}var t,n=da.scale.linear(),r=ql,i=6,o=6,a=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Gl?t+"":ql,e):r},e.ticks=function(){return arguments.length?(s=ma(arguments),e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var ql="bottom",Gl={top:1,right:1,bottom:1,left:1};da.svg.brush=function(){function e(o){o.each(function(){var o=da.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,M);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Xl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,f=da.transition(o),h=da.transition(a);u&&(l=Zi(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(f)),c&&(l=Zi(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),t(f)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+h[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(e){e.select(".extent").attr("y",h[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==da.event.keyCode&&(A||(b=null,O[0]-=f[1],O[1]-=h[1],A=2),C())}function m(){32==da.event.keyCode&&2==A&&(O[0]+=f[1],O[1]+=h[1],A=0,C())}function v(){var e=da.mouse(_),i=!1;x&&(e[0]+=x[0],e[1]+=x[1]),A||(da.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),O[0]=f[+(e[0]<b[0])],O[1]=h[+(e[1]<b[1])]):b=null),S&&g(e,u,0)&&(n(k),i=!0),T&&g(e,c,1)&&(r(k),i=!0),i&&(t(k),M({type:"brush",mode:A?"move":"resize"}))}function g(e,t,n){var r,i,a=Zi(t),l=a[0],u=a[1],c=O[n],m=n?h:f,v=m[1]-m[0];if(A&&(l-=c,u-=v+c),r=(n?p:d)?Math.max(l,Math.min(u,e[n])):e[n],A?i=(r+=c)+v:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),c<r?(i=r,r=c):i=c),m[0]!=r||m[1]!=i)return n?s=null:o=null,m[0]=r,m[1]=i,!0}function y(){v(),k.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),da.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),M({type:"brushend"})}var b,x,_=this,w=da.select(da.event.target),M=l.of(_,arguments),k=da.select(_),E=w.datum(),S=!/^(n|s)$/.test(E)&&u,T=!/^(e|w)$/.test(E)&&c,A=w.classed("extent"),D=ee(_),O=da.mouse(_),P=da.select(a(_)).on("keydown.brush",i).on("keyup.brush",m);if(da.event.changedTouches?P.on("touchmove.brush",v).on("touchend.brush",y):P.on("mousemove.brush",v).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),A)O[0]=f[0]-O[0],O[1]=h[0]-O[1];else if(E){var L=+/w$/.test(E),I=+/^n/.test(E);x=[f[1-L]-O[0],h[1-I]-O[1]],O[0]=f[L],O[1]=h[I]}else da.event.altKey&&(b=O.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),da.select("body").style("cursor",w.style("cursor")),M({type:"brushstart"}),v()}var o,s,l=O(e,"brushstart","brush","brushend"),u=null,c=null,f=[0,0],h=[0,0],d=!0,p=!0,m=Zl[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:f,y:h,i:o,j:s},n=this.__chart__||t;this.__chart__=t,Ul?da.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,f=n.x,h=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Er(f,t.x),r=Er(h,t.y);return o=s=null,function(i){f=t.x=n(i),h=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,m=Zl[!u<<1|!c],e):u},e.y=function(t){return arguments.length?(c=t,m=Zl[!u<<1|!c],e):c},e.clamp=function(t){return arguments.length?(u&&c?(d=!!t[0],p=!!t[1]):u?d=!!t:c&&(p=!!t),e):u&&c?[d,p]:u?d:c?p:null},e.extent=function(t){var n,r,i,a,l;return arguments.length?(u&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(l=n,n=r,r=l),n==f[0]&&r==f[1]||(f=[n,r])),c&&(i=t[0],a=t[1],u&&(i=i[1],a=a[1]),s=[i,a],c.invert&&(i=c(i),a=c(a)),a<i&&(l=i,i=a,a=l),i==h[0]&&a==h[1]||(h=[i,a])),e):(u&&(o?(n=o[0],r=o[1]):(n=f[0],r=f[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(i=s[0],a=s[1]):(i=h[0],a=h[1],c.invert&&(i=c.invert(i),a=c.invert(a)),a<i&&(l=i,i=a,a=l))),u&&c?[[n,i],[r,a]]:u?[n,r]:c&&[i,a])},e.clear=function(){return e.empty()||(f=[0,0],h=[0,0],o=s=null),e},e.empty=function(){return!!u&&f[0]==f[1]||!!c&&h[0]==h[1]},da.rebind(e,l,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Kl=ms.format=_s.timeFormat,$l=Kl.utc,Jl=$l("%Y-%m-%dT%H:%M:%S.%LZ");Kl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?la:Jl,la.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},la.toString=Jl.toString,ms.second=We(function(e){return new vs(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ms.seconds=ms.second.range,ms.seconds.utc=ms.second.utc.range,ms.minute=We(function(e){return new vs(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ms.minutes=ms.minute.range,ms.minutes.utc=ms.minute.utc.range,ms.hour=We(function(e){var t=e.getTimezoneOffset()/60;return new vs(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ms.hours=ms.hour.range,ms.hours.utc=ms.hour.utc.range,ms.month=We(function(e){return e=ms.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ms.months=ms.month.range,ms.months.utc=ms.month.utc.range;var Ql=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],eu=[[ms.second,1],[ms.second,5],[ms.second,15],[ms.second,30],[ms.minute,1],[ms.minute,5],[ms.minute,15],[ms.minute,30],[ms.hour,1],[ms.hour,3],[ms.hour,6],[ms.hour,12],[ms.day,1],[ms.day,2],[ms.week,1],[ms.month,1],[ms.month,3],[ms.year,1]],tu=Kl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",It]]),nu={range:function(e,t,n){return da.range(Math.ceil(e/n)*n,+t,n).map(ca)},floor:M,ceil:M};eu.year=ms.year,ms.scale=function(){return ua(da.scale.linear(),eu,tu)};var ru=eu.map(function(e){return[e[0].utc,e[1]]}),iu=$l.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",It]]);ru.year=ms.year.utc,ms.scale.utc=function(){return ua(da.scale.linear(),ru,iu)},da.text=Pe(function(e){return e.responseText}),da.json=function(e,t){return Le(e,"application/json",fa,t)},da.html=function(e,t){return Le(e,"text/html",ha,t)},da.xml=Pe(function(e){return e.responseXML}),this.d3=da,r=da,void 0!==(i="function"===typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}()},function(e,t,n){"use strict";function r(e){if(o(e)||"string"!==typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),i="a"===t.charAt(3)&&4===r.length;if(!i&&3!==r.length)return e;for(var a=0;a<r.length;a++){if(!r[a].length)return e;if(r[a]=Number(r[a]),!(r[a]>=0))return e;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return i?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}var i=n(38),o=n(4),a=e.exports={},s=n(31);a.defaults=s.defaults;var l=a.defaultLine=s.defaultLine;a.lightLine=s.lightLine;var u=a.background=s.background;a.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},a.rgb=function(e){return a.tinyRGB(i(e))},a.opacity=function(e){return e?i(e).getAlpha():0},a.addOpacity=function(e,t){var n=i(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},a.combine=function(e,t){var n=i(e).toRgb();if(1===n.a)return i(e).toRgbString();var r=i(t||u).toRgb(),o=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},a={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return i(a).toRgbString()},a.contrast=function(e,t,n){var r=i(e);return 1!==r.getAlpha()&&(r=i(a.combine(e,u))),(r.isDark()?t?r.lighten(t):u:n?r.darken(n):l).toString()},a.stroke=function(e,t){var n=i(t);e.style({stroke:a.tinyRGB(n),"stroke-opacity":n.getAlpha()})},a.fill=function(e,t){var n=i(t);e.style({fill:a.tinyRGB(n),"fill-opacity":n.getAlpha()})},a.clean=function(e){if(e&&"object"===typeof e){var t,n,i,o,s=Object.keys(e);for(t=0;t<s.length;t++)if(i=s[t],o=e[i],"color"===i.substr(i.length-5))if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=r(o[n]);else e[i]=r(o);else if("colorscale"===i.substr(i.length-10)&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=r(o[n][1]));else if(Array.isArray(o)){var l=o[0];if(!Array.isArray(l)&&l&&"object"===typeof l)for(n=0;n<o.length;n++)a.clean(o[n])}else o&&"object"===typeof o&&a.clean(o)}}},function(e,t,n){"use strict";function r(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}e.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},function(e,t,n){"use strict";function r(e,t,n,r,i){function o(t){return(1+100*(t-e)/n.dtick)%100<2}for(var a=0,s=0,l=0,u=0,c=0;c<t.length;c++)t[c]%1===0?l++:b(t[c])||u++,o(t[c])&&a++,o(t[c]+n.dtick/2)&&s++;var f=t.length-u;if(l===f&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*f&&(a>.3*f||o(r)||o(i))){var h=n.dtick/2;e+=e+h<r?h:-h}return e}function i(e,t,n,r,i){var o=_.findExactDates(t,i);if(o.exactDays>.8){var a=Number(n.substr(1));o.exactYears>.8&&a%12===0?e=N.tickIncrement(e,"M6","reverse")+1.5*D:o.exactMonths>.8?e=N.tickIncrement(e,"M1","reverse")+15.5*D:e-=D/2;var s=N.tickIncrement(e,n);if(s<=r)return s}return e}function o(e){var t,n,r=e.tickvals,i=e.ticktext,o=new Array(r.length),a=_.simpleMap(e.range,e.r2l),s=1.0001*a[0]-1e-4*a[1],u=1.0001*a[1]-1e-4*a[0],c=Math.min(s,u),f=Math.max(s,u),h=0;Array.isArray(i)||(i=[]);var d="category"===e.type?e.d2l_noadd:e.d2l;for("log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)),n=0;n<r.length;n++)(t=d(r[n]))>c&&t<f&&(void 0===i[n]?o[h]=N.tickText(e,t):o[h]=l(e,t,String(i[n])),h++);return h<r.length&&o.splice(h,r.length-h),o}function a(e,t,n){return t*_.roundUp(e/t,n)}function s(e){var t=e.dtick;if(e._tickexponent=0,b(t)||"string"===typeof t||(t=1),"category"===e.type&&(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),i=r.length;if("M"===String(t).charAt(0))i>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=D&&i<=10||t>=15*D)e._tickround="d";else if(t>=P&&i<=16||t>=O)e._tickround="M";else if(t>=L&&i<=19||t>=P)e._tickround="S";else{var o=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(i,o)-20}}else if(b(t)||"L"===t.charAt(0)){var a=e.range.map(e.r2d||Number);b(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var s=Math.max(Math.abs(a[0]),Math.abs(a[1])),l=Math.floor(Math.log(s)/Math.LN10+.01);Math.abs(l)>3&&("SI"===e.exponentformat||"B"===e.exponentformat?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}function l(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function u(e,t,n,r){var i=e._tickround,o=n&&e.hoverformat||e.tickformat;r&&(i=b(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var a,s=_.formatDate(t.x,o,i,e.calendar),l=s.indexOf("\n");-1!==l&&(a=s.substr(l+1),s=s.substr(0,l)),r&&("00:00:00"===s||"00:00"===s?(s=a,a=""):8===s.length&&(s=s.replace(/:00$/,""))),a&&(n?"d"===i?s+=", "+a:s=a+(s?", "+s:""):e._inCalcTicks&&a===e._prevDateHead||(s+="<br>"+a,e._prevDateHead=a)),t.text=s}function c(e,t,n,r,i){var o=e.dtick,a=t.x;if(!r||"string"===typeof o&&"L"===o.charAt(0)||(o="L3"),e.tickformat||"string"===typeof o&&"L"===o.charAt(0))t.text=d(Math.pow(10,a),e,i,r);else if(b(o)||"D"===o.charAt(0)&&_.mod(a+.01,1)<.1)if(-1!==["e","E","power"].indexOf(e.exponentformat)){var s=Math.round(a);t.text=0===s?1:1===s?"10":s>1?"10<sup>"+s+"</sup>":"10<sup>−"+-s+"</sup>",t.fontSize*=1.25}else t.text=d(Math.pow(10,a),e,"","fakehover"),"D1"===o&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6);else{if("D"!==o.charAt(0))throw"unrecognized dtick "+String(o);t.text=String(Math.round(Math.pow(10,_.mod(a,1)))),t.fontSize*=.75}if("D1"===e.dtick){var l=String(t.text).charAt(0);"0"!==l&&"1"!==l||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(a<0?.5:.25)))}}function f(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function h(e,t,n,r,i){"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=d(t.x,e,i,r)}function d(e,t,n,r){var i=e<0,o=t._tickround,a=n||t.exponentformat||"B",l=t._tickexponent,u=t.tickformat,c=t.separatethousands;if(r){var f={exponentformat:t.exponentformat,dtick:"none"===t.showexponent?t.dtick:b(e)?Math.abs(e)||1:1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};s(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,t.hoverformat&&(u=t.hoverformat)}if(u)return y.format(u)(e).replace(/-/g,"−");var h=Math.pow(10,-o)/2;if("none"===a&&(l=0),(e=Math.abs(e))<h)e="0",i=!1;else{if(e+=h,l&&(e*=Math.pow(10,-l),o+=l),0===o)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var d=o;d<0;d++)e+="0"}else{e=String(e);var p=e.indexOf(".")+1;p&&(e=e.substr(0,p+o).replace(/\.?0+$/,""))}e=_.numSeparate(e,t._separators,c)}if(l&&"hide"!==a){var m;m=l<0?"−"+-l:"power"!==a?"+"+l:String(l),"e"===a||("SI"===a||"B"===a)&&(l>12||l<-15)?e+="e"+m:"E"===a?e+="E"+m:"power"===a?e+="×10<sup>"+m+"</sup>":"B"===a&&9===l?e+="B":"SI"!==a&&"B"!==a||(e+=H[l/3+5])}return i?"−"+e:e}function p(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var o=[],a=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(a&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(s)||o.push(r);if(o.length){var l,u=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)l=i[o[r]],m(u.x,l.x),m(u.y,l.y);m(u.x,[a]),m(u.y,[s])}else i.push({x:[a],y:[s]})}}return i}function m(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function v(e,t,n){var r,i,o=[],a=[],s=e.layout;for(r=0;r<t.length;r++)o.push(N.getFromId(e,t[r]));for(r=0;r<n.length;r++)a.push(N.getFromId(e,n[r]));var l=Object.keys(o[0]),u=["anchor","domain","overlaying","position","side","tickangle"],c=["linear","log"];for(r=0;r<l.length;r++){var f=l[r],h=o[0][f],d=a[0][f],p=!0,m=!1,v=!1;if("_"!==f.charAt(0)&&"function"!==typeof h&&-1===u.indexOf(f)){for(i=1;i<o.length&&p;i++){var y=o[i][f];"type"===f&&-1!==c.indexOf(h)&&-1!==c.indexOf(y)&&h!==y?m=!0:y!==h&&(p=!1)}for(i=1;i<a.length&&p;i++){var b=a[i][f];"type"===f&&-1!==c.indexOf(d)&&-1!==c.indexOf(b)&&d!==b?v=!0:a[i][f]!==d&&(p=!1)}p&&(m&&(s[o[0]._name].type="linear"),v&&(s[a[0]._name].type="linear"),g(s,f,o,a))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];-1!==t.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&_.swapAttrs(s.annotations[r],["?"])}}function g(e,t,n,r){var i,o=_.nestedProperty,a=o(e[n[0]._name],t).get(),s=o(e[r[0]._name],t).get();for("title"===t&&("Click to enter X axis title"===a&&(a="Click to enter Y axis title"),"Click to enter Y axis title"===s&&(s="Click to enter X axis title")),i=0;i<n.length;i++)o(e,n[i]._name+"."+t).set(s);for(i=0;i<r.length;i++)o(e,r[i]._name+"."+t).set(a)}var y=n(2),b=n(4),x=n(6),_=n(0),w=n(43),M=n(222),k=n(3),E=n(12),S=n(27),T=S.FP_SAFE,A=S.ONEAVGYEAR,C=S.ONEAVGMONTH,D=S.ONEDAY,O=S.ONEHOUR,P=S.ONEMIN,L=S.ONESEC,I=S.BADNUM,N=e.exports={};N.layoutAttributes=n(57),N.supplyLayoutDefaults=n(1388),N.setConvert=n(169);var R=n(53);N.id2name=R.id2name,N.cleanId=R.cleanId,N.list=R.list,N.listIds=R.listIds,N.getFromId=R.getFromId,N.getFromTrace=R.getFromTrace,N.coerceRef=function(e,t,n,r,i,o){var a=r.charAt(r.length-1),s=N.listIds(n,a),l=r+"ref",u={};return i||(i=s[0]||o),o||(o=i),u[l]={valType:"enumerated",values:s.concat(o?[o]:[]),dflt:i},_.coerce(e,t,u,l)},N.coercePosition=function(e,t,n,r,i,o){var a,s;if("paper"===r||"pixel"===r)a=n(i,o);else{var l=N.getFromId(t,r);if(o=l.fraction2r(o),a=n(i,o),"category"===l.type){if("string"===typeof a&&(l._categories||[]).length)return s=l._categories.indexOf(a),void(e[i]=-1===s?o:s)}else if("date"===l.type)return void(e[i]=_.cleanDate(a,I,l.calendar))}e[i]=b(a)?Number(a):o},N.clearTypes=function(e,t){Array.isArray(t)&&t.length||(t=e._fullData.map(function(e,t){return t})),t.forEach(function(t){var n=e.data[t];delete(N.getFromId(e,n.xaxis)||{}).type,delete(N.getFromId(e,n.yaxis)||{}).type})},N.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},N.minDtick=function(e,t,n,r){-1===["log","category"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},N.getAutoRange=function(e){var t,n=[],r=e._min[0].val,i=e._max[0].val;for(t=1;t<e._min.length&&r===i;t++)r=Math.min(r,e._min[t].val);for(t=1;t<e._max.length&&r===i;t++)i=Math.max(i,e._max[t].val);var o,a,s,l,u,c,f,h=0,d=!1;if(e.range){var p=_.simpleMap(e.range,e.r2l);d=p[1]<p[0]}for("reversed"===e.autorange&&(d=!0,e.autorange=!0),t=0;t<e._min.length;t++)for(a=e._min[t],o=0;o<e._max.length;o++)s=e._max[o],f=s.val-a.val,c=e._length-a.pad-s.pad,f>0&&c>0&&f/c>h&&(l=a,u=s,h=f/c);if(r===i){var m=r-1,v=r+1;n="tozero"===e.rangemode?r<0?[m,0]:[0,v]:"nonnegative"===e.rangemode?[Math.max(0,m),Math.max(0,v)]:[m,v]}else h&&("linear"!==e.type&&"-"!==e.type||("tozero"===e.rangemode?(l.val>=0&&(l={val:0,pad:0}),u.val<=0&&(u={val:0,pad:0})):"nonnegative"===e.rangemode&&(l.val-h*l.pad<0&&(l={val:0,pad:0}),u.val<0&&(u={val:1,pad:0})),h=(u.val-l.val)/(e._length-l.pad-u.pad)),n=[l.val-h*l.pad,u.val+h*u.pad]);return n[0]===n[1]&&("tozero"===e.rangemode?n=n[0]<0?[n[0],0]:n[0]>0?[0,n[0]]:[0,1]:(n=[n[0]-1,n[0]+1],"nonnegative"===e.rangemode&&(n[0]=Math.max(0,n[0])))),d&&n.reverse(),_.simpleMap(n,e.l2r||Number)},N.doAutoRange=function(e){e._length||e.setScale();var t=e._min&&e._max&&e._min.length&&e._max.length;if(e.autorange&&t){e.range=N.getAutoRange(e);var n=e._input;n.range=e.range.slice(),n.autorange=e.autorange}},N.saveRangeInitial=function(e,t){for(var n=N.list(e,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||t&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},N.saveShowSpikeInitial=function(e,t){for(var n=N.list(e,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||t&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},N.expand=function(e,t,n){function r(e){if(Array.isArray(e))return function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}function i(n){function r(e){return b(e)&&Math.abs(e)<T}if(l=t[n],b(l)){if(f=x(n)+g,h=w(n)+g,p=l-k(n),m=l+M(n),"log"===e.type&&p<m/10&&(p=m/10),u=e.c2l(p),c=e.c2l(m),y&&(u=Math.min(0,u),c=Math.max(0,c)),r(u)){for(d=!0,a=0;a<e._min.length&&d;a++)s=e._min[a],s.val<=u&&s.pad>=h?d=!1:s.val>=u&&s.pad<=h&&(e._min.splice(a,1),a--);d&&e._min.push({val:u,pad:y&&0===u?0:h})}if(r(c)){for(d=!0,a=0;a<e._max.length&&d;a++)s=e._max[a],s.val>=c&&s.pad>=f?d=!1:s.val<=c&&s.pad<=f&&(e._max.splice(a,1),a--);d&&e._max.push({val:c,pad:y&&0===c?0:f})}}}if((e.autorange||!!_.nestedProperty(e,"rangeslider.autorange").get())&&t){e._min||(e._min=[]),e._max||(e._max=[]),n||(n={}),e._m||e.setScale();var o,a,s,l,u,c,f,h,d,p,m,v=t.length,g=n.padded?.05*e._length:0,y=n.tozero&&("linear"===e.type||"-"===e.type),x=r((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),w=r((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),M=r(n.vpadplus||n.vpad),k=r(n.vpadminus||n.vpad);for(o=0;o<6;o++)i(o);for(o=v-1;o>5;o--)i(o)}},N.autoBin=function(e,t,n,o,a){var s=_.aggNums(Math.min,null,e),l=_.aggNums(Math.max,null,e);if(a||(a=t.calendar),"category"===t.type)return{start:s-.5,end:l+.5,size:1};var u;if(n)u=(l-s)/n;else{var c=_.distinctVals(e),f=Math.pow(10,Math.floor(Math.log(c.minDiff)/Math.LN10)),h=f*_.roundUp(c.minDiff/f,[.9,1.9,4.9,9.9],!0);u=Math.max(h,2*_.stdev(e)/Math.pow(e.length,o?.25:.4)),b(u)||(u=1)}var d;d="log"===t.type?{type:"linear",range:[s,l]}:{type:t.type,range:_.simpleMap([s,l],t.c2r,0,a),calendar:a},N.setConvert(d),N.autoTicks(d,u);var p,m=N.tickIncrement(N.tickFirst(d),d.dtick,"reverse",a);if("number"===typeof d.dtick){m=r(m,e,d,s,l);p=m+(1+Math.floor((l-m)/d.dtick))*d.dtick}else for("M"===d.dtick.charAt(0)&&(m=i(m,e,d.dtick,s,a)),p=m;p<=l;)p=N.tickIncrement(p,d.dtick,!1,a);return{start:t.c2r(m,0,a),end:t.c2r(p,0,a),size:d.dtick}},N.calcTicks=function(e){var t=_.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=_.constrain(e._length/n,4,9)+1)),"array"===e.tickmode&&(r*=100),N.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}if(e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),s(e),"array"===e.tickmode)return o(e);e._tmin=N.tickFirst(e);var i=t[1]<t[0],a=[],l=1.0001*t[1]-1e-4*t[0];"category"===e.type&&(l=i?Math.max(-.5,l):Math.min(e._categories.length-.5,l));for(var u=e._tmin;(i?u>=l:u<=l)&&(a.push(u),!(a.length>1e3));u=N.tickIncrement(u,e.dtick,i,e.calendar));e._tmax=a[a.length-1],e._prevDateHead="",e._inCalcTicks=!0;for(var c=new Array(a.length),f=0;f<a.length;f++)c[f]=N.tickText(e,a[f]);return e._inCalcTicks=!1,c};var j=[2,5,10],z=[1,2,3,6,12],F=[1,2,5,10,15,30],B=[1,2,3,7,14],U=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],V=[-.301,0,.301,.699,1];N.autoTicks=function(e,t){var n;if("date"===e.type){e.tick0=_.dateTick0(e.calendar);var r=2*t;r>A?(t/=A,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="M"+12*a(t,n,j)):r>C?(t/=C,e.dtick="M"+a(t,1,z)):r>D?(e.dtick=a(t,D,B),e.tick0=_.dateTick0(e.calendar,!0)):r>O?e.dtick=a(t,O,z):r>P?e.dtick=a(t,P,F):r>L?e.dtick=a(t,L,F):(n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=a(t,n,j))}else if("log"===e.type){e.tick0=0;var i=_.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(i[1]-i[0])<1){var o=1.5*Math.abs((i[1]-i[0])/t);t=Math.abs(Math.pow(10,i[1])-Math.pow(10,i[0]))/o,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="L"+a(t,n,j)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):(e.tick0=0,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=a(t,n,j));if(0===e.dtick&&(e.dtick=1),!b(e.dtick)&&"string"!==typeof e.dtick){var s=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(s)}},N.tickIncrement=function(e,t,n,r){var i=n?-1:1;if(b(t))return e+i*t;var o=t.charAt(0),a=i*Number(t.substr(1));if("M"===o)return _.incrementMonth(e,a,r);if("L"===o)return Math.log(Math.pow(10,e)+a)/Math.LN10;if("D"===o){var s="D2"===t?V:U,l=e+.01*i,u=_.roundUp(_.mod(l,1),s,n);return Math.floor(l)+Math.log(y.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(t)},N.tickFirst=function(e){var t=e.r2l||Number,n=_.simpleMap(e.range,t),r=n[1]<n[0],i=r?Math.floor:Math.ceil,o=1.0001*n[0]-1e-4*n[1],a=e.dtick,s=t(e.tick0);if(b(a)){var l=i((o-s)/a)*a+s;return"category"===e.type&&(l=_.constrain(l,0,e._categories.length-1)),l}var u=a.charAt(0),c=Number(a.substr(1));if("M"===u){for(var f,h,d,p=0,m=s;p<10;){if(((f=N.tickIncrement(m,a,r,e.calendar))-o)*(m-o)<=0)return r?Math.min(m,f):Math.max(m,f);h=(o-(m+f)/2)/(f-m),d=u+(Math.abs(Math.round(h))||1)*c,m=N.tickIncrement(m,d,h<0?!r:r,e.calendar),p++}return _.error("tickFirst did not converge",e),m}if("L"===u)return Math.log(i((Math.pow(10,o)-s)/c)*c+s)/Math.LN10;if("D"===u){var v="D2"===a?V:U,g=_.roundUp(_.mod(o,1),v,r);return Math.floor(o)+Math.log(y.round(Math.pow(10,g),1))/Math.LN10}throw"unrecognized dtick "+String(a)},N.tickText=function(e,t,n){function r(r){var i;return void 0===r||(n?"none"===r:(i={first:e._tmin,last:e._tmax}[r],"all"!==r&&t!==i))}var i,o,a=l(e,t),s="array"===e.tickmode,d=n||s,p="category"===e.type?e.d2l_noadd:e.d2l;if(s&&Array.isArray(e.ticktext)){var m=_.simpleMap(e.range,e.r2l),v=Math.abs(m[1]-m[0])/1e4;for(o=0;o<e.ticktext.length&&!(Math.abs(t-p(e.tickvals[o]))<v);o++);if(o<e.ticktext.length)return a.text=String(e.ticktext[o]),a}return i="none"!==e.exponentformat&&r(e.showexponent)?"hide":"","date"===e.type?u(e,a,n,d):"log"===e.type?c(e,a,n,d,i):"category"===e.type?f(e,a):h(e,a,n,d,i),e.tickprefix&&!r(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!r(e.showticksuffix)&&(a.text+=e.ticksuffix),a};var H=["f","p","n","μ","m","","k","M","G","T"];N.subplotMatch=/^x([0-9]*)y([0-9]*)$/,N.getSubplots=function(e,t){var n,r,i,o=[],a=e._fullData||e.data||[];for(n=0;n<a.length;n++){var s=a[n];if(!1!==s.visible&&"legendonly"!==s.visible&&(x.traceIs(s,"cartesian")||x.traceIs(s,"gl2d"))){i=(s.xaxis||"x")+(s.yaxis||"y"),-1===o.indexOf(i)&&o.push(i)}}var l=N.list(e,"",!0);for(n=0;n<l.length;n++){var u=l[n],c=u._id.charAt(0),f="free"===u.anchor?"x"===c?"y":"x":u.anchor,h=N.getFromId(e,f),d=!1;for(r=0;r<o.length;r++)if(function(e,t){return-1!==e.indexOf(t._id)}(o[r],u)){d=!0;break}"free"===u.anchor&&d||h&&(i="x"===c?u._id+h._id:h._id+u._id,-1===o.indexOf(i)&&o.push(i))}var p=N.subplotMatch,m=[];for(n=0;n<o.length;n++)i=o[n],p.test(i)&&m.push(i);return m.sort(function(e,t){var n=e.match(p),r=t.match(p);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)}),t?N.findSubplotsWithAxis(m,t):m},N.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var o=e[i];n.test(o)&&r.push(o)}return r},N.makeClipPaths=function(e){var t,n,r=e._fullLayout,i=r._defs,o={_offset:0,_length:r.width,_id:""},a={_offset:0,_length:r.height,_id:""},s=N.list(e,"x",!0),l=N.list(e,"y",!0),u=[];for(t=0;t<s.length;t++)for(u.push({x:s[t],y:a}),n=0;n<l.length;n++)0===t&&u.push({x:o,y:l[n]}),u.push({x:s[t],y:l[n]});var c=i.selectAll("g.clips").data([0]);c.enter().append("g").classed("clips",!0);var f=c.selectAll(".axesclip").data(u,function(e){return e.x._id+e.y._id});f.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+r._uid+e.x._id+e.y._id}).append("rect"),f.exit().remove(),f.each(function(e){y.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})},N.doTicks=function(e,t,n){function r(e){var t=u.l2p(e.x);return t>1&&t<u._length-1}function i(e,t){var n=e.selectAll("path."+C).data("inside"===u.ticks?H:T,A);t&&u.ticks?(n.enter().append("path").classed(C,1).classed("ticks",1).classed("crisp",1).call(k.stroke,u.tickcolor).style("stroke-width",F+"px").attr("d",t),n.attr("transform",d),n.exit().remove()):n.remove()}function o(n,r){function i(e,t){e.each(function(e){var n=x(t),r=y.select(this),i=r.select(".text-math-group"),o=d(e)+(b(t)&&0!==+t?" rotate("+t+","+h(e)+","+(p(e)-e.fontSize/2)+")":"");if(i.empty()){var a=r.select("text").attr({transform:o,"text-anchor":n});a.empty()||a.selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")})}else{var s=E.bBox(i.node()).width*{end:-.5,start:.5}[n];i.attr("transform",o+(s?"translate("+s+",0)":""))}})}function o(){return O.length&&Promise.all(O)}function s(){if(i(f,u.tickangle),"x"===g&&!b(u.tickangle)&&("log"!==u.type||"D"!==String(u.dtick).charAt(0))){var e=[];for(f.each(function(t){var n=y.select(this),r=n.select(".text-math-group"),i=u.l2p(t.x);r.empty()&&(r=n.select("text"));var o=E.bBox(r.node());e.push({top:0,bottom:10,height:10,left:i-o.width/2,right:i+o.width/2+2,width:o.width+2})}),v=0;v<e.length-1;v++)if(_.bBoxIntersect(e[v],e[v+1])){D=30;break}if(D){Math.abs((T[T.length-1].x-T[0].x)*u._m)/(T.length-1)<2.5*S&&(D=90),i(f,D)}u._lastangle=D}return a(),t+" done"}function l(){function t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.max(e[1],t[1])}var r=n.node().getBoundingClientRect(),i=e.getBoundingClientRect();if(u._boundingBox={width:r.width,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,bottom:r.bottom-i.top},m){var o=u._counterSpan=[1/0,-1/0];for(v=0;v<m.length;v++){var a=c._plots[m[v]],s=a["x"===g?"yaxis":"xaxis"];t(o,[s._offset,s._offset+s._length])}"free"===u.anchor&&t(o,"x"===g?[u._boundingBox.bottom,u._boundingBox.top]:[u._boundingBox.right,u._boundingBox.left])}}var f=n.selectAll("g."+C).data(T,A);if(!u.showticklabels||!b(r))return f.remove(),void a();var h,p,x,M,k;"x"===g?(k="bottom"===U?1:-1,h=function(e){return e.dx+I*k},M=r+(L+P)*k,p=function(e){return e.dy+M+e.fontSize*("bottom"===U?1:-.5)},x=function(e){return b(e)&&0!==e&&180!==e?e*k<0?"end":"start":"middle"}):(k="right"===U?1:-1,p=function(e){return e.dy+e.fontSize/2-I*k},h=function(e){return e.dx+r+(L+P+(90===Math.abs(u.tickangle)?e.fontSize/2:0))*k},x=function(e){return b(e)&&90===Math.abs(e)?"middle":"right"===U?"start":"end"});var S=0,D=0,O=[];f.enter().append("g").classed(C,1).append("text").attr("text-anchor","middle").each(function(t){var n=y.select(this),r=e._promises.length;n.call(E.setPosition,h(t),p(t)).call(E.font,t.font,t.fontSize,t.fontColor).text(t.text).call(w.convertToTspans),r=e._promises[r],r?O.push(e._promises.pop().then(function(){i(n,u.tickangle)})):i(n,u.tickangle)}),f.exit().remove(),f.each(function(e){S=Math.max(S,e.fontSize)}),i(f,u._lastangle||u.tickangle);var N=_.syncOrAsync([o,s,l]);return N&&N.then&&e._promises.push(N),N}function a(){if(!n){var r,i,o,a,s=R.getFromId(e,t),l=y.select(e).selectAll("g."+t+"tick"),u={selection:l,side:s.side},f=t.charAt(0),h=e._fullLayout._size,d=s.titlefont.size;if(l.size()){var p=E.getTranslate(l.node().parentNode);u.offsetLeft=p.x,u.offsetTop=p.y}"x"===f?(i="free"===s.anchor?{_offset:h.t+(1-(s.position||0))*h.h,_length:0}:R.getFromId(e,s.anchor),o=s._offset+s._length/2,a=i._offset+("top"===s.side?-10-d*(1.5+(s.showticklabels?1:0)):i._length+10+d*(1.5+(s.showticklabels?1.5:.5))),s.rangeslider&&s.rangeslider.visible&&s._boundingBox&&(a+=(c.height-c.margin.b-c.margin.t)*s.rangeslider.thickness+s._boundingBox.height),u.side||(u.side="bottom")):(i="free"===s.anchor?{_offset:h.l+(s.position||0)*h.w,_length:0}:R.getFromId(e,s.anchor),a=s._offset+s._length/2,o=i._offset+("right"===s.side?i._length+10+d*(1.5+(s.showticklabels?1:.5)):-10-d*(1.5+(s.showticklabels?.5:0))),r={rotate:"-90",offset:0},u.side||(u.side="left")),M.draw(e,t+"title",{propContainer:s,propName:s._name+".title",dfltName:f.toUpperCase()+" axis",avoid:u,transform:r,attributes:{x:o,y:a,"text-anchor":"middle"}})}}function s(e,t){return!0===e.visible&&e.xaxis+e.yaxis===t&&(!(!x.traceIs(e,"bar")||e.orientation!=={x:"h",y:"v"}[g])||e.fill&&e.fill.charAt(e.fill.length-1)===g)}function l(t,n,i){var o=t.gridlayer,a=t.zerolinelayer,l=t["hidegrid"+g]?[]:H,c=u._gridpath||"M0,0"+("x"===g?"v":"h")+n._length,f=o.selectAll("path."+D).data(!1===u.showgrid?[]:l,A);if(f.enter().append("path").classed(D,1).classed("crisp",1).attr("d",c).each(function(e){u.zeroline&&("linear"===u.type||"-"===u.type)&&Math.abs(e.x)<u.dtick/100&&y.select(this).remove()}),f.attr("transform",d).call(k.stroke,u.gridcolor||"#ddd").style("stroke-width",j+"px"),f.exit().remove(),a){for(var h=!1,p=0;p<e._fullData.length;p++)if(s(e._fullData[p],i)){h=!0;break}var m=_.simpleMap(u.range,u.r2l),v=m[0]*m[1]<=0&&u.zeroline&&("linear"===u.type||"-"===u.type)&&l.length&&(h||r({x:0})||!u.showline),b=a.selectAll("path."+O).data(v?[{x:0}]:[]);b.enter().append("path").classed(O,1).classed("zl",1).classed("crisp",1).attr("d",c),b.attr("transform",d).call(k.stroke,u.zerolinecolor||k.defaultLine).style("stroke-width",z+"px"),b.exit().remove()}}var u,c=e._fullLayout,f=!1;if("object"===typeof t)u=t,t=u._id,f=!0;else if(u=N.getFromId(e,t),"redraw"===t&&c._paper.selectAll("g.subplot").each(function(e){var t=c._plots[e],n=t.xaxis,r=t.yaxis;t.xaxislayer.selectAll("."+n._id+"tick").remove(),t.yaxislayer.selectAll("."+r._id+"tick").remove(),t.gridlayer.selectAll("path").remove(),t.zerolinelayer.selectAll("path").remove()}),!t||"redraw"===t)return _.syncOrAsync(N.list(e,"",!0).map(function(n){return function(){if(n._id){var r=N.doTicks(e,n._id);return"redraw"===t&&(n._r=n.range.slice(),n._rl=_.simpleMap(n._r,n.r2l)),r}}}));u.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(u.exponentformat)&&(u.exponentformat="e"),-1===["all","first","last","none"].indexOf(u.showexponent)&&(u.showexponent="all")),u.setScale();var h,d,p,m,v,g=t.charAt(0),S=N.counterLetter(t),T=N.calcTicks(u),A=function(e){return[e.text,e.x,u.mirror].join("_")},C=t+"tick",D=t+"grid",O=t+"zl",P=(u.linewidth||1)/2,L=("outside"===u.ticks?u.ticklen:1)+(u.linewidth||0),I=0,j=E.crispRound(e,u.gridwidth,1),z=E.crispRound(e,u.zerolinewidth,j),F=E.crispRound(e,u.tickwidth,1);if(u._counterangle&&"outside"===u.ticks){var B=u._counterangle*Math.PI/180;L=u.ticklen*Math.cos(B)+(u.linewidth||0),I=u.ticklen*Math.sin(B)}if("x"===g)h=["bottom","top"],d=function(e){return"translate("+u.l2p(e.x)+",0)"},p=function(e,t){if(u._counterangle){var n=u._counterangle*Math.PI/180;return"M0,"+e+"l"+Math.sin(n)*t+","+Math.cos(n)*t}return"M0,"+e+"v"+t};else{if("y"!==g)return void _.warn("Unrecognized doTicks axis:",t);h=["left","right"],d=function(e){return"translate(0,"+u.l2p(e.x)+")"},p=function(e,t){if(u._counterangle){var n=u._counterangle*Math.PI/180;return"M"+e+",0l"+Math.cos(n)*t+","+-Math.sin(n)*t}return"M"+e+",0h"+t}}var U=u.side||h[0],V=[-1,1,U===h[1]?1:-1];if("inside"!==u.ticks===("x"===g)&&(V=V.map(function(e){return-e})),u.visible){var H=T.filter(r);if(f){if(i(u._axislayer,p(u._pos+P*V[2],V[2]*u.ticklen)),u._counteraxis){l({gridlayer:u._gridlayer,zerolinelayer:u._zerolinelayer},u._counteraxis)}return o(u._axislayer,u._pos)}m=N.getSubplots(e,u);var Y=m.map(function(e){var t=c._plots[e];if(c._has("cartesian")){var n=t[g+"axislayer"],r=u._linepositions[e]||[],a=t[S+"axis"],s=a._id===u.anchor,f=[!1,!1,!1],d="";if("allticks"===u.mirror?f=[!0,!0,!1]:s&&("ticks"===u.mirror?f=[!0,!0,!1]:f[h.indexOf(U)]=!0),u.mirrors)for(v=0;v<2;v++){var m=u.mirrors[a._id+h[v]];"ticks"!==m&&"labels"!==m||(f[v]=!0)}return void 0!==r[2]&&(f[2]=!0),f.forEach(function(e,t){var n=r[t],i=V[t];e&&b(n)&&(d+=p(n+P*i,i*u.ticklen))}),i(n,d),l(t,a,e),o(n,r[3])}}).filter(function(e){return e&&e.then});return Y.length?Promise.all(Y):0}},N.swap=function(e,t){for(var n=p(e,t),r=0;r<n.length;r++)v(e,n[r].x,n[r].y)}},function(e,t,n){"use strict";function r(e){if(e.layoutAttributes){var n=e.layoutAttributes._arrayAttrRegexps;if(n)for(var r=0;r<n.length;r++)s(t.layoutArrayRegexes,n[r])}}function i(e){return"object"===typeof e&&(e=e.type),e}var o=n(167),a=n(314),s=n(561),l=n(69);t.modules={},t.allCategories={},t.allTypes=[],t.subplotsRegistry={},t.transformsRegistry={},t.componentsRegistry={},t.layoutArrayContainers=[],t.layoutArrayRegexes=[],t.register=function(e,n,r,i){if(t.modules[n])return void o.log("Type "+n+" already registered");for(var a={},s=0;s<r.length;s++)a[r[s]]=!0,t.allCategories[r[s]]=!0;t.modules[n]={_module:e,categories:a},i&&Object.keys(i).length&&(t.modules[n].meta=i),t.allTypes.push(n)},t.registerSubplot=function(e){var n=e.name;if(t.subplotsRegistry[n])return void o.log("Plot type "+n+" already registered.");r(e),t.subplotsRegistry[n]=e},t.registerComponent=function(e){var n=e.name;t.componentsRegistry[n]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&s(t.layoutArrayContainers,n),r(e))},t.getModule=function(e){if(void 0!==e.r)return o.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",e),!1;var n=t.modules[i(e)];return!!n&&n._module},t.traceIs=function(e,n){if("various"===(e=i(e)))return!1;var r=t.modules[e];return r||(e&&"area"!==e&&o.log("Unrecognized trace type "+e+"."),r=t.modules[l.type.dflt]),!!r.categories[n]},t.getComponentMethod=function(e,n){var r=t.componentsRegistry[e];return r?r[n]||a:a}},function(e,t,n){"use strict";e.exports=n(115)},function(e,t,n){"use strict";function r(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"===typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}function i(e,t,n,s){var l,u,c,f,h,d,p=e[0],m=e.length;if(2===m&&a(p)&&a(e[1])&&0===p.length){if(r(e[1],p))return p;p.splice(0,p.length)}for(var v=1;v<m;v++){l=e[v];for(u in l)c=p[u],f=l[u],s&&a(f)?p[u]=f:t&&f&&(o(f)||(h=a(f)))?(h?(h=!1,d=c&&a(c)?c:[]):d=c&&o(c)?c:{},p[u]=i([d,f],t,n,s)):("undefined"!==typeof f||n)&&(p[u]=f)}return p}var o=n(166),a=Array.isArray;t.extendFlat=function(){return i(arguments,!1,!1,!1)},t.extendDeep=function(){return i(arguments,!0,!1,!1)},t.extendDeepAll=function(){return i(arguments,!0,!0,!1)},t.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){if(s.traceIs(n,"symbols")){var u=p(n);t.attr("d",function(e){var t;t="various"===e.ms||"various"===o.size?3:d.isBubble(n)?u(e.ms):(o.size||6)/2,e.mrc=t;var r=m.symbolNumber(e.mx||o.symbol)||0,i=r%100;return e.om=r%200>=100,m.symbolFuncs[i](t)+(r>=200?y:"")}).style("opacity",function(e){return(e.mo+1||o.opacity+1)-1})}var c,f,h;e.so?(h=a.outlierwidth,f=a.outliercolor,c=o.outliercolor):(h=(e.mlw+1||a.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,f="mlc"in e?e.mlcc=i(e.mlc):Array.isArray(a.color)?l.defaultLine:a.color,c="mc"in e?e.mcc=r(e.mc):Array.isArray(o.color)?l.defaultLine:o.color||"rgba(0,0,0,0)"),e.om?t.call(l.stroke,c).style({"stroke-width":(h||1)+"px",fill:"none"}):(t.style("stroke-width",h+"px").call(l.fill,c),h&&t.call(l.stroke,f))}function i(e,t,n,r){var i=e[0]-t[0],a=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(i*i+a*a,x/2),c=Math.pow(s*s+l*l,x/2),f=(c*c*i-u*u*s)*r,h=(c*c*a-u*u*l)*r,d=3*c*(u+c),p=3*u*(u+c);return[[o.round(t[0]+(d&&f/d),2),o.round(t[1]+(d&&h/d),2)],[o.round(t[0]-(p&&f/p),2),o.round(t[1]-(p&&h/p),2)]]}var o=n(2),a=n(4),s=n(6),l=n(3),u=n(66),c=n(0),f=n(43),h=n(67),d=n(21),p=n(237),m=e.exports={};m.font=function(e,t,n,r){t&&t.family&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(l.fill,r)},m.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},m.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},m.setRect=function(e,t,n,r,i){e.call(m.setPosition,t,n).call(m.setSize,r,i)},m.translatePoint=function(e,t,n,r){var i=e.xp||n.c2p(e.x),o=e.yp||r.c2p(e.y);a(i)&&a(o)&&t.node()?"text"===t.node().nodeName?t.attr("x",i).attr("y",o):t.attr("transform","translate("+i+","+o+")"):t.remove()},m.translatePoints=function(e,t,n,r){e.each(function(e){var i=o.select(this);m.translatePoint(e,i,t,n,r)})},m.getPx=function(e,t){return Number(e.style(t).replace(/px$/,""))},m.crispRound=function(e,t,n){return t&&a(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},m.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,s=i||o.dash||"";l.stroke(t,r||o.color),m.dashLine(t,s,a)},m.lineGroupStyle=function(e,t,n,r){e.style("fill","none").each(function(e){var i=(((e||[])[0]||{}).trace||{}).line||{},a=t||i.width||0,s=r||i.dash||"";o.select(this).call(l.stroke,n||i.color).call(m.dashLine,s,a)})},m.dashLine=function(e,t,n){n=+n||0,t=m.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},m.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},m.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(t){var n=o.select(this);try{n.call(l.fill,t[0].trace.fillcolor)}catch(t){c.error(t,e),n.remove()}})};var v=n(1329);m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolList=[],Object.keys(v).forEach(function(e){var t=v[e];m.symbolList=m.symbolList.concat([t.n,e,t.n+100,e+"-open"]),m.symbolNames[t.n]=e,m.symbolFuncs[t.n]=t.f,t.needLine&&(m.symbolNeedLines[t.n]=!0),t.noDot?m.symbolNoDot[t.n]=!0:m.symbolList=m.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"])});var g=m.symbolNames.length,y="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";m.symbolNumber=function(e){if("string"===typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),e=m.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=g||e>=400?0:Math.floor(Math.max(e,0))},m.singlePointStyle=function(e,t,n){var i=n.marker,o=i.line;r(e,t,n,m.tryColorscale(i,""),m.tryColorscale(i,"line"),i,o)},m.pointStyle=function(e,t){if(e.size()){var n=t.marker,r=m.tryColorscale(n,""),i=m.tryColorscale(n,"line");e.each(function(e){m.singlePointStyle(e,o.select(this),t,r,i)})}},m.tryColorscale=function(e,t){var n=t?c.nestedProperty(e,t).get():e,r=n.colorscale,i=n.color;return r&&Array.isArray(i)?u.makeColorScaleFunc(u.extractScale(r,n.cmin,n.cmax)):c.identity};var b={start:1,end:-1,middle:0,bottom:1,top:-1};m.textPointStyle=function(e,t){e.each(function(e){var n=o.select(this),r=e.tx||t.text;if(!r||Array.isArray(r))return void n.remove();var i=e.tp||t.textposition,s=-1!==i.indexOf("top")?"top":-1!==i.indexOf("bottom")?"bottom":"middle",l=-1!==i.indexOf("left")?"end":-1!==i.indexOf("right")?"start":"middle",u=e.ts||t.textfont.size,c=e.mrc?e.mrc/.8+1:0;u=a(u)&&u>0?u:0,n.call(m.font,e.tf||t.textfont.family,u,e.tc||t.textfont.color).attr("text-anchor",l).text(r).call(f.convertToTspans);var h=o.select(this.parentNode),d=n.selectAll("tspan.line"),p=1.3*((d[0].length||1)-1)+1,v=b[l]*c,g=.75*u+b[s]*c+(b[s]-1)*p*u/2;h.attr("transform","translate("+v+","+g+")"),p>1&&d.attr({x:n.attr("x"),y:n.attr("y")})})};var x=.5;m.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],o=[];for(n=1;n<e.length-1;n++)o.push(i(e[n-1],e[n],e[n+1],t));for(r+="Q"+o[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+o[n-2][1]+" "+o[n-1][0]+" "+e[n];return r+="Q"+o[e.length-3][1]+" "+e[e.length-1]},m.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],o=e.length-1,a=[i(e[o],e[0],e[1],t)];for(n=1;n<o;n++)a.push(i(e[n-1],e[n],e[n+1],t));for(a.push(i(e[o-1],e[o],e[0],t)),n=1;n<=o;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+e[n];return r+="C"+a[o][1]+" "+a[0][0]+" "+e[0]+"Z"};var _={hv:function(e,t){return"H"+o.round(t[0],2)+"V"+o.round(t[1],2)},vh:function(e,t){return"V"+o.round(t[1],2)+"H"+o.round(t[0],2)},hvh:function(e,t){return"H"+o.round((e[0]+t[0])/2,2)+"V"+o.round(t[1],2)+"H"+o.round(t[0],2)},vhv:function(e,t){return"V"+o.round((e[1]+t[1])/2,2)+"H"+o.round(t[0],2)+"V"+o.round(t[1],2)}},w=function(e,t){return"L"+o.round(t[0],2)+","+o.round(t[1],2)};m.steps=function(e){var t=_[e]||w;return function(e){for(var n="M"+o.round(e[0][0],2)+","+o.round(e[0][1],2),r=1;r<e.length;r++)n+=t(e[r-1],e[r]);return n}},m.makeTester=function(e){var t=o.select("body").selectAll("#js-plotly-tester").data([0]);t.enter().append("svg").attr("id","js-plotly-tester").attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var n=t.selectAll(".js-reference-point").data([0]);n.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),t.node()._cache||(t.node()._cache={}),e._tester=t,e._testref=n};var M=[];m.bBox=function(e){var t=e.attributes["data-bb"];if(t&&t.value)return c.extendFlat({},M[t.value]);var n=o.select("#js-plotly-tester"),r=n.node(),i=e.cloneNode(!0);r.appendChild(i),o.select(i).attr({x:0,y:0,transform:""});var a=i.getBoundingClientRect(),s=n.select(".js-reference-point").node().getBoundingClientRect();r.removeChild(i);var l={height:a.height,width:a.width,left:a.left-s.left,top:a.top-s.top,right:a.right-s.left,bottom:a.bottom-s.top};return M.length>=1e4&&(o.selectAll("[data-bb]").attr("data-bb",null),M=[]),e.setAttribute("data-bb",M.length),M.push(l),c.extendFlat({},l)},m.setClipUrl=function(e,t){if(!t)return void e.attr("clip-path",null);var n="#"+t,r=o.select("base");r.size()&&r.attr("href")&&(n=window.location.href.split("#")[0]+n),e.attr("clip-path","url("+n+")")},m.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",i=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+i[0]||0,y:+i[1]||0}},m.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,i=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",a=e[i]("transform")||"";return t=t||0,n=n||0,a=a.replace(r,"").trim(),a+=" translate("+t+", "+n+")",a=a.trim(),e[o]("transform",a),a},m.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",i=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+i[0]||1,y:+i[1]||1}},m.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,i=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",a=e[i]("transform")||"";return t=t||1,n=n||1,a=a.replace(r,"").trim(),a+=" scale("+t+", "+n+")",a=a.trim(),e[o]("transform",a),a},m.setPointGroupScale=function(e,t,n){var r,i,o;return t=t||1,n=n||1,i=1===t&&1===n?"":" scale("+t+","+n+")",o=/\s*sc.*/,e.each(function(){r=(this.getAttribute("transform")||"").replace(o,""),r+=i,r=r.trim(),this.setAttribute("transform",r)}),i},m.measureText=function(e,t,n){var r=e.append("text").text(t).call(m.font,n),i=m.bBox(r.node());return r.remove(),i}},function(e,t,n){"use strict";e.exports=n(132)},function(e,t,n){"use strict";var r=n(47),i=r;e.exports=i},function(e,t,n){"use strict";var r=n(49),i=r;e.exports=i},function(e,t,n){"use strict";function r(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",function(){d.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}function i(e,t,n,r){for(var i=e.transforms,o=[e],a=0;a<i.length;a++){var s=i[a],l=y[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:a}))}return o}function o(e){var t,n={left:0,right:0,bottom:0,top:0};if(e)for(t in e)e.hasOwnProperty(t)&&(n.left+=e[t].left||0,n.right+=e[t].right||0,n.bottom+=e[t].bottom||0,n.top+=e[t].top||0);return n}var a=n(2),s=n(4),l=n(25),u=n(6),c=n(0),f=n(3),h=n(27).BADNUM,d=e.exports={},p=n(319),m=n(575),v=c.relinkPrivateKeys;c.extendFlat(d,u),d.attributes=n(69),d.attributes.type.values=d.allTypes,d.fontAttrs=n(45),d.layoutAttributes=n(170),d.fontWeight="normal";var g=d.subplotsRegistry,y=d.transformsRegistry,b=n(79),x=n(1390);d.executeAPICommand=x.executeAPICommand,d.computeAPICommandBindings=x.computeAPICommandBindings,d.manageCommandObserver=x.manageCommandObserver,d.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,d.findSubplotIds=function(e,t){var n=[];if(!d.subplotsRegistry[t])return n;for(var r=d.subplotsRegistry[t].attr,i=0;i<e.length;i++){var o=e[i];d.traceIs(o,t)&&-1===n.indexOf(o[r])&&n.push(o[r])}return n},d.getSubplotIds=function(e,t){var n=d.subplotsRegistry[t];if(!n)return[];if("cartesian"===t&&(!e._has||!e._has("cartesian")))return[];if("gl2d"===t&&(!e._has||!e._has("gl2d")))return[];if("cartesian"===t||"gl2d"===t)return Object.keys(e._plots||{});for(var r=n.idRegex,i=Object.keys(e),o=[],a=0;a<i.length;a++){var s=i[a];r.test(s)&&o.push(s)}var l=n.idRoot.length;return o.sort(function(e,t){return+(e.substr(l)||1)-+(t.substr(l)||1)}),o},d.getSubplotData=function(e,t,n){if(!d.subplotsRegistry[t])return[];for(var r,i=d.subplotsRegistry[t].attr,o=[],a=0;a<e.length;a++)if(r=e[a],"gl2d"===t&&d.traceIs(r,"gl2d")){var s=l.Axes.subplotMatch,u="x"+n.match(s)[1],c="y"+n.match(s)[2];r[i[0]]===u&&r[i[1]]===c&&o.push(r)}else r[i]===n&&o.push(r);return o},d.getSubplotCalcData=function(e,t,n){if(!d.subplotsRegistry[t])return[];for(var r=d.subplotsRegistry[t].attr,i=[],o=0;o<e.length;o++){var a=e[o];a[0].trace[r]===n&&i.push(a)}return i},d.redrawText=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){u.getComponentMethod("annotations","draw")(e),u.getComponentMethod("legend","draw")(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(d.previousPromises(e))},300)})},d.resize=function(e){return new Promise(function(t,n){e&&"none"!==a.select(e).style("display")||n(new Error("Resize must be passed a plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if(e.layout.width&&e.layout.height)return void t(e);delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,l.relayout(e,{autosize:!0}).then(function(){e.changed=n,t(e)})},100)})},d.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},d.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=t._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:f.defaultLine,"pointer-events":"all"}).each(function(){var e=a.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)});var i=n.node(),o={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=t._paper.attr("width")-7),n.attr(o);var s=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),u=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&r(e,s),l.text(s.text()&&u.text()?" - ":"")}},d.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=a.select(e).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return r.append("input").attr({type:"text",name:"data"}).node().value=d.graphJson(e,!1,"keepdata"),r.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1},d.supplyDefaults=function(e){var t,n=e._fullLayout||{},r=e._fullLayout={},i=e.layout||{},o=e._fullData||[],a=e._fullData=[],s=e.data||[];if(e._transitionData||d.createTransitionData(e),n._initialAutoSizeIsDone){var u=n.width,c=n.height;d.supplyLayoutGlobalDefaults(i,r),i.width||(r.width=u),i.height||(r.height=c)}else{d.supplyLayoutGlobalDefaults(i,r);var f=!i.width||!i.height,h=r.autosize,p=e._context&&e._context.autosizable;f&&(h||p)?d.plotAutoSize(e,i,r):f&&d.sanitizeMargins(e),!h&&f&&(i.width=r.width,i.height=r.height)}r._initialAutoSizeIsDone=!0,r._dataLength=s.length,r._globalTransforms=(e._context||{}).globalTransforms,d.supplyDataDefaults(s,a,i,r),r._has=d._hasPlotType.bind(r);var m=r._modules;for(t=0;t<m.length;t++){var g=m[t];g.cleanData&&g.cleanData(a)}if(o.length===s.length)for(t=0;t<a.length;t++)v(a[t],o[t]);d.supplyLayoutModuleDefaults(i,r,a,e._transitionData),r._hasCartesian=r._has("cartesian"),r._hasGeo=r._has("geo"),r._hasGL3D=r._has("gl3d"),r._hasGL2D=r._has("gl2d"),r._hasTernary=r._has("ternary"),r._hasPie=r._has("pie"),d.cleanPlot(a,r,o,n),d.linkSubplots(a,r,o,n),v(r,n),d.doAutoMargin(e);var y=l.Axes.list(e);for(t=0;t<y.length;t++){y[t].setScale()}if((e.calcdata||[]).length===a.length)for(t=0;t<a.length;t++){var b=a[t];(e.calcdata[t][0]||{}).trace=b}},d.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},d._hasPlotType=function(e){for(var t=this._basePlotModules||[],n=0;n<t.length;n++){if(t[n].name===e)return!0}return!1},d.cleanPlot=function(e,t,n,r){var i,o,a=r._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(e,t,n,r)}var l=!!r._paper,u=!!r._infolayer;e:for(i=0;i<n.length;i++){var c=n[i],f=c.uid;for(o=0;o<e.length;o++){var h=e[o];if(f===h.uid)continue e}var d=".hm"+f+",.contour"+f+",.carpet"+f+",#clip"+f+",.trace"+f;l&&r._paper.selectAll(d).remove(),u&&(r._infolayer.selectAll(".cb"+f).remove(),r._infolayer.selectAll("g.rangeslider-container").selectAll(d).remove())}},d.linkSubplots=function(e,t,n,r){for(var i=r._plots||{},o=t._plots={},a={_fullData:e,_fullLayout:t},s=l.Axes.getSubplots(a),u=0;u<s.length;u++){var c,f=s[u],h=i[f];h?(c=o[f]=h,c._scene2d&&c._scene2d.updateRefs(t)):(c=o[f]={},c.id=f),c.xaxis=l.Axes.getFromId(a,f,"x"),c.yaxis=l.Axes.getFromId(a,f,"y")}},d.supplyDataDefaults=function(e,t,n,r){function o(e){t.push(e);var n=e._module;n&&(c.pushUnique(f,n),c.pushUnique(h,e._module.basePlotModule),p++)}var a,s,l,f=r._modules=[],h=r._basePlotModules=[],p=0;r._transformModules=[];var m={},v=[];for(a=0;a<e.length;a++){if(l=e[a],s=d.supplyTraceDefaults(l,p,r,a),s.index=a,s._input=l,s._expandedIndex=p,s.transforms&&s.transforms.length)for(var g=i(s,t,n,r),y=0;y<g.length;y++){var b=g[y],x=d.supplyTraceDefaults(b,p,r,a);b.uid=x.uid=s.uid+y,x.index=a,x._input=l,x._fullInput=s,x._expandedIndex=p,x._expandedInput=b,o(x)}else s._fullInput=s,s._expandedInput=s,o(s);u.traceIs(s,"carpetAxis")&&(m[s.carpet]=s),u.traceIs(s,"carpetDependent")&&v.push(a)}for(a=0;a<v.length;a++)if(s=t[v[a]],s.visible){var _=m[s.carpet];s._carpet=_,_&&_.visible?(s.xaxis=_.xaxis,s.yaxis=_.yaxis):s.visible=!1}},d.supplyAnimationDefaults=function(e){function t(t,n){return c.coerce(e||{},r,p,t,n)}e=e||{};var n,r={};if(t("mode"),t("direction"),t("fromcurrent"),Array.isArray(e.frame))for(r.frame=[],n=0;n<e.frame.length;n++)r.frame[n]=d.supplyAnimationFrameDefaults(e.frame[n]||{});else r.frame=d.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(r.transition=[],n=0;n<e.transition.length;n++)r.transition[n]=d.supplyAnimationTransitionDefaults(e.transition[n]||{});else r.transition=d.supplyAnimationTransitionDefaults(e.transition||{});return r},d.supplyAnimationFrameDefaults=function(e){function t(t,r){return c.coerce(e||{},n,p.frame,t,r)}var n={};return t("duration"),t("redraw"),n},d.supplyAnimationTransitionDefaults=function(e){function t(t,r){return c.coerce(e||{},n,p.transition,t,r)}var n={};return t("duration"),t("easing"),n},d.supplyFrameDefaults=function(e){function t(t,r){return c.coerce(e,n,m,t,r)}var n={};return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),n},d.supplyTraceDefaults=function(e,t,n,r){function i(t,n){return c.coerce(e,a,d.attributes,t,n)}function o(t,n){if(d.traceIs(a,t))return c.coerce(e,a,d.subplotsRegistry[t].attributes,n)}var a={},s=f.defaults[t%f.defaults.length],l=i("visible");i("type"),i("uid"),i("name","trace "+r);for(var u=Object.keys(g),h=0;h<u.length;h++){var p=u[h];if(-1===["cartesian","gl2d"].indexOf(p)){var m=g[p].attr;m&&o(p,m)}}if(l){var v=d.getModule(a);a._module=v,i("hoverinfo",1===n._dataLength?"x+y+z+text":void 0),d.traceIs(a,"showLegend")&&(i("showlegend"),i("legendgroup")),v&&v.supplyDefaults(e,a,s,n),d.traceIs(a,"noOpacity")||i("opacity"),o("cartesian","xaxis"),o("cartesian","yaxis"),o("gl2d","xaxis"),o("gl2d","yaxis"),d.traceIs(a,"notLegendIsolatable")&&(a.visible=!!a.visible),d.supplyTransformDefaults(e,a,n)}return a},d.supplyTransformDefaults=function(e,t,n){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var o=e.transforms||[],a=r.concat(o),s=t.transforms=[],l=0;l<a.length;l++){var u,f=a[l],h=f.type,d=y[h];d||c.warn("Unrecognized transform type "+h+"."),d&&d.supplyDefaults?(u=d.supplyDefaults(f,t,n,e),u.type=h,u._module=d,c.pushUnique(i,d)):u=c.extendFlat({},f),s.push(u)}},d.supplyLayoutGlobalDefaults=function(e,t){function n(n,r){return c.coerce(e,t,d.layoutAttributes,n,r)}var r=c.coerceFont(n,"font");n("title"),c.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color}),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&d.sanitizeMargins(t),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith"),u.getComponentMethod("calendars","handleDefaults")(e,t,"calendar")},d.plotAutoSize=function(e,t,n){var r,i,a=e._context||{},l=a.frameMargins,u=c.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else if(s(l)&&l>0){var f=o(e._boundingBoxMargins),h=f.left+f.right,p=f.bottom+f.top,m=1-2*l,v=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(m*(v.width-h)),i=Math.round(m*(v.height-p))}else{var g=u?window.getComputedStyle(e):{};r=parseFloat(g.width)||n.width,i=parseFloat(g.height)||n.height}var y=d.layoutAttributes.width.min,b=d.layoutAttributes.height.min;r<y&&(r=y),i<b&&(i=b);var x=!t.width&&Math.abs(n.width-r)>1,_=!t.height&&Math.abs(n.height-i)>1;(_||x)&&(x&&(n.width=r),_&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),d.sanitizeMargins(n)},d.supplyLayoutModuleDefaults=function(e,t,n,r){var i,o;l.Axes.supplyLayoutDefaults(e,t,n);var a=t._basePlotModules;for(i=0;i<a.length;i++)o=a[i],"cartesian"!==o.name&&o.supplyLayoutDefaults&&o.supplyLayoutDefaults(e,t,n);var s=t._modules;for(i=0;i<s.length;i++)o=s[i],o.supplyLayoutDefaults&&o.supplyLayoutDefaults(e,t,n);var c=t._transformModules;for(i=0;i<c.length;i++)o=c[i],o.supplyLayoutDefaults&&o.supplyLayoutDefaults(e,t,n,r);l.Fx.supplyLayoutDefaults(e,t,n);var f=Object.keys(u.componentsRegistry);for(i=0;i<f.length;i++)o=u.componentsRegistry[f[i]],o.supplyLayoutDefaults&&o.supplyLayoutDefaults(e,t,n)},d.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&t._glcontainer.remove(),void 0!==t._geocontainer&&t._geocontainer.remove(),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._tester,delete e._testref,delete e._promises,delete e._redrawTimer,delete e.firstscatter,delete e.hmlumcount,delete e.hmpixcount,delete e.numboxes,delete e._hoverTimer,delete e._lastHoverTime,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,e.removeAllListeners&&e.removeAllListeners()},d.style=function(e){for(var t=e._fullLayout._modules,n=0;n<t.length;n++){var r=t[n];r.style&&r.style(e)}},d.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,o=n-(i.l+i.r),a=r-(i.t+i.b);o<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),a<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},d.autoMargin=function(e,t,n){var r=e._fullLayout;if(r._pushmargin||(r._pushmargin={}),!1!==r.margin.autoexpand){if(n){var i=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[t]={l:{val:n.x,size:n.l+i},r:{val:n.x,size:n.r+i},b:{val:n.y,size:n.b+i},t:{val:n.y,size:n.t+i}}}else delete r._pushmargin[t];r._replotting||d.doAutoMargin(e)}},d.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),t._pushmargin||(t._pushmargin={});var n=t._size,r=JSON.stringify(n),i=Math.max(t.margin.l||0,0),o=Math.max(t.margin.r||0,0),a=Math.max(t.margin.t||0,0),u=Math.max(t.margin.b||0,0),c=t._pushmargin;if(!1!==t.margin.autoexpand){c.base={l:{val:0,size:i},r:{val:1,size:o},t:{val:1,size:a},b:{val:0,size:u}};for(var f=Object.keys(c),h=0;h<f.length;h++)for(var d=f[h],p=c[d].l||{},m=c[d].b||{},v=p.val,g=p.size,y=m.val,b=m.size,x=0;x<f.length;x++){var _=f[x];if(s(g)&&c[_].r){var w=c[_].r.val,M=c[_].r.size;if(w>v){var k=(g*w+(M-t.width)*v)/(w-v),E=(M*(1-v)+(g-t.width)*(1-w))/(w-v);k>=0&&E>=0&&k+E>i+o&&(i=k,o=E)}}if(s(b)&&c[_].t){var S=c[_].t.val,T=c[_].t.size;if(S>y){var A=(b*S+(T-t.height)*y)/(S-y),C=(T*(1-y)+(b-t.height)*(1-S))/(S-y);A>=0&&C>=0&&A+C>u+a&&(u=A,a=C)}}}}if(n.l=Math.round(i),n.r=Math.round(o),n.t=Math.round(a),n.b=Math.round(u),n.p=Math.round(t.margin.pad),n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(t._size))return l.plot(e)},d.graphJson=function(e,t,n,r,i){function o(e){if("function"===typeof e)return null;if(c.isPlainObject(e)){var t,r,i={};for(t in e)if("function"!==typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if("string"===typeof(r=e[t+"src"])&&r.indexOf(":")>0&&!c.isPlainObject(e.stream))continue}else if("keepall"!==n&&"string"===typeof(r=e[t+"src"])&&r.indexOf(":")>0)continue;i[t]=o(e[t])}return i}return Array.isArray(e)?e.map(o):c.isJSDate(e)?c.ms2DateTimeLocal(+e):e}(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&d.supplyDefaults(e);var a=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,l=(e._transitionData||{})._frames,u={data:(a||[]).map(function(e){var n=o(e);return t&&delete n.fit,n})};return t||(u.layout=o(s)),e.framework&&e.framework.isPolar&&(u=e.framework.getConfig()),l&&(u.frames=o(l)),"object"===r?u:JSON.stringify(u)},d.modifyFrames=function(e,t){var n,r,i,o=e._transitionData._frames,a=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch(r=t[n],r.type){case"replace":i=r.value;var s=(o[r.index]||{}).name,l=i.name;o[r.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":i=r.value,a[i.name]=i,o.splice(r.index,0,i);break;case"delete":i=o[r.index],delete a[i.name],o.splice(r.index,1)}return Promise.resolve()},d.computeFrame=function(e,t){var n,r,i,o,a=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=a[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=d.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)void 0!==(i=r[n])&&null!==i&&(o=c.traces.indexOf(i),-1===o&&(o=c.data.length,c.traces[o]=i),c.data[o]=d.extendTrace(c.data[o],s.data[n]))}return c},d.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},d.extendObjectWithContainers=function(e,t,n){var r,i,o,a,s,l,u,f,h=c.extendDeepNoArrays({},t||{}),p=c.expandObjectPaths(h),m={};if(n&&n.length)for(o=0;o<n.length;o++)r=c.nestedProperty(p,n[o]),i=r.get(),void 0===i?c.nestedProperty(m,n[o]).set(null):(r.set(null),c.nestedProperty(m,n[o]).set(i));if(e=c.extendDeepNoArrays(e||{},p),n&&n.length)for(o=0;o<n.length;o++)if(s=c.nestedProperty(m,n[o]),u=s.get()){for(l=c.nestedProperty(e,n[o]),f=l.get(),Array.isArray(f)||(f=[],l.set(f)),a=0;a<u.length;a++){var v=u[a];f[a]=null===v?null:d.extendObjectWithContainers(f[a],v)}l.set(f)}return e},d.dataArrayContainers=["transforms"],d.layoutArrayContainers=u.layoutArrayContainers,d.extendTrace=function(e,t){return d.extendObjectWithContainers(e,t,d.dataArrayContainers)},d.extendLayout=function(e,t){return d.extendObjectWithContainers(e,t,d.layoutArrayContainers)},d.transition=function(e,t,n,r,i,o){function a(){var r;for(r=0;r<y.length;r++){var i=y[r],o=e._fullData[i],a=o._module;a&&(a.animatable&&x.push(i),e.data[y[r]]=d.extendTrace(e.data[y[r]],t[r]))}var s=c.expandObjectPaths(c.extendDeepNoArrays({},n)),l=/^[xy]axis[0-9]*$/;for(var u in s)l.test(u)&&delete s[u].range;return d.extendLayout(e.layout,s),d.supplyDefaults(e),d.doCalcdata(e),b.calc(e),Promise.resolve()}function s(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function u(e){if(e)for(;e.length;)e.shift()}function f(){return e.emit("plotly_transitioning",[]),new Promise(function(t){function r(){return u++,function(){f++,_||f!==u||h(t)}}e._transitioning=!0,o.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){_=!0}),i.redraw&&e._transitionData._interruptCallbacks.push(function(){return l.redraw(e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var a,s,u=0,f=0,d=e._fullLayout._basePlotModules,p=!1;if(n)for(s=0;s<d.length;s++)if(d[s].transitionAxes){var m=c.expandObjectPaths(n);p=d[s].transitionAxes(e,m,o,r)||p}for(p?(a=c.extendFlat({},o),a.duration=0):a=o,s=0;s<d.length;s++)d[s].plot(e,x,a,r);setTimeout(r())})}function h(t){if(e._transitionData)return u(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(i.redraw)return l.redraw(e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(t)}function p(){if(e._transitionData)return e._transitioning=!1,s(e._transitionData._interruptCallbacks)}var m,v,g=Array.isArray(t)?t.length:0,y=r.slice(0,g),x=[],_=!1;for(m=0;m<y.length;m++){v=y[m];var w=e._fullData[v],M=w._module;if(M&&!M.animatable){var k={};for(var E in t[m])k[E]=[t[m][E]]}}var S=[d.previousPromises,p,a,d.rehover,f],T=c.syncOrAsync(S,e);return T&&T.then||(T=Promise.resolve()),T.then(function(){return e})},d.doCalcdata=function(e,t){var n,r,i,o,a=l.Axes.list(e),s=e._fullData,c=e._fullLayout,f=!1,d=new Array(s.length),p=(e.calcdata||[]).slice(0);for(e.calcdata=d,e.firstscatter=!0,e.numboxes=0,e._hmpixcount=0,e._hmlumcount=0,c._piecolormap={},c._piedefaultcolorcount=0,i=0;i<a.length;i++){for(a[i]._categories=a[i]._initialCategories.slice(),a[i]._categoriesMap={},o=0;o<a[i]._categories.length;o++)a[i]._categoriesMap[a[i]._categories[o]]=o;"category"===a[i].type&&(f=!0)}for(i=0;i<s.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(d[i]=p[i]);var m=!1;for(i=0;i<s.length;i++)if(n=s[i],!0===n.visible&&n.transforms)for(r=n._module,r&&r.calc&&r.calc(e,n),o=0;o<n.transforms.length;o++){var v=n.transforms[o];r=y[v.type],r&&r.calcTransform&&(m=!0,r.calcTransform(e,n,v))}if(m)for(i=0;i<a.length;i++)a[i]._min=[],a[i]._max=[],a[i]._categories=[],a[i]._categoriesMap={};for(i=0;i<s.length;i++){var g=[];n=s[i],!0===n.visible&&(r=n._module)&&r.calc&&(g=r.calc(e,n)),Array.isArray(g)&&g[0]||(g=[{x:h,y:h}]),g[0].t||(g[0].t={}),g[0].trace=n,d[i]=g}if(f){var b=["annotations","shapes","images"];for(i=0;i<b.length;i++)u.getComponentMethod(b[i],"supplyLayoutDefaults")(e.layout,c,s)}},d.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},d.generalUpdatePerTraceModule=function(e,t,n){var r,i=e.traceHash,o={};for(r=0;r<t.length;r++){var a=t[r],s=a[0].trace;s.visible&&(o[s.type]=o[s.type]||[],o[s.type].push(a))}var l=Object.keys(i),u=Object.keys(o);for(r=0;r<l.length;r++){var c=l[r];if(-1===u.indexOf(c)){var f=i[c][0];f[0].trace.visible=!1,o[c]=[f]}}for(u=Object.keys(o),r=0;r<u.length;r++){var h=o[u[r]];h[0][0].trace._module.plot(e,function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];!0===r[0].trace.visible&&t.push(r)}return t}(h),n)}e.traceHash=o}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){e.exports=n(766)()},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){"use strict";var r=n(0);e.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("markers")},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&Array.isArray(e.marker.size)}}},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){"use strict";(function(e,r){function i(e){if(e){var t=e.length||e.byteLength,n=y.log2(t);w[n].push(e)}}function o(e){i(e.buffer)}function a(e){var e=y.nextPow2(e),t=y.log2(e),n=w[t];return n.length>0?n.pop():new ArrayBuffer(e)}function s(e){return new Uint8Array(a(e),0,e)}function l(e){return new Uint16Array(a(2*e),0,e)}function u(e){return new Uint32Array(a(4*e),0,e)}function c(e){return new Int8Array(a(e),0,e)}function f(e){return new Int16Array(a(2*e),0,e)}function h(e){return new Int32Array(a(4*e),0,e)}function d(e){return new Float32Array(a(4*e),0,e)}function p(e){return new Float64Array(a(8*e),0,e)}function m(e){return x?new Uint8ClampedArray(a(e),0,e):s(e)}function v(e){return new DataView(a(e),0,e)}function g(e){e=y.nextPow2(e);var t=y.log2(e),n=M[t];return n.length>0?n.pop():new r(e)}var y=n(85),b=n(283);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var x="undefined"!==typeof Uint8ClampedArray,_=e.__TYPEDARRAY_POOL;_.UINT8C||(_.UINT8C=b([32,0])),_.BUFFER||(_.BUFFER=b([32,0]));var w=_.DATA,M=_.BUFFER;t.free=function(e){if(r.isBuffer(e))M[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|y.log2(t);w[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=o,t.freeArrayBuffer=i,t.freeBuffer=function(e){M[y.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return a(e);switch(t){case"uint8":return s(e);case"uint16":return l(e);case"uint32":return u(e);case"int8":return c(e);case"int16":return f(e);case"int32":return h(e);case"float":case"float32":return d(e);case"double":case"float64":return p(e);case"uint8_clamped":return m(e);case"buffer":return g(e);case"data":case"dataview":return v(e);default:return null}return null},t.mallocArrayBuffer=a,t.mallocUint8=s,t.mallocUint16=l,t.mallocUint32=u,t.mallocInt8=c,t.mallocInt16=f,t.mallocInt32=h,t.mallocFloat32=t.mallocFloat=d,t.mallocFloat64=t.mallocDouble=p,t.mallocUint8Clamped=m,t.mallocDataView=v,t.mallocBuffer=g,t.clearCache=function(){for(var e=0;e<32;++e)_.UINT8[e].length=0,_.UINT16[e].length=0,_.UINT32[e].length=0,_.INT8[e].length=0,_.INT16[e].length=0,_.INT32[e].length=0,_.FLOAT[e].length=0,_.DOUBLE[e].length=0,_.UINT8C[e].length=0,w[e].length=0,M[e].length=0}}).call(t,n(29),n(185).Buffer)},function(e,t,n){"use strict";function r(e,t,n,r,i){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=i}function i(e,t,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return e.bufferData(t,i,r),a;if(a+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,o,i),n}function o(e,t){for(var n=l.malloc(e.length,t),r=e.length,i=0;i<r;++i)n[i]=e[i];return n}function a(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}function s(e,t,n,i){if(n=n||e.ARRAY_BUFFER,i=i||e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==e.DYNAMIC_DRAW&&i!==e.STATIC_DRAW&&i!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=e.createBuffer(),a=new r(e,n,o,0,i);return a.update(t),a}var l=n(23),u=n(219),c=n(52),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],h=r.prototype;h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(e,t){if("number"!==typeof t&&(t=-1),this.bind(),"object"===typeof e&&"undefined"!==typeof e.shape){var n=e.dtype;if(f.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"}if(n===e.dtype&&a(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,e.data,t):this.length=i(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var r=l.malloc(e.size,n),s=c(r,e.shape);u.assign(s,e),this.length=t<0?i(this.gl,this.type,this.length,this.usage,r,t):i(this.gl,this.type,this.length,this.usage,r.subarray(0,e.size),t),l.free(r)}}else if(Array.isArray(e)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?o(e,"uint16"):o(e,"float32"),this.length=t<0?i(this.gl,this.type,this.length,this.usage,h,t):i(this.gl,this.type,this.length,this.usage,h.subarray(0,e.length),t),l.free(h)}else if("object"===typeof e&&"number"===typeof e.length)this.length=i(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!==typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");e|=0,e<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},e.exports=s},function(e,t,n){"use strict";t.defaultConfig=n(317),t.Plots=n(16),t.Axes=n(5),t.Fx=n(40),t.ModeBar=n(544),n(1382)},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(p)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var l=n[s],u=i(l)._domID;if(0!==u){for(;null!==a;a=a.nextSibling)if(r(a,u)){o(l,a);continue e}f("32",u)}}e._flags|=m.hasCachedChildNodes}}function l(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function u(e){var t=l(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&f("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||f("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var f=n(17),h=n(113),d=n(409),p=(n(9),h.ID_ATTRIBUTE_NAME),m=d,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:l,getInstanceFromNode:u,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:o,uncacheNode:a};e.exports=g},function(e,t,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6}},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(p)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var l=n[s],u=i(l)._domID;if(0!==u){for(;null!==a;a=a.nextSibling)if(r(a,u)){o(l,a);continue e}f("32",u)}}e._flags|=m.hasCachedChildNodes}}function l(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function u(e){var t=l(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&f("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||f("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var f=n(18),h=n(130),d=n(641),p=(n(10),h.ID_ATTRIBUTE_NAME),m=d,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:l,getInstanceFromNode:u,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:o,uncacheNode:a};e.exports=g},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){if(this.zoom=e.zoom,this.overscaling=e.overscaling,this.layer=e.layer,this.childLayers=e.childLayers,this.type=this.layer.type,this.features=[],this.id=this.layer.id,this.index=e.index,this.sourceLayer=this.layer.sourceLayer,this.sourceLayerIndex=e.sourceLayerIndex,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.paintAttributes=i(this),e.arrays){var t=this.programInterfaces;this.bufferGroups=c.mapObject(e.arrays,function(n,r){var i=t[r],o=e.paintVertexArrayTypes[r];return n.map(function(e){return new u(e,{layoutVertexArrayType:i.layoutVertexArrayType.serialize(),elementArrayType:i.elementArrayType&&i.elementArrayType.serialize(),elementArrayType2:i.elementArrayType2&&i.elementArrayType2.serialize(),paintVertexArrayTypes:o})})})}}function i(e){var t={};for(var n in e.programInterfaces){for(var r=t[n]={},i=0;i<e.childLayers.length;i++){r[e.childLayers[i].id]={attributes:[],uniforms:[],defines:[],vertexPragmas:{define:{},initialize:{}},fragmentPragmas:{define:{},initialize:{}}}}var s=e.programInterfaces[n];if(s.paintAttributes)for(var l=0;l<s.paintAttributes.length;l++){var u=s.paintAttributes[l];u.multiplier=u.multiplier||1;for(var f=0;f<e.childLayers.length;f++){var d=e.childLayers[f],p=r[d.id],m=u.name;h("a_"===u.name.slice(0,2));var v,g=u.name.slice(2);if(p.fragmentPragmas.initialize[g]="",d.isPaintValueFeatureConstant(u.paintProperty))p.uniforms.push(u),p.fragmentPragmas.define[g]=p.vertexPragmas.define[g]=["uniform","{precision}","{type}",m].join(" ")+";",p.fragmentPragmas.initialize[g]=p.vertexPragmas.initialize[g]=["{precision}","{type}",g,"=",m].join(" ")+";\n";else if(d.isPaintValueZoomConstant(u.paintProperty)){p.attributes.push(c.extend({},u,{name:m})),v=["varying","{precision}","{type}",g].join(" ")+";\n";var y=[p.fragmentPragmas.define[g],"attribute","{precision}","{type}",m].join(" ")+";\n";p.fragmentPragmas.define[g]=v,p.vertexPragmas.define[g]=v+y,p.vertexPragmas.initialize[g]=[g,"=",m,"/",u.multiplier.toFixed(1)].join(" ")+";\n"}else{for(var b="u_"+m.slice(2)+"_t",x=d.getPaintValueStopZoomLevels(u.paintProperty),_=0;_<x.length&&x[_]<e.zoom;)_++;for(var w=Math.max(0,Math.min(x.length-4,_-2)),M=[],k=0;k<4;k++)M.push(x[Math.min(w+k,x.length-1)]);v=["varying","{precision}","{type}",g].join(" ")+";\n",p.vertexPragmas.define[g]=v+["uniform","lowp","float",b].join(" ")+";\n",p.fragmentPragmas.define[g]=v,p.uniforms.push(c.extend({},u,{name:b,getValue:a(u,w),components:1}));var E=u.components;if(1===E)p.attributes.push(c.extend({},u,{getValue:o(u,M),isFunction:!0,components:4*E})),p.vertexPragmas.define[g]+=["attribute","{precision}","vec4",m].join(" ")+";\n",p.vertexPragmas.initialize[g]=[g,"=","evaluate_zoom_function_1("+m+", "+b+")","/",u.multiplier.toFixed(1)].join(" ")+";\n";else{for(var S=[],T=0;T<4;T++)S.push(m+T),p.attributes.push(c.extend({},u,{getValue:o(u,[M[T]]),isFunction:!0,name:m+T})),p.vertexPragmas.define[g]+=["attribute","{precision}","{type}",m+T].join(" ")+";\n";p.vertexPragmas.initialize[g]=[g," = ","evaluate_zoom_function_4("+S.join(", ")+", "+b+")","/",u.multiplier.toFixed(1)].join(" ")+";\n"}}}}}return t}function o(e,t){return function(n,r,i){if(1===t.length)return e.getValue(n,c.extend({},r,{zoom:t[0]}),i);for(var o=[],a=0;a<t.length;a++){var s=t[a];o.push(e.getValue(n,c.extend({},r,{zoom:s}),i)[0])}return o}}function a(e,t){return function(n,r){var i=n.getPaintInterpolationT(e.paintProperty,r.zoom);return[Math.max(0,Math.min(4,i-t))]}}var s=n(284),l=n(1182),u=n(1187),c=n(1),f=n(98),h=n(83);e.exports=r,r.create=function(e){return new({fill:n(1184),line:n(1185),circle:n(1183),symbol:n(1186)}[e.layer.type])(e)},r.EXTENT=8192,r.prototype.populateArrays=function(){this.createArrays(),this.recalculateStyleLayers();for(var e=0;e<this.features.length;e++)this.addFeature(this.features[e]);this.trimArrays()},r.prototype.prepareArrayGroup=function(e,t){var n=this.arrayGroups[e],r=n.length&&n[n.length-1];return r&&r.hasCapacityFor(t)||(r=new l({layoutVertexArrayType:this.programInterfaces[e].layoutVertexArrayType,elementArrayType:this.programInterfaces[e].elementArrayType,elementArrayType2:this.programInterfaces[e].elementArrayType2,paintVertexArrayTypes:this.paintVertexArrayTypes[e]}),r.index=n.length,n.push(r)),r},r.prototype.createArrays=function(){this.arrayGroups={},this.paintVertexArrayTypes={};for(var e in this.programInterfaces){this.arrayGroups[e]=[];var t=this.paintVertexArrayTypes[e]={},n=this.paintAttributes[e];for(var i in n)t[i]=new r.VertexArrayType(n[i].attributes)}},r.prototype.destroy=function(e){for(var t in this.bufferGroups)for(var n=this.bufferGroups[t],r=0;r<n.length;r++)n[r].destroy(e)},r.prototype.trimArrays=function(){for(var e in this.arrayGroups)for(var t=this.arrayGroups[e],n=0;n<t.length;n++)t[n].trim()},r.prototype.isEmpty=function(){for(var e in this.arrayGroups)for(var t=this.arrayGroups[e],n=0;n<t.length;n++)if(!t[n].isEmpty())return!1;return!0},r.prototype.getTransferables=function(e){for(var t in this.arrayGroups)for(var n=this.arrayGroups[t],r=0;r<n.length;r++)n[r].getTransferables(e)},r.prototype.setUniforms=function(e,t,n,r,i){for(var o=this.paintAttributes[t][r.id].uniforms,a=0;a<o.length;a++){var s=o[a],l=n[s.name];e["uniform"+s.components+"fv"](l,s.getValue(r,i))}},r.prototype.serialize=function(){return{layerId:this.layer.id,zoom:this.zoom,arrays:c.mapObject(this.arrayGroups,function(e){return e.map(function(e){return e.serialize()})}),paintVertexArrayTypes:c.mapObject(this.paintVertexArrayTypes,function(e){return c.mapObject(e,function(e){return e.serialize()})}),childLayerIds:this.childLayers.map(function(e){return e.id})}},r.prototype.createFilter=function(){this.filter||(this.filter=s(this.layer.filter))};var d={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};r.prototype.recalculateStyleLayers=function(){for(var e=0;e<this.childLayers.length;e++)this.childLayers[e].recalculate(this.zoom,d)},r.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o=0;o<this.childLayers.length;o++)for(var a=this.childLayers[o],s=this.arrayGroups[e],l=r.index;l<s.length;l++){var u=s[l],c=u.layoutVertexArray.length,f=u.paintVertexArrays[a.id];f.resize(c);for(var h=this.paintAttributes[e][a.id].attributes,d=0;d<h.length;d++)for(var p=h[d],m=p.getValue(a,t,n),v=p.multiplier||1,g=p.components||1,y=l===r.index?i:0,b=y;b<c;b++)for(var x=f.get(b),_=0;_<g;_++){var w=g>1?p.name+_:p.name;x[w]=m[_]*v}}},r.VertexArrayType=function(e){return new f({members:e,alignment:4})},r.ElementArrayType=function(e){return new f({members:[{type:"Uint16",name:"vertices",components:e||3}]})}},function(e,t,n){"use strict";t.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],t.defaultLine="#444",t.lightLine="#eee",t.background="#fff",t.borderLine="#BEC8D9",t.lightFraction=1e3/11},function(e,t,n){"use strict";var r=n(57),i=n(45),o=n(8).extendFlat;e.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string",role:"info",dflt:"Click to enter colorscale title",description:"Sets the title of the color bar."},titlefont:o({},i,{description:["Sets this color bar's title font."].join(" ")}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")}}},function(e,t,n){"use strict";e.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,BENDPX:1.5,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4]}},function(e,t,n){"use strict";var r=n(89),i=n(164),o=n(32),a=n(99).dash,s=n(12),l=n(175),u=n(8).extendFlat;e.exports={x:{valType:"data_array",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},customdata:{valType:"data_array",description:"Assigns extra data to each scatter point DOM element"},dy:{valType:"number",dflt:1,role:"info",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},ids:{valType:"data_array",description:"A list of keys for object constancy of data points during animation"},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+l.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:a,simplify:{valType:"boolean",dflt:!0,role:"info",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")}},connectgaps:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:u({},{symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,role:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:o,line:u({},{width:{valType:"number",min:0,arrayOk:!0,role:"style",description:"Sets the width (in px) of the lines bounding the marker points."}},r("marker.line"))},r("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:{family:{valType:"string",role:"style",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",role:"style",min:1,arrayOk:!0},color:{valType:"color",role:"style",arrayOk:!0},description:"Sets the text font."},r:{valType:"data_array",description:["For polar chart only.","Sets the radial coordinates."].join("")},t:{valType:"data_array",description:["For polar chart only.","Sets the angular coordinates."].join("")},error_y:i,error_x:i}},function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){"use strict";function r(e,t){this.message=(e?e+": ":"")+i.apply(i,Array.prototype.slice.call(arguments,2)),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}var i=n(431).format;e.exports=r},function(e,t,n){"use strict";t.window=window,e.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.frame=function(e){return r(e)};var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;t.cancelFrame=function(e){i(e)},t.timed=function(n,r,i){function o(l){a||(l=e.exports.now(),l>=s+r?n.call(i,1):(n.call(i,(l-s)/r),t.frame(o)))}if(!r)return n.call(i,1),null;var a=!1,s=e.exports.now();return t.frame(o),function(){a=!0}},t.supported=n(509),t.hardwareConcurrency=navigator.hardwareConcurrency||4,Object.defineProperty(t,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),t.supportsWebp=!1;var o=document.createElement("img");o.onload=function(){t.supportsWebp=!0},o.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=",t.supportsGeolocation=!!navigator.geolocation},function(e,t,n){var r;!function(i){function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Y(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Y(this._r)),this._g<1&&(this._g=Y(this._g)),this._b<1&&(this._b=Y(this._b)),this._ok=n.ok,this._tc_id=H++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,l=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(t=s(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(r=N(e.s),i=N(e.v),t=f(e.h,r,i),a=!0,l="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(r=N(e.s),o=N(e.l),t=u(e.h,r,o),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=A(n),{ok:a,format:e.format||l,r:W(255,q(t.r,0)),g:W(255,q(t.g,0)),b:W(255,q(t.b,0)),a:n}}function s(e,t,n){return{r:255*C(e,255),g:255*C(t,255),b:255*C(n,255)}}function l(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=q(e,t,n),a=W(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function u(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=r(l,s,e+1/3),o=r(l,s,e),a=r(l,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=q(e,t,n),a=W(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function f(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function h(e,t,n,r){var i=[I(Y(e).toString(16)),I(Y(t).toString(16)),I(Y(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(e,t,n,r,i){var o=[I(Y(e).toString(16)),I(Y(t).toString(16)),I(Y(n).toString(16)),I(R(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,n,r){return[I(R(r)),I(Y(e).toString(16)),I(Y(t).toString(16)),I(Y(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=D(n.s),o(n)}function v(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=D(n.s),o(n)}function g(e){return o(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=D(n.l),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=q(0,W(255,n.r-Y(-t/100*255))),n.g=q(0,W(255,n.g-Y(-t/100*255))),n.b=q(0,W(255,n.b-Y(-t/100*255))),o(n)}function x(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=D(n.l),o(n)}function _(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function w(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function M(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function T(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],l=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+l)%1;return s}function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){P(e)&&(e="100%");var n=L(e);return e=W(t,q(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return W(1,q(0,e))}function O(e){return parseInt(e,16)}function P(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function L(e){return"string"===typeof e&&-1!=e.indexOf("%")}function I(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function R(e){return i.round(255*parseFloat(e)).toString(16)}function j(e){return O(e)/255}function z(e){return!!K.CSS_UNIT.exec(e)}function F(e){e=e.replace(U,"").replace(V,"").toLowerCase();var t=!1;if(X[e])e=X[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(e))?{r:O(n[1]),g:O(n[2]),b:O(n[3]),a:j(n[4]),format:t?"name":"hex8"}:(n=K.hex6.exec(e))?{r:O(n[1]),g:O(n[2]),b:O(n[3]),format:t?"name":"hex"}:(n=K.hex4.exec(e))?{r:O(n[1]+""+n[1]),g:O(n[2]+""+n[2]),b:O(n[3]+""+n[3]),a:j(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=K.hex3.exec(e))&&{r:O(n[1]+""+n[1]),g:O(n[2]+""+n[2]),b:O(n[3]+""+n[3]),format:t?"name":"hex"}}function B(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var U=/^\s+/,V=/\s+$/,H=0,Y=i.round,W=i.min,q=i.max,G=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(e){return this._a=A(e),this._roundA=Y(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=Y(360*e.h),n=Y(100*e.s),r=Y(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=Y(360*e.h),n=Y(100*e.s),r=Y(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Y(this._r),g:Y(this._g),b:Y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+")":"rgba("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Y(100*C(this._r,255))+"%",g:Y(100*C(this._g,255))+"%",b:Y(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Y(100*C(this._r,255))+"%, "+Y(100*C(this._g,255))+"%, "+Y(100*C(this._b,255))+"%)":"rgba("+Y(100*C(this._r,255))+"%, "+Y(100*C(this._g,255))+"%, "+Y(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Z[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:N(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:G(),g:G(),b:G()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,r=B(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,l=null,u=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=o.readability(e,t[c]))>u&&(u=r,l=o(t[c]));return o.isReadable(e,l,{level:a,size:s})||!i?l:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var X=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(X),K=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!==typeof e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){function r(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function i(e,t,n,r){if(this._calendar=e,this._year=t,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function o(e,t){return e=""+e,"000000".substring(0,t-e.length)+e}function a(){this.shortYearCutoff="+10"}function s(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}var l=n(11);l(r.prototype,{instance:function(e,t){e=(e||"gregorian").toLowerCase(),t=t||"";var n=this._localCals[e+"-"+t];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+"-"+t]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,r,i){return r=(null!=e&&e.year?e.calendar():"string"===typeof r?this.instance(r,i):r)||this.instance(),r.newDate(e,t,n)},substituteDigits:function(e){return function(t){return(t+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,t){return function(n){for(var r="",i=0;n>0;){var o=n%10;r=(0===o?"":e[o]+t[i])+r,i++,n=Math.floor(n/10)}return 0===r.indexOf(e[1]+t[1])&&(r=r.substr(1)),r||e[0]}}}),l(i.prototype,{newDate:function(e,t,n){return this._calendar.newDate(null==e?this:e,t,n)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,t,n){if(!this._calendar.isValid(e,t,n))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=t,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var t=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return 0===t?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+o(Math.abs(this.year()),4)+"-"+o(this.month(),2)+"-"+o(this.day(),2)}}),l(a.prototype,{_validateLevel:0,newDate:function(e,t,n){return null==e?this.today():(e.year&&(this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate),n=e.day(),t=e.month(),e=e.year()),new i(this,e,t,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){return this._validate(e,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+o(Math.abs(t.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),12},monthOfYear:function(e,t){var n=this._validate(e,t,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(e,t){var n=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,n,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth),n},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,n){var r=this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,n){var r=this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(e,t,n){return this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate),{}},add:function(e,t,n){return this._validate(e,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,t,n),t,n)},_add:function(e,t,n){if(this._validateLevel++,"d"===n||"w"===n){var r=e.toJD()+t*("w"===n?this.daysInWeek():1),i=e.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var o=e.year()+("y"===n?t:0),a=e.monthOfYear()+("m"===n?t:0),i=e.day();"y"===n?(e.month()!==this.fromMonthOfYear(o,a)&&(a=this.newDate(o,e.month(),this.minDay).monthOfYear()),a=Math.min(a,this.monthsInYear(o)),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a)))):"m"===n&&(!function(e){for(;a<e.minMonth;)o--,a+=e.monthsInYear(o);for(var t=e.monthsInYear(o);a>t-1+e.minMonth;)o++,a-=t,t=e.monthsInYear(o)}(this),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a))));var s=[o,this.fromMonthOfYear(o,a),i];return this._validateLevel--,s}catch(e){throw this._validateLevel--,e}},_correctAdd:function(e,t,n,r){if(!this.hasYearZero&&("y"===r||"m"===r)&&(0===t[0]||e.year()>0!==t[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],o=n<0?-1:1;t=this._add(e,n*i[0]+o*i[1],i[2])}return e.date(t[0],t[1],t[2])},set:function(e,t,n){this._validate(e,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate);var r="y"===n?t:e.year(),i="m"===n?t:e.month(),o="d"===n?t:e.day();return"y"!==n&&"m"!==n||(o=Math.min(o,this.daysInMonth(r,i))),e.date(r,i,o)},isValid:function(e,t,n){this._validateLevel++;var r=this.hasYearZero||0!==e;if(r){var i=this.newDate(e,t,this.minDay);r=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(e,t,n){var r=this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate);return u.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(e){return this.fromJD(u.instance().fromJSDate(e).toJD())},_validate:function(e,t,n,r){if(e.year){if(0===this._validateLevel&&this.name!==e.calendar().name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(1===++this._validateLevel&&!this.isValid(e,t,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(e,t,n);return this._validateLevel--,i}catch(e){throw this._validateLevel--,e}}}),s.prototype=new a,l(s.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),e=t.year()+(t.year()<0?1:0);return e%4===0&&(e%100!==0||e%400===0)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate);e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),o=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25);n=t+1+n-Math.floor(n/4);var r=n+1524,i=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*i),a=Math.floor((r-o)/30.6001),s=r-o-Math.floor(30.6001*a),l=a-(a>13.5?13:1),u=i-(l>2.5?4716:4715);return u<=0&&u--,this.newDate(u,l,s)},toJSDate:function(e,t,n){var r=this._validate(e,t,n,u.local.invalidDate||u.regionalOptions[""].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var u=e.exports=new r;u.cdate=i,u.baseCalendar=a,u.calendars.gregorian=s},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=e.length;r>0;r--)n.push(t);return n}function i(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].p2c(t));return n}function o(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}}function a(e,t,n){if("pie"===n)return void e.emit("plotly_hover",{event:t.originalEvent,points:[t]});n||(n="xy");var o=Array.isArray(n)?n:[n],a=e._fullLayout,v=a._plots||[],b=v[n];if(b){var _=b.overlays.map(function(e){return e.id});o=o.concat(_)}for(var T=o.length,A=new Array(T),C=new Array(T),D=0;D<T;D++){var O=o[D],P=v[O];if(P)A[D]=E.getFromId(e,P.xaxis._id),C[D]=E.getFromId(e,P.yaxis._id);else{var L=a[O]._subplot;A[D]=L.xaxis,C[D]=L.yaxis}}var I=t.hovermode||a.hovermode;if(-1===["x","y","closest"].indexOf(I)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return w.unhoverRaw(e,t);var N,R,j,z,F,B,U,V,H,Y,W,q,G,X=[],Z=[];if(Array.isArray(t))for(I="array",j=0;j<t.length;j++)F=e.calcdata[t[j].curveNumber||0],"skip"!==F[0].trace.hoverinfo&&Z.push(F);else{for(z=0;z<e.calcdata.length;z++)F=e.calcdata[z],B=F[0].trace,"skip"!==B.hoverinfo&&-1!==o.indexOf(s(B))&&Z.push(F);var K,$,J=!t.target;if(J)K="xpx"in t?t.xpx:A[0]._length/2,$="ypx"in t?t.ypx:C[0]._length/2;else{if(!1===y.triggerHandler(e,"plotly_beforehover",t))return;var Q=t.target.getBoundingClientRect();if(K=t.clientX-Q.left,$=t.clientY-Q.top,K<0||K>Q.width||$<0||$>Q.height)return w.unhoverRaw(e,t)}if(N="xval"in t?r(o,t.xval):i(A,K),R="yval"in t?r(o,t.yval):i(C,$),!m(N[0])||!m(R[0]))return g.warn("Fx.hover failed",t,e),w.unhoverRaw(e,t)}var ee=1/0;for(z=0;z<Z.length;z++)if((F=Z[z])&&F[0]&&F[0].trace&&!0===F[0].trace.visible&&(B=F[0].trace,-1===["carpet","contourcarpet"].indexOf(B._module.name))){if(U=s(B),V=o.indexOf(U),H=I,q={cd:F,trace:B,xa:A[V],ya:C[V],name:e.data.length>1||-1!==B.hoverinfo.indexOf("name")?B.name:void 0,index:!1,distance:Math.min(ee,S.MAXDIST),color:x.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},a[U]&&(q.subplot=a[U]._subplot),G=X.length,"array"===H){var te=t[z];"pointNumber"in te?(q.index=te.pointNumber,H="closest"):(H="","xval"in te&&(Y=te.xval,H="x"),"yval"in te&&(W=te.yval,H=H?"closest":"y"))}else Y=N[V],W=R[V];if(B._module&&B._module.hoverPoints){var ne=B._module.hoverPoints(q,Y,W,H);if(ne)for(var re,ie=0;ie<ne.length;ie++)re=ne[ie],m(re.x0)&&m(re.y0)&&X.push(l(re,I))}else g.log("Unrecognized trace type in hover:",B);"closest"===I&&X.length>G&&(X.splice(0,G),ee=X[0].distance)}if(0===X.length)return w.unhoverRaw(e,t);X.sort(function(e,t){return e.distance-t.distance});var oe=e._hoverdata,ae=[];for(j=0;j<X.length;j++){var se=X[j],le={data:se.trace._input,fullData:se.trace,curveNumber:se.trace.index,pointNumber:se.index};se.trace._module.eventData?le=se.trace._module.eventData(le,se):(le.x=se.xVal,le.y=se.yVal,le.xaxis=se.xa,le.yaxis=se.ya,void 0!==se.zLabelVal&&(le.z=se.zLabelVal)),ae.push(le)}if(e._hoverdata=ae,d(e,t,oe)&&a._hasCartesian){u(X,{hovermode:I,fullLayout:a,container:a._hoverlayer,outerContainer:a._paperdiv})}var ue="y"===I&&Z.length>1,ce=x.combine(a.plot_bgcolor||x.background,a.paper_bgcolor),fe={hovermode:I,rotateLabels:ue,bgColor:ce,container:a._hoverlayer,outerContainer:a._paperdiv},he=c(X,fe);if(f(X,ue?"xa":"ya"),h(he,ue),t.target&&t.target.tagName){var de=k.getComponentMethod("annotations","hasClickToShow")(e,ae);M(p.select(t.target),de?"pointer":"")}t.target&&d(e,t,oe)&&(oe&&e.emit("plotly_unhover",{event:t,points:oe}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:A,yaxes:C,xvals:N,yvals:R}))}function s(e){return e.subplot||e.xaxis+e.yaxis||e.geo}function l(e,t){e.posref="y"===t?(e.x0+e.x1)/2:(e.y0+e.y1)/2,e.x0=g.constrain(e.x0,0,e.xa._length),e.x1=g.constrain(e.x1,0,e.xa._length),e.y0=g.constrain(e.y0,0,e.ya._length),e.y1=g.constrain(e.y1,0,e.ya._length);var n;if(void 0!==e.xLabelVal){n="log"===e.xa.type&&e.xLabelVal<=0;var r=E.tickText(e.xa,e.xa.c2l(n?-e.xLabelVal:e.xLabelVal),"hover");n?0===e.xLabelVal?e.xLabel="0":e.xLabel="-"+r.text:e.xLabel=r.text,e.xVal=e.xa.c2d(e.xLabelVal)}if(void 0!==e.yLabelVal){n="log"===e.ya.type&&e.yLabelVal<=0;var i=E.tickText(e.ya,e.ya.c2l(n?-e.yLabelVal:e.yLabelVal),"hover");n?0===e.yLabelVal?e.yLabel="0":e.yLabel="-"+i.text:e.yLabel=i.text,e.yVal=e.ya.c2d(e.yLabelVal)}if(void 0!==e.zLabelVal&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!("log"===e.xa.type&&e.xerr<=0)){var o=E.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+o+" / -"+E.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+o,"x"===t&&(e.distance+=1)}if(!isNaN(e.yerr)&&!("log"===e.ya.type&&e.yerr<=0)){var a=E.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+a+" / -"+E.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+a,"y"===t&&(e.distance+=1)}var s=e.trace.hoverinfo;return"all"!==s&&(s=s.split("+"),-1===s.indexOf("x")&&(e.xLabel=void 0),-1===s.indexOf("y")&&(e.yLabel=void 0),-1===s.indexOf("z")&&(e.zLabel=void 0),-1===s.indexOf("text")&&(e.text=void 0),-1===s.indexOf("name")&&(e.name=void 0)),e}function u(e,t){var n=t.hovermode,r=t.container,i=e[0],o=i.xa,a=i.ya,s=o.showspikes,l=a.showspikes;if(r.selectAll(".spikeline").remove(),"closest"===n&&(s||l)){var u=t.fullLayout,c=o._offset+(i.x0+i.x1)/2,f=a._offset+(i.y0+i.y1)/2,h=x.combine(u.plot_bgcolor,u.paper_bgcolor),d=v.readability(i.color,h)<1.5?x.contrast(h):i.color;if(l){var p=a.spikemode,m=a.spikethickness,g=a.spikecolor||d,y=a._boundingBox,b=(y.left+y.right)/2<c?y.right:y.left;if(-1!==p.indexOf("toaxis")||-1!==p.indexOf("across")){var w=b,M=c;-1!==p.indexOf("across")&&(w=a._counterSpan[0],M=a._counterSpan[1]),r.append("line").attr({x1:w,x2:M,y1:f,y2:f,"stroke-width":m+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:w,x2:M,y1:f,y2:f,"stroke-width":m,stroke:g,"stroke-dasharray":_.dashStyle(a.spikedash,m)}).classed("spikeline",!0).classed("crisp",!0)}-1!==p.indexOf("marker")&&r.append("circle").attr({cx:b+("right"!==a.side?m:-m),cy:f,r:m,fill:g}).classed("spikeline",!0)}if(s){var k=o.spikemode,E=o.spikethickness,S=o.spikecolor||d,T=o._boundingBox,A=(T.top+T.bottom)/2<f?T.bottom:T.top;if(-1!==k.indexOf("toaxis")||-1!==k.indexOf("across")){var C=A,D=f;-1!==k.indexOf("across")&&(C=o._counterSpan[0],D=o._counterSpan[1]),r.append("line").attr({x1:c,x2:c,y1:C,y2:D,"stroke-width":E+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:c,x2:c,y1:C,y2:D,"stroke-width":E,stroke:S,"stroke-dasharray":_.dashStyle(o.spikedash,E)}).classed("spikeline",!0).classed("crisp",!0)}-1!==k.indexOf("marker")&&r.append("circle").attr({cx:c,cy:A-("top"!==o.side?E:-E),r:E,fill:S}).classed("spikeline",!0)}}}function c(e,t){var n,r,i=t.hovermode,o=t.rotateLabels,a=t.bgColor,s=t.container,l=t.outerContainer,u=t.fontFamily||S.HOVERFONT,c=t.fontSize||S.HOVERFONTSIZE,f=e[0],h=f.xa,d=f.ya,m="y"===i?"yLabel":"xLabel",v=f[m],g=(String(v)||"").split(" ")[0],y=l.node().getBoundingClientRect(),w=y.top,M=y.width,k=y.height,E=f.distance<=S.MAXDIST&&("x"===i||"y"===i);for(n=0;n<e.length;n++){r=e[n].trace.hoverinfo;var T=r.split("+");if(-1===T.indexOf("all")&&-1===T.indexOf(i)){E=!1;break}}var A=s.selectAll("g.axistext").data(E?[0]:[]);A.enter().append("g").classed("axistext",!0),A.exit().remove(),A.each(function(){var t=p.select(this),n=t.selectAll("path").data([0]),r=t.selectAll("text").data([0]);n.enter().append("path").style({fill:x.defaultLine,"stroke-width":"1px",stroke:x.background}),r.enter().append("text").call(_.font,u,c,x.background).attr("data-notex",1),r.text(v).call(b.convertToTspans).call(_.setPosition,0,0).selectAll("tspan.line").call(_.setPosition,0,0),t.attr("transform","");var o=r.node().getBoundingClientRect();if("x"===i){r.attr("text-anchor","middle").call(_.setPosition,0,"top"===h.side?w-o.bottom-N-R:w-o.top+N+R).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var a="top"===h.side?"-":"";n.attr("d","M0,0L"+N+","+a+N+"H"+(R+o.width/2)+"v"+a+(2*R+o.height)+"H-"+(R+o.width/2)+"V"+a+N+"H-"+N+"Z"),t.attr("transform","translate("+(h._offset+(f.x0+f.x1)/2)+","+(d._offset+("top"===h.side?0:d._length))+")")}else{r.attr("text-anchor","right"===d.side?"start":"end").call(_.setPosition,("right"===d.side?1:-1)*(R+N),w-o.top-o.height/2).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var s="right"===d.side?"":"-";n.attr("d","M0,0L"+s+N+","+N+"V"+(R+o.height/2)+"h"+s+(2*R+o.width)+"V-"+(R+o.height/2)+"H"+s+N+"V-"+N+"Z"),t.attr("transform","translate("+(h._offset+("right"===d.side?h._length:0))+","+(d._offset+(f.y0+f.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[m]||"").split(" ")[0]===g})});var C=s.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return C.enter().append("g").classed("hovertext",!0).each(function(){var e=p.select(this);e.append("rect").call(x.fill,x.addOpacity(a,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(_.font,u,c)}),C.exit().remove(),C.each(function(e){var t=p.select(this).attr("transform",""),n="",r="",s=x.opacity(e.color)?e.color:x.defaultLine,l=x.combine(s,a),f=e.borderColor||x.contrast(l);void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&void 0===e.zLabelVal&&(n=b.plainText(e.name||""),n.length>15&&(n=n.substr(0,12)+"...")),void 0!==e.extraText&&(r+=e.extraText),void 0!==e.zLabel?(void 0!==e.xLabel&&(r+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(r+="y: "+e.yLabel+"<br>"),r+=(r?"z: ":"")+e.zLabel):E&&e[i+"Label"]===v?r=e[("x"===i?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(r=e.yLabel):r=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",e.text&&!Array.isArray(e.text)&&(r+=(r?"<br>":"")+e.text),""===r&&(""===n&&t.remove(),r=n);var h=t.select("text.nums").call(_.font,e.fontFamily||u,e.fontSize||c,e.fontColor||f).call(_.setPosition,0,0).text(r).attr("data-notex",1).call(b.convertToTspans);h.selectAll("tspan.line").call(_.setPosition,0,0);var d=t.select("text.name"),m=0;n&&n!==r?(d.call(_.font,e.fontFamily||u,e.fontSize||c,l).text(n).call(_.setPosition,0,0).attr("data-notex",1).call(b.convertToTspans),d.selectAll("tspan.line").call(_.setPosition,0,0),m=d.node().getBoundingClientRect().width+2*R):(d.remove(),t.select("rect").remove()),t.select("path").style({fill:l,stroke:f});var g,y,S=h.node().getBoundingClientRect(),T=e.xa._offset+(e.x0+e.x1)/2,A=e.ya._offset+(e.y0+e.y1)/2,C=Math.abs(e.x1-e.x0),O=Math.abs(e.y1-e.y0),P=S.width+N+R+m;e.ty0=w-S.top,e.bx=S.width+2*R,e.by=S.height+2*R,e.anchor="start",e.txwidth=S.width,e.tx2width=m,e.offset=0,o?(e.pos=T,g=A+O/2+P<=k,y=A-O/2-P>=0,"top"!==e.idealAlign&&g||!y?g?(A+=O/2,e.anchor="start"):e.anchor="middle":(A-=O/2,e.anchor="end")):(e.pos=A,g=T+C/2+P<=M,y=T-C/2-P>=0,"left"!==e.idealAlign&&g||!y?g?(T+=C/2,e.anchor="start"):e.anchor="middle":(T-=C/2,e.anchor="end")),h.attr("text-anchor",e.anchor),m&&d.attr("text-anchor",e.anchor),t.attr("transform","translate("+T+","+A+")"+(o?"rotate("+D+")":""))}),C}function f(e,t){function n(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;r=!1}if(r){var u=0;for(a=0;a<e.length;a++)l=e[a],l.pos+l.dp+l.size>t.pmax&&u++;for(a=e.length-1;a>=0&&!(u<=0);a--)l=e[a],l.pos>t.pmax-1&&(l.del=!0,u--);for(a=0;a<e.length&&!(u<=0);a++)if(l=e[a],l.pos<t.pmin+1)for(l.del=!0,u--,o=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=o;for(a=e.length-1;a>=0&&!(u<=0);a--)l=e[a],l.pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(var r,i,o,a,s,l,u,c=0,f=e.map(function(e,n){var r=e[t];return[{i:n,dp:0,pos:e.pos,posref:e.posref,size:e.by*("x"===r._id.charAt(0)?P:1)/2,pmin:r._offset,pmax:r._offset+r._length}]}).sort(function(e,t){return e[0].posref-t[0].posref});!r&&c<=e.length;){for(c++,r=!0,a=0;a<f.length-1;){var h=f[a],d=f[a+1],p=h[h.length-1],m=d[0];if((i=p.pos+p.dp+p.size-m.pos-m.dp+m.size)>.01&&p.pmin===m.pmin&&p.pmax===m.pmax){for(s=d.length-1;s>=0;s--)d[s].dp+=i;for(h.push.apply(h,d),f.splice(a+1,1),u=0,s=h.length-1;s>=0;s--)u+=h[s].dp;for(o=u/h.length,s=h.length-1;s>=0;s--)h[s].dp-=o;r=!1}else a++}f.forEach(n)}for(a=f.length-1;a>=0;a--){var v=f[a];for(s=v.length-1;s>=0;s--){var g=v[s],y=e[g.i];y.offset=g.dp,y.del=g.del}}}function h(e,t){e.each(function(e){var n=p.select(this);if(e.del)return void n.remove();var r="end"===e.anchor?-1:1,i=n.select("text.nums"),o={start:1,end:-1,middle:0}[e.anchor],a=o*(N+R),s=a+o*(e.txwidth+R),l=0,u=e.offset;"middle"===e.anchor&&(a-=e.tx2width/2,s-=e.tx2width/2),t&&(u*=-I,l=e.offset*L),n.select("path").attr("d","middle"===e.anchor?"M-"+e.bx/2+",-"+e.by/2+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(r*N+l)+","+(N+u)+"v"+(e.by/2-N)+"h"+r*e.bx+"v-"+e.by+"H"+(r*N+l)+"V"+(u-N)+"Z"),i.call(_.setPosition,a+l,u+e.ty0-e.by/2+R).selectAll("tspan.line").attr({x:i.attr("x"),y:i.attr("y")}),e.tx2width&&(n.select("text.name, text.name tspan.line").call(_.setPosition,s+o*R+l,u+e.ty0-e.by/2+R),n.select("rect").call(_.setRect,s+(o-1)*e.tx2width/2+l,u-e.by/2-1,e.tx2width,e.by+2))})}function d(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=e._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber))return!0}return!1}var p=n(2),m=n(4),v=n(38),g=n(0),y=n(311),b=n(43),x=n(3),_=n(12),w=n(92),M=n(1376),k=n(6),E=n(5),S=n(33),T=n(1387),A=n(170),C=e.exports={};C.unhover=w.unhover,C.supplyLayoutDefaults=function(e,t,n){function r(n,r){return g.coerce(e,t,A,n,r)}r("dragmode");var i;if(t._has("cartesian")){i=(t._isHoriz=C.isHoriz(n))?"y":"x"}else i="closest";r("hovermode",i)},C.isHoriz=function(e){for(var t=!0,n=0;n<e.length;n++){if("h"!==e[n].orientation){t=!1;break}}return t},C.init=function(e){var t=e._fullLayout;if(t._has("cartesian")&&!e._context.staticPlot){Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1}).forEach(function(n){var r=t._plots[n];if(t._has("cartesian")){var i=r.xaxis,o=r.yaxis,a=(i._linepositions[n]||[])[3],s=(o._linepositions[n]||[])[3],l=S.DRAGGERSIZE;if(m(a)&&"top"===i.side&&(a-=l),m(s)&&"right"!==o.side&&(s-=l),!r.mainplot){var u=T(e,r,0,0,i._length,o._length,"ns","ew");u.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&C.hover(e,t,n)},C.hover(e,t,n),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=n},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,w.unhover(e,t))},u.onclick=function(t){C.click(e,t)},e._context.showAxisDragHandles&&(T(e,r,-l,-l,l,l,"n","w"),T(e,r,i._length,-l,l,l,"n","e"),T(e,r,-l,o._length,l,l,"s","w"),T(e,r,i._length,o._length,l,l,"s","e"))}e._context.showAxisDragHandles&&(m(a)&&("free"===i.anchor&&(a-=t._size.h*(1-o.domain[1])),T(e,r,.1*i._length,a,.8*i._length,l,"","ew"),T(e,r,0,a,.1*i._length,l,"","w"),T(e,r,.9*i._length,a,.1*i._length,l,"","e")),m(s)&&("free"===o.anchor&&(s-=t._size.w*i.domain[0]),T(e,r,s,.1*o._length,l,.8*o._length,"ns",""),T(e,r,s,.9*o._length,l,.1*o._length,"s",""),T(e,r,s,0,l,.1*o._length,"n","")))}});var n=t._hoverlayer.node();n.onmousemove=function(n){n.target=t._lasthover,C.hover(e,n,t._hoversubplot)},n.onclick=function(n){n.target=t._lasthover,C.click(e,n)},n.onmousedown=function(e){t._lasthover.onmousedown(e)}}};var D=S.YANGLE,O=Math.PI*D/180,P=1/Math.sin(O),L=Math.cos(O),I=Math.sin(O),N=S.HOVERARROWSIZE,R=S.HOVERTEXTPAD;C.hover=function(e,t,n){if("string"===typeof e&&(e=document.getElementById(e)),void 0===e._lastHoverTime&&(e._lastHoverTime=0),void 0!==e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),Date.now()>e._lastHoverTime+S.HOVERMINTIME)return a(e,t,n),void(e._lastHoverTime=Date.now());e._hoverTimer=setTimeout(function(){a(e,t,n),e._lastHoverTime=Date.now(),e._hoverTimer=void 0},S.HOVERMINTIME)},C.getDistanceFunction=function(e,t,n,r){return"closest"===e?r||o(t,n):"x"===e?t:n},C.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},C.loneHover=function(e,t){var n={color:e.color||x.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=p.select(t.container),i=t.outerContainer?p.select(t.outerContainer):r,o={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||x.background,container:r,outerContainer:i},a=c([n],o);return h(a,o.rotateLabels),a.node()},C.loneUnhover=function(e){var t=g.isD3Selection(e)?e:p.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},C.click=function(e,t){function n(){e.emit("plotly_click",{points:e._hoverdata,event:t})}var r=k.getComponentMethod("annotations","onClick")(e,e._hoverdata);e._hoverdata&&t&&t.target&&(r&&r.then?r.then(n):n(),t.stopImmediatePropagation&&t.stopImmediatePropagation())},C.inbox=function(e,t){return e*t<0||0===e?S.MAXDIST*(.6-.3/Math.max(3,Math.abs(e-t))):1/0}},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";function r(e,t){return e.node().getBoundingClientRect()[t]}function i(e){return e.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function o(e,t,n){var r="math-output-"+h.randstr([],64),o=f.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(i(e));MathJax.Hub.Queue(["Typeset",MathJax.Hub,o.node()],function(){var t=f.select("body").select("#MathJax_SVG_glyphs");if(o.select(".MathJax_SVG").empty()||!o.select("svg").node())h.log("There was an error in the tex syntax.",e),n();else{var r=o.select("svg").node().getBoundingClientRect();n(o.select(".MathJax_SVG"),t,r)}o.remove()})}function a(e,t){for(var n=e||"",r=0;r<t.length;r++){var i=t[r];n=n.replace(i.regExp,i.sub)}return n}function s(e){return a(e,y)}function l(e){return a(e,b)}function u(e){e=s(e),e=e.replace(x," ");for(var n=e.split(/(<[^<>]*>)/).map(function(e){var n=e.match(/<(\/?)([^ >]*)\s*(.*)>/i),r=n&&n[2].toLowerCase(),i=m[r];if(void 0!==i){var o=n[1],a=n[3],s=a.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===r){if(o)return"</a>";if("href"!==a.substr(0,4).toLowerCase())return"<a>";var u=a.substr(4).replace(/["']/g,"").replace(/=/,""),c=document.createElement("a");return c.href=u,-1===v.indexOf(c.protocol)?"<a>":'<a xlink:show="new" xlink:href="'+l(u)+'">'}if("br"===r)return"<br>";if(o)return"sup"===r?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===r?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var f="<tspan";return"sup"!==r&&"sub"!==r||(f="&#x200b;"+f),s&&(s=s[1].replace(/(^|;)\s*color:/,"$1 fill:"),i=l(s)+(i?";"+i:"")),f+(i?' style="'+i+'"':"")+">"}return t.xml_entity_encode(e).replace(/</g,"&lt;")}),r=[],i=n.indexOf("<br>");i>0;i=n.indexOf("<br>",i+1))r.push(i);var o=0;r.forEach(function(e){for(var t=e+o,r=n.slice(0,t),i="",a=r.length-1;a>=0;a--){var s=r[a].match(/<(\/?).*>/i);if(s&&"<br>"!==r[a]){s[1]||(i=r[a]);break}}i&&(n.splice(t+1,0,i),n.splice(t,0,"</tspan>"),o+=2)});var a=n.join(""),u=a.split(/<br>/gi);return u.length>1&&(n=u.map(function(e,t){return'<tspan class="line" dy="'+1.3*t+'em">'+e+"</tspan>"})),n.join("")}function c(e,t,n){var r,i,o,a=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return i="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},o="right"===a?function(){return l.right-r.width}:"center"===a?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:i()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}var f=n(2),h=n(0),d=n(67),p=n(554);f.selection.prototype.appendSVG=function(e){for(var t=['<svg xmlns="',d.svg,'" ','xmlns:xlink="',d.xlink,'">',e,"</svg>"].join(""),n=(new DOMParser).parseFromString(t,"application/xml"),r=n.documentElement.firstChild;r;)this.node().appendChild(this.node().ownerDocument.importNode(r,!0)),r=r.nextSibling;return n.querySelector("parsererror")?(h.log(n.querySelector("parsererror div").textContent),null):f.select(this.node().lastChild)},t.html_entity_decode=function(e){var t=f.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),n},t.xml_entity_encode=function(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},t.convertToTspans=function(e,t){function n(){d.empty()||(p=s.attr("class")+"-math",d.select("svg."+p).remove()),e.text("").style({visibility:"inherit","white-space":"pre"}),c=e.appendSVG(a),c||e.text(i),e.select("a").size()&&e.style("pointer-events","all"),t&&t.call(s)}var i=e.text(),a=u(i),s=e,l=!s.attr("data-notex")&&a.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),c=i,d=f.select(s.node().parentNode);if(!d.empty()){var p=s.attr("class")?s.attr("class").split(" ")[0]:"text";p+="-math",d.selectAll("svg."+p).remove(),d.selectAll("g."+p+"-group").remove(),e.style({visibility:null});for(var m=e.node();m&&m.removeAttribute;m=m.parentNode)m.removeAttribute("data-bb");if(l){var v=h.getPlotDiv(s.node());(v&&v._promises||[]).push(new Promise(function(e){s.style({visibility:"hidden"});var i={fontSize:parseInt(s.style("font-size"),10)};o(l[2],i,function(i,o,a){d.selectAll("svg."+p).remove(),d.selectAll("g."+p+"-group").remove();var l=i&&i.select("svg");if(!l||!l.node())return n(),void e();var u=d.append("g").classed(p+"-group",!0).attr({"pointer-events":"none"});u.node().appendChild(l.node()),o&&o.node()&&l.node().insertBefore(o.node().cloneNode(!0),l.node().firstChild),l.attr({class:p,height:a.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var c=s.style("fill")||"black";l.select("g").attr({fill:c,stroke:c});var f=r(l,"width"),h=r(l,"height"),m=+s.attr("x")-f*{start:0,middle:.5,end:1}[s.attr("text-anchor")||"start"],v=parseInt(s.style("font-size"),10)||r(s,"height"),g=-v/4;"y"===p[0]?(u.attr({transform:"rotate("+[-90,+s.attr("x"),+s.attr("y")]+") translate("+[-f/2,g-h/2]+")"}),l.attr({x:+s.attr("x"),y:+s.attr("y")})):"l"===p[0]?l.attr({x:s.attr("x"),y:g-h/2}):"a"===p[0]?l.attr({x:0,y:g}):l.attr({x:m,y:+s.attr("y")+g-h/2}),t&&t.call(s,u),e(u)})}))}else n();return e}};var m={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},v=["http:","https:","mailto:"],g=new RegExp("</?("+Object.keys(m).join("|")+")( [^>]*)?/?>","g"),y=Object.keys(p.entityToUnicode).map(function(e){return{regExp:new RegExp("&"+e+";","g"),sub:p.entityToUnicode[e]}}),b=Object.keys(p.unicodeToEntity).map(function(e){return{regExp:new RegExp(e,"g"),sub:"&"+p.unicodeToEntity[e]+";"}}),x=/(\r\n?|\n)/g;t.plainText=function(e){return(e||"").replace(g," ")},t.makeEditable=function(e,t,n){function r(){o(),a.style({opacity:0});var e,t=u.attr("class");(e=t?"."+t.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(a.node().parentNode).select(e).style({opacity:0})}function i(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function o(){var e=h.getPlotDiv(a.node()),t=f.select(e),r=t.select(".svg-container"),o=r.append("div");o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":a.style("font-family")||"Arial","font-size":a.style("font-size")||12,color:n.fill||a.style("fill")||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(a.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(n.text||a.attr("data-unformatted")).call(c(a,r,n)).on("blur",function(){e._editing=!1,a.text(this.textContent).style({opacity:1});var t,n=f.select(this).attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(a.node().parentNode).select(t).style({opacity:0});var r=this.textContent;f.select(this).transition().duration(0).remove(),f.select(document).on("mouseup",null),s.edit.call(a,r)}).on("focus",function(){var t=this;e._editing=!0,f.select(document).on("mouseup",function(){if(f.event.target===t)return!1;document.activeElement===o.node()&&o.node().blur()})}).on("keyup",function(){27===f.event.which?(e._editing=!1,a.style({opacity:1}),f.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),s.cancel.call(a,this.textContent)):(s.input.call(a,this.textContent),f.select(this).call(c(a,r,n)))}).on("keydown",function(){13===f.event.which&&this.blur()}).call(i)}n||(n={});var a=this,s=f.dispatch("edit","input","cancel"),l=f.select(this.node()).style({"pointer-events":"all"}),u=t||l;return t&&l.style({"pointer-events":"none"}),n.immediate?r():u.on("click",r),f.rebind(this,s,"on")}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e._fullLayout,a=o._modules;t.plot&&t.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var s=0;s<a.length;s++){var l=a[s];if("cartesian"===l.basePlotModule.name){for(var u=[],c=0;c<n.length;c++){var f=n[c],h=f[0].trace;h._module===l&&!0===h.visible&&u.push(f)}l.plot(e,t,u,r,i)}}}function i(e){for(var t=e._fullLayout,n=Object.keys(t._plots),r=[],i=[],o=0;o<n.length;o++){var a=n[o],s=t._plots[a],l=s.xaxis,u=s.yaxis,c=f.getFromId(e,l.overlaying)||l;c!==l&&c.overlaying&&(c=l,l.overlaying=!1);var h=f.getFromId(e,u.overlaying)||u;h!==u&&h.overlaying&&(h=u,u.overlaying=!1);var d=c._id+h._id;d!==a&&-1!==n.indexOf(d)?(s.mainplot=d,s.mainplotinfo=t._plots[d],i.push(a),l.domain=c.domain.slice(),u.domain=h.domain.slice()):r.push(a)}return r=r.concat(i)}function o(e){function t(e){s(e,"g","imagelayer"),s(e,"g","maplayer"),s(e,"g","barlayer"),s(e,"g","carpetlayer"),s(e,"g","boxlayer"),s(e,"g","scatterlayer")}var n=e.plotgroup,r=e.id;if(e.mainplot){var i=e.mainplotinfo;e.gridlayer=s(i.overgrid,"g",r),e.zerolinelayer=s(i.overzero,"g",r),e.plot=s(i.overplot,"g",r),e.xlines=s(i.overlines,"path",r),e.ylines=s(i.overlines,"path",r),e.xaxislayer=s(i.overaxes,"g",r),e.yaxislayer=s(i.overaxes,"g",r)}else{var o=s(n,"g","layer-subplot");e.shapelayer=s(o,"g","shapelayer"),e.imagelayer=s(o,"g","imagelayer"),e.gridlayer=s(n,"g","gridlayer"),e.overgrid=s(n,"g","overgrid"),e.zerolinelayer=s(n,"g","zerolinelayer"),e.overzero=s(n,"g","overzero"),e.plot=s(n,"g","plot"),e.overplot=s(n,"g","overplot"),e.xlines=s(n,"path","xlines"),e.ylines=s(n,"path","ylines"),e.overlines=s(n,"g","overlines"),e.xaxislayer=s(n,"g","xaxislayer"),e.yaxislayer=s(n,"g","yaxislayer"),e.overaxes=s(n,"g","overaxes")}e.plot.call(t),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function a(e,t){e&&e.each(function(e){var n=l.select(this),r="clip"+t._uid+e+"plot";n.remove(),t._draggers.selectAll("g."+e).remove(),t._defs.select("#"+r).remove()})}function s(e,t,n){var r=e.selectAll("."+n).data([0]);return r.enter().append(t).classed(n,!0),r}var l=n(2),u=n(0),c=n(16),f=n(53),h=n(33);t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=h.idRegex,t.attrRegex=h.attrRegex,t.attributes=n(567),t.layoutAttributes=n(57),t.transitionAxes=n(1389),t.plot=function(e,t,n,i){var o,a=e._fullLayout,s=c.getSubplotIds(a,"cartesian"),l=e.calcdata;if(!Array.isArray(t))for(t=[],o=0;o<l.length;o++)t.push(o);for(o=0;o<s.length;o++){for(var u,f=s[o],h=a._plots[f],d=[],p=0;p<l.length;p++){var m=l[p],v=m[0].trace;v.xaxis+v.yaxis===f&&((-1!==t.indexOf(v.index)||v.carpet)&&(u&&u[0].trace.xaxis+u[0].trace.yaxis===f&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===d.indexOf(u)&&d.push(u),d.push(m)),u=m)}r(e,h,d,n,i)}},t.clean=function(e,t,n,r){var i,o,s,l=r._modules||[],u=t._modules||[];for(s=0;s<l.length;s++)if("scatter"===l[s].name){i=!0;break}for(s=0;s<u.length;s++)if("scatter"===u[s].name){o=!0;break}if(i&&!o){var c=r._plots,h=Object.keys(c||{});for(s=0;s<h.length;s++){var d=c[h[s]];d.plot&&d.plot.select("g.scatterlayer").selectAll("g.trace").remove()}r._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var p=r._has&&r._has("cartesian"),m=t._has&&t._has("cartesian");if(p&&!m){var v=r._cartesianlayer.selectAll(".subplot"),g=f.listIds({_fullLayout:r});for(v.call(a,r),r._defs.selectAll(".axesclip").remove(),s=0;s<g.length;s++)r._infolayer.select("."+g[s]+"title").remove()}},t.drawFramework=function(e){var t=e._fullLayout,n=i(e),r=t._cartesianlayer.selectAll(".subplot").data(n,u.identity);r.enter().append("g").attr("class",function(e){return"subplot "+e}),r.order(),r.exit().call(a,t),r.each(function(e){var n=t._plots[e];if(n.plotgroup=l.select(this),n.overlays=[],o(n),n.mainplot){t._plots[n.mainplot].overlays.push(n)}n.draglayer=s(t._draggers,"g",e)})},t.rangePlot=function(e,t,n){o(t),r(e,t,n),c.style(e)}},function(e,t,n){"use strict";e.exports={family:{valType:"string",role:"style",noBlank:!0,strict:!0,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1},color:{valType:"color",role:"style"}}},function(e,t,n){"use strict";var r=n(1),i={on:function(e,t){return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(!e)return delete this._events,this;if(!this.listens(e))return this;if(t){var n=this._events[e].indexOf(t);n>=0&&this._events[e].splice(n,1),this._events[e].length||delete this._events[e]}else delete this._events[e];return this},once:function(e,t){var n=function(r){this.off(e,n),t.call(this,r)}.bind(this);return this.on(e,n),this},fire:function(e,t){if(!this.listens(e))return r.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event"),this;t=r.extend({},t),r.extend(t,{type:e,target:this});for(var n=this._events[e].slice(),i=0;i<n.length;i++)n[i].call(this,t);return this},listens:function(e){return!(!this._events||!this._events[e])}};e.exports=i},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=(n(854),n(855),n(856),n(427));n.d(t,"a",function(){return r.a});var i=n(273);n.d(t,"b",function(){return i.a});n(857),n(858),n(274),n(859)},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function d(e,t){return!!(null==e?0:e.length)&&k(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e){return e.split("")}function _(e){return e.match(Bt)||[]}function w(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function M(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function k(e,t,n){return t===t?$(e,t,n):M(e,S,n)}function E(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function T(e,t){var n=null==e?0:e.length;return n?P(e,t)/n:Ne}function A(e){return function(t){return null==t?ie:t[e]}}function C(e){return function(t){return null==e?ie:e[t]}}function D(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function O(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function P(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function L(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e,t){return m(t,function(t){return[t,e[t]]})}function N(e){return function(t){return e(t)}}function R(e,t){return m(t,function(t){return e[t]})}function j(e,t){return e.has(t)}function z(e,t){for(var n=-1,r=e.length;++n<r&&k(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length;n--&&k(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function U(e){return"\\"+An[e]}function V(e,t){return null==e?ie:e[t]}function H(e){return bn.test(e)}function Y(e){return xn.test(e)}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function G(e,t){return function(n){return e(t(n))}}function X(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==ce||(e[n]=ce,o[i++]=n)}return o}function Z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function $(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function J(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Q(e){return H(e)?te(e):Wn(e)}function ee(e){return H(e)?ne(e):x(e)}function te(e){for(var t=gn.lastIndex=0;gn.test(e);)++t;return t}function ne(e){return e.match(gn)||[]}function re(e){return e.match(yn)||[]}var ie,oe=200,ae="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",se="Expected a function",le="__lodash_hash_undefined__",ue=500,ce="__lodash_placeholder__",fe=1,he=2,de=4,pe=1,me=2,ve=1,ge=2,ye=4,be=8,xe=16,_e=32,we=64,Me=128,ke=256,Ee=512,Se=30,Te="...",Ae=800,Ce=16,De=1,Oe=2,Pe=1/0,Le=9007199254740991,Ie=1.7976931348623157e308,Ne=NaN,Re=4294967295,je=Re-1,ze=Re>>>1,Fe=[["ary",Me],["bind",ve],["bindKey",ge],["curry",be],["curryRight",xe],["flip",Ee],["partial",_e],["partialRight",we],["rearg",ke]],Be="[object Arguments]",Ue="[object Array]",Ve="[object AsyncFunction]",He="[object Boolean]",Ye="[object Date]",We="[object DOMException]",qe="[object Error]",Ge="[object Function]",Xe="[object GeneratorFunction]",Ze="[object Map]",Ke="[object Number]",$e="[object Null]",Je="[object Object]",Qe="[object Proxy]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",at="[object WeakSet]",st="[object ArrayBuffer]",lt="[object DataView]",ut="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",pt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Mt=RegExp(_t.source),kt=RegExp(wt.source),Et=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,Dt=/^\./,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(Pt.source),It=/^\s+|\s+$/g,Nt=/^\s+/,Rt=/\s+$/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="["+Qt+"]",tn="["+Jt+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+Qt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",ln="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+nn+"|"+rn+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",fn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",hn="[\\ufe0e\\ufe0f]?"+cn+fn,dn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+hn,pn="(?:"+["[^\\ud800-\\udfff]"+tn+"?",tn,an,sn,"[\\ud800-\\udfff]"].join("|")+")",mn=RegExp("['’]","g"),vn=RegExp(tn,"g"),gn=RegExp(on+"(?="+on+")|"+pn+hn,"g"),yn=RegExp([ln+"?"+nn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[en,ln,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[en,ln+un,"$"].join("|")+")",ln+"?"+un+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ln+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),bn=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wn=-1,Mn={};Mn[ut]=Mn[ct]=Mn[ft]=Mn[ht]=Mn[dt]=Mn[pt]=Mn[mt]=Mn[vt]=Mn[gt]=!0,Mn[Be]=Mn[Ue]=Mn[st]=Mn[He]=Mn[lt]=Mn[Ye]=Mn[qe]=Mn[Ge]=Mn[Ze]=Mn[Ke]=Mn[Je]=Mn[et]=Mn[tt]=Mn[nt]=Mn[ot]=!1;var kn={};kn[Be]=kn[Ue]=kn[st]=kn[lt]=kn[He]=kn[Ye]=kn[ut]=kn[ct]=kn[ft]=kn[ht]=kn[dt]=kn[Ze]=kn[Ke]=kn[Je]=kn[et]=kn[tt]=kn[nt]=kn[rt]=kn[pt]=kn[mt]=kn[vt]=kn[gt]=!0,kn[qe]=kn[Ge]=kn[ot]=!1;var En={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Dn=parseInt,On="object"==typeof e&&e&&e.Object===Object&&e,Pn="object"==typeof self&&self&&self.Object===Object&&self,Ln=On||Pn||Function("return this")(),In="object"==typeof t&&t&&!t.nodeType&&t,Nn=In&&"object"==typeof r&&r&&!r.nodeType&&r,Rn=Nn&&Nn.exports===In,jn=Rn&&On.process,zn=function(){try{return jn&&jn.binding&&jn.binding("util")}catch(e){}}(),Fn=zn&&zn.isArrayBuffer,Bn=zn&&zn.isDate,Un=zn&&zn.isMap,Vn=zn&&zn.isRegExp,Hn=zn&&zn.isSet,Yn=zn&&zn.isTypedArray,Wn=A("length"),qn=C(En),Gn=C(Sn),Xn=C(Tn),Zn=function e(t){function n(e){if(ol(e)&&!gh(e)&&!(e instanceof x)){if(e instanceof i)return e;if(vc.call(e,"__wrapped__"))return na(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function x(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function C(){var e=new x(this.__wrapped__);return e.__actions__=ji(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ji(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ji(this.__views__),e}function $(){if(this.__filtered__){var e=new x(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=gh(e),r=t<0,i=n?e.length:0,o=To(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=qc(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return yi(e,this.__actions__);var p=[];e:for(;l--&&h<d;){u+=t;for(var m=-1,v=e[u];++m<f;){var g=c[m],y=g.iteratee,b=g.type,x=y(v);if(b==Oe)v=x;else if(!x){if(b==De)continue e;break e}}p[h++]=v}return p}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bt(){this.__data__=nf?nf(null):{},this.size=0}function Jt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Qt(e){var t=this.__data__;if(nf){var n=t[e];return n===le?ie:n}return vc.call(t,e)?t[e]:ie}function en(e){var t=this.__data__;return nf?t[e]!==ie:vc.call(t,e)}function tn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nf&&t===ie?le:t,this}function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(e){var t=this.__data__,n=Kn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Dc.call(t,n,1),--this.size,!0)}function an(e){var t=this.__data__,n=Kn(t,e);return n<0?ie:t[n][1]}function sn(e){return Kn(this.__data__,e)>-1}function ln(e,t){var n=this.__data__,r=Kn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new ne,map:new(Jc||nn),string:new ne}}function fn(e){var t=Mo(this,e).delete(e);return this.size-=t?1:0,t}function hn(e){return Mo(this,e).get(e)}function dn(e){return Mo(this,e).has(e)}function pn(e,t){var n=Mo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function yn(e){return this.__data__.set(e,le),this}function bn(e){return this.__data__.has(e)}function xn(e){var t=this.__data__=new nn(e);this.size=t.size}function En(){this.__data__=new nn,this.size=0}function Sn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tn(e){return this.__data__.get(e)}function An(e){return this.__data__.has(e)}function On(e,t){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Jc||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(e,t),this.size=n.size,this}function Pn(e,t){var n=gh(e),r=!n&&vh(e),i=!n&&!r&&bh(e),o=!n&&!r&&!i&&kh(e),a=n||r||i||o,s=a?L(e.length,uc):[],l=s.length;for(var u in e)!t&&!vc.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||No(u,l))||s.push(u);return s}function In(e){var t=e.length;return t?e[Qr(0,t-1)]:ie}function Nn(e,t){return Jo(ji(e),nr(t,0,e.length))}function jn(e){return Jo(ji(e))}function zn(e,t,n){(n===ie||Ws(e[t],n))&&(n!==ie||t in e)||er(e,t,n)}function Wn(e,t,n){var r=e[t];vc.call(e,t)&&Ws(r,n)&&(n!==ie||t in e)||er(e,t,n)}function Kn(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function $n(e,t,n,r){return mf(e,function(e,i,o){t(r,e,n(e),o)}),r}function Jn(e,t){return e&&zi(t,Bl(t),e)}function Qn(e,t){return e&&zi(t,Ul(t),e)}function er(e,t,n){"__proto__"==t&&Ic?Ic(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tr(e,t){for(var n=-1,r=t.length,i=nc(r),o=null==e;++n<r;)i[n]=o?ie:jl(e,t[n]);return i}function nr(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function rr(e,t,n,r,i,o){var a,s=t&fe,l=t&he,c=t&de;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!il(e))return e;var f=gh(e);if(f){if(a=Do(e),!s)return ji(e,a)}else{var h=Tf(e),d=h==Ge||h==Xe;if(bh(e))return Ei(e,s);if(h==Je||h==Be||d&&!i){if(a=l||d?{}:Oo(e),!s)return l?Bi(e,Qn(a,e)):Fi(e,Jn(a,e))}else{if(!kn[h])return i?e:{};a=Po(e,h,rr,s)}}o||(o=new xn);var p=o.get(e);if(p)return p;o.set(e,a);var m=c?l?bo:yo:l?Ul:Bl,v=f?ie:m(e);return u(v||e,function(r,i){v&&(i=r,r=e[i]),Wn(a,i,rr(r,t,n,i,e,o))}),a}function ir(e){var t=Bl(e);return function(n){return or(n,e,t)}}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=sc(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function ar(e,t,n){if("function"!=typeof e)throw new cc(se);return Df(function(){e.apply(ie,n)},t)}function sr(e,t,n,r){var i=-1,o=d,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,N(n))),r?(o=p,a=!1):t.length>=oe&&(o=j,a=!1,t=new gn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(c)}else o(t,f,r)||l.push(c)}return l}function lr(e,t){var n=!0;return mf(e,function(e,r,i){return n=!!t(e,r,i)}),n}function ur(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ie?a===a&&!vl(a):n(a,s)))var s=a,l=o}return l}function cr(e,t,n,r){var i=e.length;for(n=wl(n),n<0&&(n=-n>i?0:i+n),r=r===ie||r>i?i:wl(r),r<0&&(r+=i),r=n>r?0:Ml(r);n<r;)e[n++]=t;return e}function fr(e,t){var n=[];return mf(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function hr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Io),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?hr(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function dr(e,t){return e&&gf(e,t,Bl)}function pr(e,t){return e&&yf(e,t,Bl)}function mr(e,t){return h(t,function(t){return tl(e[t])})}function vr(e,t){t=Mi(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Qo(t[n++])];return n&&n==r?e:ie}function gr(e,t,n){var r=t(e);return gh(e)?r:v(r,n(e))}function yr(e){return null==e?e===ie?it:$e:Lc&&Lc in sc(e)?So(e):qo(e)}function br(e,t){return e>t}function xr(e,t){return null!=e&&vc.call(e,t)}function _r(e,t){return null!=e&&t in sc(e)}function wr(e,t,n){return e>=qc(t,n)&&e<Wc(t,n)}function Mr(e,t,n){for(var r=n?p:d,i=e[0].length,o=e.length,a=o,s=nc(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=m(c,N(t))),l=qc(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new gn(a&&c):ie}c=e[0];var f=-1,h=s[0];e:for(;++f<i&&u.length<l;){var v=c[f],g=t?t(v):v;if(v=n||0!==v?v:0,!(h?j(h,g):r(u,g,n))){for(a=o;--a;){var y=s[a];if(!(y?j(y,g):r(e[a],g,n)))continue e}h&&h.push(g),u.push(v)}}return u}function kr(e,t,n,r){return dr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Er(e,t,n){t=Mi(t,e),e=Xo(e,t);var r=null==e?e:e[Qo(_a(t))];return null==r?ie:s(r,e,n)}function Sr(e){return ol(e)&&yr(e)==Be}function Tr(e){return ol(e)&&yr(e)==st}function Ar(e){return ol(e)&&yr(e)==Ye}function Cr(e,t,n,r,i){return e===t||(null==e||null==t||!ol(e)&&!ol(t)?e!==e&&t!==t:Dr(e,t,n,r,Cr,i))}function Dr(e,t,n,r,i,o){var a=gh(e),s=gh(t),l=a?Ue:Tf(e),u=s?Ue:Tf(t);l=l==Be?Je:l,u=u==Be?Je:u;var c=l==Je,f=u==Je,h=l==u;if(h&&bh(e)){if(!bh(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xn),a||kh(e)?po(e,t,n,r,i,o):mo(e,t,l,n,r,i,o);if(!(n&pe)){var d=c&&vc.call(e,"__wrapped__"),p=f&&vc.call(t,"__wrapped__");if(d||p){var m=d?e.value():e,v=p?t.value():t;return o||(o=new xn),i(m,v,n,r,o)}}return!!h&&(o||(o=new xn),vo(e,t,n,r,i,o))}function Or(e){return ol(e)&&Tf(e)==Ze}function Pr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=sc(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===ie&&!(l in e))return!1}else{var f=new xn;if(r)var h=r(u,c,l,e,t,f);if(!(h===ie?Cr(c,u,pe|me,r,f):h))return!1}}return!0}function Lr(e){return!(!il(e)||Bo(e))&&(tl(e)?wc:qt).test(ea(e))}function Ir(e){return ol(e)&&yr(e)==et}function Nr(e){return ol(e)&&Tf(e)==tt}function Rr(e){return ol(e)&&rl(e.length)&&!!Mn[yr(e)]}function jr(e){return"function"==typeof e?e:null==e?Du:"object"==typeof e?gh(e)?Hr(e[0],e[1]):Vr(e):zu(e)}function zr(e){if(!Uo(e))return Yc(e);var t=[];for(var n in sc(e))vc.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!il(e))return Wo(e);var t=Uo(e),n=[];for(var r in e)("constructor"!=r||!t&&vc.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Ur(e,t){var n=-1,r=qs(e)?nc(e.length):[];return mf(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Vr(e){var t=ko(e);return 1==t.length&&t[0][2]?Ho(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Hr(e,t){return jo(e)&&Vo(t)?Ho(Qo(e),t):function(n){var r=jl(n,e);return r===ie&&r===t?Fl(n,e):Cr(t,r,pe|me)}}function Yr(e,t,n,r,i){e!==t&&gf(t,function(o,a){if(il(o))i||(i=new xn),Wr(e,t,a,n,Yr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):ie;s===ie&&(s=o),zn(e,a,s)}},Ul)}function Wr(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void zn(e,n,u);var c=o?o(s,l,n+"",e,t,a):ie,f=c===ie;if(f){var h=gh(l),d=!h&&bh(l),p=!h&&!d&&kh(l);c=l,h||d||p?gh(s)?c=s:Gs(s)?c=ji(s):d?(f=!1,c=Ei(l,!0)):p?(f=!1,c=Pi(l,!0)):c=[]:dl(l)||vh(l)?(c=s,vh(s)?c=El(s):(!il(s)||r&&tl(s))&&(c=Oo(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),zn(e,n,c)}function qr(e,t){var n=e.length;if(n)return t+=t<0?n:0,No(t,n)?e[t]:ie}function Gr(e,t,n){var r=-1;return t=m(t.length?t:[Du],N(wo())),O(Ur(e,function(e,n,i){return{criteria:m(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ii(e,t,n)})}function Xr(e,t){return Zr(e,t,function(t,n){return Fl(e,n)})}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=vr(e,a);n(s,a)&&oi(o,Mi(a,e),s)}return o}function Kr(e){return function(t){return vr(t,e)}}function $r(e,t,n,r){var i=r?E:k,o=-1,a=t.length,s=e;for(e===t&&(t=ji(t)),n&&(s=m(e,N(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Dc.call(s,l,1),Dc.call(e,l,1);return e}function Jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;No(i)?Dc.call(e,i,1):mi(e,i)}}return e}function Qr(e,t){return e+Fc(Zc()*(t-e+1))}function ei(e,t,n,r){for(var i=-1,o=Wc(zc((t-e)/(n||1)),0),a=nc(o);o--;)a[r?o:++i]=e,e+=n;return a}function ti(e,t){var n="";if(!e||t<1||t>Le)return n;do{t%2&&(n+=e),(t=Fc(t/2))&&(e+=e)}while(t);return n}function ni(e,t){return Of(Go(e,t,Du),e+"")}function ri(e){return In(Ql(e))}function ii(e,t){var n=Ql(e);return Jo(n,nr(t,0,n.length))}function oi(e,t,n,r){if(!il(e))return e;t=Mi(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=Qo(t[i]),u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):ie,u===ie&&(u=il(c)?c:No(t[i+1])?[]:{})}Wn(s,l,u),s=s[l]}return e}function ai(e){return Jo(Ql(e))}function si(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=nc(i);++r<i;)o[r]=e[r+t];return o}function li(e,t){var n;return mf(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ui(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=ze){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!vl(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,Du,n)}function ci(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,l=vl(t),u=t===ie;i<o;){var c=Fc((i+o)/2),f=n(e[c]),h=f!==ie,d=null===f,p=f===f,m=vl(f);if(a)var v=r||p;else v=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);v?i=c+1:o=c}return qc(o,je)}function fi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ws(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function hi(e){return"number"==typeof e?e:vl(e)?Ne:+e}function di(e){if("string"==typeof e)return e;if(gh(e))return m(e,di)+"";if(vl(e))return df?df.call(e):"";var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function pi(e,t,n){var r=-1,i=d,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=p;else if(o>=oe){var u=t?null:Mf(e);if(u)return Z(u);a=!1,i=j,l=new gn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function mi(e,t){return t=Mi(t,e),null==(e=Xo(e,t))||delete e[Qo(_a(t))]}function vi(e,t,n,r){return oi(e,t,n(vr(e,t)),r)}function gi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?si(e,r?0:o,r?o+1:i):si(e,r?o+1:0,r?i:o)}function yi(e,t){var n=e;return n instanceof x&&(n=n.value()),g(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function bi(e,t,n){var r=e.length;if(r<2)return r?pi(e[0]):[];for(var i=-1,o=nc(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,e[s],t,n));return pi(hr(o,1),t,n)}function xi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ie;n(a,e[r],s)}return a}function _i(e){return Gs(e)?e:[]}function wi(e){return"function"==typeof e?e:Du}function Mi(e,t){return gh(e)?e:jo(e,t)?[e]:Pf(Tl(e))}function ki(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:si(e,t,n)}function Ei(e,t){if(t)return e.slice();var n=e.length,r=Sc?Sc(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Ec(t).set(new Ec(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ai(e,t,n){return g(t?n(q(e),fe):q(e),o,new e.constructor)}function Ci(e){var t=new e.constructor(e.source,Ht.exec(e));return t.lastIndex=e.lastIndex,t}function Di(e,t,n){return g(t?n(Z(e),fe):Z(e),a,new e.constructor)}function Oi(e){return hf?sc(hf.call(e)):{}}function Pi(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Li(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=vl(e),a=t!==ie,s=null===t,l=t===t,u=vl(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Ii(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Li(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}function Ni(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Wc(o-a,0),c=nc(l+u),f=!r;++s<l;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ri(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Wc(o-s,0),f=nc(c+u),h=!r;++i<c;)f[i]=e[i];for(var d=i;++l<u;)f[d+l]=t[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function ji(e,t){var n=-1,r=e.length;for(t||(t=nc(r));++n<r;)t[n]=e[n];return t}function zi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):ie;l===ie&&(l=e[s]),i?er(n,s,l):Wn(n,s,l)}return n}function Fi(e,t){return zi(e,Ef(e),t)}function Bi(e,t){return zi(e,Sf(e),t)}function Ui(e,t){return function(n,r){var i=gh(n)?l:$n,o=t?t():{};return i(n,e,wo(r,2),o)}}function Vi(e){return ni(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&Ro(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=sc(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Hi(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=sc(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Yi(e){return function(t,n,r){for(var i=-1,o=sc(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Wi(e,t,n){function r(){return(this&&this!==Ln&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ve,o=Xi(e);return r}function qi(e){return function(t){t=Tl(t);var n=H(t)?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?ki(n,1).join(""):t.slice(1);return r[e]()+i}}function Gi(e){return function(t){return g(Eu(ou(t).replace(mn,"")),e,"")}}function Xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pf(e.prototype),r=e.apply(n,t);return il(r)?r:n}}function Zi(e,t,n){function r(){for(var o=arguments.length,a=nc(o),l=o,u=_o(r);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:X(a,u);return(o-=c.length)<n?ao(e,t,Ji,r.placeholder,ie,a,c,ie,ie,n-o):s(this&&this!==Ln&&this instanceof r?i:e,this,a)}var i=Xi(e);return r}function Ki(e){return function(t,n,r){var i=sc(t);if(!qs(t)){var o=wo(n,3);t=Bl(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function $i(e){return go(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new cc(se);if(o&&!s&&"wrapper"==xo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var l=xo(a),u="wrapper"==l?kf(a):ie;s=u&&Fo(u[0])&&u[1]==(Me|be|_e|ke)&&!u[4].length&&1==u[9]?s[xo(u[0])].apply(s,u[3]):1==a.length&&Fo(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gh(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ji(e,t,n,r,i,o,a,s,l,u){function c(){for(var g=arguments.length,y=nc(g),b=g;b--;)y[b]=arguments[b];if(p)var x=_o(c),_=B(y,x);if(r&&(y=Ni(y,r,i,p)),o&&(y=Ri(y,o,a,p)),g-=_,p&&g<u){var w=X(y,x);return ao(e,t,Ji,c.placeholder,n,y,w,s,l,u-g)}var M=h?n:this,k=d?M[e]:e;return g=y.length,s?y=Zo(y,s):m&&g>1&&y.reverse(),f&&l<g&&(y.length=l),this&&this!==Ln&&this instanceof c&&(k=v||Xi(k)),k.apply(M,y)}var f=t&Me,h=t&ve,d=t&ge,p=t&(be|xe),m=t&Ee,v=d?ie:Xi(e);return c}function Qi(e,t){return function(n,r){return kr(n,e,t(r),{})}}function eo(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=hi(n),r=hi(r)),i=e(n,r)}return i}}function to(e){return go(function(t){return t=m(t,N(wo())),ni(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function no(e,t){t=t===ie?" ":di(t);var n=t.length;if(n<2)return n?ti(t,e):t;var r=ti(t,zc(e/Q(t)));return H(t)?ki(ee(r),0,e).join(""):r.slice(0,e)}function ro(e,t,n,r){function i(){for(var t=-1,l=arguments.length,u=-1,c=r.length,f=nc(c+l),h=this&&this!==Ln&&this instanceof i?a:e;++u<c;)f[u]=r[u];for(;l--;)f[u++]=arguments[++t];return s(h,o?n:this,f)}var o=t&ve,a=Xi(e);return i}function io(e){return function(t,n,r){return r&&"number"!=typeof r&&Ro(t,n,r)&&(n=r=ie),t=_l(t),n===ie?(n=t,t=0):n=_l(n),r=r===ie?t<n?1:-1:_l(r),ei(t,n,r,e)}}function oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=kl(t),n=kl(n)),e(t,n)}}function ao(e,t,n,r,i,o,a,s,l,u){var c=t&be,f=c?a:ie,h=c?ie:a,d=c?o:ie,p=c?ie:o;t|=c?_e:we,(t&=~(c?we:_e))&ye||(t&=~(ve|ge));var m=[e,t,i,d,f,p,h,s,l,u],v=n.apply(ie,m);return Fo(e)&&Cf(v,m),v.placeholder=r,Ko(v,e,t)}function so(e){var t=ac[e];return function(e,n){if(e=kl(e),n=null==n?0:qc(wl(n),292)){var r=(Tl(e)+"e").split("e");return r=(Tl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function lo(e){return function(t){var n=Tf(t);return n==Ze?q(t):n==tt?K(t):I(t,e(t))}}function uo(e,t,n,r,i,o,a,s){var l=t&ge;if(!l&&"function"!=typeof e)throw new cc(se);var u=r?r.length:0;if(u||(t&=~(_e|we),r=i=ie),a=a===ie?a:Wc(wl(a),0),s=s===ie?s:wl(s),u-=i?i.length:0,t&we){var c=r,f=i;r=i=ie}var h=l?ie:kf(e),d=[e,t,n,r,i,c,f,o,a,s];if(h&&Yo(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===ie?l?0:e.length:Wc(d[9]-u,0),!s&&t&(be|xe)&&(t&=~(be|xe)),t&&t!=ve)p=t==be||t==xe?Zi(e,t,s):t!=_e&&t!=(ve|_e)||i.length?Ji.apply(ie,d):ro(e,t,n,r);else var p=Wi(e,t,n);return Ko((h?bf:Cf)(p,d),e,t)}function co(e,t,n,r){return e===ie||Ws(e,dc[n])&&!vc.call(r,n)?t:e}function fo(e,t,n,r,i,o){return il(e)&&il(t)&&(o.set(t,e),Yr(e,t,ie,fo,o),o.delete(t)),e}function ho(e){return dl(e)?ie:e}function po(e,t,n,r,i,o){var a=n&pe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,h=n&me?new gn:ie;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var m=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(m!==ie){if(m)continue;f=!1;break}if(h){if(!b(t,function(e,t){if(!j(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function mo(e,t,n,r,i,o,a){switch(n){case lt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case st:return!(e.byteLength!=t.byteLength||!o(new Ec(e),new Ec(t)));case He:case Ye:case Ke:return Ws(+e,+t);case qe:return e.name==t.name&&e.message==t.message;case et:case nt:return e==t+"";case Ze:var s=q;case tt:var l=r&pe;if(s||(s=Z),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=me,a.set(e,t);var c=po(s(e),s(t),r,i,o,a);return a.delete(e),c;case rt:if(hf)return hf.call(e)==hf.call(t)}return!1}function vo(e,t,n,r,i,o){var a=n&pe,s=yo(e),l=s.length;if(l!=yo(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:vc.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){c=s[u];var p=e[c],m=t[c];if(r)var v=a?r(m,p,c,t,e,o):r(p,m,c,e,t,o);if(!(v===ie?p===m||i(p,m,n,r,o):v)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}function go(e){return Of(Go(e,ie,da),e+"")}function yo(e){return gr(e,Bl,Ef)}function bo(e){return gr(e,Ul,Sf)}function xo(e){for(var t=e.name+"",n=of[t],r=vc.call(of,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function _o(e){return(vc.call(n,"placeholder")?n:e).placeholder}function wo(){var e=n.iteratee||Ou;return e=e===Ou?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function Mo(e,t){var n=e.__data__;return zo(t)?n["string"==typeof t?"string":"hash"]:n.map}function ko(e){for(var t=Bl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Vo(i)]}return t}function Eo(e,t){var n=V(e,t);return Lr(n)?n:ie}function So(e){var t=vc.call(e,Lc),n=e[Lc];try{e[Lc]=ie;var r=!0}catch(e){}var i=bc.call(e);return r&&(t?e[Lc]=n:delete e[Lc]),i}function To(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=qc(t,e+a);break;case"takeRight":e=Wc(e,t-a)}}return{start:e,end:t}}function Ao(e){var t=e.match(zt);return t?t[1].split(Ft):[]}function Co(e,t,n){t=Mi(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Qo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&rl(i)&&No(a,i)&&(gh(e)||vh(e))}function Do(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&vc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Oo(e){return"function"!=typeof e.constructor||Uo(e)?{}:pf(Tc(e))}function Po(e,t,n,r){var i=e.constructor;switch(t){case st:return Si(e);case He:case Ye:return new i(+e);case lt:return Ti(e,r);case ut:case ct:case ft:case ht:case dt:case pt:case mt:case vt:case gt:return Pi(e,r);case Ze:return Ai(e,r,n);case Ke:case nt:return new i(e);case et:return Ci(e);case tt:return Di(e,r,n);case rt:return Oi(e)}}function Lo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(jt,"{\n/* [wrapped with "+t+"] */\n")}function Io(e){return gh(e)||vh(e)||!!(Oc&&e&&e[Oc])}function No(e,t){return!!(t=null==t?Le:t)&&("number"==typeof e||Xt.test(e))&&e>-1&&e%1==0&&e<t}function Ro(e,t,n){if(!il(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&No(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function jo(e,t){if(gh(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vl(e))||(Ct.test(e)||!At.test(e)||null!=t&&e in sc(t))}function zo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Fo(e){var t=xo(e),r=n[t];if("function"!=typeof r||!(t in x.prototype))return!1;if(e===r)return!0;var i=kf(r);return!!i&&e===i[0]}function Bo(e){return!!yc&&yc in e}function Uo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dc)}function Vo(e){return e===e&&!il(e)}function Ho(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ie||e in sc(n)))}}function Yo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ve|ge|Me),a=r==Me&&n==be||r==Me&&n==ke&&e[7].length<=t[8]||r==(Me|ke)&&t[7].length<=t[8]&&n==be;if(!o&&!a)return e;r&ve&&(e[2]=t[2],i|=n&ve?0:ye);var s=t[3];if(s){var l=e[3];e[3]=l?Ni(l,s,t[4]):s,e[4]=l?X(e[3],ce):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ri(l,s,t[6]):s,e[6]=l?X(e[5],ce):t[6]),s=t[7],s&&(e[7]=s),r&Me&&(e[8]=null==e[8]?t[8]:qc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Wo(e){var t=[];if(null!=e)for(var n in sc(e))t.push(n);return t}function qo(e){return bc.call(e)}function Go(e,t,n){return t=Wc(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Wc(r.length-t,0),a=nc(o);++i<o;)a[i]=r[t+i];i=-1;for(var l=nc(t+1);++i<t;)l[i]=r[i];return l[t]=n(a),s(e,this,l)}}function Xo(e,t){return t.length<2?e:vr(e,si(t,0,-1))}function Zo(e,t){for(var n=e.length,r=qc(t.length,n),i=ji(e);r--;){var o=t[r];e[r]=No(o,n)?i[o]:ie}return e}function Ko(e,t,n){var r=t+"";return Of(e,Lo(r,ta(Ao(r),n)))}function $o(e){var t=0,n=0;return function(){var r=Gc(),i=Ce-(r-n);if(n=r,i>0){if(++t>=Ae)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Jo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=Qr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Qo(e){if("string"==typeof e||vl(e))return e;var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function ea(e){if(null!=e){try{return mc.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ta(e,t){return u(Fe,function(n){var r="_."+n[0];t&n[1]&&!d(e,r)&&e.push(r)}),e.sort()}function na(e){if(e instanceof x)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=ji(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ra(e,t,n){t=(n?Ro(e,t,n):t===ie)?1:Wc(wl(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=nc(zc(r/t));i<r;)a[o++]=si(e,i,i+=t);return a}function ia(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function oa(){var e=arguments.length;if(!e)return[];for(var t=nc(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return v(gh(n)?ji(n):[n],hr(t,1))}function aa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),si(e,t<0?0:t,r)):[]}function sa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),t=r-t,si(e,0,t<0?0:t)):[]}function la(e,t){return e&&e.length?gi(e,wo(t,3),!0,!0):[]}function ua(e,t){return e&&e.length?gi(e,wo(t,3),!0):[]}function ca(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ro(e,t,n)&&(n=0,r=i),cr(e,t,n,r)):[]}function fa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wl(n);return i<0&&(i=Wc(r+i,0)),M(e,wo(t,3),i)}function ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=wl(n),i=n<0?Wc(r+i,0):qc(i,r-1)),M(e,wo(t,3),i,!0)}function da(e){return(null==e?0:e.length)?hr(e,1):[]}function pa(e){return(null==e?0:e.length)?hr(e,Pe):[]}function ma(e,t){return(null==e?0:e.length)?(t=t===ie?1:wl(t),hr(e,t)):[]}function va(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ga(e){return e&&e.length?e[0]:ie}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wl(n);return i<0&&(i=Wc(r+i,0)),k(e,t,i)}function ba(e){return(null==e?0:e.length)?si(e,0,-1):[]}function xa(e,t){return null==e?"":Hc.call(e,t)}function _a(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=wl(n),i=i<0?Wc(r+i,0):qc(i,r-1)),t===t?J(e,t,i):M(e,S,i,!0)}function Ma(e,t){return e&&e.length?qr(e,wl(t)):ie}function ka(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}function Ea(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,wo(n,2)):e}function Sa(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,ie,n):e}function Ta(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=wo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Jr(e,i),n}function Aa(e){return null==e?e:Kc.call(e)}function Ca(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ro(e,t,n)?(t=0,n=r):(t=null==t?0:wl(t),n=n===ie?r:wl(n)),si(e,t,n)):[]}function Da(e,t){return ui(e,t)}function Oa(e,t,n){return ci(e,t,wo(n,2))}function Pa(e,t){var n=null==e?0:e.length;if(n){var r=ui(e,t);if(r<n&&Ws(e[r],t))return r}return-1}function La(e,t){return ui(e,t,!0)}function Ia(e,t,n){return ci(e,t,wo(n,2),!0)}function Na(e,t){if(null==e?0:e.length){var n=ui(e,t,!0)-1;if(Ws(e[n],t))return n}return-1}function Ra(e){return e&&e.length?fi(e):[]}function ja(e,t){return e&&e.length?fi(e,wo(t,2)):[]}function za(e){var t=null==e?0:e.length;return t?si(e,1,t):[]}function Fa(e,t,n){return e&&e.length?(t=n||t===ie?1:wl(t),si(e,0,t<0?0:t)):[]}function Ba(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),t=r-t,si(e,t<0?0:t,r)):[]}function Ua(e,t){return e&&e.length?gi(e,wo(t,3),!1,!0):[]}function Va(e,t){return e&&e.length?gi(e,wo(t,3)):[]}function Ha(e){return e&&e.length?pi(e):[]}function Ya(e,t){return e&&e.length?pi(e,wo(t,2)):[]}function Wa(e,t){return t="function"==typeof t?t:ie,e&&e.length?pi(e,ie,t):[]}function qa(e){if(!e||!e.length)return[];var t=0;return e=h(e,function(e){if(Gs(e))return t=Wc(e.length,t),!0}),L(t,function(t){return m(e,A(t))})}function Ga(e,t){if(!e||!e.length)return[];var n=qa(e);return null==t?n:m(n,function(e){return s(t,ie,e)})}function Xa(e,t){return xi(e||[],t||[],Wn)}function Za(e,t){return xi(e||[],t||[],oi)}function Ka(e){var t=n(e);return t.__chain__=!0,t}function $a(e,t){return t(e),e}function Ja(e,t){return t(e)}function Qa(){return Ka(this)}function es(){return new i(this.value(),this.__chain__)}function ts(){this.__values__===ie&&(this.__values__=xl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ie:this.__values__[this.__index__++]}}function ns(){return this}function rs(e){for(var t,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function is(){var e=this.__wrapped__;if(e instanceof x){var t=e;return this.__actions__.length&&(t=new x(this)),t=t.reverse(),t.__actions__.push({func:Ja,args:[Aa],thisArg:ie}),new i(t,this.__chain__)}return this.thru(Aa)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(e,t,n){var r=gh(e)?f:lr;return n&&Ro(e,t,n)&&(t=ie),r(e,wo(t,3))}function ss(e,t){return(gh(e)?h:fr)(e,wo(t,3))}function ls(e,t){return hr(ps(e,t),1)}function us(e,t){return hr(ps(e,t),Pe)}function cs(e,t,n){return n=n===ie?1:wl(n),hr(ps(e,t),n)}function fs(e,t){return(gh(e)?u:mf)(e,wo(t,3))}function hs(e,t){return(gh(e)?c:vf)(e,wo(t,3))}function ds(e,t,n,r){e=qs(e)?e:Ql(e),n=n&&!r?wl(n):0;var i=e.length;return n<0&&(n=Wc(i+n,0)),ml(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&k(e,t,n)>-1}function ps(e,t){return(gh(e)?m:Ur)(e,wo(t,3))}function ms(e,t,n,r){return null==e?[]:(gh(t)||(t=null==t?[]:[t]),n=r?ie:n,gh(n)||(n=null==n?[]:[n]),Gr(e,t,n))}function vs(e,t,n){var r=gh(e)?g:D,i=arguments.length<3;return r(e,wo(t,4),n,i,mf)}function gs(e,t,n){var r=gh(e)?y:D,i=arguments.length<3;return r(e,wo(t,4),n,i,vf)}function ys(e,t){return(gh(e)?h:fr)(e,Ps(wo(t,3)))}function bs(e){return(gh(e)?In:ri)(e)}function xs(e,t,n){return t=(n?Ro(e,t,n):t===ie)?1:wl(t),(gh(e)?Nn:ii)(e,t)}function _s(e){return(gh(e)?jn:ai)(e)}function ws(e){if(null==e)return 0;if(qs(e))return ml(e)?Q(e):e.length;var t=Tf(e);return t==Ze||t==tt?e.size:zr(e).length}function Ms(e,t,n){var r=gh(e)?b:li;return n&&Ro(e,t,n)&&(t=ie),r(e,wo(t,3))}function ks(e,t){if("function"!=typeof t)throw new cc(se);return e=wl(e),function(){if(--e<1)return t.apply(this,arguments)}}function Es(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,uo(e,Me,ie,ie,ie,ie,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new cc(se);return e=wl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function Ts(e,t,n){t=n?ie:t;var r=uo(e,be,ie,ie,ie,ie,ie,t);return r.placeholder=Ts.placeholder,r}function As(e,t,n){t=n?ie:t;var r=uo(e,xe,ie,ie,ie,ie,ie,t);return r.placeholder=As.placeholder,r}function Cs(e,t,n){function r(t){var n=h,r=d;return h=d=ie,y=t,m=e.apply(r,n)}function i(e){return y=e,v=Df(s,t),b?r(e):m}function o(e){var n=e-g,r=e-y,i=t-n;return x?qc(i,p-r):i}function a(e){var n=e-g,r=e-y;return g===ie||n>=t||n<0||x&&r>=p}function s(){var e=oh();if(a(e))return l(e);v=Df(s,o(e))}function l(e){return v=ie,_&&h?r(e):(h=d=ie,m)}function u(){v!==ie&&wf(v),y=0,h=g=d=v=ie}function c(){return v===ie?m:l(oh())}function f(){var e=oh(),n=a(e);if(h=arguments,d=this,g=e,n){if(v===ie)return i(g);if(x)return v=Df(s,t),r(g)}return v===ie&&(v=Df(s,t)),m}var h,d,p,m,v,g,y=0,b=!1,x=!1,_=!0;if("function"!=typeof e)throw new cc(se);return t=kl(t)||0,il(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Wc(kl(n.maxWait)||0,t):p,_="trailing"in n?!!n.trailing:_),f.cancel=u,f.flush=c,f}function Ds(e){return uo(e,Ee)}function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new cc(se);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Os.Cache||un),n}function Ps(e){if("function"!=typeof e)throw new cc(se);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ls(e){return Ss(2,e)}function Is(e,t){if("function"!=typeof e)throw new cc(se);return t=t===ie?t:wl(t),ni(e,t)}function Ns(e,t){if("function"!=typeof e)throw new cc(se);return t=null==t?0:Wc(wl(t),0),ni(function(n){var r=n[t],i=ki(n,0,t);return r&&v(i,r),s(e,this,i)})}function Rs(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new cc(se);return il(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cs(e,t,{leading:r,maxWait:t,trailing:i})}function js(e){return Es(e,1)}function zs(e,t){return fh(wi(t),e)}function Fs(){if(!arguments.length)return[];var e=arguments[0];return gh(e)?e:[e]}function Bs(e){return rr(e,de)}function Us(e,t){return t="function"==typeof t?t:ie,rr(e,de,t)}function Vs(e){return rr(e,fe|de)}function Hs(e,t){return t="function"==typeof t?t:ie,rr(e,fe|de,t)}function Ys(e,t){return null==t||or(e,t,Bl(t))}function Ws(e,t){return e===t||e!==e&&t!==t}function qs(e){return null!=e&&rl(e.length)&&!tl(e)}function Gs(e){return ol(e)&&qs(e)}function Xs(e){return!0===e||!1===e||ol(e)&&yr(e)==He}function Zs(e){return ol(e)&&1===e.nodeType&&!dl(e)}function Ks(e){if(null==e)return!0;if(qs(e)&&(gh(e)||"string"==typeof e||"function"==typeof e.splice||bh(e)||kh(e)||vh(e)))return!e.length;var t=Tf(e);if(t==Ze||t==tt)return!e.size;if(Uo(e))return!zr(e).length;for(var n in e)if(vc.call(e,n))return!1;return!0}function $s(e,t){return Cr(e,t)}function Js(e,t,n){n="function"==typeof n?n:ie;var r=n?n(e,t):ie;return r===ie?Cr(e,t,ie,n):!!r}function Qs(e){if(!ol(e))return!1;var t=yr(e);return t==qe||t==We||"string"==typeof e.message&&"string"==typeof e.name&&!dl(e)}function el(e){return"number"==typeof e&&Vc(e)}function tl(e){if(!il(e))return!1;var t=yr(e);return t==Ge||t==Xe||t==Ve||t==Qe}function nl(e){return"number"==typeof e&&e==wl(e)}function rl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Le}function il(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ol(e){return null!=e&&"object"==typeof e}function al(e,t){return e===t||Pr(e,t,ko(t))}function sl(e,t,n){return n="function"==typeof n?n:ie,Pr(e,t,ko(t),n)}function ll(e){return hl(e)&&e!=+e}function ul(e){if(Af(e))throw new ic(ae);return Lr(e)}function cl(e){return null===e}function fl(e){return null==e}function hl(e){return"number"==typeof e||ol(e)&&yr(e)==Ke}function dl(e){if(!ol(e)||yr(e)!=Je)return!1;var t=Tc(e);if(null===t)return!0;var n=vc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==xc}function pl(e){return nl(e)&&e>=-Le&&e<=Le}function ml(e){return"string"==typeof e||!gh(e)&&ol(e)&&yr(e)==nt}function vl(e){return"symbol"==typeof e||ol(e)&&yr(e)==rt}function gl(e){return e===ie}function yl(e){return ol(e)&&Tf(e)==ot}function bl(e){return ol(e)&&yr(e)==at}function xl(e){if(!e)return[];if(qs(e))return ml(e)?ee(e):ji(e);if(Pc&&e[Pc])return W(e[Pc]());var t=Tf(e);return(t==Ze?q:t==tt?Z:Ql)(e)}function _l(e){if(!e)return 0===e?e:0;if((e=kl(e))===Pe||e===-Pe){return(e<0?-1:1)*Ie}return e===e?e:0}function wl(e){var t=_l(e),n=t%1;return t===t?n?t-n:t:0}function Ml(e){return e?nr(wl(e),0,Re):0}function kl(e){if("number"==typeof e)return e;if(vl(e))return Ne;if(il(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=il(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(It,"");var n=Wt.test(e);return n||Gt.test(e)?Dn(e.slice(2),n?2:8):Yt.test(e)?Ne:+e}function El(e){return zi(e,Ul(e))}function Sl(e){return e?nr(wl(e),-Le,Le):0===e?e:0}function Tl(e){return null==e?"":di(e)}function Al(e,t){var n=pf(e);return null==t?n:Jn(n,t)}function Cl(e,t){return w(e,wo(t,3),dr)}function Dl(e,t){return w(e,wo(t,3),pr)}function Ol(e,t){return null==e?e:gf(e,wo(t,3),Ul)}function Pl(e,t){return null==e?e:yf(e,wo(t,3),Ul)}function Ll(e,t){return e&&dr(e,wo(t,3))}function Il(e,t){return e&&pr(e,wo(t,3))}function Nl(e){return null==e?[]:mr(e,Bl(e))}function Rl(e){return null==e?[]:mr(e,Ul(e))}function jl(e,t,n){var r=null==e?ie:vr(e,t);return r===ie?n:r}function zl(e,t){return null!=e&&Co(e,t,xr)}function Fl(e,t){return null!=e&&Co(e,t,_r)}function Bl(e){return qs(e)?Pn(e):zr(e)}function Ul(e){return qs(e)?Pn(e,!0):Fr(e)}function Vl(e,t){var n={};return t=wo(t,3),dr(e,function(e,r,i){er(n,t(e,r,i),e)}),n}function Hl(e,t){var n={};return t=wo(t,3),dr(e,function(e,r,i){er(n,r,t(e,r,i))}),n}function Yl(e,t){return Wl(e,Ps(wo(t)))}function Wl(e,t){if(null==e)return{};var n=m(bo(e),function(e){return[e]});return t=wo(t),Zr(e,n,function(e,n){return t(e,n[0])})}function ql(e,t,n){t=Mi(t,e);var r=-1,i=t.length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[Qo(t[r])];o===ie&&(r=i,o=n),e=tl(o)?o.call(e):o}return e}function Gl(e,t,n){return null==e?e:oi(e,t,n)}function Xl(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:oi(e,t,n,r)}function Zl(e,t,n){var r=gh(e),i=r||bh(e)||kh(e);if(t=wo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:il(e)&&tl(o)?pf(Tc(e)):{}}return(i?u:dr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Kl(e,t){return null==e||mi(e,t)}function $l(e,t,n){return null==e?e:vi(e,t,wi(n))}function Jl(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:vi(e,t,wi(n),r)}function Ql(e){return null==e?[]:R(e,Bl(e))}function eu(e){return null==e?[]:R(e,Ul(e))}function tu(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=kl(n),n=n===n?n:0),t!==ie&&(t=kl(t),t=t===t?t:0),nr(kl(e),t,n)}function nu(e,t,n){return t=_l(t),n===ie?(n=t,t=0):n=_l(n),e=kl(e),wr(e,t,n)}function ru(e,t,n){if(n&&"boolean"!=typeof n&&Ro(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=_l(e),t===ie?(t=e,e=0):t=_l(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Zc();return qc(e+i*(t-e+Cn("1e-"+((i+"").length-1))),t)}return Qr(e,t)}function iu(e){return Kh(Tl(e).toLowerCase())}function ou(e){return(e=Tl(e))&&e.replace(Zt,qn).replace(vn,"")}function au(e,t,n){e=Tl(e),t=di(t);var r=e.length;n=n===ie?r:nr(wl(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function su(e){return e=Tl(e),e&&kt.test(e)?e.replace(wt,Gn):e}function lu(e){return e=Tl(e),e&&Lt.test(e)?e.replace(Pt,"\\$&"):e}function uu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return no(Fc(i),n)+e+no(zc(i),n)}function cu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;return t&&r<t?e+no(t-r,n):e}function fu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;return t&&r<t?no(t-r,n)+e:e}function hu(e,t,n){return n||null==t?t=0:t&&(t=+t),Xc(Tl(e).replace(Nt,""),t||0)}function du(e,t,n){return t=(n?Ro(e,t,n):t===ie)?1:wl(t),ti(Tl(e),t)}function pu(){var e=arguments,t=Tl(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function mu(e,t,n){return n&&"number"!=typeof n&&Ro(e,t,n)&&(t=n=ie),(n=n===ie?Re:n>>>0)?(e=Tl(e),e&&("string"==typeof t||null!=t&&!wh(t))&&!(t=di(t))&&H(e)?ki(ee(e),0,n):e.split(t,n)):[]}function vu(e,t,n){return e=Tl(e),n=null==n?0:nr(wl(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t}function gu(e,t,r){var i=n.templateSettings;r&&Ro(e,t,r)&&(t=ie),e=Tl(e),t=Ch({},t,i,co);var o,a,s=Ch({},t.imports,i.imports,co),l=Bl(s),u=R(s,l),c=0,f=t.interpolate||Kt,h="__p += '",d=lc((t.escape||Kt).source+"|"+f.source+"|"+(f===Tt?Vt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++wn+"]")+"\n";e.replace(d,function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace($t,U),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(yt,""):h).replace(bt,"$1").replace(xt,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=$h(function(){return oc(l,p+"return "+h).apply(ie,u)});if(v.source=h,Qs(v))throw v;return v}function yu(e){return Tl(e).toLowerCase()}function bu(e){return Tl(e).toUpperCase()}function xu(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(It,"");if(!e||!(t=di(t)))return e;var r=ee(e),i=ee(t);return ki(r,z(r,i),F(r,i)+1).join("")}function _u(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(Rt,"");if(!e||!(t=di(t)))return e;var r=ee(e);return ki(r,0,F(r,ee(t))+1).join("")}function wu(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(Nt,"");if(!e||!(t=di(t)))return e;var r=ee(e);return ki(r,z(r,ee(t))).join("")}function Mu(e,t){var n=Se,r=Te;if(il(t)){var i="separator"in t?t.separator:i;n="length"in t?wl(t.length):n,r="omission"in t?di(t.omission):r}e=Tl(e);var o=e.length;if(H(e)){var a=ee(e);o=a.length}if(n>=o)return e;var s=n-Q(r);if(s<1)return r;var l=a?ki(a,0,s).join(""):e.slice(0,s);if(i===ie)return l+r;if(a&&(s+=l.length-s),wh(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=lc(i.source,Tl(Ht.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,f===ie?s:f)}}else if(e.indexOf(di(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function ku(e){return e=Tl(e),e&&Mt.test(e)?e.replace(_t,Xn):e}function Eu(e,t,n){return e=Tl(e),t=n?ie:t,t===ie?Y(e)?re(e):_(e):e.match(t)||[]}function Su(e){var t=null==e?0:e.length,n=wo();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new cc(se);return[n(e[0]),e[1]]}):[],ni(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Tu(e){return ir(rr(e,fe))}function Au(e){return function(){return e}}function Cu(e,t){return null==e||e!==e?t:e}function Du(e){return e}function Ou(e){return jr("function"==typeof e?e:rr(e,fe))}function Pu(e){return Vr(rr(e,fe))}function Lu(e,t){return Hr(e,rr(t,fe))}function Iu(e,t,n){var r=Bl(t),i=mr(t,r);null!=n||il(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mr(t,Bl(t)));var o=!(il(n)&&"chain"in n)||!!n.chain,a=tl(e);return u(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ji(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Nu(){return Ln._===this&&(Ln._=_c),this}function Ru(){}function ju(e){return e=wl(e),ni(function(t){return qr(t,e)})}function zu(e){return jo(e)?A(Qo(e)):Kr(e)}function Fu(e){return function(t){return null==e?ie:vr(e,t)}}function Bu(){return[]}function Uu(){return!1}function Vu(){return{}}function Hu(){return""}function Yu(){return!0}function Wu(e,t){if((e=wl(e))<1||e>Le)return[];var n=Re,r=qc(e,Re);t=wo(t),e-=Re;for(var i=L(r,t);++n<e;)t(n);return i}function qu(e){return gh(e)?m(e,Qo):vl(e)?[e]:ji(Pf(Tl(e)))}function Gu(e){var t=++gc;return Tl(e)+t}function Xu(e){return e&&e.length?ur(e,Du,br):ie}function Zu(e,t){return e&&e.length?ur(e,wo(t,2),br):ie}function Ku(e){return T(e,Du)}function $u(e,t){return T(e,wo(t,2))}function Ju(e){return e&&e.length?ur(e,Du,Br):ie}function Qu(e,t){return e&&e.length?ur(e,wo(t,2),Br):ie}function ec(e){return e&&e.length?P(e,Du):0}function tc(e,t){return e&&e.length?P(e,wo(t,2)):0}t=null==t?Ln:Zn.defaults(Ln.Object(),t,Zn.pick(Ln,_n));var nc=t.Array,rc=t.Date,ic=t.Error,oc=t.Function,ac=t.Math,sc=t.Object,lc=t.RegExp,uc=t.String,cc=t.TypeError,fc=nc.prototype,hc=oc.prototype,dc=sc.prototype,pc=t["__core-js_shared__"],mc=hc.toString,vc=dc.hasOwnProperty,gc=0,yc=function(){var e=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bc=dc.toString,xc=mc.call(sc),_c=Ln._,wc=lc("^"+mc.call(vc).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mc=Rn?t.Buffer:ie,kc=t.Symbol,Ec=t.Uint8Array,Sc=Mc?Mc.allocUnsafe:ie,Tc=G(sc.getPrototypeOf,sc),Ac=sc.create,Cc=dc.propertyIsEnumerable,Dc=fc.splice,Oc=kc?kc.isConcatSpreadable:ie,Pc=kc?kc.iterator:ie,Lc=kc?kc.toStringTag:ie,Ic=function(){try{var e=Eo(sc,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nc=t.clearTimeout!==Ln.clearTimeout&&t.clearTimeout,Rc=rc&&rc.now!==Ln.Date.now&&rc.now,jc=t.setTimeout!==Ln.setTimeout&&t.setTimeout,zc=ac.ceil,Fc=ac.floor,Bc=sc.getOwnPropertySymbols,Uc=Mc?Mc.isBuffer:ie,Vc=t.isFinite,Hc=fc.join,Yc=G(sc.keys,sc),Wc=ac.max,qc=ac.min,Gc=rc.now,Xc=t.parseInt,Zc=ac.random,Kc=fc.reverse,$c=Eo(t,"DataView"),Jc=Eo(t,"Map"),Qc=Eo(t,"Promise"),ef=Eo(t,"Set"),tf=Eo(t,"WeakMap"),nf=Eo(sc,"create"),rf=tf&&new tf,of={},af=ea($c),sf=ea(Jc),lf=ea(Qc),uf=ea(ef),cf=ea(tf),ff=kc?kc.prototype:ie,hf=ff?ff.valueOf:ie,df=ff?ff.toString:ie,pf=function(){function e(){}return function(t){if(!il(t))return{};if(Ac)return Ac(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:Et,evaluate:St,interpolate:Tt,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=pf(r.prototype),i.prototype.constructor=i,x.prototype=pf(r.prototype),x.prototype.constructor=x,ne.prototype.clear=Bt,ne.prototype.delete=Jt,ne.prototype.get=Qt,ne.prototype.has=en,ne.prototype.set=tn,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=ln,un.prototype.clear=cn,un.prototype.delete=fn,un.prototype.get=hn,un.prototype.has=dn,un.prototype.set=pn,gn.prototype.add=gn.prototype.push=yn,gn.prototype.has=bn,xn.prototype.clear=En,xn.prototype.delete=Sn,xn.prototype.get=Tn,xn.prototype.has=An,xn.prototype.set=On;var mf=Hi(dr),vf=Hi(pr,!0),gf=Yi(),yf=Yi(!0),bf=rf?function(e,t){return rf.set(e,t),e}:Du,xf=Ic?function(e,t){return Ic(e,"toString",{configurable:!0,enumerable:!1,value:Au(t),writable:!0})}:Du,_f=ni,wf=Nc||function(e){return Ln.clearTimeout(e)},Mf=ef&&1/Z(new ef([,-0]))[1]==Pe?function(e){return new ef(e)}:Ru,kf=rf?function(e){return rf.get(e)}:Ru,Ef=Bc?function(e){return null==e?[]:(e=sc(e),h(Bc(e),function(t){return Cc.call(e,t)}))}:Bu,Sf=Bc?function(e){for(var t=[];e;)v(t,Ef(e)),e=Tc(e);return t}:Bu,Tf=yr;($c&&Tf(new $c(new ArrayBuffer(1)))!=lt||Jc&&Tf(new Jc)!=Ze||Qc&&"[object Promise]"!=Tf(Qc.resolve())||ef&&Tf(new ef)!=tt||tf&&Tf(new tf)!=ot)&&(Tf=function(e){var t=yr(e),n=t==Je?e.constructor:ie,r=n?ea(n):"";if(r)switch(r){case af:return lt;case sf:return Ze;case lf:return"[object Promise]";case uf:return tt;case cf:return ot}return t});var Af=pc?tl:Uu,Cf=$o(bf),Df=jc||function(e,t){return Ln.setTimeout(e,t)},Of=$o(xf),Pf=function(e){var t=Os(e,function(e){return n.size===ue&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Dt.test(e)&&t.push(""),e.replace(Ot,function(e,n,r,i){t.push(r?i.replace(Ut,"$1"):n||e)}),t}),Lf=ni(function(e,t){return Gs(e)?sr(e,hr(t,1,Gs,!0)):[]}),If=ni(function(e,t){var n=_a(t);return Gs(n)&&(n=ie),Gs(e)?sr(e,hr(t,1,Gs,!0),wo(n,2)):[]}),Nf=ni(function(e,t){var n=_a(t);return Gs(n)&&(n=ie),Gs(e)?sr(e,hr(t,1,Gs,!0),ie,n):[]}),Rf=ni(function(e){var t=m(e,_i);return t.length&&t[0]===e[0]?Mr(t):[]}),jf=ni(function(e){var t=_a(e),n=m(e,_i);return t===_a(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?Mr(n,wo(t,2)):[]}),zf=ni(function(e){var t=_a(e),n=m(e,_i);return t="function"==typeof t?t:ie,t&&n.pop(),n.length&&n[0]===e[0]?Mr(n,ie,t):[]}),Ff=ni(ka),Bf=go(function(e,t){var n=null==e?0:e.length,r=tr(e,t);return Jr(e,m(t,function(e){return No(e,n)?+e:e}).sort(Li)),r}),Uf=ni(function(e){return pi(hr(e,1,Gs,!0))}),Vf=ni(function(e){var t=_a(e);return Gs(t)&&(t=ie),pi(hr(e,1,Gs,!0),wo(t,2))}),Hf=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,pi(hr(e,1,Gs,!0),ie,t)}),Yf=ni(function(e,t){return Gs(e)?sr(e,t):[]}),Wf=ni(function(e){return bi(h(e,Gs))}),qf=ni(function(e){var t=_a(e);return Gs(t)&&(t=ie),bi(h(e,Gs),wo(t,2))}),Gf=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,bi(h(e,Gs),ie,t)}),Xf=ni(qa),Zf=ni(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,Ga(e,n)}),Kf=go(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return tr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof x&&No(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ja,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),$f=Ui(function(e,t,n){vc.call(e,n)?++e[n]:er(e,n,1)}),Jf=Ki(fa),Qf=Ki(ha),eh=Ui(function(e,t,n){vc.call(e,n)?e[n].push(t):er(e,n,[t])}),th=ni(function(e,t,n){var r=-1,i="function"==typeof t,o=qs(e)?nc(e.length):[];return mf(e,function(e){o[++r]=i?s(t,e,n):Er(e,t,n)}),o}),nh=Ui(function(e,t,n){er(e,n,t)}),rh=Ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ih=ni(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ro(e,t[0],t[1])?t=[]:n>2&&Ro(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,hr(t,1),[])}),oh=Rc||function(){return Ln.Date.now()},ah=ni(function(e,t,n){var r=ve;if(n.length){var i=X(n,_o(ah));r|=_e}return uo(e,r,t,n,i)}),sh=ni(function(e,t,n){var r=ve|ge;if(n.length){var i=X(n,_o(sh));r|=_e}return uo(t,r,e,n,i)}),lh=ni(function(e,t){return ar(e,1,t)}),uh=ni(function(e,t,n){return ar(e,kl(t)||0,n)});Os.Cache=un;var ch=_f(function(e,t){t=1==t.length&&gh(t[0])?m(t[0],N(wo())):m(hr(t,1),N(wo()));var n=t.length;return ni(function(r){for(var i=-1,o=qc(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),fh=ni(function(e,t){var n=X(t,_o(fh));return uo(e,_e,ie,t,n)}),hh=ni(function(e,t){var n=X(t,_o(hh));return uo(e,we,ie,t,n)}),dh=go(function(e,t){return uo(e,ke,ie,ie,ie,t)}),ph=oo(br),mh=oo(function(e,t){return e>=t}),vh=Sr(function(){return arguments}())?Sr:function(e){return ol(e)&&vc.call(e,"callee")&&!Cc.call(e,"callee")},gh=nc.isArray,yh=Fn?N(Fn):Tr,bh=Uc||Uu,xh=Bn?N(Bn):Ar,_h=Un?N(Un):Or,wh=Vn?N(Vn):Ir,Mh=Hn?N(Hn):Nr,kh=Yn?N(Yn):Rr,Eh=oo(Br),Sh=oo(function(e,t){return e<=t}),Th=Vi(function(e,t){if(Uo(t)||qs(t))return void zi(t,Bl(t),e);for(var n in t)vc.call(t,n)&&Wn(e,n,t[n])}),Ah=Vi(function(e,t){zi(t,Ul(t),e)}),Ch=Vi(function(e,t,n,r){zi(t,Ul(t),e,r)}),Dh=Vi(function(e,t,n,r){zi(t,Bl(t),e,r)}),Oh=go(tr),Ph=ni(function(e){return e.push(ie,co),s(Ch,ie,e)}),Lh=ni(function(e){return e.push(ie,fo),s(zh,ie,e)}),Ih=Qi(function(e,t,n){e[t]=n},Au(Du)),Nh=Qi(function(e,t,n){vc.call(e,t)?e[t].push(n):e[t]=[n]},wo),Rh=ni(Er),jh=Vi(function(e,t,n){Yr(e,t,n)}),zh=Vi(function(e,t,n,r){Yr(e,t,n,r)}),Fh=go(function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,function(t){return t=Mi(t,e),r||(r=t.length>1),t}),zi(e,bo(e),n),r&&(n=rr(n,fe|he|de,ho));for(var i=t.length;i--;)mi(n,t[i]);return n}),Bh=go(function(e,t){return null==e?{}:Xr(e,t)}),Uh=lo(Bl),Vh=lo(Ul),Hh=Gi(function(e,t,n){return t=t.toLowerCase(),e+(n?iu(t):t)}),Yh=Gi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wh=Gi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),qh=qi("toLowerCase"),Gh=Gi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xh=Gi(function(e,t,n){return e+(n?" ":"")+Kh(t)}),Zh=Gi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Kh=qi("toUpperCase"),$h=ni(function(e,t){try{return s(e,ie,t)}catch(e){return Qs(e)?e:new ic(e)}}),Jh=go(function(e,t){return u(t,function(t){t=Qo(t),er(e,t,ah(e[t],e))}),e}),Qh=$i(),ed=$i(!0),td=ni(function(e,t){return function(n){return Er(n,e,t)}}),nd=ni(function(e,t){return function(n){return Er(e,n,t)}}),rd=to(m),id=to(f),od=to(b),ad=io(),sd=io(!0),ld=eo(function(e,t){return e+t},0),ud=so("ceil"),cd=eo(function(e,t){return e/t},1),fd=so("floor"),hd=eo(function(e,t){return e*t},1),dd=so("round"),pd=eo(function(e,t){return e-t},0);return n.after=ks,n.ary=Es,n.assign=Th,n.assignIn=Ah,n.assignInWith=Ch,n.assignWith=Dh,n.at=Oh,n.before=Ss,n.bind=ah,n.bindAll=Jh,n.bindKey=sh,n.castArray=Fs,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Su,n.conforms=Tu,n.constant=Au,n.countBy=$f,n.create=Al,n.curry=Ts,n.curryRight=As,n.debounce=Cs,n.defaults=Ph,n.defaultsDeep=Lh,n.defer=lh,n.delay=uh,n.difference=Lf,n.differenceBy=If,n.differenceWith=Nf,n.drop=aa,n.dropRight=sa,n.dropRightWhile=la,n.dropWhile=ua,n.fill=ca,n.filter=ss,n.flatMap=ls,n.flatMapDeep=us,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=Ds,n.flow=Qh,n.flowRight=ed,n.fromPairs=va,n.functions=Nl,n.functionsIn=Rl,n.groupBy=eh,n.initial=ba,n.intersection=Rf,n.intersectionBy=jf,n.intersectionWith=zf,n.invert=Ih,n.invertBy=Nh,n.invokeMap=th,n.iteratee=Ou,n.keyBy=nh,n.keys=Bl,n.keysIn=Ul,n.map=ps,n.mapKeys=Vl,n.mapValues=Hl,n.matches=Pu,n.matchesProperty=Lu,n.memoize=Os,n.merge=jh,n.mergeWith=zh,n.method=td,n.methodOf=nd,n.mixin=Iu,n.negate=Ps,n.nthArg=ju,n.omit=Fh,n.omitBy=Yl,n.once=Ls,n.orderBy=ms,n.over=rd,n.overArgs=ch,n.overEvery=id,n.overSome=od,n.partial=fh,n.partialRight=hh,n.partition=rh,n.pick=Bh,n.pickBy=Wl,n.property=zu,n.propertyOf=Fu,n.pull=Ff,n.pullAll=ka,n.pullAllBy=Ea,n.pullAllWith=Sa,n.pullAt=Bf,n.range=ad,n.rangeRight=sd,n.rearg=dh,n.reject=ys,n.remove=Ta,n.rest=Is,n.reverse=Aa,n.sampleSize=xs,n.set=Gl,n.setWith=Xl,n.shuffle=_s,n.slice=Ca,n.sortBy=ih,n.sortedUniq=Ra,n.sortedUniqBy=ja,n.split=mu,n.spread=Ns,n.tail=za,n.take=Fa,n.takeRight=Ba,n.takeRightWhile=Ua,n.takeWhile=Va,n.tap=$a,n.throttle=Rs,n.thru=Ja,n.toArray=xl,n.toPairs=Uh,n.toPairsIn=Vh,n.toPath=qu,n.toPlainObject=El,n.transform=Zl,n.unary=js,n.union=Uf,n.unionBy=Vf,n.unionWith=Hf,n.uniq=Ha,n.uniqBy=Ya,n.uniqWith=Wa,n.unset=Kl,n.unzip=qa,n.unzipWith=Ga,n.update=$l,n.updateWith=Jl,n.values=Ql,n.valuesIn=eu,n.without=Yf,n.words=Eu,n.wrap=zs,n.xor=Wf,n.xorBy=qf,n.xorWith=Gf,n.zip=Xf,n.zipObject=Xa,n.zipObjectDeep=Za,n.zipWith=Zf,n.entries=Uh,n.entriesIn=Vh,n.extend=Ah,n.extendWith=Ch,Iu(n,n),n.add=ld,n.attempt=$h,n.camelCase=Hh,n.capitalize=iu,n.ceil=ud,n.clamp=tu,n.clone=Bs,n.cloneDeep=Vs,n.cloneDeepWith=Hs,n.cloneWith=Us,n.conformsTo=Ys,n.deburr=ou,n.defaultTo=Cu,n.divide=cd,n.endsWith=au,n.eq=Ws,n.escape=su,n.escapeRegExp=lu,n.every=as,n.find=Jf,n.findIndex=fa,n.findKey=Cl,n.findLast=Qf,n.findLastIndex=ha,n.findLastKey=Dl,n.floor=fd,n.forEach=fs,n.forEachRight=hs,n.forIn=Ol,n.forInRight=Pl,n.forOwn=Ll,n.forOwnRight=Il,n.get=jl,n.gt=ph,n.gte=mh,n.has=zl,n.hasIn=Fl,n.head=ga,n.identity=Du,n.includes=ds,n.indexOf=ya,n.inRange=nu,n.invoke=Rh,n.isArguments=vh,n.isArray=gh,n.isArrayBuffer=yh,n.isArrayLike=qs,n.isArrayLikeObject=Gs,n.isBoolean=Xs,n.isBuffer=bh,n.isDate=xh,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=$s,n.isEqualWith=Js,n.isError=Qs,n.isFinite=el,n.isFunction=tl,n.isInteger=nl,n.isLength=rl,n.isMap=_h,n.isMatch=al,n.isMatchWith=sl,n.isNaN=ll,n.isNative=ul,n.isNil=fl,n.isNull=cl,n.isNumber=hl,n.isObject=il,n.isObjectLike=ol,n.isPlainObject=dl,n.isRegExp=wh,n.isSafeInteger=pl,n.isSet=Mh,n.isString=ml,n.isSymbol=vl,n.isTypedArray=kh,n.isUndefined=gl,n.isWeakMap=yl,n.isWeakSet=bl,n.join=xa,n.kebabCase=Yh,n.last=_a,n.lastIndexOf=wa,n.lowerCase=Wh,n.lowerFirst=qh,n.lt=Eh,n.lte=Sh,n.max=Xu,n.maxBy=Zu,n.mean=Ku,n.meanBy=$u,n.min=Ju,n.minBy=Qu,n.stubArray=Bu,n.stubFalse=Uu,n.stubObject=Vu,n.stubString=Hu,n.stubTrue=Yu,n.multiply=hd,n.nth=Ma,n.noConflict=Nu,n.noop=Ru,n.now=oh,n.pad=uu,n.padEnd=cu,n.padStart=fu,n.parseInt=hu,n.random=ru,n.reduce=vs,n.reduceRight=gs,n.repeat=du,n.replace=pu,n.result=ql,n.round=dd,n.runInContext=e,n.sample=bs,n.size=ws,n.snakeCase=Gh,n.some=Ms,n.sortedIndex=Da,n.sortedIndexBy=Oa,n.sortedIndexOf=Pa,n.sortedLastIndex=La,n.sortedLastIndexBy=Ia,n.sortedLastIndexOf=Na,n.startCase=Xh,n.startsWith=vu,n.subtract=pd,n.sum=ec,n.sumBy=tc,n.template=gu,n.times=Wu,n.toFinite=_l,n.toInteger=wl,n.toLength=Ml,n.toLower=yu,n.toNumber=kl,n.toSafeInteger=Sl,n.toString=Tl,n.toUpper=bu,n.trim=xu,n.trimEnd=_u,n.trimStart=wu,n.truncate=Mu,n.unescape=ku,n.uniqueId=Gu,n.upperCase=Zh,n.upperFirst=Kh,n.each=fs,n.eachRight=hs,n.first=ga,Iu(n,function(){var e={};return dr(n,function(t,r){vc.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),u(["drop","take"],function(e,t){x.prototype[e]=function(n){n=n===ie?1:Wc(wl(n),0);var r=this.__filtered__&&!t?new x(this):this.clone();return r.__filtered__?r.__takeCount__=qc(n,r.__takeCount__):r.__views__.push({size:qc(n,Re),type:e+(r.__dir__<0?"Right":"")}),r},x.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==De||3==n;x.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:wo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");x.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");x.prototype[e]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(Du)},x.prototype.find=function(e){return this.filter(e).head()},x.prototype.findLast=function(e){return this.reverse().find(e)},x.prototype.invokeMap=ni(function(e,t){return"function"==typeof e?new x(this):this.map(function(n){return Er(n,e,t)})}),x.prototype.reject=function(e){return this.filter(Ps(wo(e)))},x.prototype.slice=function(e,t){e=wl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new x(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(t=wl(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},x.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},x.prototype.toArray=function(){return this.take(Re)},dr(x.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,l=o?[1]:arguments,u=t instanceof x,c=l[0],f=u||gh(t),h=function(e){var t=a.apply(n,v([e],l));return o&&d?t[0]:t};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,g=u&&!p;if(!s&&f){t=g?t:new x(this);var y=e.apply(t,l);return y.__actions__.push({func:Ja,args:[h],thisArg:ie}),new i(y,d)}return m&&g?e.apply(this,l):(y=this.thru(h),m?o?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=fc[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(gh(n)?n:[],e)}return this[r](function(n){return t.apply(gh(n)?n:[],e)})}}),dr(x.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(of[i]||(of[i]=[])).push({name:t,func:r})}}),of[Ji(ie,ge).name]=[{name:"wrapper",func:ie}],x.prototype.clone=C,x.prototype.reverse=$,x.prototype.value=te,n.prototype.at=Kf,n.prototype.chain=Qa,n.prototype.commit=es,n.prototype.next=ts,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Pc&&(n.prototype[Pc]=ns),n}();Ln._=Zn,(i=function(){return Zn}.call(t,n,t,r))!==ie&&(r.exports=i)}).call(this)}).call(t,n(29),n(61)(e))},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;t++)if(e[t]in s)return e[t]}function i(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",i,!0)}var o=n(22);t.create=function(e,t,n){var r=document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r};var a,s=document.documentElement.style,l=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);t.disableDrag=function(){l&&(a=s[l],s[l]="none")},t.enableDrag=function(){l&&(s[l]=a)};var u=r(["transform","WebkitTransform"]);t.setTransform=function(e,t){e.style[u]=t},t.suppressClick=function(){window.addEventListener("click",i,!0),window.setTimeout(function(){window.removeEventListener("click",i,!0)},0)},t.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new o(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},t.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),r=[],i=0;i<t.touches.length;i++)r.push(new o(t.touches[i].clientX-n.left-e.clientLeft,t.touches[i].clientY-n.top-e.clientTop));return r}},function(e,t,n){function r(e,t){return e[0]-t[0]}function i(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(r);var i=new Array(n.length);for(e=0;e<i.length;++e)i[e]=n[e][1];return i}function o(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var r="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===t){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(f[e][0])}var o=["'use strict'"],s=l(t),u=s.map(function(e){return"i"+e}),c="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),d=s.map(function(e){return"c"+e}).join(",");o.push("function "+n+"(a,"+h+","+d+",d){this.data=a","this.shape=["+h+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),r?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+u.join(",")+"){"),r?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),m=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+m.join(","));for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+n+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var g=new Array(t),y=new Array(t),v=0;v<t;++v)g[v]="a[i"+v+"]",y[v]="b[i"+v+"]";o.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(f[e],i)}function a(e){if(u(e))return"buffer";if(c)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function s(e,t,n,r){if(void 0===e){var i=f.array[0];return i([])}"number"===typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===n){n=new Array(s);for(var l=s-1,u=1;l>=0;--l)n[l]=u,u*=t[l]}if(void 0===r){r=0;for(var l=0;l<s;++l)n[l]<0&&(r-=(t[l]-1)*n[l])}for(var c=a(e),h=f[c];h.length<=s+1;)h.push(o(c,h.length-1));var i=h[s+1];return i(e,t,n,r)}var l=n(482),u=n(1063),c="undefined"!==typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},function(e,t,n){"use strict";function r(e,t,n){function r(e,n){for(var r=Object.keys(e),i=/^[xyz]axis[0-9]*/,o=[],a=0;a<r.length;a++){var s=r[a];t&&s.charAt(0)!==t||i.test(s)&&o.push(n+s)}return o.sort()}var i=e._fullLayout;if(!i)return[];var a=r(i,"");if(n)return a;for(var s=o.getSubplotIds(i,"gl3d")||[],l=0;l<s.length;l++){var u=s[l];a=a.concat(r(i[u],u+"."))}return a}var i=n(6),o=n(16),a=n(0),s=n(33);t.id2name=function(e){if("string"===typeof e&&e.match(s.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},t.name2id=function(e){if(e.match(s.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},t.cleanId=function(e,t){if(e.match(s.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},t.list=function(e,t,n){return r(e,t,n).map(function(t){return a.nestedProperty(e._fullLayout,t).get()})},t.listIds=function(e,n){return r(e,n,!0).map(t.name2id)},t.getFromId=function(e,n,r){var i=e._fullLayout;return"x"===r?n=n.replace(/y[0-9]*/,""):"y"===r&&(n=n.replace(/x[0-9]*/,"")),i[t.id2name(n)]},t.getFromTrace=function(e,n,r){var o=e._fullLayout,a=null;if(i.traceIs(n,"gl3d")){var s=n.scene;"scene"===s.substr(0,5)&&(a=o[s][r+"axis"])}else a=t.getFromId(e,n[r+"axis"]||r);return a}},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e){this.gl=e,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(1035),s=n(1034),l=n(473),u=n(1037),c=n(1036),f=n(203),h=r.prototype;h.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},h.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,x,_);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);for(var b=[],x=[],_=[],w=0;w<r.length;++w){var M=r[w];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=_.length,x.push(M.name+"["+S+"]"),"number"===typeof M.location?_.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?_.push(0|M.location[S]):_.push(-1);b.push({name:M.name,type:M.type,locations:E})}else b.push({name:M.name,type:M.type,locations:[_.length]}),x.push(M.name),"number"===typeof M.location?_.push(0|M.location):_.push(-1)}for(var T=0,w=0;w<_.length;++w)if(_[w]<0){for(;_.indexOf(T)>=0;)T+=1;_[w]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,b,_),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t,n){"use strict";e.exports={zauto:{valType:"boolean",role:"info",dflt:!0,description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},function(e,t,n){"use strict";var r=n(45),i=n(31),o=n(99).dash,a=n(8).extendFlat,s=n(33);e.exports={visible:{valType:"boolean",role:"info",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:i.defaultLine,role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",description:"Sets the title of this axis."},titlefont:a({},r,{description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding opposite-letter axis.","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","Autorange will also expand about the midpoints to satisfy the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:i.defaultLine,role:"style",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",description:"Determines whether or not the tick labels are drawn."},showspikes:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",description:"Sets the width (in px) of the zero line."},spikedash:a({},o,{dflt:"dash"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},tickfont:a({},r,{description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},hoverformat:{valType:"string",dflt:"",role:"style",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:i.defaultLine,role:"style",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:i.lightLine,role:"style",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:i.defaultLine,role:"style",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},_deprecated:{autotick:{valType:"boolean",role:"info",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function i(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}function o(e){return 1&e?"-":""}function a(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",a(e.slice(0,t)),",",a(e.slice(t)),")"].join("")}function s(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",a(s(r(e,n))),",",o(n),e[0][n],")"].join(""));return t}function l(e){for(var t=[],n=[],o=i(e),l=[],u=0;u<e;++u)0===(1&u)?t.push.apply(t,s(r(o,u))):n.push.apply(n,s(r(o,u))),l.push("m"+u);var p=a(t),m=a(n),v="orientation"+e+"Exact",g=["function ",v,"(",l.join(),"){var p=",p,",n=",m,",d=sub(p,n);return d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",g)(f,c,h,d)}function u(e){var t=g[e.length];return t||(t=g[e.length]=l(e.length)),t.apply(void 0,e)}var c=n(135),f=n(93),h=n(244),d=n(663),p=5,m=l(3),v=l(4),g=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=3.3306690738754716e-16*r;return a>=s||a<=-s?a:m(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],f=t[2]-r[2],h=n[2]-r[2],d=o*u,p=a*l,m=a*s,g=i*u,y=i*l,b=o*s,x=c*(d-p)+f*(m-g)+h*(y-b),_=(Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(m)+Math.abs(g))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(h),w=7.771561172376103e-16*_;return x>w||-x>w?x:v(e,t,n,r)}];!function(){for(;g.length<=p;)g.push(l(g.length));for(var t=[],n=["slow"],r=0;r<=p;++r)t.push("a"+r),n.push("o"+r);for(var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=p;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);e.exports=o.apply(void 0,[u].concat(g));for(var r=0;r<=p;++r)e.exports[r]=g[r]}()},function(e,t,n){"use strict";function r(){T.ReactReconcileTransaction&&_||c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=h.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){return r(),_.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length&&c("124",t,g.length),g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(p.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],r.getPublicInstance())}}function l(e){if(r(),!_.isBatchingUpdates)return void _.batchedUpdates(l,e);g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function u(e,t){_.isBatchingUpdates||c("125"),b.enqueue(e,t),x=!0}var c=n(17),f=n(20),h=n(407),d=n(94),p=n(412),m=n(114),v=n(190),g=(n(9),[]),y=0,b=h.getPooled(),x=!1,_=null,w={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),E()):g.length=0}},M={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[w,M];f(i.prototype,v,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,h.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var E=function(){for(;g.length||x;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(x){x=!1;var t=b;b=h.getPooled(),t.notifyAll(),h.release(t)}}},S={injectReconcileTransaction:function(e){e||c("126"),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!==typeof e.batchedUpdates&&c("128"),"boolean"!==typeof e.isBatchingUpdates&&c("129"),_=e}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:E,injection:S,asap:u};e.exports=T},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}function i(e,t,n,i){var s,l=e.createVertexArray?new r(e):e.getExtension("OES_vertex_array_object");return s=l?o(e,l):a(e),s.update(t,n,i),s}var o=n(1049),a=n(1048);e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},function(e,t,n){"use strict";function r(e){var t=document.createElement("a");return t.href=e,t.protocol===document.location.protocol&&t.host===document.location.host}t.getJSON=function(e,t){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(e){t(e)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new Error(n.statusText))},n.send(),n},t.getArrayBuffer=function(e,t){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){t(e)},n.onload=function(){n.status>=200&&n.status<300&&n.response?t(null,n.response):t(new Error(n.statusText))},n.send(),n},t.getImage=function(e,n){return t.getArrayBuffer(e,function(e,t){if(e)return n(e);var r=new Image;r.onload=function(){n(null,r),(window.URL||window.webkitURL).revokeObjectURL(r.src)};var i=new Blob([new Uint8Array(t)],{type:"image/png"});return r.src=(window.URL||window.webkitURL).createObjectURL(i),r.getData=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=r.width,e.height=r.height,t.drawImage(r,0,0),t.getImageData(0,0,r.width,r.height).data},r})},t.getVideo=function(e,t){var n=document.createElement("video");n.onloadstart=function(){t(null,n)};for(var i=0;i<e.length;i++){var o=document.createElement("source");r(e[i])||(n.crossOrigin="Anonymous"),o.src=e[i],n.appendChild(o)}return n.getData=function(){return n},n}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(1323),a=n(536),s=n(304),l=n(303);e.exports=function(e,t,n,u,c){var f=c.prefix,h=c.cLetter,d=f.slice(0,f.length-1),p=f?i.nestedProperty(e,d).get()||{}:e,m=f?i.nestedProperty(t,d).get()||{}:t,v=p[h+"min"],g=p[h+"max"],y=p.colorscale;u(f+h+"auto",!(r(v)&&r(g)&&v<g)),u(f+h+"min"),u(f+h+"max");var b;void 0!==y&&(b=!s(y)),u(f+"autocolorscale",b);var x=u(f+"colorscale");if(u(f+"reversescale")&&(m.colorscale=l(x)),"marker.line."!==f){var _;f&&(_=o(p)),u(f+"showscale",_)&&a(p,m,n)}}},function(e,t,n){"use strict";t.scales=n(91),t.defaultScale=n(537),t.attributes=n(56),t.handleDefaults=n(65),t.calc=n(88),t.hasColorscale=n(90),t.isValidScale=n(304),t.getScale=n(538),t.flipScale=n(303),t.extractScale=n(1324),t.makeColorScaleFunc=n(1325)},function(e,t,n){"use strict";t.xmlns="http://www.w3.org/2000/xmlns/",t.svg="http://www.w3.org/2000/svg",t.xlink="http://www.w3.org/1999/xlink",t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}},function(e,t,n){"use strict";function r(e){var t=i(e);return t.length?t:[0,0,0,1]}var i=n(443);e.exports=r},function(e,t,n){"use strict";e.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:""},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],dflt:"all",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")}}}},function(e,t,n){"use strict";function r(){T.ReactReconcileTransaction&&_||c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=h.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){return r(),_.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length&&c("124",t,g.length),g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(p.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],r.getPublicInstance())}}function l(e){if(r(),!_.isBatchingUpdates)return void _.batchedUpdates(l,e);g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function u(e,t){_.isBatchingUpdates||c("125"),b.enqueue(e,t),x=!0}var c=n(18),f=n(11),h=n(639),d=n(104),p=n(644),m=n(131),v=n(240),g=(n(10),[]),y=0,b=h.getPooled(),x=!1,_=null,w={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),E()):g.length=0}},M={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[w,M];f(i.prototype,v,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,h.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var E=function(){for(;g.length||x;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(x){x=!1;var t=b;b=h.getPooled(),t.notifyAll(),h.release(t)}}},S={injectReconcileTransaction:function(e){e||c("126"),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!==typeof e.batchedUpdates&&c("128"),"boolean"!==typeof e.isBatchingUpdates&&c("129"),_=e}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:E,injection:S,asap:u};e.exports=T},function(e,t,n){"use strict";function r(e){return a[e]?a[e]:(a[e]=e.replace(o,"_"),a[e])}function i(e){var t;return t="object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):Array.prototype.slice.call(arguments),t.map(r).join(" ")}var o=/\//g,a={};e.exports=i},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(d=p,p=[];++v<t;)d&&d[v].run();v=-1,t=p.length}d=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,h=e.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],m=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=l?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(20),o=n(94),a=n(47),s=(n(14),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(e){n.ARRAY_TYPE=e};var r=Math.PI/180;n.toRadian=function(e){return e*r},n.equals=function(e,t){return Math.abs(e-t)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},e.exports=n},function(e,t,n){var r=n(491),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=r;var i=n(1).wrap;r.prototype.wrap=function(){return new r(i(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){"use strict";var r=e.exports={};r.attributes=n(164),r.supplyDefaults=n(125),r.calc=n(1330),r.calcFromTrace=function(e,t){for(var n=e.x||[],i=e.y||[],o=n.length||i.length,a=new Array(o),s=0;s<o;s++)a[s]={x:n[s],y:i[s]};return a[0].trace=e,r.calc({calcdata:[a],_fullLayout:t}),a},r.plot=n(1331),r.style=n(1332),r.hoverInfo=function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(16),a=n(66),s=n(163);e.exports=function(e,t){var n=t[0].trace,l=n.marker,u="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+u).remove(),void 0===l||!l.showscale)return void o.autoMargin(e,u);var c=l.color,f=l.cmin,h=l.cmax;r(f)||(f=i.aggNums(Math.min,null,c)),r(h)||(h=i.aggNums(Math.max,null,c));var d=t[0].t.cb=s(e,u),p=a.makeColorScaleFunc(a.extractScale(l.colorscale,f,h),{noNumericCheck:!0});d.fillcolor(p).filllevels({start:f,end:h,size:(h-f)/254}).options(l.colorbar)()}},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=l?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(11),o=n(104),a=n(49),s=(n(15),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function s(e){if(x.isFunction(e)){if(M)return e.name;var t=e.toString(),n=t.match(E);return n&&n[1]}}function l(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(M||!x.isFunction(e))return x.inspect(e);var t=s(e);return"[Function"+(t?": "+t:"")+"]"}function c(e){return l(u(e.actual),128)+" "+e.operator+" "+l(u(e.expected),128)}function f(e,t,n,r,i){throw new k.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||f(e,!0,t,"==",k.ok)}function d(e,t,n,s){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(x.isDate(e)&&x.isDate(t))return e.getTime()===t.getTime();if(x.isRegExp(e)&&x.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(a(e)&&a(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(e);return-1!==l&&l===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),m(e,t,n,s))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(x.isPrimitive(e)||x.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=w.call(e),t=w.call(t),d(e,t,n);var a,s,l=S(e),u=S(t);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!d(e[a],t[a],n,r))return!1;return!0}function v(e,t,n){d(e,t,!0)&&f(e,t,n,"notDeepStrictEqual",v)}function g(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function y(e){var t;try{e()}catch(e){t=e}return t}function b(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=y(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&f(i,n,"Missing expected exception"+r);var o="string"===typeof r,a=!e&&x.isError(i),s=!e&&i&&!n;if((a&&o&&g(i,n)||s)&&f(i,n,"Got unwanted exception"+r),e&&i&&n&&!g(i,n)||!e&&i)throw i}var x=n(431),_=Object.prototype.hasOwnProperty,w=Array.prototype.slice,M=function(){return"foo"===function(){}.name}(),k=e.exports=h,E=/\s*function\s+([^\(\s]*)\s*/;k.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=s(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},x.inherits(k.AssertionError,Error),k.fail=f,k.ok=h,k.equal=function(e,t,n){e!=t&&f(e,t,n,"==",k.equal)},k.notEqual=function(e,t,n){e==t&&f(e,t,n,"!=",k.notEqual)},k.deepEqual=function(e,t,n){d(e,t,!1)||f(e,t,n,"deepEqual",k.deepEqual)},k.deepStrictEqual=function(e,t,n){d(e,t,!0)||f(e,t,n,"deepStrictEqual",k.deepStrictEqual)},k.notDeepEqual=function(e,t,n){d(e,t,!1)&&f(e,t,n,"notDeepEqual",k.notDeepEqual)},k.notDeepStrictEqual=v,k.strictEqual=function(e,t,n){e!==t&&f(e,t,n,"===",k.strictEqual)},k.notStrictEqual=function(e,t,n){e===t&&f(e,t,n,"!==",k.notStrictEqual)},k.throws=function(e,t,n){b(!0,e,t,n)},k.doesNotThrow=function(e,t,n){b(!1,e,t,n)},k.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)_.call(e,n)&&t.push(n);return t}}).call(t,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierPropType=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(19),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r({localeUtils:o.default.shape({formatMonthTitle:o.default.func,formatWeekdayShort:o.default.func,formatWeekdayLong:o.default.func,getFirstDayOfWeek:o.default.func}),range:o.default.shape({from:o.default.instanceOf(Date),to:o.default.instanceOf(Date)}),after:o.default.shape({after:o.default.instanceOf(Date)}),before:o.default.shape({before:o.default.instanceOf(Date)})},o.default);t.ModifierPropType=o.default.oneOfType([a.after,a.before,a.range,o.default.func,o.default.array]);t.default=a},function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,(t|=n)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t){function n(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,M=i*u-o*l,k=c*m-f*p,E=c*v-h*p,S=c*g-d*p,T=f*v-h*m,A=f*g-d*m,C=h*g-d*v,D=y*C-b*A+x*T+_*S-w*E+M*k;return D?(D=1/D,e[0]=(s*C-l*A+u*T)*D,e[1]=(i*A-r*C-o*T)*D,e[2]=(m*M-v*w+g*_)*D,e[3]=(h*w-f*M-d*_)*D,e[4]=(l*S-a*C-u*E)*D,e[5]=(n*C-i*S+o*E)*D,e[6]=(v*x-p*M-g*b)*D,e[7]=(c*M-h*x+d*b)*D,e[8]=(a*A-s*S+u*k)*D,e[9]=(r*S-n*A-o*k)*D,e[10]=(p*w-m*x+g*y)*D,e[11]=(f*x-c*w-d*y)*D,e[12]=(s*E-a*T-l*k)*D,e[13]=(n*T-r*E+i*k)*D,e[14]=(m*b-p*_-v*y)*D,e[15]=(c*_-f*b+h*y)*D,e):null}e.exports=n},function(e,t,n){"use strict";function r(e,t){this.set(e,t)}function i(e){return e.value}var o=n(1),a=n(1220),s=n(1213),l=n(520),u=n(521),c=n(518),f=n(46);e.exports=r;r.create=function(e,t){return new({background:n(1214),circle:n(1215),fill:n(1216),line:n(1217),raster:n(1218),symbol:n(1219)}[(t||e).type])(e,t)},r.prototype=o.inherit(f,{set:function(e,t){this.id=e.id,this.ref=e.ref,this.metadata=e.metadata,this.type=(t||e).type,this.source=(t||e).source,this.sourceLayer=(t||e)["source-layer"],this.minzoom=(t||e).minzoom,this.maxzoom=(t||e).maxzoom,this.filter=(t||e).filter,this.paint={},this.layout={},this._paintSpecifications=l["paint_"+this.type],this._layoutSpecifications=l["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var n,r;for(var i in e){var o=i.match(/^paint(?:\.(.*))?$/);if(o){var a=o[1]||"";for(n in e[i])this.setPaintProperty(n,e[i][n],a)}}if(this.ref)this._layoutDeclarations=t._layoutDeclarations;else for(r in e.layout)this.setLayoutProperty(r,e.layout[r]);for(n in this._paintSpecifications)this.paint[n]=this.getPaintValue(n);for(r in this._layoutSpecifications)this._updateLayoutValue(r)},setLayoutProperty:function(e,t){if(null==t)delete this._layoutDeclarations[e];else{var n="layers."+this.id+".layout."+e;if(this._handleErrors(u.layoutProperty,n,e,t))return;this._layoutDeclarations[e]=new s(this._layoutSpecifications[e],t)}this._updateLayoutValue(e)},getLayoutProperty:function(e){return this._layoutDeclarations[e]&&this._layoutDeclarations[e].value},getLayoutValue:function(e,t,n){var r=this._layoutSpecifications[e],i=this._layoutDeclarations[e];return i?i.calculate(t,n):r.default},setPaintProperty:function(e,t,n){var r="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+e;if(o.endsWith(e,"-transition"))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===t||void 0===t)delete this._paintTransitionOptions[n||""][e];else{if(this._handleErrors(u.paintProperty,r,e,t))return;this._paintTransitionOptions[n||""][e]=t}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===t||void 0===t)delete this._paintDeclarations[n||""][e];else{if(this._handleErrors(u.paintProperty,r,e,t))return;this._paintDeclarations[n||""][e]=new s(this._paintSpecifications[e],t)}},getPaintProperty:function(e,t){return t=t||"",o.endsWith(e,"-transition")?this._paintTransitionOptions[t]&&this._paintTransitionOptions[t][e]:this._paintDeclarations[t]&&this._paintDeclarations[t][e]&&this._paintDeclarations[t][e].value},getPaintValue:function(e,t,n){var r=this._paintSpecifications[e],i=this._paintTransitions[e];return i?i.calculate(t,n):"color"===r.type&&r.default?c(r.default):r.default},getPaintValueStopZoomLevels:function(e){var t=this._paintTransitions[e];return t?t.declaration.stopZoomLevels:[]},getPaintInterpolationT:function(e,t){return this._paintTransitions[e].declaration.calculateInterpolationT({zoom:t})},isPaintValueFeatureConstant:function(e){var t=this._paintTransitions[e];return!t||t.declaration.isFeatureConstant},isLayoutValueFeatureConstant:function(e){var t=this._layoutDeclarations[e];return!t||t.isFeatureConstant},isPaintValueZoomConstant:function(e){var t=this._paintTransitions[e];return!t||t.declaration.isZoomConstant},isHidden:function(e){return!!(this.minzoom&&e<this.minzoom)||(!!(this.maxzoom&&e>=this.maxzoom)||("none"===this.layout.visibility||0===this.paint[this.type+"-opacity"]))},updatePaintTransitions:function(e,t,n,r){for(var i=o.extend({},this._paintDeclarations[""]),a=0;a<e.length;a++)o.extend(i,this._paintDeclarations[e[a]]);var s;for(s in i)this._applyPaintDeclaration(s,i[s],t,n,r);for(s in this._paintTransitions)s in i||this._applyPaintDeclaration(s,null,t,n,r)},updatePaintTransition:function(e,t,n,r,i){for(var o=this._paintDeclarations[""][e],a=0;a<t.length;a++){var s=this._paintDeclarations[t[a]];s&&s[e]&&(o=s[e])}this._applyPaintDeclaration(e,o,n,r,i)},recalculate:function(e,t){for(var n in this._paintTransitions)this.paint[n]=this.getPaintValue(n,{zoom:e,zoomHistory:t});for(var r in this._layoutFunctions)this.layout[r]=this.getLayoutValue(r,{zoom:e,zoomHistory:t})},serialize:function(e){var t={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom};for(var n in this._paintDeclarations){t[""===n?"paint":"paint."+n]=o.mapObject(this._paintDeclarations[n],i)}return(!this.ref||e&&e.includeRefProperties)&&o.extend(t,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,i)}),o.filterObject(t,function(e,t){return void 0!==e&&!("layout"===t&&!Object.keys(e).length)})},_applyPaintDeclaration:function(e,t,n,r,i){var l=n.transition?this._paintTransitions[e]:void 0,u=this._paintSpecifications[e];if(null!==t&&void 0!==t||(t=new s(u,u.default)),!l||l.declaration.json!==t.json){var c=o.extend({duration:300,delay:0},r,this.getPaintProperty(e+"-transition")),f=this._paintTransitions[e]=new a(u,t,l,c);f.instant()||(f.loopID=i.set(f.endTime-Date.now())),l&&i.cancel(l.loopID)}},_updateLayoutValue:function(e){var t=this._layoutDeclarations[e];t&&t.isFunction?this._layoutFunctions[e]=!0:(delete this._layoutFunctions[e],this.layout[e]=this.getLayoutValue(e))},_handleErrors:function(e,t,n,r){return u.emitErrors(this,e.call(u,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:l,style:{glyphs:!0,sprite:!0}}))}})},function(e,t,n){"use strict";var r=n(0),i=n(91),o=n(303);e.exports=function(e,t,n,a){var s,l;n?(s=r.nestedProperty(e,n).get(),l=r.nestedProperty(e._input,n).get()):(s=e,l=e._input);var u=a+"auto",c=a+"min",f=a+"max",h=s[u],d=s[c],p=s[f],m=s.colorscale;!1===h&&void 0!==d||(d=r.aggNums(Math.min,null,t)),!1===h&&void 0!==p||(p=r.aggNums(Math.max,null,t)),d===p&&(d-=.5,p+=.5),s[c]=d,s[f]=p,l[c]=d,l[f]=p,l[u]=!1!==h||void 0===d&&void 0===p,s.autocolorscale&&(m=d*p<0?i.RdBu:d>=0?i.Reds:i.Blues,l.colorscale=m,s.reversescale&&(m=o(m)),s.colorscale=m)}},function(e,t,n){"use strict";var r=n(56),i=n(8).extendDeep,o=n(91);e.exports=function(e){return{color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the ",e," color. It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," `cmin` and `cmax` if set."].join("")},colorscale:i({},r.colorscale,{description:["Sets the colorscale and only has an effect"," if `",e,".color` is set to a numerical array."," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use `",e,".cmin` and `",e,".cmax`."," Alternatively, `colorscale` may be a palette name string"," of the following list: "].join("").concat(Object.keys(o).join(", "))}),cauto:i({},r.zauto,{description:["Has an effect only if `",e,".color` is set to a numerical array"," and `cmin`, `cmax` are set by the user. In this case,"," it controls whether the range of colors in `colorscale` is mapped to"," the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`"," values (`cauto: false`)."," Defaults to `false` when `cmin`, `cmax` are set by the user."].join("")}),cmax:i({},r.zmax,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Sets the upper bound of the color domain."," Value should be associated to the `",e,".color` array index,"," and if set, `",e,".cmin` must be set as well."].join("")}),cmin:i({},r.zmin,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Sets the lower bound of the color domain."," Value should be associated to the `",e,".color` array index,"," and if set, `",e,".cmax` must be set as well."].join("")}),autocolorscale:i({},r.autocolorscale,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by `",e,".colorscale`."," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")}),reversescale:i({},r.reversescale,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Reverses the color mapping if true (`cmin` will correspond to the last color"," in the array and `cmax` will correspond to the first color)."].join("")})}}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(304);e.exports=function(e,t){var n=t?i.nestedProperty(e,t).get()||{}:e,a=n.color,s=!1;if(Array.isArray(a))for(var l=0;l<a.length;l++)if(r(a[l])){s=!0;break}return i.isPlainObject(n)&&(s||!0===n.showscale||r(n.cmin)&&r(n.cmax)||o(n.colorscale)||i.isPlainObject(n.colorbar))}},function(e,t,n){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function i(e){e._dragging=!1,e._replotPending&&o.plot(e)}var o=n(25),a=n(0),s=n(33),l=n(310),u=e.exports={};u.align=n(1326),u.getCursor=n(1327);var c=n(1328);u.unhover=c.wrapped,u.unhoverRaw=c.raw,u.init=function(e){function t(t){return e.element.onmousemove=m,v._dragged=!1,v._dragging=!0,c=t.clientX,f=t.clientY,p=t.target,h=(new Date).getTime(),h-v._mouseDownTime<y?g+=1:(g=1,v._mouseDownTime=h),e.prepFn&&e.prepFn(t,c,f),d=r(),d.onmousemove=n,d.onmouseup=o,d.onmouseout=o,d.style.cursor=window.getComputedStyle(e.element).cursor,a.pauseEvent(t)}function n(t){var n=t.clientX-c,r=t.clientY-f,i=e.minDrag||s.MINDRAG;return Math.abs(n)<i&&(n=0),Math.abs(r)<i&&(r=0),(n||r)&&(v._dragged=!0,u.unhover(v)),e.moveFn&&e.moveFn(n,r,v._dragged),a.pauseEvent(t)}function o(t){if(m=e.element.onmousemove,e.setCursor&&(e.element.onmousemove=e.setCursor),d.onmousemove=null,d.onmouseup=null,d.onmouseout=null,a.removeElement(d),!v._dragging)return void(v._dragged=!1);if(v._dragging=!1,(new Date).getTime()-v._mouseDownTime>y&&(g=Math.max(g-1,1)),e.doneFn&&e.doneFn(v._dragged,g,t),!v._dragged){var n;try{n=new MouseEvent("click",t)}catch(e){n=document.createEvent("MouseEvents"),n.initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(n)}return i(v),v._dragged=!1,a.pauseEvent(t)}var c,f,h,d,p,m,v=a.getPlotDiv(e.element)||{},g=1,y=l.DBLCLICKDELAY;v._mouseDownTime||(v._mouseDownTime=0),m=e.element.onmousemove,e.setCursor&&(e.element.onmousemove=e.setCursor),e.element.onmousedown=t,e.element.style.pointerEvents="all"},u.coverSlip=r},function(e,t,n){"use strict";function r(e,t){var n=e+t,r=n-e,i=n-r,o=t-r,a=e-i,s=a+o;return s?[s,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],t[0]);var o,a,s=n+i,l=new Array(s),u=0,c=0,f=0,h=Math.abs,d=e[c],p=h(d),m=t[f],v=h(m);p<v?(a=d,(c+=1)<n&&(d=e[c],p=h(d))):(a=m,(f+=1)<i&&(m=t[f],v=h(m))),c<n&&p<v||f>=i?(o=d,(c+=1)<n&&(d=e[c],p=h(d))):(o=m,(f+=1)<i&&(m=t[f],v=h(m)));for(var g,y,b,x,_,w=o+a,M=w-o,k=a-M,E=k,S=w;c<n&&f<i;)p<v?(o=d,(c+=1)<n&&(d=e[c],p=h(d))):(o=m,(f+=1)<i&&(m=t[f],v=h(m))),a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g;for(;c<n;)o=d,a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g,(c+=1)<n&&(d=e[c]);for(;f<i;)o=m,a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g,(f+=1)<i&&(m=t[f]);return E&&(l[u++]=E),S&&(l[u++]=S),u||(l[u++]=0),l.length=u,l}e.exports=i},function(e,t,n){"use strict";var r=n(17),i=(n(9),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},f={addPoolingTo:c,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=f},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i,o){var a=["function ",e,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),o?a.push("return -1};"):a.push("return i};"),a.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],!1,i),r("B","x"+e+"y",t,["y"],!0,i),r("P","c(x,y)"+e+"0",t,["y","c"],!1,i),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(1093),o=n(1122);e.exports=r},function(e,t,n){"use strict";function r(e){function t(){h.apply(this,arguments)}function n(){d.apply(this,arguments),this.members=t.prototype.members}var r=JSON.stringify(e);if(v[r])return v[r];void 0===e.alignment&&(e.alignment=1),t.prototype=Object.create(h.prototype);var s=0,u=0,g=["Uint8"];return t.prototype.members=e.members.map(function(n){n={name:n.name,type:n.type,components:n.components||1},p(n.name.length),p(n.type in m),g.indexOf(n.type)<0&&g.push(n.type);var r=a(n.type);u=Math.max(u,r),n.offset=s=o(s,Math.max(e.alignment,r));for(var i=0;i<n.components;i++)Object.defineProperty(t.prototype,n.name+(1===n.components?"":i),{get:c(n,i),set:f(n,i)});return s+=r*n.components,n}),t.prototype.alignment=e.alignment,t.prototype.size=o(s,Math.max(u,e.alignment)),n.serialize=i,n.prototype=Object.create(d.prototype),n.prototype.StructType=t,n.prototype.bytesPerElement=t.prototype.size,n.prototype.emplaceBack=l(t.prototype.members,t.prototype.size),n.prototype._usedTypes=g,v[r]=n,n}function i(){return{members:this.prototype.StructType.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}}function o(e,t){return Math.ceil(e/t)*t}function a(e){return m[e].BYTES_PER_ELEMENT}function s(e){return e.toLowerCase()}function l(e,t){for(var n=[],r=[],i="var i = this.length;\nthis.resize(this.length + 1);\n",o=0;o<e.length;o++){var l=e[o],u=a(l.type);n.indexOf(u)<0&&(n.push(u),i+="var o"+u.toFixed(0)+" = i * "+(t/u).toFixed(0)+";\n");for(var c=0;c<l.components;c++){var f="v"+r.length,h="o"+u.toFixed(0)+" + "+(l.offset/u+c).toFixed(0);i+="this."+s(l.type)+"["+h+"] = "+f+";\n",r.push(f)}}return i+="return i;",new Function(r,i)}function u(e,t){var n="this._pos"+a(e.type).toFixed(0),r=(e.offset/a(e.type)+t).toFixed(0),i=n+" + "+r;return"this._structArray."+s(e.type)+"["+i+"]"}function c(e,t){return new Function([],"return "+u(e,t)+";")}function f(e,t){return new Function(["x"],u(e,t)+" = x;")}function h(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function d(e){void 0!==e?(this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))}var p=n(83);e.exports=r;var m={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},v={};d.prototype.DEFAULT_CAPACITY=128,d.prototype.RESIZE_MULTIPLIER=5,d.prototype.serialize=function(){return this.trim(),{length:this.length,arrayBuffer:this.arrayBuffer}},d.prototype.get=function(e){return new this.StructType(this,e)},d.prototype.trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},d.prototype.resize=function(e){if(this.length=e,e>this.capacity){this.capacity=Math.max(e,Math.floor(this.capacity*this.RESIZE_MULTIPLIER),this.DEFAULT_CAPACITY),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},d.prototype._refreshViews=function(){for(var e=0;e<this._usedTypes.length;e++){var t=this._usedTypes[e];this[s(t)]=new m[t](this.arrayBuffer)}},d.prototype.toArray=function(e,t){for(var n=[],r=e;r<t;r++){var i=this.get(r);n.push(i)}return n}},function(e,t,n){"use strict";t.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},function(e,t,n){"use strict";var r=e.exports={};r.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa","winkel tripel":"winkel3",aitoff:"aitoff",sinusoidal:"sinusoidal"},r.axesNames=["lonaxis","lataxis"],r.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},r.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},r.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,80],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},r.clipPad=.001,r.precision=.1,r.landColor="#F0DC82",r.waterColor="#3399FF",r.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},r.sphereSVG={type:"Sphere"},r.fillLayers=["ocean","land","lakes"],r.lineLayers=["subunits","countries","coastlines","rivers","frame"],r.baseLayers=["ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame"],r.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"},r.baseLayersOverChoropleth=["rivers","lakes"]},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n,i){var o=!1;if(t.marker){var a=t.marker.color,s=(t.marker.line||{}).color;a&&!Array.isArray(a)?o=a:s&&!Array.isArray(s)&&(o=s)}i("fillcolor",r.addOpacity((t.line||{}).color||o||n,.5))}},function(e,t,n){"use strict";var r=n(90),i=n(65);e.exports=function(e,t,n,o,a,s){var l=(e.marker||{}).color;if(a("line.color",n),r(e,"line"))i(e,t,o,a,{prefix:"line.",cLetter:"c"});else{a("line.color",!Array.isArray(l)&&l||n)}a("line.width"),(s||{}).noDash||a("line.dash")}},function(e,t,n){"use strict";var r=n(3),i=n(90),o=n(65),a=n(21);e.exports=function(e,t,n,s,l,u){var c,f=a.isBubble(e),h=(e.line||{}).color;h&&(n=h),l("marker.symbol"),l("marker.opacity",f?.7:1),l("marker.size"),l("marker.color",n),i(e,"marker")&&o(e,t,s,l,{prefix:"marker.",cLetter:"c"}),(u||{}).noLine||(c=h&&!Array.isArray(h)&&t.marker.color!==h?h:f?r.background:r.defaultLine,l("marker.line.color",c),i(e,"marker.line")&&o(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",f?1:0)),f&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode"))}},function(e,t,n){"use strict";var r=n(18),i=(n(10),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},f={addPoolingTo:c,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=f},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(694),a=n(705),s=n.n(a);t.a=function(e){var t=e.activeName;return i.a.createElement("div",{className:"event-header"},i.a.createElement("h2",{style:{fontWeight:700,marginTop:30}},i.a.createElement("img",{src:s.a,style:{width:40,height:40,verticalAlign:"middle",marginRight:10},alt:"Calendar Icon"}),"Events"),i.a.createElement(o.a,{activeName:t}),i.a.createElement("hr",{className:"dark"}))}},function(e,t){},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function d(e,t){return!!(null==e?0:e.length)&&k(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e){return e.split("")}function _(e){return e.match(Bt)||[]}function w(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function M(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function k(e,t,n){return t===t?$(e,t,n):M(e,S,n)}function E(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function T(e,t){var n=null==e?0:e.length;return n?P(e,t)/n:Ne}function A(e){return function(t){return null==t?ie:t[e]}}function C(e){return function(t){return null==e?ie:e[t]}}function D(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function O(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function P(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function L(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e,t){return m(t,function(t){return[t,e[t]]})}function N(e){return function(t){return e(t)}}function R(e,t){return m(t,function(t){return e[t]})}function j(e,t){return e.has(t)}function z(e,t){for(var n=-1,r=e.length;++n<r&&k(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length;n--&&k(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function U(e){return"\\"+An[e]}function V(e,t){return null==e?ie:e[t]}function H(e){return bn.test(e)}function Y(e){return xn.test(e)}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function G(e,t){return function(n){return e(t(n))}}function X(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==ce||(e[n]=ce,o[i++]=n)}return o}function Z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function $(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function J(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Q(e){return H(e)?te(e):Wn(e)}function ee(e){return H(e)?ne(e):x(e)}function te(e){for(var t=gn.lastIndex=0;gn.test(e);)++t;return t}function ne(e){return e.match(gn)||[]}function re(e){return e.match(yn)||[]}var ie,oe=200,ae="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",se="Expected a function",le="__lodash_hash_undefined__",ue=500,ce="__lodash_placeholder__",fe=1,he=2,de=4,pe=1,me=2,ve=1,ge=2,ye=4,be=8,xe=16,_e=32,we=64,Me=128,ke=256,Ee=512,Se=30,Te="...",Ae=800,Ce=16,De=1,Oe=2,Pe=1/0,Le=9007199254740991,Ie=1.7976931348623157e308,Ne=NaN,Re=4294967295,je=Re-1,ze=Re>>>1,Fe=[["ary",Me],["bind",ve],["bindKey",ge],["curry",be],["curryRight",xe],["flip",Ee],["partial",_e],["partialRight",we],["rearg",ke]],Be="[object Arguments]",Ue="[object Array]",Ve="[object AsyncFunction]",He="[object Boolean]",Ye="[object Date]",We="[object DOMException]",qe="[object Error]",Ge="[object Function]",Xe="[object GeneratorFunction]",Ze="[object Map]",Ke="[object Number]",$e="[object Null]",Je="[object Object]",Qe="[object Proxy]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",at="[object WeakSet]",st="[object ArrayBuffer]",lt="[object DataView]",ut="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",pt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Mt=RegExp(_t.source),kt=RegExp(wt.source),Et=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,Dt=/^\./,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(Pt.source),It=/^\s+|\s+$/g,Nt=/^\s+/,Rt=/\s+$/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="["+Qt+"]",tn="["+Jt+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+Qt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",ln="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+nn+"|"+rn+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",fn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",hn="[\\ufe0e\\ufe0f]?"+cn+fn,dn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+hn,pn="(?:"+["[^\\ud800-\\udfff]"+tn+"?",tn,an,sn,"[\\ud800-\\udfff]"].join("|")+")",mn=RegExp("['’]","g"),vn=RegExp(tn,"g"),gn=RegExp(on+"(?="+on+")|"+pn+hn,"g"),yn=RegExp([ln+"?"+nn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[en,ln,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[en,ln+un,"$"].join("|")+")",ln+"?"+un+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ln+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),bn=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wn=-1,Mn={};Mn[ut]=Mn[ct]=Mn[ft]=Mn[ht]=Mn[dt]=Mn[pt]=Mn[mt]=Mn[vt]=Mn[gt]=!0,Mn[Be]=Mn[Ue]=Mn[st]=Mn[He]=Mn[lt]=Mn[Ye]=Mn[qe]=Mn[Ge]=Mn[Ze]=Mn[Ke]=Mn[Je]=Mn[et]=Mn[tt]=Mn[nt]=Mn[ot]=!1;var kn={};kn[Be]=kn[Ue]=kn[st]=kn[lt]=kn[He]=kn[Ye]=kn[ut]=kn[ct]=kn[ft]=kn[ht]=kn[dt]=kn[Ze]=kn[Ke]=kn[Je]=kn[et]=kn[tt]=kn[nt]=kn[rt]=kn[pt]=kn[mt]=kn[vt]=kn[gt]=!0,kn[qe]=kn[Ge]=kn[ot]=!1;var En={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Dn=parseInt,On="object"==typeof e&&e&&e.Object===Object&&e,Pn="object"==typeof self&&self&&self.Object===Object&&self,Ln=On||Pn||Function("return this")(),In="object"==typeof t&&t&&!t.nodeType&&t,Nn=In&&"object"==typeof r&&r&&!r.nodeType&&r,Rn=Nn&&Nn.exports===In,jn=Rn&&On.process,zn=function(){try{return jn&&jn.binding&&jn.binding("util")}catch(e){}}(),Fn=zn&&zn.isArrayBuffer,Bn=zn&&zn.isDate,Un=zn&&zn.isMap,Vn=zn&&zn.isRegExp,Hn=zn&&zn.isSet,Yn=zn&&zn.isTypedArray,Wn=A("length"),qn=C(En),Gn=C(Sn),Xn=C(Tn),Zn=function e(t){function n(e){if(ol(e)&&!gh(e)&&!(e instanceof x)){if(e instanceof i)return e;if(vc.call(e,"__wrapped__"))return na(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function x(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function C(){var e=new x(this.__wrapped__);return e.__actions__=ji(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ji(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ji(this.__views__),e}function $(){if(this.__filtered__){var e=new x(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=gh(e),r=t<0,i=n?e.length:0,o=To(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=qc(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return yi(e,this.__actions__);var p=[];e:for(;l--&&h<d;){u+=t;for(var m=-1,v=e[u];++m<f;){var g=c[m],y=g.iteratee,b=g.type,x=y(v);if(b==Oe)v=x;else if(!x){if(b==De)continue e;break e}}p[h++]=v}return p}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bt(){this.__data__=nf?nf(null):{},this.size=0}function Jt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Qt(e){var t=this.__data__;if(nf){var n=t[e];return n===le?ie:n}return vc.call(t,e)?t[e]:ie}function en(e){var t=this.__data__;return nf?t[e]!==ie:vc.call(t,e)}function tn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nf&&t===ie?le:t,this}function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(e){var t=this.__data__,n=Kn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Dc.call(t,n,1),--this.size,!0)}function an(e){var t=this.__data__,n=Kn(t,e);return n<0?ie:t[n][1]}function sn(e){return Kn(this.__data__,e)>-1}function ln(e,t){var n=this.__data__,r=Kn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new ne,map:new(Jc||nn),string:new ne}}function fn(e){var t=Mo(this,e).delete(e);return this.size-=t?1:0,t}function hn(e){return Mo(this,e).get(e)}function dn(e){return Mo(this,e).has(e)}function pn(e,t){var n=Mo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function yn(e){return this.__data__.set(e,le),this}function bn(e){return this.__data__.has(e)}function xn(e){var t=this.__data__=new nn(e);this.size=t.size}function En(){this.__data__=new nn,this.size=0}function Sn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tn(e){return this.__data__.get(e)}function An(e){return this.__data__.has(e)}function On(e,t){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Jc||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(e,t),this.size=n.size,this}function Pn(e,t){var n=gh(e),r=!n&&vh(e),i=!n&&!r&&bh(e),o=!n&&!r&&!i&&kh(e),a=n||r||i||o,s=a?L(e.length,uc):[],l=s.length;for(var u in e)!t&&!vc.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||No(u,l))||s.push(u);return s}function In(e){var t=e.length;return t?e[Qr(0,t-1)]:ie}function Nn(e,t){return Jo(ji(e),nr(t,0,e.length))}function jn(e){return Jo(ji(e))}function zn(e,t,n){(n===ie||Ws(e[t],n))&&(n!==ie||t in e)||er(e,t,n)}function Wn(e,t,n){var r=e[t];vc.call(e,t)&&Ws(r,n)&&(n!==ie||t in e)||er(e,t,n)}function Kn(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function $n(e,t,n,r){return mf(e,function(e,i,o){t(r,e,n(e),o)}),r}function Jn(e,t){return e&&zi(t,Bl(t),e)}function Qn(e,t){return e&&zi(t,Ul(t),e)}function er(e,t,n){"__proto__"==t&&Ic?Ic(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tr(e,t){for(var n=-1,r=t.length,i=nc(r),o=null==e;++n<r;)i[n]=o?ie:jl(e,t[n]);return i}function nr(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function rr(e,t,n,r,i,o){var a,s=t&fe,l=t&he,c=t&de;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!il(e))return e;var f=gh(e);if(f){if(a=Do(e),!s)return ji(e,a)}else{var h=Tf(e),d=h==Ge||h==Xe;if(bh(e))return Ei(e,s);if(h==Je||h==Be||d&&!i){if(a=l||d?{}:Oo(e),!s)return l?Bi(e,Qn(a,e)):Fi(e,Jn(a,e))}else{if(!kn[h])return i?e:{};a=Po(e,h,rr,s)}}o||(o=new xn);var p=o.get(e);if(p)return p;o.set(e,a);var m=c?l?bo:yo:l?Ul:Bl,v=f?ie:m(e);return u(v||e,function(r,i){v&&(i=r,r=e[i]),Wn(a,i,rr(r,t,n,i,e,o))}),a}function ir(e){var t=Bl(e);return function(n){return or(n,e,t)}}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=sc(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function ar(e,t,n){if("function"!=typeof e)throw new cc(se);return Df(function(){e.apply(ie,n)},t)}function sr(e,t,n,r){var i=-1,o=d,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,N(n))),r?(o=p,a=!1):t.length>=oe&&(o=j,a=!1,t=new gn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(c)}else o(t,f,r)||l.push(c)}return l}function lr(e,t){var n=!0;return mf(e,function(e,r,i){return n=!!t(e,r,i)}),n}function ur(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ie?a===a&&!vl(a):n(a,s)))var s=a,l=o}return l}function cr(e,t,n,r){var i=e.length;for(n=wl(n),n<0&&(n=-n>i?0:i+n),r=r===ie||r>i?i:wl(r),r<0&&(r+=i),r=n>r?0:Ml(r);n<r;)e[n++]=t;return e}function fr(e,t){var n=[];return mf(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function hr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Io),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?hr(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function dr(e,t){return e&&gf(e,t,Bl)}function pr(e,t){return e&&yf(e,t,Bl)}function mr(e,t){return h(t,function(t){return tl(e[t])})}function vr(e,t){t=Mi(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Qo(t[n++])];return n&&n==r?e:ie}function gr(e,t,n){var r=t(e);return gh(e)?r:v(r,n(e))}function yr(e){return null==e?e===ie?it:$e:Lc&&Lc in sc(e)?So(e):qo(e)}function br(e,t){return e>t}function xr(e,t){return null!=e&&vc.call(e,t)}function _r(e,t){return null!=e&&t in sc(e)}function wr(e,t,n){return e>=qc(t,n)&&e<Wc(t,n)}function Mr(e,t,n){for(var r=n?p:d,i=e[0].length,o=e.length,a=o,s=nc(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=m(c,N(t))),l=qc(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new gn(a&&c):ie}c=e[0];var f=-1,h=s[0];e:for(;++f<i&&u.length<l;){var v=c[f],g=t?t(v):v;if(v=n||0!==v?v:0,!(h?j(h,g):r(u,g,n))){for(a=o;--a;){var y=s[a];if(!(y?j(y,g):r(e[a],g,n)))continue e}h&&h.push(g),u.push(v)}}return u}function kr(e,t,n,r){return dr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Er(e,t,n){t=Mi(t,e),e=Xo(e,t);var r=null==e?e:e[Qo(_a(t))];return null==r?ie:s(r,e,n)}function Sr(e){return ol(e)&&yr(e)==Be}function Tr(e){return ol(e)&&yr(e)==st}function Ar(e){return ol(e)&&yr(e)==Ye}function Cr(e,t,n,r,i){return e===t||(null==e||null==t||!ol(e)&&!ol(t)?e!==e&&t!==t:Dr(e,t,n,r,Cr,i))}function Dr(e,t,n,r,i,o){var a=gh(e),s=gh(t),l=a?Ue:Tf(e),u=s?Ue:Tf(t);l=l==Be?Je:l,u=u==Be?Je:u;var c=l==Je,f=u==Je,h=l==u;if(h&&bh(e)){if(!bh(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xn),a||kh(e)?po(e,t,n,r,i,o):mo(e,t,l,n,r,i,o);if(!(n&pe)){var d=c&&vc.call(e,"__wrapped__"),p=f&&vc.call(t,"__wrapped__");if(d||p){var m=d?e.value():e,v=p?t.value():t;return o||(o=new xn),i(m,v,n,r,o)}}return!!h&&(o||(o=new xn),vo(e,t,n,r,i,o))}function Or(e){return ol(e)&&Tf(e)==Ze}function Pr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=sc(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===ie&&!(l in e))return!1}else{var f=new xn;if(r)var h=r(u,c,l,e,t,f);if(!(h===ie?Cr(c,u,pe|me,r,f):h))return!1}}return!0}function Lr(e){return!(!il(e)||Bo(e))&&(tl(e)?wc:qt).test(ea(e))}function Ir(e){return ol(e)&&yr(e)==et}function Nr(e){return ol(e)&&Tf(e)==tt}function Rr(e){return ol(e)&&rl(e.length)&&!!Mn[yr(e)]}function jr(e){return"function"==typeof e?e:null==e?Du:"object"==typeof e?gh(e)?Hr(e[0],e[1]):Vr(e):zu(e)}function zr(e){if(!Uo(e))return Yc(e);var t=[];for(var n in sc(e))vc.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!il(e))return Wo(e);var t=Uo(e),n=[];for(var r in e)("constructor"!=r||!t&&vc.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Ur(e,t){var n=-1,r=qs(e)?nc(e.length):[];return mf(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Vr(e){var t=ko(e);return 1==t.length&&t[0][2]?Ho(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Hr(e,t){return jo(e)&&Vo(t)?Ho(Qo(e),t):function(n){var r=jl(n,e);return r===ie&&r===t?Fl(n,e):Cr(t,r,pe|me)}}function Yr(e,t,n,r,i){e!==t&&gf(t,function(o,a){if(il(o))i||(i=new xn),Wr(e,t,a,n,Yr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):ie;s===ie&&(s=o),zn(e,a,s)}},Ul)}function Wr(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void zn(e,n,u);var c=o?o(s,l,n+"",e,t,a):ie,f=c===ie;if(f){var h=gh(l),d=!h&&bh(l),p=!h&&!d&&kh(l);c=l,h||d||p?gh(s)?c=s:Gs(s)?c=ji(s):d?(f=!1,c=Ei(l,!0)):p?(f=!1,c=Pi(l,!0)):c=[]:dl(l)||vh(l)?(c=s,vh(s)?c=El(s):(!il(s)||r&&tl(s))&&(c=Oo(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),zn(e,n,c)}function qr(e,t){var n=e.length;if(n)return t+=t<0?n:0,No(t,n)?e[t]:ie}function Gr(e,t,n){var r=-1;return t=m(t.length?t:[Du],N(wo())),O(Ur(e,function(e,n,i){return{criteria:m(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ii(e,t,n)})}function Xr(e,t){return Zr(e,t,function(t,n){return Fl(e,n)})}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=vr(e,a);n(s,a)&&oi(o,Mi(a,e),s)}return o}function Kr(e){return function(t){return vr(t,e)}}function $r(e,t,n,r){var i=r?E:k,o=-1,a=t.length,s=e;for(e===t&&(t=ji(t)),n&&(s=m(e,N(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Dc.call(s,l,1),Dc.call(e,l,1);return e}function Jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;No(i)?Dc.call(e,i,1):mi(e,i)}}return e}function Qr(e,t){return e+Fc(Zc()*(t-e+1))}function ei(e,t,n,r){for(var i=-1,o=Wc(zc((t-e)/(n||1)),0),a=nc(o);o--;)a[r?o:++i]=e,e+=n;return a}function ti(e,t){var n="";if(!e||t<1||t>Le)return n;do{t%2&&(n+=e),(t=Fc(t/2))&&(e+=e)}while(t);return n}function ni(e,t){return Of(Go(e,t,Du),e+"")}function ri(e){return In(Ql(e))}function ii(e,t){var n=Ql(e);return Jo(n,nr(t,0,n.length))}function oi(e,t,n,r){if(!il(e))return e;t=Mi(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=Qo(t[i]),u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):ie,u===ie&&(u=il(c)?c:No(t[i+1])?[]:{})}Wn(s,l,u),s=s[l]}return e}function ai(e){return Jo(Ql(e))}function si(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=nc(i);++r<i;)o[r]=e[r+t];return o}function li(e,t){var n;return mf(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ui(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=ze){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!vl(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,Du,n)}function ci(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,l=vl(t),u=t===ie;i<o;){var c=Fc((i+o)/2),f=n(e[c]),h=f!==ie,d=null===f,p=f===f,m=vl(f);if(a)var v=r||p;else v=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);v?i=c+1:o=c}return qc(o,je)}function fi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ws(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function hi(e){return"number"==typeof e?e:vl(e)?Ne:+e}function di(e){if("string"==typeof e)return e;if(gh(e))return m(e,di)+"";if(vl(e))return df?df.call(e):"";var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function pi(e,t,n){var r=-1,i=d,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=p;else if(o>=oe){var u=t?null:Mf(e);if(u)return Z(u);a=!1,i=j,l=new gn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function mi(e,t){return t=Mi(t,e),null==(e=Xo(e,t))||delete e[Qo(_a(t))]}function vi(e,t,n,r){return oi(e,t,n(vr(e,t)),r)}function gi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?si(e,r?0:o,r?o+1:i):si(e,r?o+1:0,r?i:o)}function yi(e,t){var n=e;return n instanceof x&&(n=n.value()),g(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function bi(e,t,n){var r=e.length;if(r<2)return r?pi(e[0]):[];for(var i=-1,o=nc(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,e[s],t,n));return pi(hr(o,1),t,n)}function xi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ie;n(a,e[r],s)}return a}function _i(e){return Gs(e)?e:[]}function wi(e){return"function"==typeof e?e:Du}function Mi(e,t){return gh(e)?e:jo(e,t)?[e]:Pf(Tl(e))}function ki(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:si(e,t,n)}function Ei(e,t){if(t)return e.slice();var n=e.length,r=Sc?Sc(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Ec(t).set(new Ec(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ai(e,t,n){return g(t?n(q(e),fe):q(e),o,new e.constructor)}function Ci(e){var t=new e.constructor(e.source,Ht.exec(e));return t.lastIndex=e.lastIndex,t}function Di(e,t,n){return g(t?n(Z(e),fe):Z(e),a,new e.constructor)}function Oi(e){return hf?sc(hf.call(e)):{}}function Pi(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Li(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=vl(e),a=t!==ie,s=null===t,l=t===t,u=vl(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Ii(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Li(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}function Ni(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Wc(o-a,0),c=nc(l+u),f=!r;++s<l;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ri(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Wc(o-s,0),f=nc(c+u),h=!r;++i<c;)f[i]=e[i];for(var d=i;++l<u;)f[d+l]=t[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function ji(e,t){var n=-1,r=e.length;for(t||(t=nc(r));++n<r;)t[n]=e[n];return t}function zi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):ie;l===ie&&(l=e[s]),i?er(n,s,l):Wn(n,s,l)}return n}function Fi(e,t){return zi(e,Ef(e),t)}function Bi(e,t){return zi(e,Sf(e),t)}function Ui(e,t){return function(n,r){var i=gh(n)?l:$n,o=t?t():{};return i(n,e,wo(r,2),o)}}function Vi(e){return ni(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&Ro(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=sc(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Hi(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=sc(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Yi(e){return function(t,n,r){for(var i=-1,o=sc(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Wi(e,t,n){function r(){return(this&&this!==Ln&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ve,o=Xi(e);return r}function qi(e){return function(t){t=Tl(t);var n=H(t)?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?ki(n,1).join(""):t.slice(1);return r[e]()+i}}function Gi(e){return function(t){return g(Eu(ou(t).replace(mn,"")),e,"")}}function Xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pf(e.prototype),r=e.apply(n,t);return il(r)?r:n}}function Zi(e,t,n){function r(){for(var o=arguments.length,a=nc(o),l=o,u=_o(r);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:X(a,u);return(o-=c.length)<n?ao(e,t,Ji,r.placeholder,ie,a,c,ie,ie,n-o):s(this&&this!==Ln&&this instanceof r?i:e,this,a)}var i=Xi(e);return r}function Ki(e){return function(t,n,r){var i=sc(t);if(!qs(t)){var o=wo(n,3);t=Bl(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function $i(e){return go(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new cc(se);if(o&&!s&&"wrapper"==xo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var l=xo(a),u="wrapper"==l?kf(a):ie;s=u&&Fo(u[0])&&u[1]==(Me|be|_e|ke)&&!u[4].length&&1==u[9]?s[xo(u[0])].apply(s,u[3]):1==a.length&&Fo(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gh(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ji(e,t,n,r,i,o,a,s,l,u){function c(){for(var g=arguments.length,y=nc(g),b=g;b--;)y[b]=arguments[b];if(p)var x=_o(c),_=B(y,x);if(r&&(y=Ni(y,r,i,p)),o&&(y=Ri(y,o,a,p)),g-=_,p&&g<u){var w=X(y,x);return ao(e,t,Ji,c.placeholder,n,y,w,s,l,u-g)}var M=h?n:this,k=d?M[e]:e;return g=y.length,s?y=Zo(y,s):m&&g>1&&y.reverse(),f&&l<g&&(y.length=l),this&&this!==Ln&&this instanceof c&&(k=v||Xi(k)),k.apply(M,y)}var f=t&Me,h=t&ve,d=t&ge,p=t&(be|xe),m=t&Ee,v=d?ie:Xi(e);return c}function Qi(e,t){return function(n,r){return kr(n,e,t(r),{})}}function eo(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=hi(n),r=hi(r)),i=e(n,r)}return i}}function to(e){return go(function(t){return t=m(t,N(wo())),ni(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function no(e,t){t=t===ie?" ":di(t);var n=t.length;if(n<2)return n?ti(t,e):t;var r=ti(t,zc(e/Q(t)));return H(t)?ki(ee(r),0,e).join(""):r.slice(0,e)}function ro(e,t,n,r){function i(){for(var t=-1,l=arguments.length,u=-1,c=r.length,f=nc(c+l),h=this&&this!==Ln&&this instanceof i?a:e;++u<c;)f[u]=r[u];for(;l--;)f[u++]=arguments[++t];return s(h,o?n:this,f)}var o=t&ve,a=Xi(e);return i}function io(e){return function(t,n,r){return r&&"number"!=typeof r&&Ro(t,n,r)&&(n=r=ie),t=_l(t),n===ie?(n=t,t=0):n=_l(n),r=r===ie?t<n?1:-1:_l(r),ei(t,n,r,e)}}function oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=kl(t),n=kl(n)),e(t,n)}}function ao(e,t,n,r,i,o,a,s,l,u){var c=t&be,f=c?a:ie,h=c?ie:a,d=c?o:ie,p=c?ie:o;t|=c?_e:we,(t&=~(c?we:_e))&ye||(t&=~(ve|ge));var m=[e,t,i,d,f,p,h,s,l,u],v=n.apply(ie,m);return Fo(e)&&Cf(v,m),v.placeholder=r,Ko(v,e,t)}function so(e){var t=ac[e];return function(e,n){if(e=kl(e),n=null==n?0:qc(wl(n),292)){var r=(Tl(e)+"e").split("e");return r=(Tl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function lo(e){return function(t){var n=Tf(t);return n==Ze?q(t):n==tt?K(t):I(t,e(t))}}function uo(e,t,n,r,i,o,a,s){var l=t&ge;if(!l&&"function"!=typeof e)throw new cc(se);var u=r?r.length:0;if(u||(t&=~(_e|we),r=i=ie),a=a===ie?a:Wc(wl(a),0),s=s===ie?s:wl(s),u-=i?i.length:0,t&we){var c=r,f=i;r=i=ie}var h=l?ie:kf(e),d=[e,t,n,r,i,c,f,o,a,s];if(h&&Yo(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===ie?l?0:e.length:Wc(d[9]-u,0),!s&&t&(be|xe)&&(t&=~(be|xe)),t&&t!=ve)p=t==be||t==xe?Zi(e,t,s):t!=_e&&t!=(ve|_e)||i.length?Ji.apply(ie,d):ro(e,t,n,r);else var p=Wi(e,t,n);return Ko((h?bf:Cf)(p,d),e,t)}function co(e,t,n,r){return e===ie||Ws(e,dc[n])&&!vc.call(r,n)?t:e}function fo(e,t,n,r,i,o){return il(e)&&il(t)&&(o.set(t,e),Yr(e,t,ie,fo,o),o.delete(t)),e}function ho(e){return dl(e)?ie:e}function po(e,t,n,r,i,o){var a=n&pe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,h=n&me?new gn:ie;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var m=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(m!==ie){if(m)continue;f=!1;break}if(h){if(!b(t,function(e,t){if(!j(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function mo(e,t,n,r,i,o,a){switch(n){case lt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case st:return!(e.byteLength!=t.byteLength||!o(new Ec(e),new Ec(t)));case He:case Ye:case Ke:return Ws(+e,+t);case qe:return e.name==t.name&&e.message==t.message;case et:case nt:return e==t+"";case Ze:var s=q;case tt:var l=r&pe;if(s||(s=Z),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=me,a.set(e,t);var c=po(s(e),s(t),r,i,o,a);return a.delete(e),c;case rt:if(hf)return hf.call(e)==hf.call(t)}return!1}function vo(e,t,n,r,i,o){var a=n&pe,s=yo(e),l=s.length;if(l!=yo(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:vc.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){c=s[u];var p=e[c],m=t[c];if(r)var v=a?r(m,p,c,t,e,o):r(p,m,c,e,t,o);if(!(v===ie?p===m||i(p,m,n,r,o):v)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}function go(e){return Of(Go(e,ie,da),e+"")}function yo(e){return gr(e,Bl,Ef)}function bo(e){return gr(e,Ul,Sf)}function xo(e){for(var t=e.name+"",n=of[t],r=vc.call(of,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function _o(e){return(vc.call(n,"placeholder")?n:e).placeholder}function wo(){var e=n.iteratee||Ou;return e=e===Ou?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function Mo(e,t){var n=e.__data__;return zo(t)?n["string"==typeof t?"string":"hash"]:n.map}function ko(e){for(var t=Bl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Vo(i)]}return t}function Eo(e,t){var n=V(e,t);return Lr(n)?n:ie}function So(e){var t=vc.call(e,Lc),n=e[Lc];try{e[Lc]=ie;var r=!0}catch(e){}var i=bc.call(e);return r&&(t?e[Lc]=n:delete e[Lc]),i}function To(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=qc(t,e+a);break;case"takeRight":e=Wc(e,t-a)}}return{start:e,end:t}}function Ao(e){var t=e.match(zt);return t?t[1].split(Ft):[]}function Co(e,t,n){t=Mi(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Qo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&rl(i)&&No(a,i)&&(gh(e)||vh(e))}function Do(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&vc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Oo(e){return"function"!=typeof e.constructor||Uo(e)?{}:pf(Tc(e))}function Po(e,t,n,r){var i=e.constructor;switch(t){case st:return Si(e);case He:case Ye:return new i(+e);case lt:return Ti(e,r);case ut:case ct:case ft:case ht:case dt:case pt:case mt:case vt:case gt:return Pi(e,r);case Ze:return Ai(e,r,n);case Ke:case nt:return new i(e);case et:return Ci(e);case tt:return Di(e,r,n);case rt:return Oi(e)}}function Lo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(jt,"{\n/* [wrapped with "+t+"] */\n")}function Io(e){return gh(e)||vh(e)||!!(Oc&&e&&e[Oc])}function No(e,t){return!!(t=null==t?Le:t)&&("number"==typeof e||Xt.test(e))&&e>-1&&e%1==0&&e<t}function Ro(e,t,n){if(!il(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&No(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function jo(e,t){if(gh(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vl(e))||(Ct.test(e)||!At.test(e)||null!=t&&e in sc(t))}function zo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Fo(e){var t=xo(e),r=n[t];if("function"!=typeof r||!(t in x.prototype))return!1;if(e===r)return!0;var i=kf(r);return!!i&&e===i[0]}function Bo(e){return!!yc&&yc in e}function Uo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dc)}function Vo(e){return e===e&&!il(e)}function Ho(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ie||e in sc(n)))}}function Yo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ve|ge|Me),a=r==Me&&n==be||r==Me&&n==ke&&e[7].length<=t[8]||r==(Me|ke)&&t[7].length<=t[8]&&n==be;if(!o&&!a)return e;r&ve&&(e[2]=t[2],i|=n&ve?0:ye);var s=t[3];if(s){var l=e[3];e[3]=l?Ni(l,s,t[4]):s,e[4]=l?X(e[3],ce):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ri(l,s,t[6]):s,e[6]=l?X(e[5],ce):t[6]),s=t[7],s&&(e[7]=s),r&Me&&(e[8]=null==e[8]?t[8]:qc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Wo(e){var t=[];if(null!=e)for(var n in sc(e))t.push(n);return t}function qo(e){return bc.call(e)}function Go(e,t,n){return t=Wc(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Wc(r.length-t,0),a=nc(o);++i<o;)a[i]=r[t+i];i=-1;for(var l=nc(t+1);++i<t;)l[i]=r[i];return l[t]=n(a),s(e,this,l)}}function Xo(e,t){return t.length<2?e:vr(e,si(t,0,-1))}function Zo(e,t){for(var n=e.length,r=qc(t.length,n),i=ji(e);r--;){var o=t[r];e[r]=No(o,n)?i[o]:ie}return e}function Ko(e,t,n){var r=t+"";return Of(e,Lo(r,ta(Ao(r),n)))}function $o(e){var t=0,n=0;return function(){var r=Gc(),i=Ce-(r-n);if(n=r,i>0){if(++t>=Ae)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Jo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=Qr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Qo(e){if("string"==typeof e||vl(e))return e;var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function ea(e){if(null!=e){try{return mc.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ta(e,t){return u(Fe,function(n){var r="_."+n[0];t&n[1]&&!d(e,r)&&e.push(r)}),e.sort()}function na(e){if(e instanceof x)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=ji(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ra(e,t,n){t=(n?Ro(e,t,n):t===ie)?1:Wc(wl(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=nc(zc(r/t));i<r;)a[o++]=si(e,i,i+=t);return a}function ia(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function oa(){var e=arguments.length;if(!e)return[];for(var t=nc(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return v(gh(n)?ji(n):[n],hr(t,1))}function aa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),si(e,t<0?0:t,r)):[]}function sa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),t=r-t,si(e,0,t<0?0:t)):[]}function la(e,t){return e&&e.length?gi(e,wo(t,3),!0,!0):[]}function ua(e,t){return e&&e.length?gi(e,wo(t,3),!0):[]}function ca(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ro(e,t,n)&&(n=0,r=i),cr(e,t,n,r)):[]}function fa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wl(n);return i<0&&(i=Wc(r+i,0)),M(e,wo(t,3),i)}function ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=wl(n),i=n<0?Wc(r+i,0):qc(i,r-1)),M(e,wo(t,3),i,!0)}function da(e){return(null==e?0:e.length)?hr(e,1):[]}function pa(e){return(null==e?0:e.length)?hr(e,Pe):[]}function ma(e,t){return(null==e?0:e.length)?(t=t===ie?1:wl(t),hr(e,t)):[]}function va(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ga(e){return e&&e.length?e[0]:ie}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wl(n);return i<0&&(i=Wc(r+i,0)),k(e,t,i)}function ba(e){return(null==e?0:e.length)?si(e,0,-1):[]}function xa(e,t){return null==e?"":Hc.call(e,t)}function _a(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=wl(n),i=i<0?Wc(r+i,0):qc(i,r-1)),t===t?J(e,t,i):M(e,S,i,!0)}function Ma(e,t){return e&&e.length?qr(e,wl(t)):ie}function ka(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}function Ea(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,wo(n,2)):e}function Sa(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,ie,n):e}function Ta(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=wo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Jr(e,i),n}function Aa(e){return null==e?e:Kc.call(e)}function Ca(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ro(e,t,n)?(t=0,n=r):(t=null==t?0:wl(t),n=n===ie?r:wl(n)),si(e,t,n)):[]}function Da(e,t){return ui(e,t)}function Oa(e,t,n){return ci(e,t,wo(n,2))}function Pa(e,t){var n=null==e?0:e.length;if(n){var r=ui(e,t);if(r<n&&Ws(e[r],t))return r}return-1}function La(e,t){return ui(e,t,!0)}function Ia(e,t,n){return ci(e,t,wo(n,2),!0)}function Na(e,t){if(null==e?0:e.length){var n=ui(e,t,!0)-1;if(Ws(e[n],t))return n}return-1}function Ra(e){return e&&e.length?fi(e):[]}function ja(e,t){return e&&e.length?fi(e,wo(t,2)):[]}function za(e){var t=null==e?0:e.length;return t?si(e,1,t):[]}function Fa(e,t,n){return e&&e.length?(t=n||t===ie?1:wl(t),si(e,0,t<0?0:t)):[]}function Ba(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wl(t),t=r-t,si(e,t<0?0:t,r)):[]}function Ua(e,t){return e&&e.length?gi(e,wo(t,3),!1,!0):[]}function Va(e,t){return e&&e.length?gi(e,wo(t,3)):[]}function Ha(e){return e&&e.length?pi(e):[]}function Ya(e,t){return e&&e.length?pi(e,wo(t,2)):[]}function Wa(e,t){return t="function"==typeof t?t:ie,e&&e.length?pi(e,ie,t):[]}function qa(e){if(!e||!e.length)return[];var t=0;return e=h(e,function(e){if(Gs(e))return t=Wc(e.length,t),!0}),L(t,function(t){return m(e,A(t))})}function Ga(e,t){if(!e||!e.length)return[];var n=qa(e);return null==t?n:m(n,function(e){return s(t,ie,e)})}function Xa(e,t){return xi(e||[],t||[],Wn)}function Za(e,t){return xi(e||[],t||[],oi)}function Ka(e){var t=n(e);return t.__chain__=!0,t}function $a(e,t){return t(e),e}function Ja(e,t){return t(e)}function Qa(){return Ka(this)}function es(){return new i(this.value(),this.__chain__)}function ts(){this.__values__===ie&&(this.__values__=xl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ie:this.__values__[this.__index__++]}}function ns(){return this}function rs(e){for(var t,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function is(){var e=this.__wrapped__;if(e instanceof x){var t=e;return this.__actions__.length&&(t=new x(this)),t=t.reverse(),t.__actions__.push({func:Ja,args:[Aa],thisArg:ie}),new i(t,this.__chain__)}return this.thru(Aa)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(e,t,n){var r=gh(e)?f:lr;return n&&Ro(e,t,n)&&(t=ie),r(e,wo(t,3))}function ss(e,t){return(gh(e)?h:fr)(e,wo(t,3))}function ls(e,t){return hr(ps(e,t),1)}function us(e,t){return hr(ps(e,t),Pe)}function cs(e,t,n){return n=n===ie?1:wl(n),hr(ps(e,t),n)}function fs(e,t){return(gh(e)?u:mf)(e,wo(t,3))}function hs(e,t){return(gh(e)?c:vf)(e,wo(t,3))}function ds(e,t,n,r){e=qs(e)?e:Ql(e),n=n&&!r?wl(n):0;var i=e.length;return n<0&&(n=Wc(i+n,0)),ml(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&k(e,t,n)>-1}function ps(e,t){return(gh(e)?m:Ur)(e,wo(t,3))}function ms(e,t,n,r){return null==e?[]:(gh(t)||(t=null==t?[]:[t]),n=r?ie:n,gh(n)||(n=null==n?[]:[n]),Gr(e,t,n))}function vs(e,t,n){var r=gh(e)?g:D,i=arguments.length<3;return r(e,wo(t,4),n,i,mf)}function gs(e,t,n){var r=gh(e)?y:D,i=arguments.length<3;return r(e,wo(t,4),n,i,vf)}function ys(e,t){return(gh(e)?h:fr)(e,Ps(wo(t,3)))}function bs(e){return(gh(e)?In:ri)(e)}function xs(e,t,n){return t=(n?Ro(e,t,n):t===ie)?1:wl(t),(gh(e)?Nn:ii)(e,t)}function _s(e){return(gh(e)?jn:ai)(e)}function ws(e){if(null==e)return 0;if(qs(e))return ml(e)?Q(e):e.length;var t=Tf(e);return t==Ze||t==tt?e.size:zr(e).length}function Ms(e,t,n){var r=gh(e)?b:li;return n&&Ro(e,t,n)&&(t=ie),r(e,wo(t,3))}function ks(e,t){if("function"!=typeof t)throw new cc(se);return e=wl(e),function(){if(--e<1)return t.apply(this,arguments)}}function Es(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,uo(e,Me,ie,ie,ie,ie,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new cc(se);return e=wl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function Ts(e,t,n){t=n?ie:t;var r=uo(e,be,ie,ie,ie,ie,ie,t);return r.placeholder=Ts.placeholder,r}function As(e,t,n){t=n?ie:t;var r=uo(e,xe,ie,ie,ie,ie,ie,t);return r.placeholder=As.placeholder,r}function Cs(e,t,n){function r(t){var n=h,r=d;return h=d=ie,y=t,m=e.apply(r,n)}function i(e){return y=e,v=Df(s,t),b?r(e):m}function o(e){var n=e-g,r=e-y,i=t-n;return x?qc(i,p-r):i}function a(e){var n=e-g,r=e-y;return g===ie||n>=t||n<0||x&&r>=p}function s(){var e=oh();if(a(e))return l(e);v=Df(s,o(e))}function l(e){return v=ie,_&&h?r(e):(h=d=ie,m)}function u(){v!==ie&&wf(v),y=0,h=g=d=v=ie}function c(){return v===ie?m:l(oh())}function f(){var e=oh(),n=a(e);if(h=arguments,d=this,g=e,n){if(v===ie)return i(g);if(x)return v=Df(s,t),r(g)}return v===ie&&(v=Df(s,t)),m}var h,d,p,m,v,g,y=0,b=!1,x=!1,_=!0;if("function"!=typeof e)throw new cc(se);return t=kl(t)||0,il(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Wc(kl(n.maxWait)||0,t):p,_="trailing"in n?!!n.trailing:_),f.cancel=u,f.flush=c,f}function Ds(e){return uo(e,Ee)}function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new cc(se);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Os.Cache||un),n}function Ps(e){if("function"!=typeof e)throw new cc(se);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ls(e){return Ss(2,e)}function Is(e,t){if("function"!=typeof e)throw new cc(se);return t=t===ie?t:wl(t),ni(e,t)}function Ns(e,t){if("function"!=typeof e)throw new cc(se);return t=null==t?0:Wc(wl(t),0),ni(function(n){var r=n[t],i=ki(n,0,t);return r&&v(i,r),s(e,this,i)})}function Rs(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new cc(se);return il(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cs(e,t,{leading:r,maxWait:t,trailing:i})}function js(e){return Es(e,1)}function zs(e,t){return fh(wi(t),e)}function Fs(){if(!arguments.length)return[];var e=arguments[0];return gh(e)?e:[e]}function Bs(e){return rr(e,de)}function Us(e,t){return t="function"==typeof t?t:ie,rr(e,de,t)}function Vs(e){return rr(e,fe|de)}function Hs(e,t){return t="function"==typeof t?t:ie,rr(e,fe|de,t)}function Ys(e,t){return null==t||or(e,t,Bl(t))}function Ws(e,t){return e===t||e!==e&&t!==t}function qs(e){return null!=e&&rl(e.length)&&!tl(e)}function Gs(e){return ol(e)&&qs(e)}function Xs(e){return!0===e||!1===e||ol(e)&&yr(e)==He}function Zs(e){return ol(e)&&1===e.nodeType&&!dl(e)}function Ks(e){if(null==e)return!0;if(qs(e)&&(gh(e)||"string"==typeof e||"function"==typeof e.splice||bh(e)||kh(e)||vh(e)))return!e.length;var t=Tf(e);if(t==Ze||t==tt)return!e.size;if(Uo(e))return!zr(e).length;for(var n in e)if(vc.call(e,n))return!1;return!0}function $s(e,t){return Cr(e,t)}function Js(e,t,n){n="function"==typeof n?n:ie;var r=n?n(e,t):ie;return r===ie?Cr(e,t,ie,n):!!r}function Qs(e){if(!ol(e))return!1;var t=yr(e);return t==qe||t==We||"string"==typeof e.message&&"string"==typeof e.name&&!dl(e)}function el(e){return"number"==typeof e&&Vc(e)}function tl(e){if(!il(e))return!1;var t=yr(e);return t==Ge||t==Xe||t==Ve||t==Qe}function nl(e){return"number"==typeof e&&e==wl(e)}function rl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Le}function il(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ol(e){return null!=e&&"object"==typeof e}function al(e,t){return e===t||Pr(e,t,ko(t))}function sl(e,t,n){return n="function"==typeof n?n:ie,Pr(e,t,ko(t),n)}function ll(e){return hl(e)&&e!=+e}function ul(e){if(Af(e))throw new ic(ae);return Lr(e)}function cl(e){return null===e}function fl(e){return null==e}function hl(e){return"number"==typeof e||ol(e)&&yr(e)==Ke}function dl(e){if(!ol(e)||yr(e)!=Je)return!1;var t=Tc(e);if(null===t)return!0;var n=vc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==xc}function pl(e){return nl(e)&&e>=-Le&&e<=Le}function ml(e){return"string"==typeof e||!gh(e)&&ol(e)&&yr(e)==nt}function vl(e){return"symbol"==typeof e||ol(e)&&yr(e)==rt}function gl(e){return e===ie}function yl(e){return ol(e)&&Tf(e)==ot}function bl(e){return ol(e)&&yr(e)==at}function xl(e){if(!e)return[];if(qs(e))return ml(e)?ee(e):ji(e);if(Pc&&e[Pc])return W(e[Pc]());var t=Tf(e);return(t==Ze?q:t==tt?Z:Ql)(e)}function _l(e){if(!e)return 0===e?e:0;if((e=kl(e))===Pe||e===-Pe){return(e<0?-1:1)*Ie}return e===e?e:0}function wl(e){var t=_l(e),n=t%1;return t===t?n?t-n:t:0}function Ml(e){return e?nr(wl(e),0,Re):0}function kl(e){if("number"==typeof e)return e;if(vl(e))return Ne;if(il(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=il(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(It,"");var n=Wt.test(e);return n||Gt.test(e)?Dn(e.slice(2),n?2:8):Yt.test(e)?Ne:+e}function El(e){return zi(e,Ul(e))}function Sl(e){return e?nr(wl(e),-Le,Le):0===e?e:0}function Tl(e){return null==e?"":di(e)}function Al(e,t){var n=pf(e);return null==t?n:Jn(n,t)}function Cl(e,t){return w(e,wo(t,3),dr)}function Dl(e,t){return w(e,wo(t,3),pr)}function Ol(e,t){return null==e?e:gf(e,wo(t,3),Ul)}function Pl(e,t){return null==e?e:yf(e,wo(t,3),Ul)}function Ll(e,t){return e&&dr(e,wo(t,3))}function Il(e,t){return e&&pr(e,wo(t,3))}function Nl(e){return null==e?[]:mr(e,Bl(e))}function Rl(e){return null==e?[]:mr(e,Ul(e))}function jl(e,t,n){var r=null==e?ie:vr(e,t);return r===ie?n:r}function zl(e,t){return null!=e&&Co(e,t,xr)}function Fl(e,t){return null!=e&&Co(e,t,_r)}function Bl(e){return qs(e)?Pn(e):zr(e)}function Ul(e){return qs(e)?Pn(e,!0):Fr(e)}function Vl(e,t){var n={};return t=wo(t,3),dr(e,function(e,r,i){er(n,t(e,r,i),e)}),n}function Hl(e,t){var n={};return t=wo(t,3),dr(e,function(e,r,i){er(n,r,t(e,r,i))}),n}function Yl(e,t){return Wl(e,Ps(wo(t)))}function Wl(e,t){if(null==e)return{};var n=m(bo(e),function(e){return[e]});return t=wo(t),Zr(e,n,function(e,n){return t(e,n[0])})}function ql(e,t,n){t=Mi(t,e);var r=-1,i=t.length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[Qo(t[r])];o===ie&&(r=i,o=n),e=tl(o)?o.call(e):o}return e}function Gl(e,t,n){return null==e?e:oi(e,t,n)}function Xl(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:oi(e,t,n,r)}function Zl(e,t,n){var r=gh(e),i=r||bh(e)||kh(e);if(t=wo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:il(e)&&tl(o)?pf(Tc(e)):{}}return(i?u:dr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Kl(e,t){return null==e||mi(e,t)}function $l(e,t,n){return null==e?e:vi(e,t,wi(n))}function Jl(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:vi(e,t,wi(n),r)}function Ql(e){return null==e?[]:R(e,Bl(e))}function eu(e){return null==e?[]:R(e,Ul(e))}function tu(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=kl(n),n=n===n?n:0),t!==ie&&(t=kl(t),t=t===t?t:0),nr(kl(e),t,n)}function nu(e,t,n){return t=_l(t),n===ie?(n=t,t=0):n=_l(n),e=kl(e),wr(e,t,n)}function ru(e,t,n){if(n&&"boolean"!=typeof n&&Ro(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=_l(e),t===ie?(t=e,e=0):t=_l(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Zc();return qc(e+i*(t-e+Cn("1e-"+((i+"").length-1))),t)}return Qr(e,t)}function iu(e){return Kh(Tl(e).toLowerCase())}function ou(e){return(e=Tl(e))&&e.replace(Zt,qn).replace(vn,"")}function au(e,t,n){e=Tl(e),t=di(t);var r=e.length;n=n===ie?r:nr(wl(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function su(e){return e=Tl(e),e&&kt.test(e)?e.replace(wt,Gn):e}function lu(e){return e=Tl(e),e&&Lt.test(e)?e.replace(Pt,"\\$&"):e}function uu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return no(Fc(i),n)+e+no(zc(i),n)}function cu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;return t&&r<t?e+no(t-r,n):e}function fu(e,t,n){e=Tl(e),t=wl(t);var r=t?Q(e):0;return t&&r<t?no(t-r,n)+e:e}function hu(e,t,n){return n||null==t?t=0:t&&(t=+t),Xc(Tl(e).replace(Nt,""),t||0)}function du(e,t,n){return t=(n?Ro(e,t,n):t===ie)?1:wl(t),ti(Tl(e),t)}function pu(){var e=arguments,t=Tl(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function mu(e,t,n){return n&&"number"!=typeof n&&Ro(e,t,n)&&(t=n=ie),(n=n===ie?Re:n>>>0)?(e=Tl(e),e&&("string"==typeof t||null!=t&&!wh(t))&&!(t=di(t))&&H(e)?ki(ee(e),0,n):e.split(t,n)):[]}function vu(e,t,n){return e=Tl(e),n=null==n?0:nr(wl(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t}function gu(e,t,r){var i=n.templateSettings;r&&Ro(e,t,r)&&(t=ie),e=Tl(e),t=Ch({},t,i,co);var o,a,s=Ch({},t.imports,i.imports,co),l=Bl(s),u=R(s,l),c=0,f=t.interpolate||Kt,h="__p += '",d=lc((t.escape||Kt).source+"|"+f.source+"|"+(f===Tt?Vt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++wn+"]")+"\n";e.replace(d,function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace($t,U),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(yt,""):h).replace(bt,"$1").replace(xt,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=$h(function(){return oc(l,p+"return "+h).apply(ie,u)});if(v.source=h,Qs(v))throw v;return v}function yu(e){return Tl(e).toLowerCase()}function bu(e){return Tl(e).toUpperCase()}function xu(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(It,"");if(!e||!(t=di(t)))return e;var r=ee(e),i=ee(t);return ki(r,z(r,i),F(r,i)+1).join("")}function _u(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(Rt,"");if(!e||!(t=di(t)))return e;var r=ee(e);return ki(r,0,F(r,ee(t))+1).join("")}function wu(e,t,n){if((e=Tl(e))&&(n||t===ie))return e.replace(Nt,"");if(!e||!(t=di(t)))return e;var r=ee(e);return ki(r,z(r,ee(t))).join("")}function Mu(e,t){var n=Se,r=Te;if(il(t)){var i="separator"in t?t.separator:i;n="length"in t?wl(t.length):n,r="omission"in t?di(t.omission):r}e=Tl(e);var o=e.length;if(H(e)){var a=ee(e);o=a.length}if(n>=o)return e;var s=n-Q(r);if(s<1)return r;var l=a?ki(a,0,s).join(""):e.slice(0,s);if(i===ie)return l+r;if(a&&(s+=l.length-s),wh(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=lc(i.source,Tl(Ht.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,f===ie?s:f)}}else if(e.indexOf(di(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function ku(e){return e=Tl(e),e&&Mt.test(e)?e.replace(_t,Xn):e}function Eu(e,t,n){return e=Tl(e),t=n?ie:t,t===ie?Y(e)?re(e):_(e):e.match(t)||[]}function Su(e){var t=null==e?0:e.length,n=wo();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new cc(se);return[n(e[0]),e[1]]}):[],ni(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Tu(e){return ir(rr(e,fe))}function Au(e){return function(){return e}}function Cu(e,t){return null==e||e!==e?t:e}function Du(e){return e}function Ou(e){return jr("function"==typeof e?e:rr(e,fe))}function Pu(e){return Vr(rr(e,fe))}function Lu(e,t){return Hr(e,rr(t,fe))}function Iu(e,t,n){var r=Bl(t),i=mr(t,r);null!=n||il(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mr(t,Bl(t)));var o=!(il(n)&&"chain"in n)||!!n.chain,a=tl(e);return u(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ji(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Nu(){return Ln._===this&&(Ln._=_c),this}function Ru(){}function ju(e){return e=wl(e),ni(function(t){return qr(t,e)})}function zu(e){return jo(e)?A(Qo(e)):Kr(e)}function Fu(e){return function(t){return null==e?ie:vr(e,t)}}function Bu(){return[]}function Uu(){return!1}function Vu(){return{}}function Hu(){return""}function Yu(){return!0}function Wu(e,t){if((e=wl(e))<1||e>Le)return[];var n=Re,r=qc(e,Re);t=wo(t),e-=Re;for(var i=L(r,t);++n<e;)t(n);return i}function qu(e){return gh(e)?m(e,Qo):vl(e)?[e]:ji(Pf(Tl(e)))}function Gu(e){var t=++gc;return Tl(e)+t}function Xu(e){return e&&e.length?ur(e,Du,br):ie}function Zu(e,t){return e&&e.length?ur(e,wo(t,2),br):ie}function Ku(e){return T(e,Du)}function $u(e,t){return T(e,wo(t,2))}function Ju(e){return e&&e.length?ur(e,Du,Br):ie}function Qu(e,t){return e&&e.length?ur(e,wo(t,2),Br):ie}function ec(e){return e&&e.length?P(e,Du):0}function tc(e,t){return e&&e.length?P(e,wo(t,2)):0}t=null==t?Ln:Zn.defaults(Ln.Object(),t,Zn.pick(Ln,_n));var nc=t.Array,rc=t.Date,ic=t.Error,oc=t.Function,ac=t.Math,sc=t.Object,lc=t.RegExp,uc=t.String,cc=t.TypeError,fc=nc.prototype,hc=oc.prototype,dc=sc.prototype,pc=t["__core-js_shared__"],mc=hc.toString,vc=dc.hasOwnProperty,gc=0,yc=function(){var e=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bc=dc.toString,xc=mc.call(sc),_c=Ln._,wc=lc("^"+mc.call(vc).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mc=Rn?t.Buffer:ie,kc=t.Symbol,Ec=t.Uint8Array,Sc=Mc?Mc.allocUnsafe:ie,Tc=G(sc.getPrototypeOf,sc),Ac=sc.create,Cc=dc.propertyIsEnumerable,Dc=fc.splice,Oc=kc?kc.isConcatSpreadable:ie,Pc=kc?kc.iterator:ie,Lc=kc?kc.toStringTag:ie,Ic=function(){try{var e=Eo(sc,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nc=t.clearTimeout!==Ln.clearTimeout&&t.clearTimeout,Rc=rc&&rc.now!==Ln.Date.now&&rc.now,jc=t.setTimeout!==Ln.setTimeout&&t.setTimeout,zc=ac.ceil,Fc=ac.floor,Bc=sc.getOwnPropertySymbols,Uc=Mc?Mc.isBuffer:ie,Vc=t.isFinite,Hc=fc.join,Yc=G(sc.keys,sc),Wc=ac.max,qc=ac.min,Gc=rc.now,Xc=t.parseInt,Zc=ac.random,Kc=fc.reverse,$c=Eo(t,"DataView"),Jc=Eo(t,"Map"),Qc=Eo(t,"Promise"),ef=Eo(t,"Set"),tf=Eo(t,"WeakMap"),nf=Eo(sc,"create"),rf=tf&&new tf,of={},af=ea($c),sf=ea(Jc),lf=ea(Qc),uf=ea(ef),cf=ea(tf),ff=kc?kc.prototype:ie,hf=ff?ff.valueOf:ie,df=ff?ff.toString:ie,pf=function(){function e(){}return function(t){if(!il(t))return{};if(Ac)return Ac(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:Et,evaluate:St,interpolate:Tt,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=pf(r.prototype),i.prototype.constructor=i,x.prototype=pf(r.prototype),x.prototype.constructor=x,ne.prototype.clear=Bt,ne.prototype.delete=Jt,ne.prototype.get=Qt,ne.prototype.has=en,ne.prototype.set=tn,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=ln,un.prototype.clear=cn,un.prototype.delete=fn,un.prototype.get=hn,un.prototype.has=dn,un.prototype.set=pn,gn.prototype.add=gn.prototype.push=yn,gn.prototype.has=bn,xn.prototype.clear=En,xn.prototype.delete=Sn,xn.prototype.get=Tn,xn.prototype.has=An,xn.prototype.set=On;var mf=Hi(dr),vf=Hi(pr,!0),gf=Yi(),yf=Yi(!0),bf=rf?function(e,t){return rf.set(e,t),e}:Du,xf=Ic?function(e,t){return Ic(e,"toString",{configurable:!0,enumerable:!1,value:Au(t),writable:!0})}:Du,_f=ni,wf=Nc||function(e){return Ln.clearTimeout(e)},Mf=ef&&1/Z(new ef([,-0]))[1]==Pe?function(e){return new ef(e)}:Ru,kf=rf?function(e){return rf.get(e)}:Ru,Ef=Bc?function(e){return null==e?[]:(e=sc(e),h(Bc(e),function(t){return Cc.call(e,t)}))}:Bu,Sf=Bc?function(e){for(var t=[];e;)v(t,Ef(e)),e=Tc(e);return t}:Bu,Tf=yr;($c&&Tf(new $c(new ArrayBuffer(1)))!=lt||Jc&&Tf(new Jc)!=Ze||Qc&&"[object Promise]"!=Tf(Qc.resolve())||ef&&Tf(new ef)!=tt||tf&&Tf(new tf)!=ot)&&(Tf=function(e){var t=yr(e),n=t==Je?e.constructor:ie,r=n?ea(n):"";if(r)switch(r){case af:return lt;case sf:return Ze;case lf:return"[object Promise]";case uf:return tt;case cf:return ot}return t});var Af=pc?tl:Uu,Cf=$o(bf),Df=jc||function(e,t){return Ln.setTimeout(e,t)},Of=$o(xf),Pf=function(e){var t=Os(e,function(e){return n.size===ue&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Dt.test(e)&&t.push(""),e.replace(Ot,function(e,n,r,i){t.push(r?i.replace(Ut,"$1"):n||e)}),t}),Lf=ni(function(e,t){return Gs(e)?sr(e,hr(t,1,Gs,!0)):[]}),If=ni(function(e,t){var n=_a(t);return Gs(n)&&(n=ie),Gs(e)?sr(e,hr(t,1,Gs,!0),wo(n,2)):[]}),Nf=ni(function(e,t){var n=_a(t);return Gs(n)&&(n=ie),Gs(e)?sr(e,hr(t,1,Gs,!0),ie,n):[]}),Rf=ni(function(e){var t=m(e,_i);return t.length&&t[0]===e[0]?Mr(t):[]}),jf=ni(function(e){var t=_a(e),n=m(e,_i);return t===_a(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?Mr(n,wo(t,2)):[]}),zf=ni(function(e){var t=_a(e),n=m(e,_i);return t="function"==typeof t?t:ie,t&&n.pop(),n.length&&n[0]===e[0]?Mr(n,ie,t):[]}),Ff=ni(ka),Bf=go(function(e,t){var n=null==e?0:e.length,r=tr(e,t);return Jr(e,m(t,function(e){return No(e,n)?+e:e}).sort(Li)),r}),Uf=ni(function(e){return pi(hr(e,1,Gs,!0))}),Vf=ni(function(e){var t=_a(e);return Gs(t)&&(t=ie),pi(hr(e,1,Gs,!0),wo(t,2))}),Hf=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,pi(hr(e,1,Gs,!0),ie,t)}),Yf=ni(function(e,t){return Gs(e)?sr(e,t):[]}),Wf=ni(function(e){return bi(h(e,Gs))}),qf=ni(function(e){var t=_a(e);return Gs(t)&&(t=ie),bi(h(e,Gs),wo(t,2))}),Gf=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,bi(h(e,Gs),ie,t)}),Xf=ni(qa),Zf=ni(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,Ga(e,n)}),Kf=go(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return tr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof x&&No(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ja,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),$f=Ui(function(e,t,n){vc.call(e,n)?++e[n]:er(e,n,1)}),Jf=Ki(fa),Qf=Ki(ha),eh=Ui(function(e,t,n){vc.call(e,n)?e[n].push(t):er(e,n,[t])}),th=ni(function(e,t,n){var r=-1,i="function"==typeof t,o=qs(e)?nc(e.length):[];return mf(e,function(e){o[++r]=i?s(t,e,n):Er(e,t,n)}),o}),nh=Ui(function(e,t,n){er(e,n,t)}),rh=Ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ih=ni(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ro(e,t[0],t[1])?t=[]:n>2&&Ro(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,hr(t,1),[])}),oh=Rc||function(){return Ln.Date.now()},ah=ni(function(e,t,n){var r=ve;if(n.length){var i=X(n,_o(ah));r|=_e}return uo(e,r,t,n,i)}),sh=ni(function(e,t,n){var r=ve|ge;if(n.length){var i=X(n,_o(sh));r|=_e}return uo(t,r,e,n,i)}),lh=ni(function(e,t){return ar(e,1,t)}),uh=ni(function(e,t,n){return ar(e,kl(t)||0,n)});Os.Cache=un;var ch=_f(function(e,t){t=1==t.length&&gh(t[0])?m(t[0],N(wo())):m(hr(t,1),N(wo()));var n=t.length;return ni(function(r){for(var i=-1,o=qc(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),fh=ni(function(e,t){var n=X(t,_o(fh));return uo(e,_e,ie,t,n)}),hh=ni(function(e,t){var n=X(t,_o(hh));return uo(e,we,ie,t,n)}),dh=go(function(e,t){return uo(e,ke,ie,ie,ie,t)}),ph=oo(br),mh=oo(function(e,t){return e>=t}),vh=Sr(function(){return arguments}())?Sr:function(e){return ol(e)&&vc.call(e,"callee")&&!Cc.call(e,"callee")},gh=nc.isArray,yh=Fn?N(Fn):Tr,bh=Uc||Uu,xh=Bn?N(Bn):Ar,_h=Un?N(Un):Or,wh=Vn?N(Vn):Ir,Mh=Hn?N(Hn):Nr,kh=Yn?N(Yn):Rr,Eh=oo(Br),Sh=oo(function(e,t){return e<=t}),Th=Vi(function(e,t){if(Uo(t)||qs(t))return void zi(t,Bl(t),e);for(var n in t)vc.call(t,n)&&Wn(e,n,t[n])}),Ah=Vi(function(e,t){zi(t,Ul(t),e)}),Ch=Vi(function(e,t,n,r){zi(t,Ul(t),e,r)}),Dh=Vi(function(e,t,n,r){zi(t,Bl(t),e,r)}),Oh=go(tr),Ph=ni(function(e){return e.push(ie,co),s(Ch,ie,e)}),Lh=ni(function(e){return e.push(ie,fo),s(zh,ie,e)}),Ih=Qi(function(e,t,n){e[t]=n},Au(Du)),Nh=Qi(function(e,t,n){vc.call(e,t)?e[t].push(n):e[t]=[n]},wo),Rh=ni(Er),jh=Vi(function(e,t,n){Yr(e,t,n)}),zh=Vi(function(e,t,n,r){Yr(e,t,n,r)}),Fh=go(function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,function(t){return t=Mi(t,e),r||(r=t.length>1),t}),zi(e,bo(e),n),r&&(n=rr(n,fe|he|de,ho));for(var i=t.length;i--;)mi(n,t[i]);return n}),Bh=go(function(e,t){return null==e?{}:Xr(e,t)}),Uh=lo(Bl),Vh=lo(Ul),Hh=Gi(function(e,t,n){return t=t.toLowerCase(),e+(n?iu(t):t)}),Yh=Gi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wh=Gi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),qh=qi("toLowerCase"),Gh=Gi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xh=Gi(function(e,t,n){return e+(n?" ":"")+Kh(t)}),Zh=Gi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Kh=qi("toUpperCase"),$h=ni(function(e,t){try{return s(e,ie,t)}catch(e){return Qs(e)?e:new ic(e)}}),Jh=go(function(e,t){return u(t,function(t){t=Qo(t),er(e,t,ah(e[t],e))}),e}),Qh=$i(),ed=$i(!0),td=ni(function(e,t){return function(n){return Er(n,e,t)}}),nd=ni(function(e,t){return function(n){return Er(e,n,t)}}),rd=to(m),id=to(f),od=to(b),ad=io(),sd=io(!0),ld=eo(function(e,t){return e+t},0),ud=so("ceil"),cd=eo(function(e,t){return e/t},1),fd=so("floor"),hd=eo(function(e,t){return e*t},1),dd=so("round"),pd=eo(function(e,t){return e-t},0);return n.after=ks,n.ary=Es,n.assign=Th,n.assignIn=Ah,n.assignInWith=Ch,n.assignWith=Dh,n.at=Oh,n.before=Ss,n.bind=ah,n.bindAll=Jh,n.bindKey=sh,n.castArray=Fs,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Su,n.conforms=Tu,n.constant=Au,n.countBy=$f,n.create=Al,n.curry=Ts,n.curryRight=As,n.debounce=Cs,n.defaults=Ph,n.defaultsDeep=Lh,n.defer=lh,n.delay=uh,n.difference=Lf,n.differenceBy=If,n.differenceWith=Nf,n.drop=aa,n.dropRight=sa,n.dropRightWhile=la,n.dropWhile=ua,n.fill=ca,n.filter=ss,n.flatMap=ls,n.flatMapDeep=us,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=Ds,n.flow=Qh,n.flowRight=ed,n.fromPairs=va,n.functions=Nl,n.functionsIn=Rl,n.groupBy=eh,n.initial=ba,n.intersection=Rf,n.intersectionBy=jf,n.intersectionWith=zf,n.invert=Ih,n.invertBy=Nh,n.invokeMap=th,n.iteratee=Ou,n.keyBy=nh,n.keys=Bl,n.keysIn=Ul,n.map=ps,n.mapKeys=Vl,n.mapValues=Hl,n.matches=Pu,n.matchesProperty=Lu,n.memoize=Os,n.merge=jh,n.mergeWith=zh,n.method=td,n.methodOf=nd,n.mixin=Iu,n.negate=Ps,n.nthArg=ju,n.omit=Fh,n.omitBy=Yl,n.once=Ls,n.orderBy=ms,n.over=rd,n.overArgs=ch,n.overEvery=id,n.overSome=od,n.partial=fh,n.partialRight=hh,n.partition=rh,n.pick=Bh,n.pickBy=Wl,n.property=zu,n.propertyOf=Fu,n.pull=Ff,n.pullAll=ka,n.pullAllBy=Ea,n.pullAllWith=Sa,n.pullAt=Bf,n.range=ad,n.rangeRight=sd,n.rearg=dh,n.reject=ys,n.remove=Ta,n.rest=Is,n.reverse=Aa,n.sampleSize=xs,n.set=Gl,n.setWith=Xl,n.shuffle=_s,n.slice=Ca,n.sortBy=ih,n.sortedUniq=Ra,n.sortedUniqBy=ja,n.split=mu,n.spread=Ns,n.tail=za,n.take=Fa,n.takeRight=Ba,n.takeRightWhile=Ua,n.takeWhile=Va,n.tap=$a,n.throttle=Rs,n.thru=Ja,n.toArray=xl,n.toPairs=Uh,n.toPairsIn=Vh,n.toPath=qu,n.toPlainObject=El,n.transform=Zl,n.unary=js,n.union=Uf,n.unionBy=Vf,n.unionWith=Hf,n.uniq=Ha,n.uniqBy=Ya,n.uniqWith=Wa,n.unset=Kl,n.unzip=qa,n.unzipWith=Ga,n.update=$l,n.updateWith=Jl,n.values=Ql,n.valuesIn=eu,n.without=Yf,n.words=Eu,n.wrap=zs,n.xor=Wf,n.xorBy=qf,n.xorWith=Gf,n.zip=Xf,n.zipObject=Xa,n.zipObjectDeep=Za,n.zipWith=Zf,n.entries=Uh,n.entriesIn=Vh,n.extend=Ah,n.extendWith=Ch,Iu(n,n),n.add=ld,n.attempt=$h,n.camelCase=Hh,n.capitalize=iu,n.ceil=ud,n.clamp=tu,n.clone=Bs,n.cloneDeep=Vs,n.cloneDeepWith=Hs,n.cloneWith=Us,n.conformsTo=Ys,n.deburr=ou,n.defaultTo=Cu,n.divide=cd,n.endsWith=au,n.eq=Ws,n.escape=su,n.escapeRegExp=lu,n.every=as,n.find=Jf,n.findIndex=fa,n.findKey=Cl,n.findLast=Qf,n.findLastIndex=ha,n.findLastKey=Dl,n.floor=fd,n.forEach=fs,n.forEachRight=hs,n.forIn=Ol,n.forInRight=Pl,n.forOwn=Ll,n.forOwnRight=Il,n.get=jl,n.gt=ph,n.gte=mh,n.has=zl,n.hasIn=Fl,n.head=ga,n.identity=Du,n.includes=ds,n.indexOf=ya,n.inRange=nu,n.invoke=Rh,n.isArguments=vh,n.isArray=gh,n.isArrayBuffer=yh,n.isArrayLike=qs,n.isArrayLikeObject=Gs,n.isBoolean=Xs,n.isBuffer=bh,n.isDate=xh,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=$s,n.isEqualWith=Js,n.isError=Qs,n.isFinite=el,n.isFunction=tl,n.isInteger=nl,n.isLength=rl,n.isMap=_h,n.isMatch=al,n.isMatchWith=sl,n.isNaN=ll,n.isNative=ul,n.isNil=fl,n.isNull=cl,n.isNumber=hl,n.isObject=il,n.isObjectLike=ol,n.isPlainObject=dl,n.isRegExp=wh,n.isSafeInteger=pl,n.isSet=Mh,n.isString=ml,n.isSymbol=vl,n.isTypedArray=kh,n.isUndefined=gl,n.isWeakMap=yl,n.isWeakSet=bl,n.join=xa,n.kebabCase=Yh,n.last=_a,n.lastIndexOf=wa,n.lowerCase=Wh,n.lowerFirst=qh,n.lt=Eh,n.lte=Sh,n.max=Xu,n.maxBy=Zu,n.mean=Ku,n.meanBy=$u,n.min=Ju,n.minBy=Qu,n.stubArray=Bu,n.stubFalse=Uu,n.stubObject=Vu,n.stubString=Hu,n.stubTrue=Yu,n.multiply=hd,n.nth=Ma,n.noConflict=Nu,n.noop=Ru,n.now=oh,n.pad=uu,n.padEnd=cu,n.padStart=fu,n.parseInt=hu,n.random=ru,n.reduce=vs,n.reduceRight=gs,n.repeat=du,n.replace=pu,n.result=ql,n.round=dd,n.runInContext=e,n.sample=bs,n.size=ws,n.snakeCase=Gh,n.some=Ms,n.sortedIndex=Da,n.sortedIndexBy=Oa,n.sortedIndexOf=Pa,n.sortedLastIndex=La,n.sortedLastIndexBy=Ia,n.sortedLastIndexOf=Na,n.startCase=Xh,n.startsWith=vu,n.subtract=pd,n.sum=ec,n.sumBy=tc,n.template=gu,n.times=Wu,n.toFinite=_l,n.toInteger=wl,n.toLength=Ml,n.toLower=yu,n.toNumber=kl,n.toSafeInteger=Sl,n.toString=Tl,n.toUpper=bu,n.trim=xu,n.trimEnd=_u,n.trimStart=wu,n.truncate=Mu,n.unescape=ku,n.uniqueId=Gu,n.upperCase=Zh,n.upperFirst=Kh,n.each=fs,n.eachRight=hs,n.first=ga,Iu(n,function(){var e={};return dr(n,function(t,r){vc.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),u(["drop","take"],function(e,t){x.prototype[e]=function(n){n=n===ie?1:Wc(wl(n),0);var r=this.__filtered__&&!t?new x(this):this.clone();return r.__filtered__?r.__takeCount__=qc(n,r.__takeCount__):r.__views__.push({size:qc(n,Re),type:e+(r.__dir__<0?"Right":"")}),r},x.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==De||3==n;x.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:wo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");x.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");x.prototype[e]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(Du)},x.prototype.find=function(e){return this.filter(e).head()},x.prototype.findLast=function(e){return this.reverse().find(e)},x.prototype.invokeMap=ni(function(e,t){return"function"==typeof e?new x(this):this.map(function(n){return Er(n,e,t)})}),x.prototype.reject=function(e){return this.filter(Ps(wo(e)))},x.prototype.slice=function(e,t){e=wl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new x(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(t=wl(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},x.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},x.prototype.toArray=function(){return this.take(Re)},dr(x.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,l=o?[1]:arguments,u=t instanceof x,c=l[0],f=u||gh(t),h=function(e){var t=a.apply(n,v([e],l));return o&&d?t[0]:t};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,g=u&&!p;if(!s&&f){t=g?t:new x(this);var y=e.apply(t,l);return y.__actions__.push({func:Ja,args:[h],thisArg:ie}),new i(y,d)}return m&&g?e.apply(this,l):(y=this.thru(h),m?o?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=fc[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(gh(n)?n:[],e)}return this[r](function(n){return t.apply(gh(n)?n:[],e)})}}),dr(x.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(of[i]||(of[i]=[])).push({name:t,func:r})}}),of[Ji(ie,ge).name]=[{name:"wrapper",func:ie}],x.prototype.clone=C,x.prototype.reverse=$,x.prototype.value=te,n.prototype.at=Kf,n.prototype.chain=Qa,n.prototype.commit=es,n.prototype.next=ts,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Pc&&(n.prototype[Pc]=ns),n}();Ln._=Zn,(i=function(){return Zn}.call(t,n,t,r))!==ie&&(r.exports=i)}).call(this)}).call(t,n(29),n(61)(e))},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return br.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return yt(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return null==e._pf&&(e._pf=h()),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=_r.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=f(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}function v(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=d(t)),o(t._locale)||(e._locale=t._locale),wr.length>0)for(n=0;n<wr.length;n++)r=wr[n],i=t[r],o(i)||(e[r]=i);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mr&&(Mr=!0,t.updateOffset(this),Mr=!1)}function y(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),kr[e]||(w(n),kr[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=c({},e);for(n in t)u(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function A(e){null!=e&&this.set(e)}function C(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function O(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Pr[n]=Pr[n+"s"]=Pr[t]=e}function R(e){return"string"===typeof e?Pr[e]||Pr[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)u(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}function z(e,t){Lr[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Lr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,n){return function(r){return null!=r?(V(this,e,r),t.updateOffset(this,n),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e){return e=R(e),E(this[e])?this[e]():this}function Y(e,t){if("object"===typeof e){e=j(e);for(var n=F(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=R(e),E(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(jr[e]=i),t&&(jr[t[0]]=function(){return W(i.apply(this,arguments),t[1],t[2])}),n&&(jr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(Ir);for(t=0,n=r.length;t<n;t++)jr[r[t]]?r[t]=jr[r[t]]:r[t]=G(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}function Z(e,t){return e.isValid()?(t=K(t,e.localeData()),Rr[t]=Rr[t]||X(t),Rr[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Nr.lastIndex=0;r>=0&&Nr.test(e);)e=e.replace(Nr,n),Nr.lastIndex=0,r-=1;return e}function $(e,t,n){ti[e]=E(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return u(ti,e)?ti[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)ni[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&u(ni,e)&&ni[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||di).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[di.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=hi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=hi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=hi.call(this._shortMonthsParse,a))?i:(i=hi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=hi.call(this._longMonthsParse,a))?i:(i=hi.call(this._shortMonthsParse,a),-1!==i?i:null)}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function fe(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=vi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=gi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ve(this.year())}function ye(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,n){var r=7+t-n;return-(7+be(e,0,r).getUTCDay()-t)%7+r-1}function _e(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=xe(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=me(o)+u):u>me(e)?(o=e+1,a=u-me(e)):(o=e,a=u),{year:o,dayOfYear:a}}function we(e,t,n){var r,i,o=xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Me(i,t,n)):a>Me(e.year(),t,n)?(r=a-Me(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Me(e,t,n){var r=xe(e,t,n),i=xe(e+1,t,n);return(me(e)-r+i)/7}function ke(e){return we(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Se(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ce(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Oe(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Pe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=hi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=hi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=hi.call(this._weekdaysParse,a))?i:-1!==(i=hi.call(this._shortWeekdaysParse,a))?i:(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=hi.call(this._shortWeekdaysParse,a))?i:-1!==(i=hi.call(this._weekdaysParse,a))?i:(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=hi.call(this._minWeekdaysParse,a))?i:-1!==(i=hi.call(this._weekdaysParse,a))?i:(i=hi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Ne(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ce(e,this.localeData()),this.add(e-t,"d")):t}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Mi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ki),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ei),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Ye(){return this.hours()||24}function We(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ze(e[o]).split("-"),t=i.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$e(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return null}function $e(t){var n=null;if(!Di[t]&&"undefined"!==typeof e&&e&&e.exports)try{n=Si._abbr,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Je(n)}catch(e){}return Di[t]}function Je(e,t){var n;return e&&(n=o(t)?tt(e):Qe(e,t))&&(Si=n),Si._abbr}function Qe(e,t){if(null!==t){var n=Ci;if(t.abbr=e,null!=Di[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Di[e]._config;else if(null!=t.parentLocale){if(null==Di[t.parentLocale])return Oi[t.parentLocale]||(Oi[t.parentLocale]=[]),Oi[t.parentLocale].push({name:e,config:t}),null;n=Di[t.parentLocale]._config}return Di[e]=new A(T(n,t)),Oi[e]&&Oi[e].forEach(function(e){Qe(e.name,e.config)}),Je(e),Di[e]}return delete Di[e],null}function et(e,t){if(null!=t){var n,r=Ci;null!=Di[e]&&(r=Di[e]._config),t=T(r,t),n=new A(t),n.parentLocale=Di[e],Di[e]=n,Je(e)}else null!=Di[e]&&(null!=Di[e].parentLocale?Di[e]=Di[e].parentLocale:null!=Di[e]&&delete Di[e]);return Di[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Si;if(!n(e)){if(t=$e(e))return t;e=[e]}return Ke(e)}function nt(){return Tr(Di)}function rt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[ii]<0||n[ii]>11?ii:n[oi]<1||n[oi]>ie(n[ri],n[ii])?oi:n[ai]<0||n[ai]>24||24===n[ai]&&(0!==n[si]||0!==n[li]||0!==n[ui])?ai:n[si]<0||n[si]>59?si:n[li]<0||n[li]>59?li:n[ui]<0||n[ui]>999?ui:-1,d(e)._overflowDayOfYear&&(t<ri||t>oi)&&(t=oi),d(e)._overflowWeeks&&-1===t&&(t=ci),d(e)._overflowWeekday&&-1===t&&(t=fi),d(e).overflow=t),e}function it(e){var t,n,r,i,o,a,s=e._i,l=Pi.exec(s)||Li.exec(s);if(l){for(d(e).iso=!0,t=0,n=Ni.length;t<n;t++)if(Ni[t][1].exec(l[1])){i=Ni[t][0],r=!1!==Ni[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ri.length;t<n;t++)if(Ri[t][1].exec(l[3])){o=(l[2]||" ")+Ri[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ii.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ft(e)}else e._isValid=!1}function ot(e){var t,n,r,i,o,a,s,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=zi.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var f=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(n[1].substr(0,3)!==h)return d(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,ft(e),d(e).rfc2822=!0}else e._isValid=!1}function at(e){var n=ji.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));it(e),!1===e._isValid&&(delete e._isValid,ot(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,r,i,o=[];if(!e._d){for(r=lt(e),e._w&&null==e._a[oi]&&null==e._a[ii]&&ct(e),null!=e._dayOfYear&&(i=st(e._a[ri],r[ri]),(e._dayOfYear>me(i)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[ii]=n.getUTCMonth(),e._a[oi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ai]&&0===e._a[si]&&0===e._a[li]&&0===e._a[ui]&&(e._nextDay=!0,e._a[ai]=0),e._d=(e._useUTC?be:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ai]=24)}}function ct(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[ri],we(bt(),1,4).year),r=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=we(bt(),o,a);n=st(t.gg,e._a[ri],u.year),r=st(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Me(n,o,a)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(s=_e(n,r,i,o,a),e._a[ri]=s.year,e._dayOfYear=s.dayOfYear)}function ft(e){if(e._f===t.ISO_8601)return void it(e);if(e._f===t.RFC_2822)return void ot(e);e._a=[],d(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,u=0;for(i=K(e._f,e._locale).match(Ir)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(J(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),jr[o]?(r?d(e).empty=!1:d(e).unusedTokens.push(o),re(o,r,e)):e._strict&&!r&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-u,s.length>0&&d(e).unusedInput.push(s),e._a[ai]<=12&&!0===d(e).bigHour&&e._a[ai]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[ai]=ht(e._locale,e._a[ai],e._meridiem),ut(e),rt(e)}function ht(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function dt(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ft(t),p(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function pt(e){if(!e._d){var t=j(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(rt(vt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vt(e){var t=e._i,r=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new g(rt(t)):(s(t)?e._d=t:n(r)?dt(e):r?ft(e):gt(e),p(e)||(e._d=null),e))}function gt(e){var i=e._i;o(i)?e._d=new Date(t.now()):s(i)?e._d=new Date(i.valueOf()):"string"===typeof i?at(e):n(i)?(e._a=l(i.slice(0),function(e){return parseInt(e,10)}),ut(e)):r(i)?pt(e):a(i)?e._d=new Date(i):t.createFromInputFallback(e)}function yt(e,t,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,mt(l)}function bt(e,t,n,r){return yt(e,t,n,r,!1)}function xt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return bt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function _t(){return xt("isBefore",[].slice.call(arguments,0))}function wt(){return xt("isAfter",[].slice.call(arguments,0))}function Mt(e){for(var t in e)if(-1===Vi.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Vi.length;++r)if(e[Vi[r]]){if(n)return!1;parseFloat(e[Vi[r]])!==x(e[Vi[r]])&&(n=!0)}return!0}function kt(){return this._isValid}function Et(){return Yt(NaN)}function St(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Mt(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function Tt(e){return e instanceof St}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ct(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Dt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Hi)||["-",0,0],o=60*i[1]+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ot(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(e)||s(e)?e.valueOf():bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):bt(e).local()}function Pt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(e,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Dt(Jr,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(i=Pt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?Zt(this,Yt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Pt(this)}function It(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pt(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Dt($r,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=vt(e),e._a){var t=e._isUTC?f(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC}function Ht(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Yt(e,t){var n,r,i,o=e,s=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Yi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[oi])*n,h:x(s[ai])*n,m:x(s[si])*n,s:x(s[li])*n,ms:x(At(1e3*s[ui]))*n}):(s=Wi.exec(e))?(n="-"===s[1]?-1:1,o={y:Wt(s[2],n),M:Wt(s[3],n),w:Wt(s[4],n),d:Wt(s[5],n),h:Wt(s[6],n),m:Wt(s[7],n),s:Wt(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Gt(bt(o.from),bt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new St(o),Tt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?n=qt(e,t):(n=qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"===typeof n?+n:n,i=Yt(n,r),Zt(this,i,e),this}}function Zt(e,n,r,i){var o=n._milliseconds,a=At(n._days),s=At(n._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&V(e,"Date",U(e,"Date")+a*r),s&&ue(e,U(e,"Month")+s*r),i&&t.updateOffset(e,a||s))}function Kt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $t(e,n){var r=e||bt(),i=Ot(r,this).startOf("day"),o=t.calendarFormat(this,i)||"sameElse",a=n&&(E(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,bt(r)))}function Jt(){return new g(this)}function Qt(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function en(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function tn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function nn(e,t){var n,r=y(e)?e:bt(e);return!(!this.isValid()||!r.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function an(e,t,n){var r,i,o,a;return this.isValid()?(r=Ot(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(a=sn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):NaN):NaN}function sn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function un(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function fn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Z(this,e);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dn(e){return this.from(bt(),e)}function pn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(bt(),e)}function vn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function yn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bn(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function xn(){return this._d.valueOf()-6e4*(this._offset||0)}function _n(){return Math.floor(this.valueOf()/1e3)}function wn(){return new Date(this.valueOf())}function Mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function Sn(){return p(this)}function Tn(){return c({},d(this))}function An(){return d(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){q(0,[e,e.length],0,t)}function On(e){return Nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pn(e){return Nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Me(this.year(),1,4)}function In(){var e=this.localeData()._week;return Me(this.year(),e.dow,e.doy)}function Nn(e,t,n,r,i){var o;return null==e?we(this,r,i).year:(o=Me(e,r,i),t>o&&(t=o),Rn.call(this,e,t,n,r,i))}function Rn(e,t,n,r,i){var o=_e(e,t,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function jn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[ui]=x(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function Vn(e){return bt(1e3*e)}function Hn(){return bt.apply(null,arguments).parseZone()}function Yn(e){return e}function Wn(e,t,n,r){var i=tt(),o=f().set(r,t);return i[n](o,e)}function qn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wn(e,r,n,"month");return i}function Gn(e,t,n,r){"boolean"===typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=tt(),o=e?i._week.dow:0;if(null!=n)return Wn(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Wn(t,(s+o)%7,r,"day");return l}function Xn(e,t){return qn(e,t,"months")}function Zn(e,t){return qn(e,t,"monthsShort")}function Kn(e,t,n){return Gn(e,t,n,"weekdays")}function $n(e,t,n){return Gn(e,t,n,"weekdaysShort")}function Jn(e,t,n){return Gn(e,t,n,"weekdaysMin")}function Qn(){var e=this._data;return this._milliseconds=no(this._milliseconds),this._days=no(this._days),this._months=no(this._months),e.milliseconds=no(e.milliseconds),e.seconds=no(e.seconds),e.minutes=no(e.minutes),e.hours=no(e.hours),e.months=no(e.months),e.years=no(e.years),this}function er(e,t,n,r){var i=Yt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tr(e,t){return er(this,e,t,1)}function nr(e,t){return er(this,e,t,-1)}function rr(e){return e<0?Math.floor(e):Math.ceil(e)}function ir(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*rr(ar(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(or(a)),s+=i,a-=rr(ar(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function or(e){return 4800*e/146097}function ar(e){return 146097*e/4800}function sr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+or(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ar(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function lr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function ur(e){return function(){return this.as(e)}}function cr(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function fr(e){return function(){return this.isValid()?this._data[e]:NaN}}function hr(){return b(this.days()/7)}function dr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function pr(e,t,n){var r=Yt(e).abs(),i=bo(r.as("s")),o=bo(r.as("m")),a=bo(r.as("h")),s=bo(r.as("d")),l=bo(r.as("M")),u=bo(r.as("y")),c=i<=xo.ss&&["s",i]||i<xo.s&&["ss",i]||o<=1&&["m"]||o<xo.m&&["mm",o]||a<=1&&["h"]||a<xo.h&&["hh",a]||s<=1&&["d"]||s<xo.d&&["dd",s]||l<=1&&["M"]||l<xo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,dr.apply(null,c)}function mr(e){return void 0===e?bo:"function"===typeof e&&(bo=e,!0)}function vr(e,t){return void 0!==xo[e]&&(void 0===t?xo[e]:(xo[e]=t,"s"===e&&(xo.ss=t-1),!0))}function gr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=pr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function yr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=_o(this._milliseconds)/1e3,i=_o(this._days),o=_o(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,f=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||f?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(f?f+"S":""):"P0D"}var br,xr;xr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var _r=xr,wr=t.momentProperties=[],Mr=!1,kr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Er;Er=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Sr,Tr=Er,Ar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dr=/\d{1,2}/,Or={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pr={},Lr={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rr={},jr={},zr=/\d/,Fr=/\d\d/,Br=/\d{3}/,Ur=/\d{4}/,Vr=/[+-]?\d{6}/,Hr=/\d\d?/,Yr=/\d\d\d\d?/,Wr=/\d\d\d\d\d\d?/,qr=/\d{1,3}/,Gr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,Zr=/\d+/,Kr=/[+-]?\d+/,$r=/Z|[+-]\d\d:?\d\d/gi,Jr=/Z|[+-]\d\d(?::?\d\d)?/gi,Qr=/[+-]?\d+(\.\d{1,3})?/,ei=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ti={},ni={},ri=0,ii=1,oi=2,ai=3,si=4,li=5,ui=6,ci=7,fi=8;Sr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var hi=Sr;q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),z("month",8),$("M",Hr),$("MM",Hr,Fr),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ii]=x(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ii]=i:d(n).invalidMonth=e});var di=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vi=ei,gi=ei;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),N("year","y"),z("year",1),$("Y",Kr),$("YY",Hr,Fr),$("YYYY",Gr,Ur),$("YYYYY",Xr,Vr),$("YYYYYY",Xr,Vr),te(["YYYYY","YYYYYY"],ri),te("YYYY",function(e,n){n[ri]=2===e.length?t.parseTwoDigitYear(e):x(e)}),te("YY",function(e,n){n[ri]=t.parseTwoDigitYear(e)}),te("Y",function(e,t){t[ri]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var yi=B("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),z("week",5),z("isoWeek",5),$("w",Hr),$("ww",Hr,Fr),$("W",Hr),$("WW",Hr,Fr),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=x(e)});var bi={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),$("d",Hr),$("e",Hr),$("E",Hr),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=x(e)});var xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_i="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mi=ei,ki=ei,Ei=ei;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,He),q("k",["kk",2],0,Ye),q("hmm",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)}),q("hmmss",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),N("hour","h"),z("hour",13),$("a",qe),$("A",qe),$("H",Hr),$("h",Hr),$("k",Hr),$("HH",Hr,Fr),$("hh",Hr,Fr),$("kk",Hr,Fr),$("hmm",Yr),$("hmmss",Wr),$("Hmm",Yr),$("Hmmss",Wr),te(["H","HH"],ai),te(["k","kk"],function(e,t,n){var r=x(e);t[ai]=24===r?0:r}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ai]=x(e),d(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r)),d(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r,2)),t[li]=x(e.substr(i)),d(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r,2)),t[li]=x(e.substr(i))});var Si,Ti=/[ap]\.?m?\.?/i,Ai=B("Hours",!0),Ci={calendar:Ar,longDateFormat:Cr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Dr,relativeTime:Or,months:pi,monthsShort:mi,week:bi,weekdays:xi,weekdaysMin:wi,weekdaysShort:_i,meridiemParse:Ti},Di={},Oi={},Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((\-?\d+)/i,zi=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Fi=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Bi=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Ui=function(){return Date.now?Date.now():+new Date},Vi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ct("Z",":"),Ct("ZZ",""),$("Z",Jr),$("ZZ",Jr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(Jr,e)});var Hi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Yi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Yt.fn=St.prototype,Yt.invalid=Et;var qi=Xt(1,"add"),Gi=Xt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xi=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),$("G",Kr),$("g",Kr),$("GG",Hr,Fr),$("gg",Hr,Fr),$("GGGG",Gr,Ur),$("gggg",Gr,Ur),$("GGGGG",Xr,Vr),$("ggggg",Xr,Vr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=x(e)}),ne(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),N("quarter","Q"),z("quarter",7),$("Q",zr),te("Q",function(e,t){t[ii]=3*(x(e)-1)}),q("D",["DD",2],"Do","date"),N("date","D"),z("date",9),$("D",Hr),$("DD",Hr,Fr),$("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],oi),te("Do",function(e,t){t[oi]=x(e.match(Hr)[0],10)});var Zi=B("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),z("dayOfYear",4),$("DDD",qr),$("DDDD",Br),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),q("m",["mm",2],0,"minute"),N("minute","m"),z("minute",14),$("m",Hr),$("mm",Hr,Fr),te(["m","mm"],si);var Ki=B("Minutes",!1);q("s",["ss",2],0,"second"),N("second","s"),z("second",15),$("s",Hr),$("ss",Hr,Fr),te(["s","ss"],li);var $i=B("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),z("millisecond",16),$("S",qr,zr),$("SS",qr,Fr),$("SSS",qr,Br);var Ji;for(Ji="SSSS";Ji.length<=9;Ji+="S")$(Ji,Zr);for(Ji="S";Ji.length<=9;Ji+="S")te(Ji,Fn);var Qi=B("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var eo=g.prototype;eo.add=qi,eo.calendar=$t,eo.clone=Jt,eo.diff=an,eo.endOf=bn,eo.format=fn,eo.from=hn,eo.fromNow=dn,eo.to=pn,eo.toNow=mn,eo.get=H,eo.invalidAt=An,eo.isAfter=Qt,eo.isBefore=en,eo.isBetween=tn,eo.isSame=nn,eo.isSameOrAfter=rn,eo.isSameOrBefore=on,eo.isValid=Sn,eo.lang=Xi,eo.locale=vn,eo.localeData=gn,eo.max=Bi,eo.min=Fi,eo.parsingFlags=Tn,eo.set=Y,eo.startOf=yn,eo.subtract=Gi,eo.toArray=Mn,eo.toObject=kn,eo.toDate=wn,eo.toISOString=un,eo.inspect=cn,eo.toJSON=En,eo.toString=ln,eo.unix=_n,eo.valueOf=xn,eo.creationData=Cn,eo.year=yi,eo.isLeapYear=ge,eo.weekYear=On,eo.isoWeekYear=Pn,eo.quarter=eo.quarters=jn,eo.month=ce,eo.daysInMonth=fe,eo.week=eo.weeks=Te,eo.isoWeek=eo.isoWeeks=Ae,eo.weeksInYear=In,eo.isoWeeksInYear=Ln,eo.date=Zi,eo.day=eo.days=Re,eo.weekday=je,eo.isoWeekday=ze,eo.dayOfYear=zn,eo.hour=eo.hours=Ai,eo.minute=eo.minutes=Ki,eo.second=eo.seconds=$i,eo.millisecond=eo.milliseconds=Qi,eo.utcOffset=Lt,eo.utc=Nt,eo.local=Rt,eo.parseZone=jt,eo.hasAlignedHourOffset=zt,eo.isDST=Ft,eo.isLocal=Ut,eo.isUtcOffset=Vt,eo.isUtc=Ht,eo.isUTC=Ht,eo.zoneAbbr=Bn,eo.zoneName=Un,eo.dates=M("dates accessor is deprecated. Use date instead.",Zi),eo.months=M("months accessor is deprecated. Use month instead",ce),eo.years=M("years accessor is deprecated. Use year instead",yi),eo.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),eo.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var to=A.prototype;to.calendar=C,to.longDateFormat=D,to.invalidDate=O,to.ordinal=P,to.preparse=Yn,to.postformat=Yn,to.relativeTime=L,to.pastFuture=I,to.set=S,to.months=oe,to.monthsShort=ae,to.monthsParse=le,to.monthsRegex=de,to.monthsShortRegex=he,to.week=ke,to.firstDayOfYear=Se,to.firstDayOfWeek=Ee,to.weekdays=Oe,to.weekdaysMin=Le,to.weekdaysShort=Pe,to.weekdaysParse=Ne,to.weekdaysRegex=Fe,to.weekdaysShortRegex=Be,to.weekdaysMinRegex=Ue,to.isPM=Ge,to.meridiem=Xe,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",tt);var no=Math.abs,ro=ur("ms"),io=ur("s"),oo=ur("m"),ao=ur("h"),so=ur("d"),lo=ur("w"),uo=ur("M"),co=ur("y"),fo=fr("milliseconds"),ho=fr("seconds"),po=fr("minutes"),mo=fr("hours"),vo=fr("days"),go=fr("months"),yo=fr("years"),bo=Math.round,xo={ss:44,s:45,m:45,h:22,d:26,M:11},_o=Math.abs,wo=St.prototype;return wo.isValid=kt,wo.abs=Qn,wo.add=tr,wo.subtract=nr,wo.as=sr,wo.asMilliseconds=ro,wo.asSeconds=io,wo.asMinutes=oo,wo.asHours=ao,wo.asDays=so,wo.asWeeks=lo,wo.asMonths=uo,wo.asYears=co,wo.valueOf=lr,wo._bubble=ir,wo.get=cr,wo.milliseconds=fo,wo.seconds=ho,wo.minutes=po,wo.hours=mo,wo.days=vo,wo.weeks=hr,wo.months=go,wo.years=yo,wo.humanize=gr,wo.toISOString=yr,wo.toString=yr,wo.toJSON=yr,wo.locale=vn,wo.localeData=gn,wo.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yr),wo.lang=Xi,q("X",0,0,"unix"),q("x",0,0,"valueOf"),$("x",Kr),$("X",Qr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(x(e))}),t.version="2.18.1",function(e){br=e}(bt),t.fn=eo,t.min=_t,t.max=wt,t.now=Ui,t.utc=f,t.unix=Vn,t.months=Xn,t.isDate=s,t.locale=Je,t.invalid=m,t.duration=Yt,t.isMoment=y,t.weekdays=Kn,t.parseZone=Hn,t.localeData=tt,t.isDuration=Tt,t.monthsShort=Zn,t.weekdaysMin=Jn,t.defineLocale=Qe,t.updateLocale=et,t.locales=nt,t.weekdaysShort=$n,t.normalizeUnits=R,t.relativeTimeRounding=mr,t.relativeTimeThreshold=vr,t.calendarFormat=Kt,t.prototype=eo,t})}).call(t,n(61)(e))},function(e,t,n){"use strict";function r(e){if(p){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?f(t,e.html):null!=e.text&&d(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){p?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){p?e.html=t:f(e.node,t)}function s(e,t){p?e.text=t:d(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=n(258),f=n(192),h=n(266),d=n(424),p="undefined"!==typeof document&&"number"===typeof document.documentMode||"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=h(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});u.insertTreeBefore=m,u.replaceChildWithTree=i,u.queueChild=o,u.queueHTML=a,u.queueText=s,e.exports=u},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(17),o=(n(9),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)&&i("48",f);var h=f.toLowerCase(),d=n[f],p={attributeName:h,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue<=1||i("50",f),l.hasOwnProperty(f)){var m=l[f];p.attributeName=m}a.hasOwnProperty(f)&&(p.attributeNamespace=a[f]),u.hasOwnProperty(f)&&(p.propertyName=u[f]),c.hasOwnProperty(f)&&(p.mutationMethod=c[f]),s.properties[f]=p}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(814),o=(n(54),n(14),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";var r=n(20),i=n(862),o=n(275),a=n(867),s=n(863),l=n(864),u=n(116),c=n(866),f=n(868),h=n(871),d=(n(14),u.createElement),p=u.createFactory,m=u.cloneElement,v=r,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:h},Component:o,PureComponent:a,createElement:d,cloneElement:m,isValidElement:u.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:p,createMixin:function(e){return e},DOM:l,version:f,__spread:v};e.exports=g},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(20),a=n(74),s=(n(14),n(430),Object.prototype.hasOwnProperty),l=n(429),u={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,a){var s={$$typeof:l,type:e,key:t,ref:n,props:a,_owner:o};return s};c.createElement=function(e,t,n){var o,l={},f=null,h=null;if(null!=t){r(t)&&(h=t.ref),i(t)&&(f=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!u.hasOwnProperty(o)&&(l[o]=t[o])}var d=arguments.length-2;if(1===d)l.children=n;else if(d>1){for(var p=Array(d),m=0;m<d;m++)p[m]=arguments[m+2];l.children=p}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)void 0===l[o]&&(l[o]=v[o])}return c(e,f,h,0,0,a.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,n){var l,f=o({},e.props),h=e.key,d=e.ref,p=(e._self,e._source,e._owner);if(null!=t){r(t)&&(d=t.ref,p=a.current),i(t)&&(h=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(l in t)s.call(t,l)&&!u.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==m?f[l]=m[l]:f[l]=t[l])}var v=arguments.length-2;if(1===v)f.children=n;else if(v>1){for(var g=Array(v),y=0;y<v;y++)g[y]=arguments[y+2];f.children=g}return c(e.type,h,d,0,0,p,f)},c.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===l},e.exports=c},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){e.exports=n(147)},function(e,t,n){function r(e,t,n){"use strict";var r=a(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===o.FRAGMENT_SHADER?"fragment":"vertex");for(var u=i("Error compiling %s shader %s:\n",l,r),c=i("%s%s",u,e),f=e.split("\n"),h={},d=0;d<f.length;d++){var p=f[d];if(""!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(i("Could not parse error: %s",p));h[m]=p}}for(var v=s(t).split("\n"),d=0;d<v.length;d++)if(h[d+3]||h[d+2]||h[d+1]){var g=v[d];if(u+=g+"\n",h[d+1]){var y=h[d+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),u+=i("^^^ %s\n\n",y)}}return{long:u.trim(),short:c.trim()}}var i=n(1685).sprintf,o=n(965),a=n(1054),s=n(883);e.exports=r},function(e,t){function n(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*m,e[1]=b*i+x*l+_*h+w*v,e[2]=b*o+x*u+_*d+w*g,e[3]=b*a+x*c+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*m,e[5]=b*i+x*l+_*h+w*v,e[6]=b*o+x*u+_*d+w*g,e[7]=b*a+x*c+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*m,e[9]=b*i+x*l+_*h+w*v,e[10]=b*o+x*u+_*d+w*g,e[11]=b*a+x*c+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*m,e[13]=b*i+x*l+_*h+w*v,e[14]=b*o+x*u+_*d+w*g,e[15]=b*a+x*c+_*p+w*y,e}e.exports=n},function(e,t,n){"use strict";function r(e){g=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],y=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],b=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function i(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}function o(e,t,n){var r=e.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function a(e,t,n,r,i,o){this.gl=e,this.handle=t,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(e){return a.wrapS=e}},{get:function(){return a._wrapT},set:function(e){return a.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(e){return a.width=e}},{get:function(){return a._shape[1]},set:function(e){return a.height=e}}]),this._shapeVector=l}function s(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function l(e,t,n,r,i,o,a,l){var u=l.dtype,c=l.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var f=0,h=0,d=s(c,l.stride.slice());"float32"===u?f=e.FLOAT:"float64"===u?(f=e.FLOAT,d=!1,u="float32"):"uint8"===u?f=e.UNSIGNED_BYTE:(f=e.UNSIGNED_BYTE,d=!1,u="uint8");if(2===c.length)h=e.LUMINANCE,c=[c[0],c[1],1],l=p(l.data,c,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])h=e.ALPHA;else if(2===c[2])h=e.LUMINANCE_ALPHA;else if(3===c[2])h=e.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=e.RGBA}c[2]}if(h!==e.LUMINANCE&&h!==e.ALPHA||i!==e.LUMINANCE&&i!==e.ALPHA||(h=i),h!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var g=l.size,y=a.indexOf(r)<0;if(y&&a.push(r),f===o&&d)0===l.offset&&l.data.length===g?y?e.texImage2D(e.TEXTURE_2D,r,i,c[0],c[1],0,i,o,l.data):e.texSubImage2D(e.TEXTURE_2D,r,t,n,c[0],c[1],i,o,l.data):y?e.texImage2D(e.TEXTURE_2D,r,i,c[0],c[1],0,i,o,l.data.subarray(l.offset,l.offset+g)):e.texSubImage2D(e.TEXTURE_2D,r,t,n,c[0],c[1],i,o,l.data.subarray(l.offset,l.offset+g));else{var b;b=o===e.FLOAT?v.mallocFloat32(g):v.mallocUint8(g);var _=p(b,c,[c[2],c[2]*c[0],1]);f===e.FLOAT&&o===e.UNSIGNED_BYTE?x(_,l):m.assign(_,l),y?e.texImage2D(e.TEXTURE_2D,r,i,c[0],c[1],0,i,o,b.subarray(0,g)):e.texSubImage2D(e.TEXTURE_2D,r,t,n,c[0],c[1],i,o,b.subarray(0,g)),o===e.FLOAT?v.freeFloat32(b):v.freeUint8(b)}}function u(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function c(e,t,n,r,i){var o=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,i,null),new a(e,s,t,n,r,i)}function f(e,t,n,r,i,o){var s=u(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,o,t),new a(e,s,n,r,i,o)}function h(e,t){var n=t.dtype,r=t.shape.slice(),i=e.getParameter(e.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>i||r[1]<0||r[1]>i)throw new Error("gl-texture2d: Invalid texture size");var o=s(r,t.stride.slice()),l=0;"float32"===n?l=e.FLOAT:"float64"===n?(l=e.FLOAT,o=!1,n="float32"):"uint8"===n?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,o=!1,n="uint8");var c=0;if(2===r.length)c=e.LUMINANCE,r=[r[0],r[1],1],t=p(t.data,r,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])c=e.ALPHA;else if(2===r[2])c=e.LUMINANCE_ALPHA;else if(3===r[2])c=e.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=e.RGBA}}l!==e.FLOAT||e.getExtension("OES_texture_float")||(l=e.UNSIGNED_BYTE,o=!1);var f,h,d=t.size;if(o)f=0===t.offset&&t.data.length===d?t.data:t.data.subarray(t.offset,t.offset+d);else{var g=[r[2],r[2]*r[0],1];h=v.malloc(d,n);var y=p(h,r,g,0);"float32"!==n&&"float64"!==n||l!==e.UNSIGNED_BYTE?m.assign(y,t):x(y,t),f=h.subarray(0,d)}var b=u(e);return e.texImage2D(e.TEXTURE_2D,0,c,r[0],r[1],0,c,l,f),o||v.free(h),new a(e,b,r[0],r[1],c,l)}function d(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(g||r(e),"number"===typeof arguments[1])return c(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var t=arguments[1],n=i(t)?t:t.raw;if(n)return f(e,n,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return h(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var p=n(52),m=n(219),v=n(23);e.exports=d;var g=null,y=null,b=null,x=function(e,t){m.muls(e,t,255)},_=a.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&g.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&g.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(b.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return o(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return e|=0,o(this,e,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,o(this,this._shape[0],e),e}}}),_.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},_.setPixels=function(e,t,n,r){var o=this.gl;this.bind(),Array.isArray(t)?(r=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),r=r||0;var a=i(e)?e:e.raw;if(a){this._mipLevels.indexOf(r)<0?(o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(r)):o.texSubImage2D(o.TEXTURE_2D,r,t,n,this.format,this.type,a)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>r||n+e.shape[0]>this._shape[0]>>>r||t<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");l(o,t,n,r,this.format,this.type,this._mipLevels,e)}}},function(e,t,n){"use strict";var r=n(36),i=n(63),o=n(498);e.exports=function(e){var t=n(501),a=n(156),s={"*":function(){return[]},array:n(499),boolean:n(1178),number:n(504),color:n(1179),constants:n(500),enum:n(297),filter:n(298),function:n(501),layer:n(502),object:n(156),source:n(506),string:n(507)},l=e.value,u=e.valueSpec,c=e.key,f=e.styleSpec,h=e.style;if("string"===i(l)&&"@"===l[0]){if(f.$version>7)return[new r(c,l,"constants have been deprecated as of v8")];if(!(l in h.constants))return[new r(c,l,'constant "%s" not found',l)];e=o({},e,{value:h.constants[l]})}return u.function&&"object"===i(l)?t(e):u.type&&s[u.type]?s[u.type](e):a(o({},e,{valueSpec:u.type?f[u.type]:u}))}},function(e,t,n){"use strict";function r(e,t,n){if(!(n=n||a.ACCESS_TOKEN)&&a.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(e=e.replace(/^mapbox:\/\//,a.API_URL+t),e+=-1!==e.indexOf("?")?"&access_token=":"?access_token=",a.REQUIRE_ACCESS_TOKEN){if("s"===n[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");e+=n}return e}function i(e){return e?"?"+e:""}function o(e){return e.access_token&&"tk."===e.access_token.slice(0,3)?u.extend({},e,{access_token:a.ACCESS_TOKEN}):e}var a=n(530),s=n(37),l=n(875),u=n(1);e.exports.normalizeStyleURL=function(e,t){var n=l.parse(e);return"mapbox:"!==n.protocol?e:r("mapbox:/"+n.pathname+i(n.query),"/styles/v1/",t)},e.exports.normalizeSourceURL=function(e,t){return"mapbox:"!==l.parse(e).protocol?e:r(e+".json","/v4/",t)+"&secure"},e.exports.normalizeGlyphsURL=function(e,t){var n=l.parse(e);return"mapbox:"!==n.protocol?e:r("mapbox://"+n.pathname.split("/")[1]+"/{fontstack}/{range}.pbf"+i(n.query),"/fonts/v1/",t)},e.exports.normalizeSpriteURL=function(e,t,n,o){var a=l.parse(e);return"mapbox:"!==a.protocol?(a.pathname+=t+n,l.format(a)):r("mapbox:/"+a.pathname+"/sprite"+t+n+i(a.query),"/styles/v1/",o)},e.exports.normalizeTileURL=function(e,t,n){var r=l.parse(e,!0);if(!t)return e;if("mapbox:"!==l.parse(t).protocol)return e;var i=s.supportsWebp?".webp":"$1",a=s.devicePixelRatio>=2||512===n?"@2x":"";return l.format({protocol:r.protocol,hostname:r.hostname,pathname:r.pathname.replace(/(\.(?:png|jpg)\d*)/,a+i),query:o(r.query)})}},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return br.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return yt(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return null==e._pf&&(e._pf=h()),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=_r.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=f(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}function v(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=d(t)),o(t._locale)||(e._locale=t._locale),wr.length>0)for(n=0;n<wr.length;n++)r=wr[n],i=t[r],o(i)||(e[r]=i);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mr&&(Mr=!0,t.updateOffset(this),Mr=!1)}function y(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),kr[e]||(w(n),kr[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=c({},e);for(n in t)u(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function A(e){null!=e&&this.set(e)}function C(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function O(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Pr[n]=Pr[n+"s"]=Pr[t]=e}function R(e){return"string"===typeof e?Pr[e]||Pr[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)u(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}function z(e,t){Lr[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Lr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,n){return function(r){return null!=r?(V(this,e,r),t.updateOffset(this,n),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e){return e=R(e),E(this[e])?this[e]():this}function Y(e,t){if("object"===typeof e){e=j(e);for(var n=F(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=R(e),E(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(jr[e]=i),t&&(jr[t[0]]=function(){return W(i.apply(this,arguments),t[1],t[2])}),n&&(jr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(Ir);for(t=0,n=r.length;t<n;t++)jr[r[t]]?r[t]=jr[r[t]]:r[t]=G(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}function Z(e,t){return e.isValid()?(t=K(t,e.localeData()),Rr[t]=Rr[t]||X(t),Rr[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Nr.lastIndex=0;r>=0&&Nr.test(e);)e=e.replace(Nr,n),Nr.lastIndex=0,r-=1;return e}function $(e,t,n){ti[e]=E(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return u(ti,e)?ti[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)ni[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&u(ni,e)&&ni[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||di).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[di.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=hi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=hi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=hi.call(this._shortMonthsParse,a))?i:(i=hi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=hi.call(this._longMonthsParse,a))?i:(i=hi.call(this._shortMonthsParse,a),-1!==i?i:null)}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function fe(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=vi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=gi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ve(this.year())}function ye(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,n){var r=7+t-n;return-(7+be(e,0,r).getUTCDay()-t)%7+r-1}function _e(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=xe(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=me(o)+u):u>me(e)?(o=e+1,a=u-me(e)):(o=e,a=u),{year:o,dayOfYear:a}}function we(e,t,n){var r,i,o=xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Me(i,t,n)):a>Me(e.year(),t,n)?(r=a-Me(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Me(e,t,n){var r=xe(e,t,n),i=xe(e+1,t,n);return(me(e)-r+i)/7}function ke(e){return we(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Se(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ce(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Oe(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Pe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=hi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=hi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=hi.call(this._weekdaysParse,a))?i:-1!==(i=hi.call(this._shortWeekdaysParse,a))?i:(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=hi.call(this._shortWeekdaysParse,a))?i:-1!==(i=hi.call(this._weekdaysParse,a))?i:(i=hi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=hi.call(this._minWeekdaysParse,a))?i:-1!==(i=hi.call(this._weekdaysParse,a))?i:(i=hi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Ne(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ce(e,this.localeData()),this.add(e-t,"d")):t}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Mi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ki),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ei),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Ye(){return this.hours()||24}function We(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ze(e[o]).split("-"),t=i.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$e(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return null}function $e(t){var n=null;if(!Di[t]&&"undefined"!==typeof e&&e&&e.exports)try{n=Si._abbr,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Je(n)}catch(e){}return Di[t]}function Je(e,t){var n;return e&&(n=o(t)?tt(e):Qe(e,t))&&(Si=n),Si._abbr}function Qe(e,t){if(null!==t){var n=Ci;if(t.abbr=e,null!=Di[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Di[e]._config;else if(null!=t.parentLocale){if(null==Di[t.parentLocale])return Oi[t.parentLocale]||(Oi[t.parentLocale]=[]),Oi[t.parentLocale].push({name:e,config:t}),null;n=Di[t.parentLocale]._config}return Di[e]=new A(T(n,t)),Oi[e]&&Oi[e].forEach(function(e){Qe(e.name,e.config)}),Je(e),Di[e]}return delete Di[e],null}function et(e,t){if(null!=t){var n,r=Ci;null!=Di[e]&&(r=Di[e]._config),t=T(r,t),n=new A(t),n.parentLocale=Di[e],Di[e]=n,Je(e)}else null!=Di[e]&&(null!=Di[e].parentLocale?Di[e]=Di[e].parentLocale:null!=Di[e]&&delete Di[e]);return Di[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Si;if(!n(e)){if(t=$e(e))return t;e=[e]}return Ke(e)}function nt(){return Tr(Di)}function rt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[ii]<0||n[ii]>11?ii:n[oi]<1||n[oi]>ie(n[ri],n[ii])?oi:n[ai]<0||n[ai]>24||24===n[ai]&&(0!==n[si]||0!==n[li]||0!==n[ui])?ai:n[si]<0||n[si]>59?si:n[li]<0||n[li]>59?li:n[ui]<0||n[ui]>999?ui:-1,d(e)._overflowDayOfYear&&(t<ri||t>oi)&&(t=oi),d(e)._overflowWeeks&&-1===t&&(t=ci),d(e)._overflowWeekday&&-1===t&&(t=fi),d(e).overflow=t),e}function it(e){var t,n,r,i,o,a,s=e._i,l=Pi.exec(s)||Li.exec(s);if(l){for(d(e).iso=!0,t=0,n=Ni.length;t<n;t++)if(Ni[t][1].exec(l[1])){i=Ni[t][0],r=!1!==Ni[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ri.length;t<n;t++)if(Ri[t][1].exec(l[3])){o=(l[2]||" ")+Ri[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ii.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ft(e)}else e._isValid=!1}function ot(e){var t,n,r,i,o,a,s,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=zi.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var f=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(n[1].substr(0,3)!==h)return d(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,ft(e),d(e).rfc2822=!0}else e._isValid=!1}function at(e){var n=ji.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));it(e),!1===e._isValid&&(delete e._isValid,ot(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,r,i,o=[];if(!e._d){for(r=lt(e),e._w&&null==e._a[oi]&&null==e._a[ii]&&ct(e),null!=e._dayOfYear&&(i=st(e._a[ri],r[ri]),(e._dayOfYear>me(i)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[ii]=n.getUTCMonth(),e._a[oi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ai]&&0===e._a[si]&&0===e._a[li]&&0===e._a[ui]&&(e._nextDay=!0,e._a[ai]=0),e._d=(e._useUTC?be:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ai]=24)}}function ct(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[ri],we(bt(),1,4).year),r=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=we(bt(),o,a);n=st(t.gg,e._a[ri],u.year),r=st(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Me(n,o,a)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(s=_e(n,r,i,o,a),e._a[ri]=s.year,e._dayOfYear=s.dayOfYear)}function ft(e){if(e._f===t.ISO_8601)return void it(e);if(e._f===t.RFC_2822)return void ot(e);e._a=[],d(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,u=0;for(i=K(e._f,e._locale).match(Ir)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(J(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),jr[o]?(r?d(e).empty=!1:d(e).unusedTokens.push(o),re(o,r,e)):e._strict&&!r&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-u,s.length>0&&d(e).unusedInput.push(s),e._a[ai]<=12&&!0===d(e).bigHour&&e._a[ai]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[ai]=ht(e._locale,e._a[ai],e._meridiem),ut(e),rt(e)}function ht(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function dt(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ft(t),p(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function pt(e){if(!e._d){var t=j(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(rt(vt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vt(e){var t=e._i,r=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new g(rt(t)):(s(t)?e._d=t:n(r)?dt(e):r?ft(e):gt(e),p(e)||(e._d=null),e))}function gt(e){var i=e._i;o(i)?e._d=new Date(t.now()):s(i)?e._d=new Date(i.valueOf()):"string"===typeof i?at(e):n(i)?(e._a=l(i.slice(0),function(e){return parseInt(e,10)}),ut(e)):r(i)?pt(e):a(i)?e._d=new Date(i):t.createFromInputFallback(e)}function yt(e,t,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,mt(l)}function bt(e,t,n,r){return yt(e,t,n,r,!1)}function xt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return bt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function _t(){return xt("isBefore",[].slice.call(arguments,0))}function wt(){return xt("isAfter",[].slice.call(arguments,0))}function Mt(e){for(var t in e)if(-1===Vi.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Vi.length;++r)if(e[Vi[r]]){if(n)return!1;parseFloat(e[Vi[r]])!==x(e[Vi[r]])&&(n=!0)}return!0}function kt(){return this._isValid}function Et(){return Yt(NaN)}function St(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Mt(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function Tt(e){return e instanceof St}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ct(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Dt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Hi)||["-",0,0],o=60*i[1]+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ot(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(e)||s(e)?e.valueOf():bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):bt(e).local()}function Pt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(e,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Dt(Jr,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(i=Pt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?Zt(this,Yt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Pt(this)}function It(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pt(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Dt($r,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=vt(e),e._a){var t=e._isUTC?f(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC}function Ht(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Yt(e,t){var n,r,i,o=e,s=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Yi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[oi])*n,h:x(s[ai])*n,m:x(s[si])*n,s:x(s[li])*n,ms:x(At(1e3*s[ui]))*n}):(s=Wi.exec(e))?(n="-"===s[1]?-1:1,o={y:Wt(s[2],n),M:Wt(s[3],n),w:Wt(s[4],n),d:Wt(s[5],n),h:Wt(s[6],n),m:Wt(s[7],n),s:Wt(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Gt(bt(o.from),bt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new St(o),Tt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?n=qt(e,t):(n=qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"===typeof n?+n:n,i=Yt(n,r),Zt(this,i,e),this}}function Zt(e,n,r,i){var o=n._milliseconds,a=At(n._days),s=At(n._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&V(e,"Date",U(e,"Date")+a*r),s&&ue(e,U(e,"Month")+s*r),i&&t.updateOffset(e,a||s))}function Kt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $t(e,n){var r=e||bt(),i=Ot(r,this).startOf("day"),o=t.calendarFormat(this,i)||"sameElse",a=n&&(E(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,bt(r)))}function Jt(){return new g(this)}function Qt(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function en(e,t){var n=y(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function tn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function nn(e,t){var n,r=y(e)?e:bt(e);return!(!this.isValid()||!r.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function an(e,t,n){var r,i,o,a;return this.isValid()?(r=Ot(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(a=sn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):NaN):NaN}function sn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function un(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function fn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Z(this,e);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dn(e){return this.from(bt(),e)}function pn(e,t){return this.isValid()&&(y(e)&&e.isValid()||bt(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(bt(),e)}function vn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function yn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bn(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function xn(){return this._d.valueOf()-6e4*(this._offset||0)}function _n(){return Math.floor(this.valueOf()/1e3)}function wn(){return new Date(this.valueOf())}function Mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function Sn(){return p(this)}function Tn(){return c({},d(this))}function An(){return d(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){q(0,[e,e.length],0,t)}function On(e){return Nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pn(e){return Nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Me(this.year(),1,4)}function In(){var e=this.localeData()._week;return Me(this.year(),e.dow,e.doy)}function Nn(e,t,n,r,i){var o;return null==e?we(this,r,i).year:(o=Me(e,r,i),t>o&&(t=o),Rn.call(this,e,t,n,r,i))}function Rn(e,t,n,r,i){var o=_e(e,t,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function jn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[ui]=x(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function Vn(e){return bt(1e3*e)}function Hn(){return bt.apply(null,arguments).parseZone()}function Yn(e){return e}function Wn(e,t,n,r){var i=tt(),o=f().set(r,t);return i[n](o,e)}function qn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wn(e,r,n,"month");return i}function Gn(e,t,n,r){"boolean"===typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=tt(),o=e?i._week.dow:0;if(null!=n)return Wn(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Wn(t,(s+o)%7,r,"day");return l}function Xn(e,t){return qn(e,t,"months")}function Zn(e,t){return qn(e,t,"monthsShort")}function Kn(e,t,n){return Gn(e,t,n,"weekdays")}function $n(e,t,n){return Gn(e,t,n,"weekdaysShort")}function Jn(e,t,n){return Gn(e,t,n,"weekdaysMin")}function Qn(){var e=this._data;return this._milliseconds=no(this._milliseconds),this._days=no(this._days),this._months=no(this._months),e.milliseconds=no(e.milliseconds),e.seconds=no(e.seconds),e.minutes=no(e.minutes),e.hours=no(e.hours),e.months=no(e.months),e.years=no(e.years),this}function er(e,t,n,r){var i=Yt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tr(e,t){return er(this,e,t,1)}function nr(e,t){return er(this,e,t,-1)}function rr(e){return e<0?Math.floor(e):Math.ceil(e)}function ir(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*rr(ar(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(or(a)),s+=i,a-=rr(ar(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function or(e){return 4800*e/146097}function ar(e){return 146097*e/4800}function sr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+or(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ar(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function lr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function ur(e){return function(){return this.as(e)}}function cr(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function fr(e){return function(){return this.isValid()?this._data[e]:NaN}}function hr(){return b(this.days()/7)}function dr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function pr(e,t,n){var r=Yt(e).abs(),i=bo(r.as("s")),o=bo(r.as("m")),a=bo(r.as("h")),s=bo(r.as("d")),l=bo(r.as("M")),u=bo(r.as("y")),c=i<=xo.ss&&["s",i]||i<xo.s&&["ss",i]||o<=1&&["m"]||o<xo.m&&["mm",o]||a<=1&&["h"]||a<xo.h&&["hh",a]||s<=1&&["d"]||s<xo.d&&["dd",s]||l<=1&&["M"]||l<xo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,dr.apply(null,c)}function mr(e){return void 0===e?bo:"function"===typeof e&&(bo=e,!0)}function vr(e,t){return void 0!==xo[e]&&(void 0===t?xo[e]:(xo[e]=t,"s"===e&&(xo.ss=t-1),!0))}function gr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=pr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function yr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=_o(this._milliseconds)/1e3,i=_o(this._days),o=_o(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,f=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||f?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(f?f+"S":""):"P0D"}var br,xr;xr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var _r=xr,wr=t.momentProperties=[],Mr=!1,kr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Er;Er=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Sr,Tr=Er,Ar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dr=/\d{1,2}/,Or={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pr={},Lr={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rr={},jr={},zr=/\d/,Fr=/\d\d/,Br=/\d{3}/,Ur=/\d{4}/,Vr=/[+-]?\d{6}/,Hr=/\d\d?/,Yr=/\d\d\d\d?/,Wr=/\d\d\d\d\d\d?/,qr=/\d{1,3}/,Gr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,Zr=/\d+/,Kr=/[+-]?\d+/,$r=/Z|[+-]\d\d:?\d\d/gi,Jr=/Z|[+-]\d\d(?::?\d\d)?/gi,Qr=/[+-]?\d+(\.\d{1,3})?/,ei=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ti={},ni={},ri=0,ii=1,oi=2,ai=3,si=4,li=5,ui=6,ci=7,fi=8;Sr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var hi=Sr;q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),z("month",8),$("M",Hr),$("MM",Hr,Fr),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ii]=x(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ii]=i:d(n).invalidMonth=e});var di=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vi=ei,gi=ei;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),N("year","y"),z("year",1),$("Y",Kr),$("YY",Hr,Fr),$("YYYY",Gr,Ur),$("YYYYY",Xr,Vr),$("YYYYYY",Xr,Vr),te(["YYYYY","YYYYYY"],ri),te("YYYY",function(e,n){n[ri]=2===e.length?t.parseTwoDigitYear(e):x(e)}),te("YY",function(e,n){n[ri]=t.parseTwoDigitYear(e)}),te("Y",function(e,t){t[ri]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var yi=B("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),z("week",5),z("isoWeek",5),$("w",Hr),$("ww",Hr,Fr),$("W",Hr),$("WW",Hr,Fr),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=x(e)});var bi={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),$("d",Hr),$("e",Hr),$("E",Hr),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=x(e)});var xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_i="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mi=ei,ki=ei,Ei=ei;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,He),q("k",["kk",2],0,Ye),q("hmm",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)}),q("hmmss",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),N("hour","h"),z("hour",13),$("a",qe),$("A",qe),$("H",Hr),$("h",Hr),$("k",Hr),$("HH",Hr,Fr),$("hh",Hr,Fr),$("kk",Hr,Fr),$("hmm",Yr),$("hmmss",Wr),$("Hmm",Yr),$("Hmmss",Wr),te(["H","HH"],ai),te(["k","kk"],function(e,t,n){var r=x(e);t[ai]=24===r?0:r}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ai]=x(e),d(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r)),d(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r,2)),t[li]=x(e.substr(i)),d(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ai]=x(e.substr(0,r)),t[si]=x(e.substr(r,2)),t[li]=x(e.substr(i))});var Si,Ti=/[ap]\.?m?\.?/i,Ai=B("Hours",!0),Ci={calendar:Ar,longDateFormat:Cr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Dr,relativeTime:Or,months:pi,monthsShort:mi,week:bi,weekdays:xi,weekdaysMin:wi,weekdaysShort:_i,meridiemParse:Ti},Di={},Oi={},Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((\-?\d+)/i,zi=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Fi=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Bi=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Ui=function(){return Date.now?Date.now():+new Date},Vi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ct("Z",":"),Ct("ZZ",""),$("Z",Jr),$("ZZ",Jr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(Jr,e)});var Hi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Yi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Yt.fn=St.prototype,Yt.invalid=Et;var qi=Xt(1,"add"),Gi=Xt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xi=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),$("G",Kr),$("g",Kr),$("GG",Hr,Fr),$("gg",Hr,Fr),$("GGGG",Gr,Ur),$("gggg",Gr,Ur),$("GGGGG",Xr,Vr),$("ggggg",Xr,Vr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=x(e)}),ne(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),N("quarter","Q"),z("quarter",7),$("Q",zr),te("Q",function(e,t){t[ii]=3*(x(e)-1)}),q("D",["DD",2],"Do","date"),N("date","D"),z("date",9),$("D",Hr),$("DD",Hr,Fr),$("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],oi),te("Do",function(e,t){t[oi]=x(e.match(Hr)[0],10)});var Zi=B("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),z("dayOfYear",4),$("DDD",qr),$("DDDD",Br),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),q("m",["mm",2],0,"minute"),N("minute","m"),z("minute",14),$("m",Hr),$("mm",Hr,Fr),te(["m","mm"],si);var Ki=B("Minutes",!1);q("s",["ss",2],0,"second"),N("second","s"),z("second",15),$("s",Hr),$("ss",Hr,Fr),te(["s","ss"],li);var $i=B("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),z("millisecond",16),$("S",qr,zr),$("SS",qr,Fr),$("SSS",qr,Br);var Ji;for(Ji="SSSS";Ji.length<=9;Ji+="S")$(Ji,Zr);for(Ji="S";Ji.length<=9;Ji+="S")te(Ji,Fn);var Qi=B("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var eo=g.prototype;eo.add=qi,eo.calendar=$t,eo.clone=Jt,eo.diff=an,eo.endOf=bn,eo.format=fn,eo.from=hn,eo.fromNow=dn,eo.to=pn,eo.toNow=mn,eo.get=H,eo.invalidAt=An,eo.isAfter=Qt,eo.isBefore=en,eo.isBetween=tn,eo.isSame=nn,eo.isSameOrAfter=rn,eo.isSameOrBefore=on,eo.isValid=Sn,eo.lang=Xi,eo.locale=vn,eo.localeData=gn,eo.max=Bi,eo.min=Fi,eo.parsingFlags=Tn,eo.set=Y,eo.startOf=yn,eo.subtract=Gi,eo.toArray=Mn,eo.toObject=kn,eo.toDate=wn,eo.toISOString=un,eo.inspect=cn,eo.toJSON=En,eo.toString=ln,eo.unix=_n,eo.valueOf=xn,eo.creationData=Cn,eo.year=yi,eo.isLeapYear=ge,eo.weekYear=On,eo.isoWeekYear=Pn,eo.quarter=eo.quarters=jn,eo.month=ce,eo.daysInMonth=fe,eo.week=eo.weeks=Te,eo.isoWeek=eo.isoWeeks=Ae,eo.weeksInYear=In,eo.isoWeeksInYear=Ln,eo.date=Zi,eo.day=eo.days=Re,eo.weekday=je,eo.isoWeekday=ze,eo.dayOfYear=zn,eo.hour=eo.hours=Ai,eo.minute=eo.minutes=Ki,eo.second=eo.seconds=$i,eo.millisecond=eo.milliseconds=Qi,eo.utcOffset=Lt,eo.utc=Nt,eo.local=Rt,eo.parseZone=jt,eo.hasAlignedHourOffset=zt,eo.isDST=Ft,eo.isLocal=Ut,eo.isUtcOffset=Vt,eo.isUtc=Ht,eo.isUTC=Ht,eo.zoneAbbr=Bn,eo.zoneName=Un,eo.dates=M("dates accessor is deprecated. Use date instead.",Zi),eo.months=M("months accessor is deprecated. Use month instead",ce),eo.years=M("years accessor is deprecated. Use year instead",yi),eo.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),eo.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var to=A.prototype;to.calendar=C,to.longDateFormat=D,to.invalidDate=O,to.ordinal=P,to.preparse=Yn,to.postformat=Yn,to.relativeTime=L,to.pastFuture=I,to.set=S,to.months=oe,to.monthsShort=ae,to.monthsParse=le,to.monthsRegex=de,to.monthsShortRegex=he,to.week=ke,to.firstDayOfYear=Se,to.firstDayOfWeek=Ee,to.weekdays=Oe,to.weekdaysMin=Le,to.weekdaysShort=Pe,to.weekdaysParse=Ne,to.weekdaysRegex=Fe,to.weekdaysShortRegex=Be,to.weekdaysMinRegex=Ue,to.isPM=Ge,to.meridiem=Xe,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",tt);var no=Math.abs,ro=ur("ms"),io=ur("s"),oo=ur("m"),ao=ur("h"),so=ur("d"),lo=ur("w"),uo=ur("M"),co=ur("y"),fo=fr("milliseconds"),ho=fr("seconds"),po=fr("minutes"),mo=fr("hours"),vo=fr("days"),go=fr("months"),yo=fr("years"),bo=Math.round,xo={ss:44,s:45,m:45,h:22,d:26,M:11},_o=Math.abs,wo=St.prototype;return wo.isValid=kt,wo.abs=Qn,wo.add=tr,wo.subtract=nr,wo.as=sr,wo.asMilliseconds=ro,wo.asSeconds=io,wo.asMinutes=oo,wo.asHours=ao,wo.asDays=so,wo.asWeeks=lo,wo.asMonths=uo,wo.asYears=co,wo.valueOf=lr,wo._bubble=ir,wo.get=cr,wo.milliseconds=fo,wo.seconds=ho,wo.minutes=po,wo.hours=mo,wo.days=vo,wo.weeks=hr,wo.months=go,wo.years=yo,wo.humanize=gr,wo.toISOString=yr,wo.toString=yr,wo.toJSON=yr,wo.locale=vn,wo.localeData=gn,wo.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yr),wo.lang=Xi,q("X",0,0,"unix"),q("x",0,0,"valueOf"),$("x",Kr),$("X",Qr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(x(e))}),t.version="2.18.1",function(e){br=e}(bt),t.fn=eo,t.min=_t,t.max=wt,t.now=Ui,t.utc=f,t.unix=Vn,t.months=Xn,t.isDate=s,t.locale=Je,t.invalid=m,t.duration=Yt,t.isMoment=y,t.weekdays=Kn,t.parseZone=Hn,t.localeData=tt,t.isDuration=Tt,t.monthsShort=Zn,t.weekdaysMin=Jn,t.defineLocale=Qe,t.updateLocale=et,t.locales=nt,t.weekdaysShort=$n,t.normalizeUnits=R,t.relativeTimeRounding=mr,t.relativeTimeThreshold=vr,t.calendarFormat=Kt,t.prototype=eo,t})}).call(t,n(61)(e))},function(e,t,n){"use strict";var r=n(4),i=n(6),o=n(0),a=n(164);e.exports=function(e,t,n,s){function l(e,t){return o.coerce(f,c,a,e,t)}var u="error_"+s.axis,c=t[u]={},f=e[u]||{};if(!1!==l("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var h=l("type","array"in f?"data":"percent"),d=!0;"sqrt"!==h&&(d=l("symmetric",!(("data"===h?"arrayminus":"valueminus")in f))),"data"===h?(l("array")||(c.array=[]),l("traceref"),d||(l("arrayminus")||(c.arrayminus=[]),l("tracerefminus"))):"percent"!==h&&"constant"!==h||(l("value"),d||l("valueminus"));var p="copy_"+s.inherit+"style";s.inherit&&(t["error_"+s.inherit]||{}).visible&&l(p,!(f.color||r(f.thickness)||r(f.width))),s.inherit&&c[p]||(l("color",n),l("thickness"),l("width",i.traceIs(t,"gl3d")?0:4))}}},function(e,t,n){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,n){"use strict";var r=n(34),i=n(56),o=n(32),a=n(8).extendFlat;e.exports=a({},{z:{valType:"data_array",description:"Sets the z data."},x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:{valType:"data_array",description:"Sets the text elements associated with each z value."},transpose:{valType:"boolean",dflt:!1,role:"info",description:"Transposes the z data."},xtype:{valType:"enumerated",values:["array","scaled"],role:"info",description:["If *array*, the heatmap's x coordinates are given by *x*","(the default behavior when `x` is provided).","If *scaled*, the heatmap's x coordinates are given by *x0* and *dx*","(the default behavior when `x` is not provided)."].join(" ")},ytype:{valType:"enumerated",values:["array","scaled"],role:"info",description:["If *array*, the heatmap's y coordinates are given by *y*","(the default behavior when `y` is provided)","If *scaled*, the heatmap's y coordinates are given by *y0* and *dy*","(the default behavior when `y` is not provided)"].join(" ")},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,role:"style",description:["Picks a smoothing algorithm use to smooth `z` data."].join(" ")},connectgaps:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in."].join(" ")},xgap:{valType:"number",dflt:0,min:0,role:"style",description:"Sets the horizontal gap (in pixels) between bricks."},ygap:{valType:"number",dflt:0,min:0,role:"style",description:"Sets the vertical gap (in pixels) between bricks."}},i,{autocolorscale:a({},i.autocolorscale,{dflt:!1})},{colorbar:o})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,i){i("textposition"),r.coerceFont(i,"textfont",n.font)}},function(e,t,n){"use strict";function r(e){if(p){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?f(t,e.html):null!=e.text&&d(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){p?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){p?e.html=t:f(e.node,t)}function s(e,t){p?e.text=t:d(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=n(359),f=n(242),h=n(367),d=n(656),p="undefined"!==typeof document&&"number"===typeof document.documentMode||"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=h(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});u.insertTreeBefore=m,u.replaceChildWithTree=i,u.queueChild=o,u.queueHTML=a,u.queueText=s,e.exports=u},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(18),o=(n(10),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)&&i("48",f);var h=f.toLowerCase(),d=n[f],p={attributeName:h,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue<=1||i("50",f),l.hasOwnProperty(f)){var m=l[f];p.attributeName=m}a.hasOwnProperty(f)&&(p.attributeNamespace=a[f]),u.hasOwnProperty(f)&&(p.propertyName=u[f]),c.hasOwnProperty(f)&&(p.mutationMethod=c[f]),s.properties[f]=p}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(1614),o=(n(58),n(15),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";var r=n(11),i=n(1651),o=n(374),a=n(1657),s=n(1652),l=n(1654),u=n(133),c=n(1656),f=n(1658),h=n(1661),d=(n(15),u.createElement),p=u.createFactory,m=u.cloneElement,v=r,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:h},Component:o,PureComponent:a,createElement:d,cloneElement:m,isValidElement:u.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:p,createMixin:function(e){return e},DOM:l,version:f,__spread:v};e.exports=g},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(11),a=n(82),s=(n(15),n(660),Object.prototype.hasOwnProperty),l=n(659),u={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,a){var s={$$typeof:l,type:e,key:t,ref:n,props:a,_owner:o};return s};c.createElement=function(e,t,n){var o,l={},f=null,h=null;if(null!=t){r(t)&&(h=t.ref),i(t)&&(f=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!u.hasOwnProperty(o)&&(l[o]=t[o])}var d=arguments.length-2;if(1===d)l.children=n;else if(d>1){for(var p=Array(d),m=0;m<d;m++)p[m]=arguments[m+2];l.children=p}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)void 0===l[o]&&(l[o]=v[o])}return c(e,f,h,0,0,a.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,n){var l,f=o({},e.props),h=e.key,d=e.ref,p=(e._self,e._source,e._owner);if(null!=t){r(t)&&(d=t.ref,p=a.current),i(t)&&(h=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(l in t)s.call(t,l)&&!u.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==m?f[l]=m[l]:f[l]=t[l])}var v=arguments.length-2;if(1===v)f.children=n;else if(v>1){for(var g=Array(v),y=0;y<v;y++)g[y]=arguments[y+2];f.children=g}return c(e.type,h,d,0,0,p,f)},c.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===l},e.exports=c},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e*t,o=i*e,a=o-e,s=o-a,l=e-s,u=i*t,c=u-t,f=u-c,h=t-f,d=r-s*f,p=d-l*f,m=p-s*h,v=l*h-m;return n?(n[0]=v,n[1]=r,n):[v,r]}e.exports=r;var i=+(Math.pow(2,27)+1)},function(e,t,n){function r(){var e=i();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}var i=n(1707);e.exports=r},function(e,t,n){"use strict";var r=[{id:1,name:"Blended Learning Workshop",date:"2017-07-11T14:30:00",startTime:"2:30 PM",endTime:"4:00 PM",hours:1.5,location:"Eastern High School Auditorium",leaders:"Bella Smith",description:"A giddy ATM's sheet comes with it the thought that the mislaid queen is a tray. Unfortunately, that is wrong; on the contrary, a dropping collision is a pantry of the mind. Waxes are enthralled cars. The scooters could be said to resemble cleanly scenes.",meta:[{type:"category",name:"Workshop"}],attendees:[{id:1,name:"Joel Smith",confirmed:!1},{id:2,name:"Reggie Kinzig-Palmer",confirmed:!0}]},{id:2,name:"Blended Learning Coaching",date:"2017-07-12T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"Room 324",leaders:"Reggie Kinzig-Palmer",description:"In recent years, the beans could be said to resemble carefree antelopes. The first dollish smash is, in its own way, a puppy. The lyric is a lip. A karate is a book's meter.",meta:[{type:"category",name:"Coaching"}],attendees:[{id:1,name:"Joel Smith",confirmed:!0},{id:3,name:"Bella Smith",confirmed:!0}]},{id:3,name:"1 to 1 Coaching",date:"2017-07-12T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"Room 213",leaders:"Reggie Kinzig-Palmer",description:"In modern times moanful kales show us how beefs can be watchmakers. Those trowels are nothing more than guitars. In modern times the horn of a macaroni becomes a mesarch factory. It's an undeniable fact, really; some posit the chairborne diamond to be less than healthful.",meta:[{type:"category",name:"Coaching"}],attendees:[{id:3,name:"Bella Smith",confirmed:!0}]},{id:4,name:"1 to 1 Workshop",date:"2017-05-24T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"East High School Auditorium",leaders:"Bella Smith",meta:[{type:"category",name:"Workshop"}],attendees:[{id:1,name:"Joel Smith",confirmed:!1},{id:2,name:"Reggie Kinzig-Palmer",confirmed:!0},{id:4,name:"Marcy Krupski",confirmed:!0}]},{id:5,name:"Sensory Learning Workshop",date:"2017-01-24T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"East High School Auditorium",leaders:"Bella Smith",meta:[{type:"category",name:"Workshop"}],attendees:[{id:1,name:"Joel Smith",confirmed:!1},{id:2,name:"Reggie Kinzig-Palmer",confirmed:!0},{id:4,name:"Marcy Krupski",confirmed:!0}]},{id:6,name:"Tech Integration Coaching",date:"2017-03-26T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"Room 213",leaders:"Reggie Kinzig-Palmer",description:"In modern times moanful kales show us how beefs can be watchmakers. Those trowels are nothing more than guitars. In modern times the horn of a macaroni becomes a mesarch factory. It's an undeniable fact, really; some posit the chairborne diamond to be less than healthful.",meta:[{type:"category",name:"Coaching"}],attendees:[{id:3,name:"Bella Smith",confirmed:!0}]}];t.a=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";(function(t){var r=n(723),i=n(394),o=i("transform"),a=i("backfaceVisibility"),s=function(){if(r.hasCSSTransforms()){var e=t.window?t.window.navigator.userAgent:"UNKNOWN";return!(/Safari\//.test(e)&&!/Chrome\//.test(e))&&r.hasCSS3DTransforms()?function(e,t,n){e[o]="translate3d("+t+"px,"+n+"px,0)",e[a]="hidden"}:function(e,t,n){e[o]="translate("+t+"px,"+n+"px)"}}return function(e,t,n){e.left=t+"px",e.top=n+"px"}}();e.exports=s}).call(t,n(29))},function(e,t,n){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.stripPrefix=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),t=decodeURI(t),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=encodeURI(t||"/");return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){"use strict";function r(e){return new Date(e.getTime())}function i(e,t){var n=r(e);return n.setMonth(e.getMonth()+t),n}function o(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function a(e,t){return r(e).setHours(0,0,0,0)<r(t).setHours(0,0,0,0)}function s(e,t){return r(e).setHours(0,0,0,0)>r(t).setHours(0,0,0,0)}function l(e){var t=new Date;return t.setHours(0,0,0,0),a(e,t)}function u(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function c(e,t,n){var i=r(e);return i.setHours(0,0,0,0),s(i,t)&&a(i,n)||s(i,n)&&a(i,t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,r=t.to;return n?n&&r&&o(n,r)&&o(e,n)?(n=null,r=null):r&&a(e,n)?n=e:r&&o(e,r)?(n=e,r=e):(r=e,a(r,n)&&(r=n,n=e)):n=e,{from:n,to:r}}function h(e,t){var n=t.from,r=t.to;return n&&o(e,n)||r&&o(e,r)||n&&r&&c(e,n,r)}function d(e){var t=r(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=r,t.addMonths=i,t.isSameDay=o,t.isDayBefore=a,t.isDayAfter=s,t.isPastDay=l,t.isFutureDay=u,t.isDayBetween=c,t.addDayToRange=f,t.isDayInRange=h,t.getWeekNumber=d,t.default={addDayToRange:f,addMonths:i,clone:r,getWeekNumber:d,isDayAfter:s,isDayBefore:a,isDayBetween:c,isDayInRange:h,isFutureDay:u,isPastDay:l,isSameDay:o}},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(17),a=n(259),s=n(260),l=n(264),u=n(418),c=n(419),f=(n(9),{}),h=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},m=function(e){return d(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!==typeof n&&o("94",t,typeof n);var r=v(e);(f[t]||(f[t]={}))[r]=n;var i=a.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=f[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=f[t];if(r){delete r[v(e)]}},deleteAllListeners:function(e){var t=v(e);for(var n in f)if(f.hasOwnProperty(n)&&f[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete f[n][t]}},extractEvents:function(e,t,n,r){for(var i,o=a.plugins,s=0;s<o.length;s++){var l=o[s];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=u(i,c))}}return i},enqueueEvents:function(e){e&&(h=u(h,e))},processEventQueue:function(e){var t=h;h=null,e?c(t,p):c(t,m),h&&o("95"),l.rethrowCaughtError()},__purge:function(){f={}},__getListenerBank:function(){return f}};e.exports=g},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?p.getParentInstance(t):null;p.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){v(e,o)}function c(e){v(e,a)}function f(e,t,n,r){p.traverseEnterLeave(n,r,s,e,t)}function h(e){v(e,l)}var d=n(142),p=n(260),m=n(418),v=n(419),g=(n(14),d.getListener),y={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:f};e.exports=y},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o=n(269),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=o(e),r=o(t);if(0===n)return[i(0),i(1)];if(0===r)return[i(0),i(0)];r<0&&(e=e.neg(),t=t.neg());var a=e.gcd(t);return a.cmpn(1)?[e.div(a),t.div(a)]:[e,t]}var i=n(435),o=n(278);e.exports=r},function(e,t,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(e){var t=new r;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"===typeof a&&a.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===a){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,o(t)}var o=n(929);e.exports=i},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){var r=n(76),i=r.Symbol;e.exports=i},function(e,t,n){function r(e){return null==e?void 0===e?l:s:u&&u in Object(e)?o(e):a(e)}var i=n(150),o=n(1119),a=n(1148),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(496),o=n(296);e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(151),o=n(154),a="[object Symbol]";e.exports=r},function(e,t,n){"use strict";var r=n(36),i=n(63),o=n(122);e.exports=function(e){var t=e.key,n=e.value,a=e.valueSpec,s=e.objectElementValidators||{},l=e.style,u=e.styleSpec,c=[],f=i(n);if("object"!==f)return[new r(t,n,"object expected, %s found",f)];for(var h in n){var d=h.split(".")[0],p=a&&(a[d]||a["*"]),m=s[d]||s["*"];p||m?c=c.concat((m||o)({key:(t?t+".":t)+h,value:n[h],valueSpec:p,style:l,styleSpec:u,object:n,objectKey:h})):""!==t&&1!==t.split(".").length&&c.push(new r(t,n[h],'unknown property "%s"',h))}for(d in a)a[d].required&&void 0===a[d].default&&void 0===n[d]&&c.push(new r(t,n,'missing required property "%s"',d));return c}},function(e,t,n){"use strict";function r(e,t,n){this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.attributes=t.members,this.itemSize=t.bytesPerElement,this.type=n,this.arrayType=t}e.exports=r,r.prototype.bind=function(e){var t=e[this.type];this.buffer?e.bindBuffer(t,this.buffer):(this.buffer=e.createBuffer(),e.bindBuffer(t,this.buffer),e.bufferData(t,this.arrayBuffer,e.STATIC_DRAW),this.arrayBuffer=null)};var i={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"};r.prototype.setVertexAttribPointers=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],o=t[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[i[r.type]],!1,this.arrayType.bytesPerElement,r.offset)}},r.prototype.destroy=function(e){this.buffer&&e.deleteBuffer(this.buffer)},r.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"}},function(e,t,n){"use strict";function r(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}var i=n(1),o=n(30).EXTENT,a=n(83),s={15:r(15),16:r(16)};e.exports=function(e,t){var n=s[t||16];a(n);for(var r=o/e.extent,l=e.loadGeometry(),u=0;u<l.length;u++)for(var c=l[u],f=0;f<c.length;f++){var h=c[f];h.x=Math.round(h.x*r),h.y=Math.round(h.y*r),(h.x<n.min||h.x>n.max||h.y<n.min||h.y>n.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return l}},function(e,t,n){"use strict";function r(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.vao=null}var i=n(83);e.exports=r,r.prototype.bind=function(e,t,n,r,i){void 0===e.extVertexArrayObject&&(e.extVertexArrayObject=e.getExtension("OES_vertex_array_object"));var o=!this.vao||this.boundProgram!==t||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==i||this.boundElementBuffer!==r;!e.extVertexArrayObject||o?this.freshBind(e,t,n,r,i):e.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(e,t,n,r,o){var a,s=t.numAttributes;if(e.extVertexArrayObject)this.vao&&this.destroy(e),this.vao=e.extVertexArrayObject.createVertexArrayOES(),e.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=t,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundElementBuffer=r;else{a=e.currentNumAttributes||0;for(var l=s;l<a;l++)i(0!==l),e.disableVertexAttribArray(l)}for(var u=a;u<s;u++)e.enableVertexAttribArray(u);n.bind(e),n.setVertexAttribPointers(e,t),o&&(o.bind(e),o.setVertexAttribPointers(e,t)),r&&r.bind(e),e.currentNumAttributes=s},r.prototype.unbind=function(e){var t=e.extVertexArrayObject;t&&t.bindVertexArrayOES(null)},r.prototype.destroy=function(e){var t=e.extVertexArrayObject;t&&this.vao&&(t.deleteVertexArrayOES(this.vao),this.vao=null)}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n){return t*(r.EXTENT/(e.tileSize*Math.pow(2,n-e.coord.z)))}},function(e,t,n){"use strict";function r(e,t,n,r){l(!isNaN(e)&&e>=0&&e%1===0),l(!isNaN(t)&&t>=0&&t%1===0),l(!isNaN(n)&&n>=0&&n%1===0),isNaN(r)&&(r=0),this.z=+e,this.x=+t,this.y=+n,this.w=+r,(r*=2)<0&&(r=-1*r-1);var i=1<<this.z;this.id=32*(i*i*r+i*this.y+this.x)+this.z,this.posMatrix=null}function i(e,t,n){for(var r,i="",o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}function o(e,t){if(e.row>t.row){var n=e;e=t,t=n}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function a(e,t,n,r,i){var o=Math.max(n,Math.floor(t.y0)),a=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var l=e.dx/e.dy,u=t.dx/t.dy,c=e.dx>0,f=t.dx<0,h=o;h<a;h++){var d=l*Math.max(0,Math.min(e.dy,h+c-e.y0))+e.x0,p=u*Math.max(0,Math.min(t.dy,h+f-t.y0))+t.x0;i(Math.floor(p),Math.ceil(d),h)}}function s(e,t,n,r,i,s){var l,u=o(e,t),c=o(t,n),f=o(n,e);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>f.dy&&(l=u,u=f,f=l),c.dy>f.dy&&(l=c,c=f,f=l),u.dy&&a(f,u,r,i,s),c.dy&&a(f,c,r,i,s)}var l=n(83),u=n(1711),c=n(213);e.exports=r,r.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},r.prototype.toCoordinate=function(e){var t=Math.min(this.z,e),n=Math.pow(2,t),r=this.y,i=this.x+n*this.w;return new c(i,r,t)},r.fromID=function(e){var t=e%32,n=1<<t,i=(e-t)/32,o=i%n,a=(i-o)/n%n,s=Math.floor(i/(n*n));return s%2!==0&&(s=-1*s-1),s/=2,new r(t,o,a,s)},r.prototype.url=function(e,t,n){var r=u.getTileBBox(this.x,this.y,this.z),o=i(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,t||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)},r.prototype.parent=function(e){return 0===this.z?null:this.z>e?new r(this.z-1,this.x,this.y,this.w):new r(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},r.prototype.wrapped=function(){return new r(this.z,this.x,this.y,0)},r.prototype.children=function(e){if(this.z>=e)return[new r(this.z+1,this.x,this.y,this.w)];var t=this.z+1,n=2*this.x,i=2*this.y;return[new r(t,n,i,this.w),new r(t,n+1,i,this.w),new r(t,n,i+1,this.w),new r(t,n+1,i+1,this.w)]},r.cover=function(e,t,n){function i(e,t,i){var s,l,u;if(i>=0&&i<=o)for(s=e;s<t;s++)l=(s%o+o)%o,u=new r(n,l,i,Math.floor(s/o)),a[u.id]=u}var o=1<<e,a={};return s(t[0],t[1],t[2],0,o,i),s(t[2],t[3],t[0],0,o,i),Object.keys(a).map(function(e){return a[e]})}},function(e,t,n){"use strict";(function(t){function r(e){this.buf=v.isBuffer(e)?e:new v(e||0),this.pos=0,this.length=this.buf.length}function i(e,t){var n,r=t.buf;if(n=r[t.pos++],e+=268435456*(127&n),n<128)return e;if(n=r[t.pos++],e+=34359738368*(127&n),n<128)return e;if(n=r[t.pos++],e+=4398046511104*(127&n),n<128)return e;if(n=r[t.pos++],e+=562949953421312*(127&n),n<128)return e;if(n=r[t.pos++],e+=72057594037927940*(127&n),n<128)return e;if(n=r[t.pos++],e+=0x8000000000000000*(127&n),n<128)return e;throw new Error("Expected varint not more than 10 bytes")}function o(e,t){t.realloc(10);for(var n=t.pos+10;e>=1;){if(t.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&e;t.buf[t.pos++]=r|(e>=128?128:0),e/=128}}function a(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function s(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}e.exports=r;var v=t.Buffer||n(1278);r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var g=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=this.buf.readUInt32LE(this.pos);return this.pos+=4,e},readSFixed32:function(){var e=this.buf.readInt32LE(this.pos);return this.pos+=4,e},readFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+4294967296*this.buf.readUInt32LE(this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+4294967296*this.buf.readInt32LE(this.pos+4);return this.pos+=8,e},readFloat:function(){var e=this.buf.readFloatLE(this.pos);return this.pos+=4,e},readDouble:function(){var e=this.buf.readDoubleLE(this.pos);return this.pos+=8,e},readVarint:function(){var e,t,n=this.buf;return t=n[this.pos++],e=127&t,t<128?e:(t=n[this.pos++],e|=(127&t)<<7,t<128?e:(t=n[this.pos++],e|=(127&t)<<14,t<128?e:(t=n[this.pos++],e|=(127&t)<<21,t<128?e:i(e,this))))},readVarint64:function(){var e=this.pos,t=this.readVarint();if(t<g)return t;for(var n=this.pos-2;255===this.buf[n];)n--;n<e&&(n=e),t=0;for(var r=0;r<n-e+1;r++){var i=127&~this.buf[e+r];t+=r<4?i<<7*r:i*Math.pow(2,7*r)}return-t-1},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.buf.toString("utf8",this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.slice(this.pos,e);return this.pos=e,t},readPackedVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readVarint());return t},readPackedSVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new v(t);this.buf.copy(n),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(e){this.realloc(4),this.buf.writeUInt32LE(e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),this.buf.writeInt32LE(e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(-1&e,this.pos),this.buf.writeUInt32LE(Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(-1&e,this.pos),this.buf.writeInt32LE(Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e)>268435455)return void o(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);var t=v.byteLength(e);this.writeVarint(t),this.realloc(t),this.buf.write(e,this.pos),this.pos+=t},writeFloat:function(e){this.realloc(4),this.buf.writeFloatLE(e,this.pos),this.pos+=4},writeDouble:function(e){this.realloc(8),this.buf.writeDoubleLE(e,this.pos),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,l,t)},writePackedBoolean:function(e,t){this.writeMessage(e,f,t)},writePackedFloat:function(e,t){this.writeMessage(e,u,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedFixed64:function(e,t){this.writeMessage(e,p,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}).call(t,n(29))},function(e,t,n){"use strict";var r=n(2),i=n(38),o=n(25),a=n(16),s=n(6),l=n(5),u=n(92),c=n(0),f=n(8).extendFlat,h=n(126),d=n(12),p=n(3),m=n(222),v=n(320),g=n(571),y=n(57),b=n(32);e.exports=function(e,t){function n(){function b(e,t){return c.coerce(J,Q,y,e,t)}function w(){if(-1!==["top","bottom"].indexOf(_.titleside)){var t=oe.select(".cbtitle"),n=t.select("text"),o=[-_.outlinewidth/2,_.outlinewidth/2],a=t.select(".h"+Q._id+"title-math-group").node(),s=15.6;if(n.node()&&(s=1.3*parseInt(n.style("font-size"),10)),a?(se=d.bBox(a).height)>s&&(o[1]-=(se-s)/2):n.node()&&!n.classed("js-placeholder")&&(se=d.bBox(t.node()).height),se){if(se+=5,"top"===_.titleside)Q.domain[1]-=se/S.h,o[1]*=-1;else{Q.domain[0]+=se/S.h;var u=Math.max(1,n.selectAll("tspan.line").size());o[1]+=(1-u)*s}t.attr("transform","translate("+o+")"),Q.setScale()}}oe.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(S.h*(1-Q.domain[1]))+")");var f=oe.select(".cbfills").selectAll("rect.cbfill").data(D);f.enter().append("rect").classed("cbfill",!0).style("stroke","none"),f.exit().remove(),f.each(function(e,t){var n=[0===t?A[0]:(D[t]+D[t-1])/2,t===D.length-1?A[1]:(D[t]+D[t+1])/2].map(Q.c2p).map(Math.round);t!==D.length-1&&(n[1]+=n[1]>n[0]?1:-1);var o=P(e).replace("e-",""),a=i(o).toHexString();r.select(this).attr({x:G,width:Math.max(B,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:a})});var h=oe.select(".cblines").selectAll("path.cbline").data(_.line.color&&_.line.width?C:[]);return h.enter().append("path").classed("cbline",!0),h.exit().remove(),h.each(function(e){r.select(this).attr("d","M"+G+","+(Math.round(Q.c2p(e))+_.line.width/2%1)+"h"+B).call(d.lineGroupStyle,_.line.width,O(e),_.line.dash)}),Q._axislayer.selectAll("g."+Q._id+"tick,path").remove(),Q._pos=G+B+(_.outlinewidth||0)/2-("outside"===_.ticks?1:0),Q.side="right",c.syncOrAsync([function(){return l.doTicks(e,Q,!0)},function(){if(-1===["top","bottom"].indexOf(_.titleside)){var t=Q.titlefont.size,n=Q._offset+Q._length/2,i=S.l+(Q.position||0)*S.w+("right"===Q.side?10+t*(Q.showticklabels?1:.5):-10-t*(Q.showticklabels?.5:0));M("h"+Q._id+"title",{avoid:{selection:r.select(e).selectAll("g."+Q._id+"tick"),side:_.titleside,offsetLeft:S.l,offsetTop:S.t,maxShift:E.width},attributes:{x:i,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function M(t,n){var r,i=x();r=s.traceIs(i,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var o={propContainer:Q,propName:r,traceIndex:i.index,dfltName:"colorscale",containerGroup:oe.select(".cbtitle")},a="h"===t.charAt(0)?t.substr(1):"h"+t;oe.selectAll("."+a+",."+a+"-math-group").remove(),m.draw(e,t,f(o,n||{}))}function k(){var n=B+_.outlinewidth/2+d.bBox(Q._axislayer.node()).width;if(j=ae.select("text"),j.node()&&!j.classed("js-placeholder")){var r,i=ae.select(".h"+Q._id+"title-math-group").node();r=i&&-1!==["top","bottom"].indexOf(_.titleside)?d.bBox(i).width:d.bBox(ae.node()).right-G-S.l,n=Math.max(n,r)}var o=2*_.xpad+n+_.borderwidth+_.outlinewidth/2,s=K-$;oe.select(".cbbg").attr({x:G-_.xpad-(_.borderwidth+_.outlinewidth)/2,y:$-W,width:Math.max(o,2),height:Math.max(s+2*W,2)}).call(p.fill,_.bgcolor).call(p.stroke,_.bordercolor).style({"stroke-width":_.borderwidth}),oe.selectAll(".cboutline").attr({x:G,y:$+_.ypad+("top"===_.titleside?se:0),width:Math.max(B,2),height:Math.max(s-2*_.ypad-se,2)}).call(p.stroke,_.outlinecolor).style({fill:"None","stroke-width":_.outlinewidth});var l=({center:.5,right:1}[_.xanchor]||0)*o;oe.attr("transform","translate("+(S.l-l)+","+S.t+")"),a.autoMargin(e,t,{x:_.x,y:_.y,l:o*({right:1,center:.5}[_.xanchor]||0),r:o*({left:1,center:.5}[_.xanchor]||0),t:s*({bottom:1,middle:.5}[_.yanchor]||0),b:s*({top:1,middle:.5}[_.yanchor]||0)})}var E=e._fullLayout,S=E._size;if("function"!==typeof _.fillcolor&&"function"!==typeof _.line.color)return void E._infolayer.selectAll("g."+t).remove();var T,A=r.extent(("function"===typeof _.fillcolor?_.fillcolor:_.line.color).domain()),C=[],D=[],O="function"===typeof _.line.color?_.line.color:function(){return _.line.color},P="function"===typeof _.fillcolor?_.fillcolor:function(){return _.fillcolor},L=_.levels.end+_.levels.size/100,I=_.levels.size,N=1.001*A[0]-.001*A[1],R=1.001*A[1]-.001*A[0];for(T=_.levels.start;(T-L)*I<0;T+=I)T>N&&T<R&&C.push(T);if("function"===typeof _.fillcolor)if(_.filllevels)for(L=_.filllevels.end+_.filllevels.size/100,I=_.filllevels.size,T=_.filllevels.start;(T-L)*I<0;T+=I)T>A[0]&&T<A[1]&&D.push(T);else D=C.map(function(e){return e-_.levels.size/2}),D.push(D[D.length-1]+_.levels.size);else _.fillcolor&&"string"===typeof _.fillcolor&&(D=[0]);_.levels.size<0&&(C.reverse(),D.reverse());var j,z=E.height-E.margin.t-E.margin.b,F=E.width-E.margin.l-E.margin.r,B=Math.round(_.thickness*("fraction"===_.thicknessmode?F:1)),U=B/S.w,V=Math.round(_.len*("fraction"===_.lenmode?z:1)),H=V/S.h,Y=_.xpad/S.w,W=(_.borderwidth+_.outlinewidth)/2,q=_.ypad/S.h,G=Math.round(_.x*S.w+_.xpad),X=_.x-U*({middle:.5,right:1}[_.xanchor]||0),Z=_.y+H*(({top:-.5,bottom:.5}[_.yanchor]||0)-.5),K=Math.round(S.h*(1-Z)),$=K-V,J={type:"linear",range:A,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,titlefont:_.titlefont,anchor:"free",position:1},Q={type:"linear",_id:"y"+t},ee={letter:"y",font:E.font,noHover:!0,calendar:E.calendar};if(v(J,Q,b,ee,E),g(J,Q,b,ee),Q.position=_.x+Y+U,n.axis=Q,-1!==["top","bottom"].indexOf(_.titleside)&&(Q.titleside=_.titleside,Q.titlex=_.x+Y,Q.titley=Z+("top"===_.titleside?H-q:q)),_.line.color&&"auto"===_.tickmode){Q.tickmode="linear",Q.tick0=_.levels.start;var te=_.levels.size,ne=c.constrain((K-$)/50,4,15)+1,re=(A[1]-A[0])/((_.nticks||ne)*te);if(re>1){var ie=Math.pow(10,Math.floor(Math.log(re)/Math.LN10));te*=ie*c.roundUp(re/ie,[2,5,10]),(Math.abs(_.levels.start)/_.levels.size+1e-6)%1<2e-6&&(Q.tick0=0)}Q.dtick=te}Q.domain=[Z+q,Z+H-q],Q.setScale();var oe=E._infolayer.selectAll("g."+t).data([0]);oe.enter().append("g").classed(t,!0).each(function(){var e=r.select(this);e.append("rect").classed("cbbg",!0),e.append("g").classed("cbfills",!0),e.append("g").classed("cblines",!0),e.append("g").classed("cbaxis",!0).classed("crisp",!0),e.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),e.append("rect").classed("cboutline",!0),e.select(".cbtitle").datum(0)}),oe.attr("transform","translate("+Math.round(S.l)+","+Math.round(S.t)+")");var ae=oe.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(S.l)+",-"+Math.round(S.t)+")");Q._axislayer=oe.select(".cbaxis");var se=0;if(-1!==["top","bottom"].indexOf(_.titleside)){var le,ue=S.l+(_.x+Y)*S.w,ce=Q.titlefont.size;le="top"===_.titleside?(1-(Z+H-q))*S.h+S.t+3+.75*ce:(1-(Z+q))*S.h+S.t-3-.25*ce,M(Q._id+"title",{attributes:{x:ue,y:le,"text-anchor":"start"}})}var fe=c.syncOrAsync([a.previousPromises,w,a.previousPromises,k],e);if(fe&&fe.then&&(e._promises||[]).push(fe),e._context.editable){var he,de,pe;u.init({element:oe.node(),prepFn:function(){he=oe.attr("transform"),h(oe)},moveFn:function(e,t){oe.attr("transform",he+" translate("+e+","+t+")"),de=u.align(X+e/S.w,U,0,1,_.xanchor),pe=u.align(Z-t/S.h,H,0,1,_.yanchor);var n=u.getCursor(de,pe,_.xanchor,_.yanchor);h(oe,n)},doneFn:function(t){h(oe),t&&void 0!==de&&void 0!==pe&&o.restyle(e,{"colorbar.x":de,"colorbar.y":pe},x().index)}})}return fe}function x(){var n,r,i=t.substr(2);for(n=0;n<e._fullData.length;n++)if(r=e._fullData[n],r.uid===i)return r}var _={};return Object.keys(b).forEach(function(e){_[e]=null}),_.fillcolor=null,_.line={color:null,width:null,dash:null},_.levels={start:null,end:null,size:null},_.filllevels=null,Object.keys(_).forEach(function(e){n[e]=function(t){return arguments.length?(_[e]=c.isPlainObject(_[e])?c.extendFlat(_[e],t):t,n):_[e]}}),n.options=function(e){return Object.keys(e).forEach(function(t){"function"===typeof n[t]&&n[t](e[t])}),n},n._opts=_,n}},function(e,t,n){"use strict";e.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info"},copy_ystyle:{valType:"boolean",role:"style"},copy_zstyle:{valType:"boolean",role:"style"},color:{valType:"color",role:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},_deprecated:{opacity:{valType:"number",role:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},function(e,t,n){"use strict";e.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},function(e,t,n){"use strict";e.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,n){"use strict";function r(e,t){if(e.apply)e.apply(e,t);else for(var n=0;n<t.length;n++)e(t[n])}var i=n(317),o=e.exports={};o.log=function(){if(i.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},o.warn=function(){if(i.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},o.error=function(){if(i.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.error,e)}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){var i,o=n.name,a=t[o],s=r.isArray(e[o])?e[o]:[],l=t[o]=[];for(i=0;i<s.length;i++){var u=s[i],c={},f={};r.isPlainObject(u)||(f.itemIsNotPlainObject=!0,u={}),n.handleItemDefaults(u,c,t,n,f),c._input=u,c._index=i,l.push(c)}if(r.isArray(a)){var h=Math.min(a.length,l.length);for(i=0;i<h;i++)r.relinkPrivateKeys(l[i],a[i])}}},function(e,t,n){"use strict";function r(e){return Math.pow(10,e)}function i(e){return a(e)?(e=Number(e),e<-h||e>h?d:a(e)?Number(e):d):d}var o=n(2),a=n(4),s=n(0),l=s.cleanNumber,u=s.ms2DateTime,c=s.dateTime2ms,f=n(27),h=f.FP_SAFE,d=f.BADNUM,p=n(33),m=n(53);e.exports=function(e,t){function n(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-3*w*Math.abs(r-i))}return d}function f(t,n,r){var i=c(t,r||e.calendar);if(i===d){if(!a(t))return d;i=c(new Date(+t))}return i}function v(t,n,r){return u(t,n,r||e.calendar)}function g(t){return e._categories[Math.round(t)]}function y(t){if(null!==t&&void 0!==t){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push(t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return d}function b(t){if(e._categoriesMap){var n=e._categoriesMap[t];if(void 0!==n)return n}if("number"===typeof t)return t}function x(t){return a(t)?o.round(e._b+e._m*t,2):d}function _(t){return(t-e._b)/e._m}t=t||{};var w=10;e.c2l="log"===e.type?n:i,e.l2c="log"===e.type?r:i,e.l2p=x,e.p2l=_,e.c2p="log"===e.type?function(e,t){return x(n(e,t))}:x,e.p2c="log"===e.type?function(e){return r(_(e))}:_,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=l,e.c2d=e.c2r=e.l2d=e.l2r=i,e.d2p=e.r2p=function(e){return x(l(e))},e.p2d=e.p2r=_):"log"===e.type?(e.d2r=e.d2l=function(e,t){return n(l(e),t)},e.r2d=e.r2c=function(e){return r(l(e))},e.d2c=e.r2l=l,e.c2d=e.l2r=i,e.c2r=n,e.l2d=r,e.d2p=function(t,n){return x(e.d2r(t,n))},e.p2d=function(e){return r(_(e))},e.r2p=function(e){return x(l(e))},e.p2r=_):"date"===e.type?(e.d2r=e.r2d=s.identity,e.d2c=e.r2c=e.d2l=e.r2l=f,e.c2d=e.c2r=e.l2d=e.l2r=v,e.d2p=e.r2p=function(e,t,n){return x(f(e,0,n))},e.p2d=e.p2r=function(e,t,n){return v(_(e),t,n)}):"category"===e.type&&(e.d2r=e.d2c=e.d2l=y,e.r2d=e.c2d=e.l2d=g,e.d2l_noadd=b,e.r2l=e.l2r=e.r2c=e.c2r=i,e.d2p=function(e){return x(b(e))},e.p2d=function(e){return g(_(e))},e.r2p=x,e.p2r=_),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t){t||(t="range");var n,r,i=s.nestedProperty(e,t).get(),o=(e._id||"x").charAt(0);if(r="date"===e.type?s.dfltRange(e.calendar):"y"===o?p.DFLTRANGEY:p.DFLTRANGEX,r=r.slice(),!i||2!==i.length)return void s.nestedProperty(e,t).set(r);for("date"===e.type&&(i[0]=s.cleanDate(i[0],d,e.calendar),i[1]=s.cleanDate(i[1],d,e.calendar)),n=0;n<2;n++)if("date"===e.type){if(!s.isDateTime(i[n],e.calendar)){e[t]=r;break}if(e.r2l(i[0])===e.r2l(i[1])){var l=s.constrain(e.r2l(i[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);i[0]=e.l2r(l-1e3),i[1]=e.l2r(l+1e3);break}}else{if(!a(i[n])){if(!a(i[1-n])){e[t]=r;break}i[n]=i[1-n]*(n?10:.1)}if(i[n]<-h?i[n]=-h:i[n]>h&&(i[n]=h),i[0]===i[1]){var u=Math.max(1,Math.abs(1e-6*i[0]));i[0]-=u,i[1]+=u}}},e.setScale=function(n){var r=t._size,i=e._id.charAt(0);if(e._categories||(e._categories=[]),e._categoriesMap||(e._categoriesMap={}),e.overlaying){var o=m.getFromId({_fullLayout:t},e.overlaying);e.domain=o.domain}var a=n&&e._r?"_r":"range",l=e.calendar;e.cleanRange(a);var u=e.r2l(e[a][0],l),c=e.r2l(e[a][1],l);if("y"===i?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(u-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-u),e._b=-e._m*u),!isFinite(e._m)||!isFinite(e._b))throw s.notifier("Something went wrong with axis scaling","long"),t._replotting=!1,new Error("axis scaling")},e.makeCalcdata=function(t,n){var r,i,o,a="date"===e.type&&t[n+"calendar"];if(n in t)for(r=t[n],i=new Array(r.length),o=0;o<r.length;o++)i[o]=e.d2c(r[o],0,a);else{var s=n+"0"in t?e.d2c(t[n+"0"],0,a):0,l=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],i=new Array(r.length),o=0;o<r.length;o++)i[o]=s+o*l}return i},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&a(e.r2l(t[0]))&&a(e.r2l(t[1]))},e._min=[],e._max=[],e._separators=t.separators,delete e._minDtick,delete e._forceTick0}},function(e,t,n){"use strict";var r=n(0),i=r.extendFlat,o=n(45),a=n(31);e.exports={font:{family:i({},o.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:i({},o.size,{dflt:12}),color:i({},o.color,{dflt:a.defaultLine}),description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")},title:{valType:"string",role:"info",dflt:"Click to enter Plot title",description:["Sets the plot's title."].join(" ")},titlefont:i({},o,{description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0}},paper_bgcolor:{valType:"color",role:"style",dflt:a.background,description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:a.background,description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",dflt:".,",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and","a space between thousands."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},smith:{valType:"enumerated",role:"info",values:[!1],dflt:!1},showlegend:{valType:"boolean",role:"info",description:"Determines whether or not a legend is drawn."},dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],description:"Determines the mode of hover interactions."}}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(16),a=n(66),s=n(163);e.exports=function(e,t){var n=t[0].trace,l="cb"+n.uid,u=n.zmin,c=n.zmax;if(r(u)||(u=i.aggNums(Math.min,null,n.z)),r(c)||(c=i.aggNums(Math.max,null,n.z)),e._fullLayout._infolayer.selectAll("."+l).remove(),!n.showscale)return void o.autoMargin(e,l);var f=t[0].t.cb=s(e,l),h=a.makeColorScaleFunc(a.extractScale(n.colorscale,u,c),{noNumericCheck:!0});f.fillcolor(h).filllevels({start:u,end:c,size:(c-u)/254}).options(n.colorbar)()}},function(e,t,n){"use strict";e.exports=function(e){return!Array.isArray(e.z[0])}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArray(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var n=t.marker;if(n){r.mergeArray(n.size,e,"ms"),r.mergeArray(n.opacity,e,"mo"),r.mergeArray(n.symbol,e,"mx"),r.mergeArray(n.color,e,"mc");var i=n.line;n.line&&(r.mergeArray(i.color,e,"mlc"),r.mergeArray(i.width,e,"mlw"))}}},function(e,t,n){"use strict";var r=n(90),i=n(88),o=n(21);e.exports=function(e){o.hasLines(e)&&r(e,"line")&&i(e,e.line.color,"line","c"),o.hasMarkers(e)&&(r(e,"marker")&&i(e,e.marker.color,"marker","c"),r(e,"marker.line")&&i(e,e.marker.line.color,"marker.line","c"))}},function(e,t,n){"use strict";e.exports={PTS_LINESONLY:20}},function(e,t,n){"use strict";var r=n(3),i=n(21);e.exports=function(e,t){var n,o;if("lines"===e.mode)return n=e.line.color,n&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return o=a&&r.opacity(a)?a:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"",o?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(e.line||{}).color,n&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor)}},function(e,t,n){"use strict";var r=n(34),i=n(69),o=n(89),a=n(99).dash,s=n(8).extendFlat,l=r.marker,u=r.line,c=l.line;e.exports={lon:{valType:"data_array",description:"Sets the longitude coordinates (in degrees East)."},lat:{valType:"data_array",description:"Sets the latitude coordinates (in degrees North)."},locations:{valType:"data_array",description:["Sets the coordinates via location IDs or names.","Coordinates correspond to the centroid of each location given.","See `locationmode` for more info."].join(" ")},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names"],role:"info",dflt:"ISO-3",description:["Determines the set of locations used to match entries in `locations`","to regions on the map."].join(" ")},mode:s({},r.mode,{dflt:"markers"}),text:s({},r.text,{description:["Sets text elements associated with each (lon,lat) pair","or item in `locations`.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) or `locations` coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),hovertext:s({},r.hovertext,{description:["Sets hover text elements associated with each (lon,lat) pair","or item in `locations`.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) or `locations` coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),textfont:r.textfont,textposition:r.textposition,line:{color:u.color,width:u.width,dash:a},connectgaps:r.connectgaps,marker:s({},{symbol:l.symbol,opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,showscale:l.showscale,colorbar:l.colorbar,line:s({},{width:c.width},o("marker.line"))},o("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none",role:"style",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape."].join(" ")},fillcolor:r.fillcolor,hoverinfo:s({},i.hoverinfo,{flags:["lon","lat","location","text","name"]})}},function(e,t,n){"use strict";e.exports=n(1591)},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(18),a=n(360),s=n(361),l=n(365),u=n(650),c=n(651),f=(n(10),{}),h=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},m=function(e){return d(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!==typeof n&&o("94",t,typeof n);var r=v(e);(f[t]||(f[t]={}))[r]=n;var i=a.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=f[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=f[t];if(r){delete r[v(e)]}},deleteAllListeners:function(e){var t=v(e);for(var n in f)if(f.hasOwnProperty(n)&&f[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete f[n][t]}},extractEvents:function(e,t,n,r){for(var i,o=a.plugins,s=0;s<o.length;s++){var l=o[s];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=u(i,c))}}return i},enqueueEvents:function(e){e&&(h=u(h,e))},processEventQueue:function(e){var t=h;h=null,e?c(t,p):c(t,m),h&&o("95"),l.rethrowCaughtError()},__purge:function(){f={}},__getListenerBank:function(){return f}};e.exports=g},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?p.getParentInstance(t):null;p.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){v(e,o)}function c(e){v(e,a)}function f(e,t,n,r){p.traverseEnterLeave(n,r,s,e,t)}function h(e){v(e,l)}var d=n(179),p=n(361),m=n(650),v=n(651),g=(n(15),d.getListener),y={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:f};e.exports=y},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o=n(370),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){e.exports.VectorTile=n(1701),e.exports.VectorTileFeature=n(674),e.exports.VectorTileLayer=n(675)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return b});var a=n(7),s=n.n(a),l=n(193),u=n(110),c=n.n(u),f=n(111),h=n.n(f),d=n(874),p=n.n(d),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"getAttendance",value:function(){return c.a.filter(this.props.sampleEvent.attendees,function(e){return e.confirmed}).length||!1}},{key:"render",value:function(){var e=this.props,t=e.sampleEvent,n=e.showAction,r=e.actionLink,i=e.actionTitle,o=e.isAttending,a=e.isAdmin,u=e.isList;return s.a.createElement("div",{className:"event-card"},s.a.createElement(l.c,{to:"/events/view/"+t.id},s.a.createElement("div",{className:"event-card-date"},s.a.createElement("div",{className:"event-card-date-month"},h()(t.date).format("MMM")),s.a.createElement("div",{className:"event-card-date-day"},h()(t.date).format("DD")),s.a.createElement("div",{className:"event-card-date-year"},h()(t.date).format("YYYY"))),s.a.createElement("div",{className:"event-card-header"},s.a.createElement("h4",{className:"event-card-title"},s.a.createElement("strong",null,t.name)),s.a.createElement("h5",{className:"event-card-time"},s.a.createElement("strong",null,h()(t.date).format("MMMM Do, YYYY")," ",t.startTime," - ",t.endTime))),s.a.createElement("div",{className:"row event-card-content"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"col-md-12"},t.description?s.a.createElement("p",{className:"event-card-description"},t.description):null),s.a.createElement("h6",{style:{marginTop:0},className:"col-md-4"},s.a.createElement("i",{className:"fa fa-map-marker circle-icon--medium"})," ",s.a.createElement("strong",null,t.location)),s.a.createElement("h6",{style:{marginTop:0},className:"col-md-4"},s.a.createElement("i",{className:"fa fa-user circle-icon--medium"})," ",s.a.createElement("strong",null,t.leaders)),s.a.createElement("h6",{style:{marginTop:0},className:"col-md-4"},s.a.createElement("i",{className:"fa fa-check circle-icon--medium"})," ",s.a.createElement("strong",null,this.getAttendance(),"/",t.attendees.length)," Attended")),s.a.createElement("div",{className:"col-md-4"},n?a?s.a.createElement(g,null):s.a.createElement(y,{isList:u,isAttending:o,actionLink:r,actionTitle:i}):null))))}}]),t}(a.Component),g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showCode:!1},n}return o(t,e),m(t,[{key:"onClick",value:function(){this.setState({showCode:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"event-admin-control text-center"},s.a.createElement(l.c,{to:"/events/edit",className:"btn btn-primary btn-block"},s.a.createElement("i",{className:"fa fa-pencil"})," Edit Event"),s.a.createElement("a",{className:"btn btn-default btn-block",style:{marginLeft:0,marginTop:10,display:this.state.showCode?"none":"block"},onClick:function(){return e.onClick()}},"Generate Attendance Code"),s.a.createElement("div",{className:"event-attendance-code",style:{marginTop:10,display:this.state.showCode?"block":"none"}},"X5fH8Gn"))}}]),t}(a.Component),y=function(e){var t=e.isAttending,n=e.isList,r=e.actionLink,i=e.actionTitle;return s.a.createElement("div",{className:"event-teacher-control"},t?s.a.createElement("div",null,n?s.a.createElement(l.c,{to:r,className:"btn btn-primary"},r):s.a.createElement("div",{style:{marginBottom:10}},s.a.createElement("label",null,"Confirm Attendance"),s.a.createElement("input",{className:"form-control",placeholder:"Enter code to confirm your attendance."})),s.a.createElement("h4",{className:"green"},s.a.createElement("strong",null,s.a.createElement("i",{className:"fa fa-check"})," ","You're Attending"))):s.a.createElement("a",{href:r,className:"btn btn-primary"},i))},b=function(e){var t=e.sampleEvent,n=e.isAttending,r=e.showAction,i=void 0!==r&&r,o=e.actionLink,a=void 0===o?"#actionLink":o,u=e.actionTitle,c=void 0===u?"":u;e.eventLink;return s.a.createElement("div",{className:"event-card"},s.a.createElement(l.c,{to:"/events/view/"+t.id},s.a.createElement("div",{className:"event-card-header "+(i?"event-card-header--narrow":"")},s.a.createElement("h5",{className:"event-card-time"},s.a.createElement("strong",null,h()(t.date).format("MMMM Do, YYYY")," ",t.startTime," - ",t.endTime)),s.a.createElement("h4",{className:"event-card-title"},s.a.createElement("strong",null,t.name))),i?s.a.createElement("div",{className:"event-card-actions"}," ",n?s.a.createElement("h5",{className:"meta green",style:{marginBottom:0}},s.a.createElement("i",{className:"fa fa-check"}),"You're Attending"):s.a.createElement("a",{href:a,className:"btn btn-primary btn-block",style:{display:"inline-block",width:160}},c)," "):null,t.description?s.a.createElement("p",null,p()(t.description,200)):null))};t.a=v},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"===typeof t?c(e,t,n):d(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"===typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||Z(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&J(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"===typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,h=0;h<l;h++)if(o(e,u+h)!==o(t,h)){f=!1;break}if(f)return u}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return X(Y(t,e.length-n),e,n,r)}function M(e,t,n,r){return X(W(t),e,n,r)}function k(e,t,n,r){return M(e,t,n,r)}function E(e,t,n,r){return X(G(t),e,n,r)}function S(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128===(192&l)&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return C(r)}function C(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=H(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,n,r,52,8),n+8}function U(e){if(e=V(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return K.toByteArray(U(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e){return e!==e}var K=n(707),$=n(757),J=n(708);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return M(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),$.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),$.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),$.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),$.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:Y(new o(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(29))},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";e.exports=n(791)},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,f[e[m]]={}),f[e[m]]}var i,o=n(20),a=n(259),s=n(806),l=n(417),u=n(838),c=n(270),f={},h=!1,d=0,p={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=a.registrationNameDependencies[e],s=0;s<o.length;s++){var l=o[s];i.hasOwnProperty(l)&&i[l]||("topWheel"===l?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===l?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):p.hasOwnProperty(l)&&v.ReactEventListener.trapBubbledEvent(l,p[l],n),i[l]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=v.supportsEventPageXY()),!i&&!h){var e=l.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=v},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(145),o=n(417),a=n(268),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(17),i=(n(9),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,l){this.isInTransaction()&&r("27");var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=r}return s!==a?i+t.substring(s,a):i}function i(e){return"boolean"===typeof e||"number"===typeof e?""+e:r(e)}var o=/["'&<>]/;e.exports=i},function(e,t,n){"use strict";var r,i=n(41),o=n(258),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(266),u=l(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t,n){"use strict";var r=(n(842),n(843));n.d(t,"a",function(){return r.a});var i=n(426);n.d(t,"c",function(){return i.a});var o=(n(844),n(845),n(846),n(847),n(848));n.d(t,"b",function(){return o.a});n(849),n(850),n(851),n(852),n(853)},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}function a(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function l(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}function u(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;i=0|e.words[p],o=0|t.words[d],a=i*o+f,c+=a/67108864|0,f=67108863&a}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}function c(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,l=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=l;u++){var c=o-u,f=0|e.words[c],h=0|t.words[u],d=f*h,p=67108863&d;a=a+(d/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function f(e,t,n){return(new h).mulp(e,t,n)}function h(e,t){this.x=e,this.y=t}function d(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function g(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function y(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){y.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var x;try{x=n(185).Buffer}catch(e){}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var i=0;"-"===e[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=a(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=a(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,l=Math.min(o,o-a)+n,u=0,c=n;c<l;c+=r)u=s(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=s(e,c,e.length,t),c=0;c<a;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?_[6-l.length]+l+n:l+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=w[e],c=M[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var h=f.modn(c).toString(e);f=f.idivn(c),n=f.isZero()?h+n:_[u-h.length]+h+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof x),this.toArrayLike(x,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,u=new e(o),c=this.clone();if(l){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,a=0;a<i.length;a++)t=(0|r.words[a])-(0|i.words[a])+o,o=t>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)t=(0|r.words[a])+o,o=t>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var k=function(e,t,n){var r,i,o,a=e.words,s=t.words,l=n.words,u=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],x=8191&b,_=b>>>13,w=0|a[4],M=8191&w,k=w>>>13,E=0|a[5],S=8191&E,T=E>>>13,A=0|a[6],C=8191&A,D=A>>>13,O=0|a[7],P=8191&O,L=O>>>13,I=0|a[8],N=8191&I,R=I>>>13,j=0|a[9],z=8191&j,F=j>>>13,B=0|s[0],U=8191&B,V=B>>>13,H=0|s[1],Y=8191&H,W=H>>>13,q=0|s[2],G=8191&q,X=q>>>13,Z=0|s[3],K=8191&Z,$=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],fe=8191&ce,he=ce>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(f,U),i=Math.imul(f,V),i=i+Math.imul(h,U)|0,o=Math.imul(h,V);var ve=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,U),i=Math.imul(p,V),i=i+Math.imul(m,U)|0,o=Math.imul(m,V),r=r+Math.imul(f,Y)|0,i=i+Math.imul(f,W)|0,i=i+Math.imul(h,Y)|0,o=o+Math.imul(h,W)|0;var ge=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,U),i=Math.imul(g,V),i=i+Math.imul(y,U)|0,o=Math.imul(y,V),r=r+Math.imul(p,Y)|0,i=i+Math.imul(p,W)|0,i=i+Math.imul(m,Y)|0,o=o+Math.imul(m,W)|0,r=r+Math.imul(f,G)|0,i=i+Math.imul(f,X)|0,i=i+Math.imul(h,G)|0,o=o+Math.imul(h,X)|0;var ye=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(x,U),i=Math.imul(x,V),i=i+Math.imul(_,U)|0,o=Math.imul(_,V),r=r+Math.imul(g,Y)|0,i=i+Math.imul(g,W)|0,i=i+Math.imul(y,Y)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=i+Math.imul(p,X)|0,i=i+Math.imul(m,G)|0,o=o+Math.imul(m,X)|0,r=r+Math.imul(f,K)|0,i=i+Math.imul(f,$)|0,i=i+Math.imul(h,K)|0,o=o+Math.imul(h,$)|0;var be=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(M,U),i=Math.imul(M,V),i=i+Math.imul(k,U)|0,o=Math.imul(k,V),r=r+Math.imul(x,Y)|0,i=i+Math.imul(x,W)|0,i=i+Math.imul(_,Y)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(g,G)|0,i=i+Math.imul(g,X)|0,i=i+Math.imul(y,G)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,K)|0,i=i+Math.imul(p,$)|0,i=i+Math.imul(m,K)|0,o=o+Math.imul(m,$)|0,r=r+Math.imul(f,Q)|0,i=i+Math.imul(f,ee)|0,i=i+Math.imul(h,Q)|0,o=o+Math.imul(h,ee)|0;var xe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(S,U),i=Math.imul(S,V),i=i+Math.imul(T,U)|0,o=Math.imul(T,V),r=r+Math.imul(M,Y)|0,i=i+Math.imul(M,W)|0,i=i+Math.imul(k,Y)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(x,G)|0,i=i+Math.imul(x,X)|0,i=i+Math.imul(_,G)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(g,K)|0,i=i+Math.imul(g,$)|0,i=i+Math.imul(y,K)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=i+Math.imul(p,ee)|0,i=i+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,r=r+Math.imul(f,ne)|0,i=i+Math.imul(f,re)|0,i=i+Math.imul(h,ne)|0,o=o+Math.imul(h,re)|0;var _e=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(C,U),i=Math.imul(C,V),i=i+Math.imul(D,U)|0,o=Math.imul(D,V),r=r+Math.imul(S,Y)|0,i=i+Math.imul(S,W)|0,i=i+Math.imul(T,Y)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(M,G)|0,i=i+Math.imul(M,X)|0,i=i+Math.imul(k,G)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(x,K)|0,i=i+Math.imul(x,$)|0,i=i+Math.imul(_,K)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Q)|0,i=i+Math.imul(g,ee)|0,i=i+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=i+Math.imul(p,re)|0,i=i+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0,r=r+Math.imul(f,oe)|0,i=i+Math.imul(f,ae)|0,i=i+Math.imul(h,oe)|0,o=o+Math.imul(h,ae)|0;var we=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,U),i=Math.imul(P,V),i=i+Math.imul(L,U)|0,o=Math.imul(L,V),r=r+Math.imul(C,Y)|0,i=i+Math.imul(C,W)|0,i=i+Math.imul(D,Y)|0,o=o+Math.imul(D,W)|0,r=r+Math.imul(S,G)|0,i=i+Math.imul(S,X)|0,i=i+Math.imul(T,G)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(M,K)|0,i=i+Math.imul(M,$)|0,i=i+Math.imul(k,K)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(x,Q)|0,i=i+Math.imul(x,ee)|0,i=i+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(g,ne)|0,i=i+Math.imul(g,re)|0,i=i+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=i+Math.imul(p,ae)|0,i=i+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,r=r+Math.imul(f,le)|0,i=i+Math.imul(f,ue)|0,i=i+Math.imul(h,le)|0,o=o+Math.imul(h,ue)|0;var Me=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(N,U),i=Math.imul(N,V),i=i+Math.imul(R,U)|0,o=Math.imul(R,V),r=r+Math.imul(P,Y)|0,i=i+Math.imul(P,W)|0,i=i+Math.imul(L,Y)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(C,G)|0,i=i+Math.imul(C,X)|0,i=i+Math.imul(D,G)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(S,K)|0,i=i+Math.imul(S,$)|0,i=i+Math.imul(T,K)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(M,Q)|0,i=i+Math.imul(M,ee)|0,i=i+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(x,ne)|0,i=i+Math.imul(x,re)|0,i=i+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(g,oe)|0,i=i+Math.imul(g,ae)|0,i=i+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,le)|0,i=i+Math.imul(p,ue)|0,i=i+Math.imul(m,le)|0,o=o+Math.imul(m,ue)|0,r=r+Math.imul(f,fe)|0,i=i+Math.imul(f,he)|0,i=i+Math.imul(h,fe)|0,o=o+Math.imul(h,he)|0;var ke=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(z,U),i=Math.imul(z,V),i=i+Math.imul(F,U)|0,o=Math.imul(F,V),r=r+Math.imul(N,Y)|0,i=i+Math.imul(N,W)|0,i=i+Math.imul(R,Y)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(P,G)|0,i=i+Math.imul(P,X)|0,i=i+Math.imul(L,G)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(C,K)|0,i=i+Math.imul(C,$)|0,i=i+Math.imul(D,K)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(S,Q)|0,i=i+Math.imul(S,ee)|0,i=i+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(M,ne)|0,i=i+Math.imul(M,re)|0,i=i+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(x,oe)|0,i=i+Math.imul(x,ae)|0,i=i+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(g,le)|0,i=i+Math.imul(g,ue)|0,i=i+Math.imul(y,le)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=i+Math.imul(p,he)|0,i=i+Math.imul(m,fe)|0,o=o+Math.imul(m,he)|0,r=r+Math.imul(f,pe)|0,i=i+Math.imul(f,me)|0,i=i+Math.imul(h,pe)|0,o=o+Math.imul(h,me)|0;var Ee=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,Y),i=Math.imul(z,W),i=i+Math.imul(F,Y)|0,o=Math.imul(F,W),r=r+Math.imul(N,G)|0,i=i+Math.imul(N,X)|0,i=i+Math.imul(R,G)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(P,K)|0,i=i+Math.imul(P,$)|0,i=i+Math.imul(L,K)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(C,Q)|0,i=i+Math.imul(C,ee)|0,i=i+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,r=r+Math.imul(S,ne)|0,i=i+Math.imul(S,re)|0,i=i+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(M,oe)|0,i=i+Math.imul(M,ae)|0,i=i+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(x,le)|0,i=i+Math.imul(x,ue)|0,i=i+Math.imul(_,le)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(g,fe)|0,i=i+Math.imul(g,he)|0,i=i+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0,r=r+Math.imul(p,pe)|0,i=i+Math.imul(p,me)|0,i=i+Math.imul(m,pe)|0,o=o+Math.imul(m,me)|0;var Se=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,G),i=Math.imul(z,X),i=i+Math.imul(F,G)|0,o=Math.imul(F,X),r=r+Math.imul(N,K)|0,i=i+Math.imul(N,$)|0,i=i+Math.imul(R,K)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(P,Q)|0,i=i+Math.imul(P,ee)|0,i=i+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(C,ne)|0,i=i+Math.imul(C,re)|0,i=i+Math.imul(D,ne)|0,o=o+Math.imul(D,re)|0,r=r+Math.imul(S,oe)|0,i=i+Math.imul(S,ae)|0,i=i+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,r=r+Math.imul(M,le)|0,i=i+Math.imul(M,ue)|0,i=i+Math.imul(k,le)|0,o=o+Math.imul(k,ue)|0,r=r+Math.imul(x,fe)|0,i=i+Math.imul(x,he)|0,i=i+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0,r=r+Math.imul(g,pe)|0,i=i+Math.imul(g,me)|0,i=i+Math.imul(y,pe)|0,o=o+Math.imul(y,me)|0;var Te=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,K),i=Math.imul(z,$),i=i+Math.imul(F,K)|0,o=Math.imul(F,$),r=r+Math.imul(N,Q)|0,i=i+Math.imul(N,ee)|0,i=i+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(P,ne)|0,i=i+Math.imul(P,re)|0,i=i+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(C,oe)|0,i=i+Math.imul(C,ae)|0,i=i+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,r=r+Math.imul(S,le)|0,i=i+Math.imul(S,ue)|0,i=i+Math.imul(T,le)|0,o=o+Math.imul(T,ue)|0,r=r+Math.imul(M,fe)|0,i=i+Math.imul(M,he)|0,i=i+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0,r=r+Math.imul(x,pe)|0,i=i+Math.imul(x,me)|0,i=i+Math.imul(_,pe)|0,o=o+Math.imul(_,me)|0;var Ae=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,Q),i=Math.imul(z,ee),i=i+Math.imul(F,Q)|0,o=Math.imul(F,ee),r=r+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,i=i+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(P,oe)|0,i=i+Math.imul(P,ae)|0,i=i+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(C,le)|0,i=i+Math.imul(C,ue)|0,i=i+Math.imul(D,le)|0,o=o+Math.imul(D,ue)|0,r=r+Math.imul(S,fe)|0,i=i+Math.imul(S,he)|0,i=i+Math.imul(T,fe)|0,o=o+Math.imul(T,he)|0,r=r+Math.imul(M,pe)|0,i=i+Math.imul(M,me)|0,i=i+Math.imul(k,pe)|0,o=o+Math.imul(k,me)|0;var Ce=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,ne),i=Math.imul(z,re),i=i+Math.imul(F,ne)|0,o=Math.imul(F,re),r=r+Math.imul(N,oe)|0,i=i+Math.imul(N,ae)|0,i=i+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(P,le)|0,i=i+Math.imul(P,ue)|0,i=i+Math.imul(L,le)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(C,fe)|0,i=i+Math.imul(C,he)|0,i=i+Math.imul(D,fe)|0,o=o+Math.imul(D,he)|0,r=r+Math.imul(S,pe)|0,i=i+Math.imul(S,me)|0,i=i+Math.imul(T,pe)|0,o=o+Math.imul(T,me)|0;var De=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(z,oe),i=Math.imul(z,ae),i=i+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(N,le)|0,i=i+Math.imul(N,ue)|0,i=i+Math.imul(R,le)|0,o=o+Math.imul(R,ue)|0,r=r+Math.imul(P,fe)|0,i=i+Math.imul(P,he)|0,i=i+Math.imul(L,fe)|0,o=o+Math.imul(L,he)|0,r=r+Math.imul(C,pe)|0,i=i+Math.imul(C,me)|0,i=i+Math.imul(D,pe)|0,o=o+Math.imul(D,me)|0;var Oe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(z,le),i=Math.imul(z,ue),i=i+Math.imul(F,le)|0,o=Math.imul(F,ue),r=r+Math.imul(N,fe)|0,i=i+Math.imul(N,he)|0,i=i+Math.imul(R,fe)|0,o=o+Math.imul(R,he)|0,r=r+Math.imul(P,pe)|0,i=i+Math.imul(P,me)|0,i=i+Math.imul(L,pe)|0,o=o+Math.imul(L,me)|0;var Pe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(z,fe),i=Math.imul(z,he),i=i+Math.imul(F,fe)|0,o=Math.imul(F,he),r=r+Math.imul(N,pe)|0,i=i+Math.imul(N,me)|0,i=i+Math.imul(R,pe)|0,o=o+Math.imul(R,me)|0;var Le=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,r=Math.imul(z,pe),i=Math.imul(z,me),i=i+Math.imul(F,pe)|0,o=Math.imul(F,me);var Ie=(u+r|0)+((8191&i)<<13)|0;return u=(o+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,l[0]=ve,l[1]=ge,l[2]=ye,l[3]=be,l[4]=xe,l[5]=_e,l[6]=we,l[7]=Me,l[8]=ke,l[9]=Ee,l[10]=Se,l[11]=Te,l[12]=Ae,l[13]=Ce,l[14]=De,l[15]=Oe,l[16]=Pe,l[17]=Le,l[18]=Ie,0!==u&&(l[19]=u,n.length++),n};Math.imul||(k=u),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?k(this,e,t):n<63?u(this,e,t):n<1024?c(this,e,t):f(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},h.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},h.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},h.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,h=u,d=0;d<a;d++){var p=n[c+d],m=r[c+d],v=n[c+d+a],g=r[c+d+a],y=f*v-h*g;g=f*g+h*v,v=y,n[c+d]=p+v,r[c+d]=m+g,n[c+d+a]=p-v,r[c+d+a]=m-g,d!==s&&(y=l*f-u*h,h=l*h+u*f,f=y)}},h.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},h.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},h.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},h.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},h.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},h.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,l,r,i),this.transform(u,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-l[d]*f[d];l[d]=s[d]*f[d]+l[d]*c[d],s[d]=p}return this.conjugate(s,l,r),this.transform(s,l,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),f(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=l(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){r("number"===typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(i-=a,i=Math.max(0,i),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-o|f>>>o,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var a,s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var l=(0|e.words[i])*t;a-=67108863&l,s=(a>>26)-(l/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)a=(0|this.words[i+n])+s,s=a>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)a=-(0|this.words[i])+s,s=a>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==t){s=new o(null),s.length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(l)):(n.isub(t),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,f=1;0===(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a)):(n.isub(t),a.isub(i))}var h;return h=0===t.cmpn(1)?i:a,h.cmpn(0)<0&&h.iadd(e),h},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new y(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},d.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},d.prototype.split=function(e,t){e.iushrn(this.n,0,t)},d.prototype.imulK=function(e){return e.imul(this.k)},i(p,d),p.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(m,d),i(v,d),i(g,d),g.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(E[e])return E[e];var t;if("k256"===e)t=new p;else if("p224"===e)t=new m;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new g}return E[e]=t,t},y.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},y.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},y.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},y.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},y.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},y.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},y.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},y.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},y.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},y.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},y.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},y.prototype.isqr=function(e){return this.imul(e,e.clone())},y.prototype.sqr=function(e){return this.mul(e,e)},y.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(g),f=g.redSqr(),d=d.redMul(f),p=v}return h},y.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},y.prototype.pow=function(e,t){if(t.isZero())return new o(1);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var f=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}l=26}return i},y.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},y.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new b(e)},i(b,y),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},b.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof e||e,this)}).call(t,n(61)(e))},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){t.glMatrix=n(75),t.mat2=n(987),t.mat2d=n(988),t.mat3=n(463),t.mat4=n(989),t.quat=n(990),t.vec2=n(991),t.vec3=n(464),t.vec4=n(465)},function(e,t,n){"use strict";var r="precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n";e.exports={lineVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n",lineFrag:r,textVert:"#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n",textFrag:r,gridVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n",gridFrag:r,boxVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n",tickVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"}},function(e,t,n){"use strict";function r(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(999),s=n(998),l=n(468),u=n(1001),c=n(1e3),f=n(199),h=r.prototype;h.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,_,w);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,x=[],_=[],w=[];for(b=0;b<r.length;++b){var M=r[b];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=w.length,_.push(M.name+"["+S+"]"),"number"===typeof M.location?w.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?w.push(0|M.location[S]):w.push(-1);x.push({name:M.name,type:M.type,locations:E})}else x.push({name:M.name,type:M.type,locations:[w.length]}),_.push(M.name),"number"===typeof M.location?w.push(0|M.location):w.push(-1)}var T=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(T)>=0;)T+=1;w[b]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,x,w),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1134),o=n(1135),a=n(1136),s=n(1137),l=n(1138);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(294);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(1131);e.exports=r},function(e,t,n){var r=n(97),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(155),o=1/0;e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(1081),o=n(1095),a=n(152);e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}},function(e,t,n){"use strict";function r(e,t,n){this.column=e,this.row=t,this.zoom=n}e.exports=r,r.prototype={clone:function(){return new r(this.column,this.row,this.zoom)},zoomTo:function(e){return this.clone()._zoomTo(e)},sub:function(e){return this.clone()._sub(e)},_zoomTo:function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},_sub:function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this}}},function(e,t,n){"use strict";function r(e,t){e&&(t?this.extend(e).extend(t):4===e.length?this.extend([e[0],e[1]]).extend([e[2],e[3]]):this.extend(e[0]).extend(e[1]))}e.exports=r;var i=n(78);r.prototype={extend:function(e){var t,n,o=this._sw,a=this._ne;if(e instanceof i)t=e,n=e;else{if(!(e instanceof r))return e?this.extend(i.convert(e)||r.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return o||a?(o.lng=Math.min(t.lng,o.lng),o.lat=Math.min(t.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new i(t.lng,t.lat),this._ne=new i(n.lng,n.lat)),this},getCenter:function(){return new i((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new i(this.getWest(),this.getNorth())},getSouthEast:function(){return new i(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},r.convert=function(e){return!e||e instanceof r?e:new r(e)}},function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;o.enable(o.DEPTH_TEST),e.depthMask(!0),o.depthFunc(o.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var l=r[s];e.setDepthSublayer(l.z-a),i(e,t,n,l)}o.depthFunc(o.LEQUAL)}}function i(e,t,n,r){var i=e.gl;i.disable(i.STENCIL_TEST);var u=t.getTile(r),c=e.transform.calculatePosMatrix(r,t.maxzoom),f=e.useProgram("raster");i.uniformMatrix4fv(f.u_matrix,!1,c),i.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),i.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),i.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),i.uniform1f(f.u_contrast_factor,a(n.paint["raster-contrast"])),i.uniform3fv(f.u_spin_weights,o(n.paint["raster-hue-rotate"]));var h,d,p=u.source&&u.source.findLoadedParent(r,0,{}),m=l(u,p,n,e.transform);i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,u.texture),i.activeTexture(i.TEXTURE1),p?(i.bindTexture(i.TEXTURE_2D,p.texture),h=Math.pow(2,p.coord.z-u.coord.z),d=[u.coord.x*h%1,u.coord.y*h%1]):(i.bindTexture(i.TEXTURE_2D,u.texture),m[1]=0),i.uniform2fv(f.u_tl_parent,d||[0,0]),i.uniform1f(f.u_scale_parent,h||1),i.uniform1f(f.u_buffer_scale,1),i.uniform1f(f.u_opacity0,m[0]),i.uniform1f(f.u_opacity1,m[1]),i.uniform1i(f.u_image0,0),i.uniform1i(f.u_image1,1);var v=u.boundsBuffer||e.rasterBoundsBuffer;(u.boundsVAO||e.rasterBoundsVAO).bind(i,f,v),i.drawArrays(i.TRIANGLE_STRIP,0,v.length)}function o(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}function a(e){return e>0?1/(1-e):1+e}function s(e){return e>0?1-1/(1.001-e):-e}function l(e,t,n,r){var i=[1,0],o=n.paint["raster-fade-duration"];if(e.source&&o>0){var a=(new Date).getTime(),s=(a-e.timeAdded)/o,l=t?(a-t.timeAdded)/o:-1,c=r.coveringZoomLevel(e.source),f=!!t&&Math.abs(t.coord.z-c)>Math.abs(e.coord.z-c);!t||f?(i[0]=u.clamp(s,0,1),i[1]=1-i[0]):(i[0]=u.clamp(1-l,0,1),i[1]=1-i[0])}var h=n.paint["raster-opacity"];return i[0]*=h,i[1]*=h,i}var u=n(1),c=n(98);e.exports=r,r.RasterBoundsArray=new c({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]})},function(e,t,n){"use strict";function r(){}var i=n(1),o=n(46);e.exports=r,r.prototype={addTo:function(e){this._map=e;var t=this._container=this.onAdd(e);if(this.options&&this.options.position){var n=this.options.position,r=e._controlCorners[n];t.className+=" mapboxgl-ctrl",-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}},i.extend(r.prototype,o)},function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}e.exports=r,r.number=r,r.vec2=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n)]},r.color=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n),r(e[2],t[2],n),r(e[3],t[3],n)]},r.array=function(e,t,n){return e.map(function(e,i){return r(e,t[i],n)})}},function(e,t,n){"use strict";function r(e,t){function n(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==v.alt,v.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==v.shift,v.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==v.control,v.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==v.meta,v.meta=!!e.metaKey),t}function r(e,r){var o=i.x(r),a=i.y(r);"buttons"in r&&(e=0|r.buttons),(e!==d||o!==p||a!==m||n(r))&&(d=0|e,p=o||0,m=a||0,t&&t(d,p,m,v))}function o(e){r(0,e)}function a(){(d||p||m||v.shift||v.alt||v.meta||v.control)&&(p=m=0,d=0,v.shift=v.alt=v.control=v.meta=!1,t&&t(0,0,0,v))}function s(e){n(e)&&t&&t(d,p,m,v)}function l(e){0===i.buttons(e)?r(0,e):r(d,e)}function u(e){r(d|i.buttons(e),e)}function c(e){r(d&~i.buttons(e),e)}function f(){g||(g=!0,e.addEventListener("mousemove",l),e.addEventListener("mousedown",u),e.addEventListener("mouseup",c),e.addEventListener("mouseleave",o),e.addEventListener("mouseenter",o),e.addEventListener("mouseout",o),e.addEventListener("mouseover",o),e.addEventListener("blur",a),e.addEventListener("keyup",s),e.addEventListener("keydown",s),e.addEventListener("keypress",s),e!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}function h(){g&&(g=!1,e.removeEventListener("mousemove",l),e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",c),e.removeEventListener("mouseleave",o),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseout",o),e.removeEventListener("mouseover",o),e.removeEventListener("blur",a),e.removeEventListener("keyup",s),e.removeEventListener("keydown",s),e.removeEventListener("keypress",s),e!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))}t||(t=e,e=window);var d=0,p=0,m=0,v={shift:!1,alt:!1,control:!1,meta:!1},g=!1;f();var y={element:e};return Object.defineProperties(y,{enabled:{get:function(){return g},set:function(e){e?f():h()},enumerable:!0},buttons:{get:function(){return d},enumerable:!0},x:{get:function(){return p},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),y}e.exports=r;var i=n(1261)},function(e,t,n){"use strict";function r(e){if(!e)return s;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){return a({args:e.args,pre:r(e.pre),body:r(e.body),post:r(e.proc),funcName:e.funcName})}function o(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(i(e))}var a=n(147),s={body:"",args:[],thisVars:[],localVars:[]},l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in l){var n=l[e];t[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:e}),t[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:e+"s"}),t[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var n=u[e];t[e]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:e}),t[e+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in c){var n=c[e];t[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:e}),t[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:e+"s"}),t[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<f.length;++e){var n=f[e];t[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),t[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var e=0;e<h.length;++e){var n=h[e];t[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),t[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),t[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),t[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var n=d[e];t[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),t[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),t[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),t[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),t.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(e,t,n){"use strict";t.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},t.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},t.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},t.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},function(e,t,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(25),a=n(16),s=n(0),l=n(12),u=n(3),c=n(43),f=n(310);(e.exports={}).draw=function(e,t,n){function h(e){s.syncOrAsync([d,p],e)}function d(t){return t.attr("transform",_?"rotate("+[_.rotate,x.x,x.y]+") translate(0, "+_.offset+")":null),t.style({"font-family":k,"font-size":r.round(E,2)+"px",fill:u.rgb(S),opacity:T*u.opacity(S),"font-weight":a.fontWeight}).attr(x).call(c.convertToTspans).attr(x),t.selectAll("tspan.line").attr(x),a.previousPromises(e)}function p(e){var t=r.select(e.node().parentNode);if(b&&b.selection&&b.side&&C){t.attr("transform",null);var n=0,o={left:"right",right:"left",top:"bottom",bottom:"top"}[b.side],a=-1!==["left","top"].indexOf(b.side)?-1:1,u=i(b.pad)?b.pad:2,c=l.bBox(t.node()),f={left:0,top:0,right:M.width,bottom:M.height},h=b.maxShift||(f[b.side]-c[b.side])*("left"===b.side||"top"===b.side?-1:1);if(h<0)n=h;else{var d=b.offsetLeft||0,p=b.offsetTop||0;c.left-=d,c.right-=d,c.top-=p,c.bottom-=p,b.selection.each(function(){var e=l.bBox(this);s.bBoxIntersect(c,e,u)&&(n=Math.max(n,a*(e[b.side]-c[o])+u))}),n=Math.min(h,n)}if(n>0||h<0){var m={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[b.side];t.attr("transform","translate("+m+")")}}}var m=n.propContainer,v=n.propName,g=n.traceIndex,y=n.dfltName,b=n.avoid||{},x=n.attributes,_=n.transform,w=n.containerGroup,M=e._fullLayout,k=m.titlefont.family,E=m.titlefont.size,S=m.titlefont.color,T=1,A=!1,C=m.title.trim();""===C&&(T=0),C.match(/Click to enter .+ title/)&&(T=.2,A=!0),w||(w=M._infolayer.selectAll(".g-"+t).data([0]),w.enter().append("g").classed("g-"+t,!0));var D=w.selectAll("text").data([0]);D.enter().append("text"),D.text(C).attr("class",t),D.attr({"data-unformatted":C}).call(h);var O="Click to enter "+y+" title";e._context.editable?(C?D.on(".opacity",null):function(){T=0,A=!0,C=O,D.attr({"data-unformatted":C}).text(C).on("mouseover.opacity",function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)})}(),D.call(c.makeEditable).on("edit",function(t){void 0!==g?o.restyle(e,v,t,g):o.relayout(e,v,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(h)}).on("input",function(e){this.text(e||" ").attr(x).selectAll("tspan.line").attr(x)})):C&&!C.match(/Click to enter .+ title/)||D.remove(),D.classed("js-placeholder",A)}},function(e,t,n){"use strict";function r(e){for(var t=0;(t=e.indexOf("<sup>",t))>=0;){var n=e.indexOf("</sup>",t);if(n<t)break;e=e.slice(0,t)+l(e.slice(t+5,n))+e.slice(n+6)}return e}function i(e){return e.replace(/\<br\>/g,"\n")}function o(e){return e.replace(/\<.*\>/g,"")}function a(e){for(var t=u.entityToUnicode,n=0;(n=e.indexOf("&",n))>=0;){var r=e.indexOf(";",n);if(r<n)n+=1;else{var i=t[e.slice(n+1,r)];e=i?e.slice(0,n)+i+e.slice(r+1):e.slice(0,n)+e.slice(r+1)}}return e}function s(e){return""+a(o(r(i(e))))}var l=n(1687),u=n(554);e.exports=s},function(e,t,n){"use strict";function r(e){var t,n;"area"===e?(t={attributes:b},n={}):(t=d.modules[e]._module,n=t.basePlotModule);var r={};r.type=null,w(r,m),w(r,t.attributes),n.attributes&&w(r,n.attributes),Object.keys(d.componentsRegistry).forEach(function(t){var n=d.componentsRegistry[t];n.schema&&n.schema.traces&&n.schema.traces[e]&&Object.keys(n.schema.traces[e]).forEach(function(t){h(r,n.schema.traces[e][t],t)})}),r.type=e;var i={meta:t.meta||{},attributes:s(r)};if(t.layoutAttributes){var o={};w(o,t.layoutAttributes),i.layoutAttributes=s(o)}return i}function i(){var e={};return w(e,v),Object.keys(d.subplotsRegistry).forEach(function(t){var n=d.subplotsRegistry[t];if(n.layoutAttributes)if("cartesian"===n.name)f(e,n,"xaxis"),f(e,n,"yaxis");else{var r="subplot"===n.attr?n.name:n.attr;f(e,n,r)}}),e=c(e),Object.keys(d.componentsRegistry).forEach(function(t){var n=d.componentsRegistry[t];n.layoutAttributes&&(n.schema&&n.schema.layout?Object.keys(n.schema.layout).forEach(function(t){h(e,n.schema.layout[t],t)}):h(e,n.layoutAttributes,n.name))}),{layoutAttributes:s(e)}}function o(e){var t=d.transformsRegistry[e],n=w({},t.attributes);return Object.keys(d.componentsRegistry).forEach(function(t){var r=d.componentsRegistry[t];r.schema&&r.schema.transforms&&r.schema.transforms[e]&&Object.keys(r.schema.transforms[e]).forEach(function(t){h(n,r.schema.transforms[e][t],t)})}),{attributes:s(n)}}function a(){var e={frames:p.extendDeep({},g)};return s(e),e.frames}function s(e){return l(e),u(e),e}function l(e){function n(e){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",e,"."].join(" ")}}function r(e,r,i){t.isValObject(e)?"data_array"===e.valType?(e.role="data",i[r+"src"]=n(r)):!0===e.arrayOk&&(i[r+"src"]=n(r)):p.isPlainObject(e)&&(e.role="object")}t.crawl(e,r)}function u(e){function n(e,t,n){if(e){var r=e[k];r&&(delete e[k],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}t.crawl(e,n)}function c(e){return _(e,{radialaxis:x.radialaxis,angularaxis:x.angularaxis}),_(e,x.layout),e}function f(e,t,n){var r=p.nestedProperty(e,n),i=w({},t.layoutAttributes);i[M]=!0,r.set(i)}function h(e,t,n){var r=p.nestedProperty(e,n);r.set(w(r.get()||{},t))}var d=n(6),p=n(0),m=n(69),v=n(170),g=n(575),y=n(319),b=n(1415),x=n(1416),_=p.extendFlat,w=p.extendDeep,M="_isSubplotObj",k="_isLinkedToArray",E=[M,k,"_arrayAttrRegexps","_deprecated"];t.IS_SUBPLOT_OBJ=M,t.IS_LINKED_TO_ARRAY=k,t.DEPRECATED="_deprecated",t.UNDERSCORE_ATTRS=E,t.get=function(){var e={};d.allTypes.concat("area").forEach(function(t){e[t]=r(t)});var t={};return Object.keys(d.transformsRegistry).forEach(function(e){t[e]=o(e)}),{defs:{valObjects:p.valObjects,metaKeys:E.concat(["description","role"])},traces:e,layout:i(),transforms:t,frames:a(),animation:s(y)}},t.crawl=function(e,n,r){var i=r||0;Object.keys(e).forEach(function(r){var o=e[r];-1===E.indexOf(r)&&(n(o,r,e,i),t.isValObject(o)||p.isPlainObject(o)&&t.crawl(o,n,i+1))})},t.isValObject=function(e){return e&&void 0!==e.valType},t.findArrayAttributes=function(e){function n(t,n,a,s){if(o=o.slice(0,s).concat([n]),t&&("data_array"===t.valType||!0===t.arrayOk)){var l=r(o),u=p.nestedProperty(e,l).get();Array.isArray(u)&&i.push(l)}}function r(e){return e.join(".")}var i=[],o=[];if(t.crawl(e._module.attributes,n),e.transforms)for(var a=e.transforms,s=0;s<a.length;s++){var l=a[s];o=["transforms["+s+"]"],t.crawl(l._module.attributes,n,1)}return e._fullInput&&(t.crawl(e._fullInput._module.attributes,n),i=p.filterUnique(i)),i}},function(e,t,n){"use strict";function r(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(a(e[t]))return!0;return!1}function i(e,t){for(var n,r=0,i=0,o=Math.max(1,(e.length-1)/1e3),l=0;l<e.length;l+=o)n=e[Math.round(l)],s.isDateTime(n,t)&&(r+=1),a(n)&&(i+=1);return r>2*i}function o(e){for(var t,n=Math.max(1,(e.length-1)/1e3),r=0,i=0,o=0;o<e.length;o+=n)t=e[Math.round(o)],s.cleanNumber(t)!==l?r++:"string"===typeof t&&""!==t&&"None"!==t&&i++;return i>2*r}var a=n(4),s=n(0),l=n(27).BADNUM;e.exports=function(e,t){return i(e,t)?"date":o(e)?"category":r(e)?"linear":"-"}},function(e,t,n){"use strict";function r(e){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(t){return void 0!==e[t]}),r=function(t){return e[t]===e[n[0]]};if(n.every(r)||1===n.length)return e[n[0]]}var i=n(0);e.exports=function(e,t,n,o,a){var s=r(e);if(n("tickprefix")&&n("showtickprefix",s),n("ticksuffix")&&n("showticksuffix",s),n("showticklabels")){var l=a.font||{},u=t.color===e.color?t.color:l.color;i.coerceFont(n,"tickfont",{family:l.family,size:l.size,color:u}),n("tickangle"),"category"!==o&&(n("tickformat")||"date"===o||(n("showexponent",s),n("exponentformat"),n("separatethousands")))}"category"===o||a.noHover||n("hoverformat")}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(27).ONEDAY;e.exports=function(e,t,n,a){var s="auto";"array"!==e.tickmode||"log"!==a&&"date"!==a||(e.tickmode="auto"),Array.isArray(e.tickvals)?s="array":e.dtick&&(s="linear");var l=n("tickmode",s);if("auto"===l)n("nticks");else if("linear"===l){var u="date"===a?o:1,c=n("dtick",u);if(r(c))t.dtick=c>0?Number(c):u;else if("string"!==typeof c)t.dtick=u;else{var f=c.charAt(0),h=c.substr(1);h=r(h)?Number(h):0,(h<=0||!("date"===a&&"M"===f&&h===Math.round(h)||"log"===a&&"L"===f||"log"===a&&"D"===f&&(1===h||2===h)))&&(t.dtick=u)}var d="date"===a?i.dateTick0(t.calendar):0,p=n("tick0",d);"date"===a?t.tick0=i.cleanDate(p,d):r(p)&&"D1"!==c&&"D2"!==c?t.tick0=Number(p):t.tick0=d}else{var m=n("tickvals");void 0===m?t.tickmode="auto":n("ticktext")}}},function(e,t,n){"use strict";var r=n(0),i=n(3).defaultLine,o=n(45),a=n(34).textposition;e.exports={_arrayAttrRegexps:[/^mapbox([2-9]|[1-9][0-9]+)?\.layers/],domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this subplot","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this subplot","(in plot fraction)."].join(" ")}},accesstoken:{valType:"string",noBlank:!0,strict:!0,role:"info",description:["Sets the mapbox access token to be used for this mapbox map.","Alternatively, the mapbox access token can be set in the","configuration options under `mapboxAccessToken`."].join(" ")},style:{valType:"any",values:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],dflt:"basic",role:"style",description:["Sets the Mapbox map style.","Either input one of the default Mapbox style names or the URL to a custom style","or a valid Mapbox style JSON."].join(" ")},center:{lon:{valType:"number",dflt:0,role:"info",description:"Sets the longitude of the center of the map (in degrees East)."},lat:{valType:"number",dflt:0,role:"info",description:"Sets the latitude of the center of the map (in degrees North)."}},zoom:{valType:"number",dflt:1,role:"info",description:"Sets the zoom level of the map."},bearing:{valType:"number",dflt:0,role:"info",description:"Sets the bearing angle of the map (in degrees counter-clockwise from North)."},pitch:{valType:"number",dflt:0,role:"info",description:["Sets the pitch angle of the map","(in degrees, where *0* means perpendicular to the surface of the map)."].join(" ")},layers:{_isLinkedToArray:"layer",sourcetype:{valType:"enumerated",values:["geojson","vector"],dflt:"geojson",role:"info",description:["Sets the source type for this layer.","Support for *raster*, *image* and *video* source types is coming soon."].join(" ")},source:{valType:"any",role:"info",description:["Sets the source data for this layer.","Source can be either a URL,","a geojson object (with `sourcetype` set to *geojson*)","or an array of tile URLS (with `sourcetype` set to *vector*)."].join(" ")},sourcelayer:{valType:"string",dflt:"",role:"info",description:["Specifies the layer to use from a vector tile source.","Required for *vector* source type that supports multiple layers."].join(" ")},type:{valType:"enumerated",values:["circle","line","fill","symbol"],dflt:"circle",role:"info",description:["Sets the layer type.","Support for *raster*, *background* types is coming soon.","Note that *line* and *fill* are not compatible with Point","GeoJSON geometries."].join(" ")},below:{valType:"string",dflt:"",role:"info",description:["Determines if the layer will be inserted","before the layer with the specified ID.","If omitted or set to '',","the layer will be inserted above every existing layer."].join(" ")},color:{valType:"color",dflt:i,role:"style",description:["Sets the primary layer color.","If `type` is *circle*, color corresponds to the circle color","If `type` is *line*, color corresponds to the line color","If `type` is *fill*, color corresponds to the fill color","If `type` is *symbol*, color corresponds to the icon color"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",description:"Sets the opacity of the layer."},circle:{radius:{valType:"number",dflt:15,role:"style",description:["Sets the circle radius.","Has an effect only when `type` is set to *circle*."].join(" ")}},line:{width:{valType:"number",dflt:2,role:"style",description:["Sets the line width.","Has an effect only when `type` is set to *line*."].join(" ")}},fill:{outlinecolor:{valType:"color",dflt:i,role:"style",description:["Sets the fill outline color.","Has an effect only when `type` is set to *fill*."].join(" ")}},symbol:{icon:{valType:"string",dflt:"marker",role:"style",description:["Sets the symbol icon image.","Full list: https://www.mapbox.com/maki-icons/"].join(" ")},iconsize:{valType:"number",dflt:10,role:"style",description:["Sets the symbol icon size.","Has an effect only when `type` is set to *symbol*."].join(" ")},text:{valType:"string",dflt:"",role:"info",description:["Sets the symbol text."].join(" ")},textfont:r.extendDeep({},o,{description:["Sets the icon text font.","Has an effect only when `type` is set to *symbol*."].join(" "),family:{dflt:"Open Sans Regular, Arial Unicode MS Regular"}}),textposition:r.extendFlat({},a,{arrayOk:!1})}}}},function(e,t,n){"use strict";var r=n(0),i=n(16);e.exports=function(e,t,n,o){function a(e,t){return r.coerce(s,l,c,e,t)}for(var s,l,u=o.type,c=o.attributes,f=o.handleDefaults,h=o.partition||"x",d=i.findSubplotIds(n,u),p=d.length,m=0;m<p;m++){var v=d[m];s=e[v]?e[v]:e[v]={},t[v]=l={},a("domain."+h,[m/p,(m+1)/p]),a("domain."+{x:"y",y:"x"}[h]),o.id=v,f(s,l,a,o)}}},function(e,t,n){"use strict";var r=n(34),i=n(89),o=n(164),a=n(32),s=n(45),l=n(8).extendFlat,u=n(8).extendDeep,c=u({},s);c.family.arrayOk=!0,c.size.arrayOk=!0,c.color.arrayOk=!0;var f=r.marker,h=f.line,d=l({},h.width,{dflt:0}),p=l({},{width:d},i("marker.line")),m=l({},{line:p},i("marker"),{showscale:f.showscale,colorbar:a});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,hovertext:r.hovertext,textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed).","*auto* positions `text` inside or outside","so that `text` size is maximized."].join(" ")},textfont:l({},c,{description:"Sets the font used for `text`."}),insidetextfont:l({},c,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:l({},c,{description:"Sets the font used for `text` lying outside the bar."}),orientation:{valType:"enumerated",role:"info",values:["v","h"],description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",description:["Sets the bar width (in position axis units)."].join(" ")},marker:m,r:r.r,t:r.t,error_y:o,error_x:o,_deprecated:{bardir:{valType:"enumerated",role:"info",values:["v","h"],description:"Renamed to `orientation`."}}}},function(e,t,n){"use strict";var r=n(127),i=n(34),o=n(56),a=n(32),s=n(99).dash,l=n(8).extendFlat,u=i.line;e.exports=l({},{z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,connectgaps:r.connectgaps,autocontour:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the contour level attributes are","picked by an algorithm.","If *true*, the number of contour levels can be set in `ncontours`.","If *false*, set the contour level attributes in `contours`."].join(" ")},ncontours:{valType:"integer",dflt:15,min:1,role:"style",description:["Sets the maximum number of contour levels. The actual number","of contours will be chosen automatically to be less than or","equal to the value of `ncontours`.","Has an effect only if `autocontour` is *true* or if","`contours.size` is missing."].join(" ")},contours:{start:{valType:"number",dflt:null,role:"style",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,role:"style",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,role:"style",description:["Sets the step between each contour level.","Must be positive."].join(" ")},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",role:"style",description:["Determines the coloring method showing the contour values.","If *fill*, coloring is done evenly between each contour level","If *heatmap*, a heatmap gradient coloring is applied","between each contour level.","If *lines*, coloring is done on the contour lines.","If *none*, no coloring is applied on this trace."].join(" ")},showlines:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the contour lines are drawn.","Has only an effect if `contours.coloring` is set to *fill*."].join(" ")}},line:{color:l({},u.color,{description:["Sets the color of the contour level.","Has no if `contours.coloring` is set to *lines*."].join(" ")}),width:u.width,dash:s,smoothing:l({},u.smoothing,{description:["Sets the amount of smoothing for the contour lines,","where *0* corresponds to no smoothing."].join(" ")})}},o,{autocolorscale:l({},o.autocolorscale,{dflt:!1})},{colorbar:a})},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(5),a=n(1493),s=n(88),l=n(172),u=n(340),c=n(233),f=n(339),h=n(611),d=n(610),p=n(612);e.exports=function(e,t){function n(e){A=t._input.zsmooth=t.zsmooth=!1,i.notifier("cannot fast-zsmooth: "+e)}var m,v,g,y,b,x,_,w,M=o.getFromId(e,t.xaxis||"x"),k=o.getFromId(e,t.yaxis||"y"),E=r.traceIs(t,"contour"),S=r.traceIs(t,"histogram"),T=r.traceIs(t,"gl2d"),A=E?"best":t.zsmooth;if(M._minDtick=0,k._minDtick=0,S){var C=a(e,t);m=C.x,v=C.x0,g=C.dx,y=C.y,b=C.y0,x=C.dy,_=C.z}else l(t)&&u(t,M,k,"x","y",["z"]),m=t.x?M.makeCalcdata(t,"x"):[],y=t.y?k.makeCalcdata(t,"y"):[],v=t.x0||0,g=t.dx||1,b=t.y0||0,x=t.dy||1,_=f(t.z,t.transpose),(E||t.connectgaps)&&(t._emptypoints=d(_),t._interpz=h(_,t._emptypoints,t._interpz));if("fast"===A)if("log"===M.type||"log"===k.type)n("log axis found");else if(!S){if(m.length){var D=(m[m.length-1]-m[0])/(m.length-1),O=Math.abs(D/100);for(w=0;w<m.length-1;w++)if(Math.abs(m[w+1]-m[w]-D)>O){n("x scale is not linear");break}}if(y.length&&"fast"===A){var P=(y[y.length-1]-y[0])/(y.length-1),L=Math.abs(P/100);for(w=0;w<y.length-1;w++)if(Math.abs(y[w+1]-y[w]-P)>L){n("y scale is not linear");break}}}var I=c(_),N="scaled"===t.xtype?"":m,R=p(t,N,v,g,I,M),j="scaled"===t.ytype?"":y,z=p(t,j,b,x,_.length,k);T||(o.expand(M,R),o.expand(k,z));var F={x:R,y:z,z:_,text:t.text};if(s(t,_,"","z"),E&&t.contours&&"heatmap"===t.contours.coloring){var B={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};F.xfill=p(B,N,v,g,I,M),F.yfill=p(B,j,b,x,_.length,k)}return[F]}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0,n=0;n<e.length;n++)t=Math.max(t,e[n].length);return t}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){r.select(e).selectAll(".hm image").style("opacity",function(e){return e.trace.opacity})}},function(e,t,n){"use strict";var r=n(0);t.pushDummyTransformOpts=function(e,t){var n={type:t.type,_ephemeral:!0};Array.isArray(e.transforms)?e.transforms.push(n):e.transforms=[n]},t.clearEphemeralTransformOpts=function(e){var t=e.transforms;if(Array.isArray(t)){for(var n=0;n<t.length;n++)t[n]._ephemeral&&t.splice(n,1);0===t.length&&delete e.transforms}},t.copyOHLC=function(e,t){e.open&&(t.open=e.open),e.high&&(t.high=e.high),e.low&&(t.low=e.low),e.close&&(t.close=e.close)},t.makeTransform=function(e,t,n){var i=r.extendFlat([],e.transforms);return i[t.transformIndex]={type:e.type,direction:n,open:e.open,high:e.high,low:e.low,close:e.close},i},t.getFilterFn=function(e){switch(e){case"increasing":return function(e,t){return e<=t};case"decreasing":return function(e,t){return e>t}}},t.addRangeSlider=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(!0===e[r].visible){n=!0;break}n&&(t.xaxis||(t.xaxis={}),t.xaxis.rangeslider||(t.xaxis.rangeslider={}))}},function(e,t,n){"use strict";e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,scatter:!1,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,capturewidth:10,fillcolor:"magenta",fillopacity:1,strokecolor:"white",strokeopacity:1,strokewidth:1,handleheight:16,handleopacity:1,handleoverlap:0}}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,o="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=o(e/2);return r(t)&&t>0?Math.max(t,i):0}}},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,f[e[m]]={}),f[e[m]]}var i,o=n(11),a=n(360),s=n(1606),l=n(649),u=n(1638),c=n(371),f={},h=!1,d=0,p={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=a.registrationNameDependencies[e],s=0;s<o.length;s++){var l=o[s];i.hasOwnProperty(l)&&i[l]||("topWheel"===l?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===l?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):p.hasOwnProperty(l)&&v.ReactEventListener.trapBubbledEvent(l,p[l],n),i[l]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=v.supportsEventPageXY()),!i&&!h){var e=l.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=v},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(182),o=n(649),a=n(369),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(18),i=(n(10),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,l){this.isInTransaction()&&r("27");var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=r}return s!==a?i+t.substring(s,a):i}function i(e){return"boolean"===typeof e||"number"===typeof e?""+e:r(e)}var o=/["'&<>]/;e.exports=i},function(e,t,n){"use strict";var r,i=n(42),o=n(359),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(367),u=l(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t,n){"use strict";function r(e,t,n){var r=e.slice(0);if(n>=r.length)for(var i=n-r.length;1+i--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce(function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t},{})}function o(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function a(e,t,n){return n<e?e:n>t?t:n}function s(e){return"px"===e.substr(-2)?parseFloat(e):0}function l(e){var t=window.getComputedStyle(e);return{top:s(t.marginTop),right:s(t.marginRight),bottom:s(t.marginBottom),left:s(t.marginLeft)}}function u(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=r,t.omit=i,t.closest=o,t.limit=a,t.getElementMargin=l,t.provideDisplayName=u;t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,t,n){"use strict";function r(e,t){var n=e.length;if(1===n){var r=i(e[0],t);return r[0]?r:[r[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;i(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){i(e[c],t,l);var f=s[1];o(f,l[0],s),s[0]&&(a[u++]=s[0]);var h=l[1],d=s[1],p=h+d,m=p-h,v=d-m;s[1]=p,v&&(a[u++]=v)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}var i=n(135),o=n(672);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,i=e[a],t(i,o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}function i(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}function o(e,t,n){return 0===e.length?e:t?(n||e.sort(t),r(e,t)):(n||e.sort(),i(e))}e.exports=o},function(e,t,n){"use strict";var r=n(442),i=n(50);e.exports=function(e){var t=["#337AB7","#8B698E","#A84343","#CCB657","#1FAF84"];return function(t){var n=[],o=e/t.length;return i.each(t,function(e){var t=r.bezier(["lightyellow",e]).scale().colors(o+1);t.reverse();for(var i=0;i<o;i++)n.push(t[i])}),n}(t)},e.exports.rubric=function(e){var t=["#E59062","#FFD299","#F3F9C5","#82CCB2","#1FAF84"];return 4===e&&t.splice(2,1),3===e&&(t=[t[0],t[2],t[4]]),2===e&&(t=[t[0],t[4]]),t}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"===typeof e}function i(e){return"number"===typeof e}function o(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(35),a=n(71),s=n(109),l=n(19),u=o.createClass({displayName:"FixedDataTableCellDefault",propTypes:{height:l.number,width:l.number,columnKey:l.oneOfType([l.string,l.number])},render:function(){var e=this.props,t=e.height,n=e.width,l=e.style,u=e.className,c=e.children,f=(e.columnKey,e.rowIndex,r(e,["height","width","style","className","children","columnKey","rowIndex"])),h=i({height:t,width:n},l);return o.createElement("div",i({},f,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),u),style:h}),o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},o.createElement("div",{className:a("public/fixedDataTableCell/cellContent")},c))))}});e.exports=u},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}var i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){return e<t?t:e>n?n:e}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(873),a=r(o),s=n(879),l=r(s),u=n(140);t.createLocation=function(e,t,n,r){var o=void 0;return"string"===typeof e?(o=(0,u.parsePath)(e),o.state=t):(o=i({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t)),o.key=n,r&&(o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,l.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(95),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=o},function(e,t,n){"use strict";function r(e){e.preventDefault(),e.stopPropagation()}function i(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function o(e){var t=i(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function a(e){var t=h({},e.modifiers);return e.selectedDays&&(t[e.classNames.selected]=e.selectedDays),e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays),t}function s(e){var t=e.firstDayOfWeek,n=e.locale,r=void 0===n?"en":n,i=e.localeUtils,o=void 0===i?{}:i;return isNaN(t)?o.getFirstDayOfWeek?o.getFirstDayOfWeek(r):0:t}function l(e){return!!(e&&e.from&&e.to)}function u(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,p.getFirstDayOfWeek)(),n=arguments[2],r=o(e),i=[],a=[],s=[],l=1;l<=r;l+=1)i.push(new Date(e.getFullYear(),e.getMonth(),l,12));i.forEach(function(e){a.length>0&&e.getDay()===t&&(s.push(a),a=[]),a.push(e),i.indexOf(e)===i.length-1&&s.push(a)});for(var u=s[0],c=7-u.length;c>0;c-=1){var f=(0,d.clone)(u[0]);f.setDate(u[0].getDate()-1),u.unshift(f)}for(var h=s[s.length-1],m=h.length;m<7;m+=1){var v=(0,d.clone)(h[h.length-1]);v.setDate(h[h.length-1].getDate()+1),h.push(v)}if(n&&s.length<6)for(var g=void 0,y=s.length;y<6;y+=1){g=s[s.length-1];for(var b=g[g.length-1],x=[],_=0;_<7;_+=1){var w=(0,d.clone)(b);w.setDate(b.getDate()+_+1),x.push(w)}s.push(x)}return s}function f(e){var t=(0,d.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.cancelEvent=r,t.getFirstDayOfMonth=i,t.getDaysInMonth=o,t.getModifiersFromProps=a,t.getFirstDayOfWeekFromProps=s,t.isRangeOfDates=l,t.getMonthsDiff=u,t.getWeekArray=c,t.startOfMonth=f;var d=n(141),p=n(255)},function(e,t,n){"use strict";function r(e){return e.toDateString()}function i(e){return f[e.getMonth()]+" "+e.getFullYear()}function o(e){return c[e]}function a(e){return u[e]}function s(){return 0}function l(){return f}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=r,t.formatMonthTitle=i,t.formatWeekdayShort=o,t.formatWeekdayLong=a,t.getFirstDayOfWeek=s,t.getMonths=l;var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Su","Mo","Tu","We","Th","Fr","Sa"],f=["January","February","March","April","May","June","July","August","September","October","November","December"];t.default={formatDay:r,formatMonthTitle:i,formatWeekdayShort:o,formatWeekdayLong:a,getFirstDayOfWeek:s,getMonths:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",interactionDisabled:"DayPicker--interactionDisabled",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(m(e,i,r),i===n)break;i=o}}function l(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(p(i,n),l(r,i,t)):l(r,e,t)}var c=n(112),f=n(783),h=(n(26),n(54),n(266)),d=n(192),p=n(424),m=h(function(e,t,n){e.insertBefore(t,n)}),v=f.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":o(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":d(e,s.content);break;case"TEXT_CONTENT":p(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};e.exports=g},function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1||a("96",e),!u.plugins[n]){t.extractEvents||a("97",e),u.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)||a("98",o,e)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]&&a("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(17),s=(n(9),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(l[n]&&a("102",n),l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=u.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&p("103"),e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function f(e){return!!e._dispatchListeners}var h,d,p=n(17),m=n(264),v=(n(9),n(14),{injectComponentTree:function(e){h=e},injectTreeTraversal:function(e){d=e}}),g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:f,getInstanceFromNode:function(e){return h.getInstanceFromNode(e)},getNodeFromInstance:function(e){return h.getNodeFromInstance(e)},isAncestor:function(e,t){return d.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return d.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return d.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return d.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return d.traverseEnterLeave(e,t,n,r,i)},injection:v};e.exports=g},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function i(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function o(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(17),l=n(812),u=n(399),c=n(115),f=u(c.isValidElement),h=(n(9),n(14),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:f.func},p={},m={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var i=d[r](t,r,e,"prop",null,l);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(17),i=(n(9),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&r("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){l.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(17),s=(n(74),n(144)),l=(n(54),n(60)),u=(n(9),n(14),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var i=o(e);if(!i)return null;i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],r(i)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=o(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(u.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){(n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!==typeof e&&a("122",t,i(e))}});e.exports=u},function(e,t,n){"use strict";var r=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=r},function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return!!r&&!!n[r]}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"===typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(41);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=r},function(e,t,n){"use strict";var r=(n(20),n(47)),i=(n(14),r);e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(95),s=n.n(a),l=n(186),u=n.n(l),c=n(7),f=n.n(c),h=n(19),d=n.n(h),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;u()(null==n||1===f.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?f.a.Children.only(e):null},t}(f.a.Component);m.propTypes={history:d.a.object.isRequired,children:d.a.node},m.contextTypes={router:d.a.object},m.childContextTypes={router:d.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(762),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],l=i()(e,s,t),u={re:l,keys:s};return a<1e4&&(r[e]=u,a++),u},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof t&&(t={path:t});var n=t,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,l=n.strict,u=void 0!==l&&l,c=s(i,{end:a,strict:u}),f=c.re,h=c.keys,d=f.exec(e);if(!d)return null;var p=d[0],m=d.slice(1),v=e===p;return a&&!v?null:{path:i,url:"/"===i&&""===p?"/":p,isExact:v,params:h.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}};t.a=l},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=n(117),o=n(276),a=(n(430),n(107));n(9),n(14);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";var r=(n(14),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});e.exports=r},function(e,t,n){"use strict";function r(e,t){if(i(e))return t?u(e,r(t)):[e[0].clone(),e[1].clone()];var n,c,f=0;if(o(e))n=e.clone();else if("string"===typeof e)n=s(e);else{if(0===e)return[a(0),a(1)];if(e===Math.floor(e))n=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),f-=256;n=a(e)}}if(i(t))n.mul(t[1]),c=t[0].clone();else if(o(t))c=t.clone();else if("string"===typeof t)c=s(t);else if(t)if(t===Math.floor(t))c=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f+=256;c=a(t)}else c=a(1);return f>0?n=n.ushln(f):f<0&&(c=c.ushln(-f)),l(n,c)}var i=n(892),o=n(434),a=n(435),s=n(895),l=n(146),u=n(433);e.exports=r},function(e,t,n){"use strict";function r(e){return e.cmp(new i(0))}var i=n(194);e.exports=r},function(e,t){function n(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}e.exports=n},function(e,t){function n(e,t){return e-t}function r(e,t){var r=e.length,o=e.length-t.length;if(o)return o;switch(r){case 0:return 0;case 1:return e[0]-t[0];case 2:return e[0]+e[1]-t[0]-t[1]||i(e[0],e[1])-i(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(o=a+e[2]-(s+t[2]))return o;var l=i(e[0],e[1]),u=i(t[0],t[1]);return i(l,e[2])-i(u,t[2])||i(l+e[2],a)-i(u+t[2],s);case 4:var c=e[0],f=e[1],h=e[2],d=e[3],p=t[0],m=t[1],v=t[2],g=t[3];return c+f+h+d-(p+m+v+g)||i(c,f,h,d)-i(p,m,v,g,p)||i(c+f,c+h,c+d,f+h,f+d,h+d)-i(p+m,p+v,p+g,m+v,m+g,v+g)||i(c+f+h,c+f+d,c+h+d,f+h+d)-i(p+m+v,p+m+g,p+v+g,m+v+g);default:for(var y=e.slice().sort(n),b=t.slice().sort(n),x=0;x<r;++x)if(o=y[x]-b[x])return o;return 0}}e.exports=r;var i=Math.min},function(e,t,n){"use strict";function r(e,t){this.point=e,this.index=t}function i(e,t){for(var n=e.point,r=t.point,i=n.length,o=0;o<i;++o){var a=r[o]-n[o];if(a)return a}return 0}function o(e,t,n){if(1===e)return n?[[-1,0]]:[];var r=t.map(function(e,t){return[e[0],t]});r.sort(function(e,t){return e[0]-t[0]});for(var i=new Array(e-1),o=1;o<e;++o){var a=r[o-1],s=r[o];i[o-1]=[a[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[e-1][1],-1]),i}function a(e,t){var n=e.length;if(0===n)return[];var a=e[0].length;if(a<1)return[];if(1===a)return o(n,e,t);for(var u=new Array(n),c=1,f=0;f<n;++f){for(var h=e[f],d=new Array(a+1),p=0,m=0;m<a;++m){var v=h[m];d[m]=v,p+=v*v}d[a]=p,u[f]=new r(d,f),c=Math.max(p,c)}l(u,i),n=u.length;for(var g=new Array(n+a+1),y=new Array(n+a+1),b=(a+1)*(a+1)*c,x=new Array(a+1),f=0;f<=a;++f)x[f]=0;x[a]=b,g[0]=x.slice(),y[0]=-1;for(var f=0;f<=a;++f){var d=x.slice();d[f]=1,g[f+1]=d,y[f+1]=-1}for(var f=0;f<n;++f){var _=u[f];g[f+a+1]=_.point,y[f+a+1]=_.index}var w=s(g,!1);if(w=t?w.filter(function(e){for(var t=0,n=0;n<=a;++n){var r=y[e[n]];if(r<0&&++t>=2)return!1;e[n]=r}return!0}):w.filter(function(e){for(var t=0;t<=a;++t){var n=y[e[t]];if(n<0)return!1;e[t]=n}return!0}),1&a)for(var f=0;f<w.length;++f){var _=w[f],d=_[0];_[0]=_[1],_[1]=d}return w}var s=n(481),l=n(245);e.exports=a},function(e,t,n){(function(t){function n(e,t){return d[0]=e,d[1]=t,h[0]}function r(e){return h[0]=e,d[0]}function i(e){return h[0]=e,d[1]}function o(e,t){return d[1]=e,d[0]=t,h[0]}function a(e){return h[0]=e,d[1]}function s(e){return h[0]=e,d[0]}function l(e,t){return p.writeUInt32LE(e,0,!0),p.writeUInt32LE(t,4,!0),p.readDoubleLE(0,!0)}function u(e){return p.writeDoubleLE(e,0,!0),p.readUInt32LE(0,!0)}function c(e){return p.writeDoubleLE(e,0,!0),p.readUInt32LE(4,!0)}var f=!1;if("undefined"!==typeof Float64Array){var h=new Float64Array(1),d=new Uint32Array(h.buffer);h[0]=1,f=!0,1072693248===d[1]?(e.exports=function(e){return h[0]=e,[d[0],d[1]]},e.exports.pack=n,e.exports.lo=r,e.exports.hi=i):1072693248===d[0]?(e.exports=function(e){return h[0]=e,[d[1],d[0]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s):f=!1}if(!f){var p=new t(8);e.exports=function(e){return p.writeDoubleLE(e,0,!0),[p.readUInt32LE(0,!0),p.readUInt32LE(4,!0)]},e.exports.pack=l,e.exports.lo=u,e.exports.hi=c}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){return(e.exports.hi(t)<<1>>>21)-1023},e.exports.fraction=function(t){var n=e.exports.lo(t),r=e.exports.hi(t),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},e.exports.denormalized=function(t){return!(2146435072&e.exports.hi(t))}}).call(t,n(185).Buffer)},function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=t;else for(o=0;o<i;++o)a[o]=r(e,t,n+1);return a}function i(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t){switch("undefined"===typeof t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"===typeof e.length)return r(e,t,0)}return[]}e.exports=o},function(e,t,n){"use strict";function r(e){return new Function("f","var p = (f && f.properties || {}); return "+i(e))}function i(e){if(!e)return"true";var t=e[0];return e.length<=1?"any"===t?"false":"true":"("+("=="===t?a(e[1],e[2],"===",!1):"!="===t?a(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?a(e[1],e[2],t,!0):"any"===t?s(e.slice(1),"||"):"all"===t?s(e.slice(1),"&&"):"none"===t?c(s(e.slice(1),"||")):"in"===t?l(e[1],e.slice(2)):"!in"===t?c(l(e[1],e.slice(2))):"has"===t?u(e[1]):"!has"===t?c(u([e[1]])):"true")+")"}function o(e){return"$type"===e?"f.type":"$id"===e?"f.id":"p["+JSON.stringify(e)+"]"}function a(e,t,n,r){var i=o(e),a="$type"===e?h.indexOf(t):JSON.stringify(t);return(r?"typeof "+i+"=== typeof "+a+"&&":"")+i+n+a}function s(e,t){return e.map(i).join(t)}function l(e,t){"$type"===e&&(t=t.map(function(e){return h.indexOf(e)}));var n=JSON.stringify(t.sort(f)),r=o(e);return t.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(t.length-1)+")"}function u(e){return JSON.stringify(e)+" in p"}function c(e){return"!("+e+")"}function f(e,t){return e<t?-1:e>t?1:0}e.exports=r;var h=["Unknown","Point","LineString","Polygon"]},function(e,t,n){"use strict";function r(e,t,n,r){var o={id:r||null,type:t,geometry:n,tags:e||null,min:[1/0,1/0],max:[-1/0,-1/0]};return i(o),o}function i(e){var t=e.geometry,n=e.min,r=e.max;if(1===e.type)o(n,r,t);else for(var i=0;i<t.length;i++)o(n,r,t[i]);return e}function o(e,t,n){for(var r,i=0;i<n.length;i++)r=n[i],e[0]=Math.min(r[0],e[0]),t[0]=Math.max(r[0],t[0]),e[1]=Math.min(r[1],e[1]),t[1]=Math.max(r[1],t[1])}e.exports=r},function(e,t,n){"use strict";var r=n(55);t.line=function(e){return r(e,"#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n","precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}",null,[{name:"position",type:"vec3"}])};t.text=function(e){return r(e,"#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}","precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}",null,[{name:"position",type:"vec3"}])};t.bg=function(e){return r(e,"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}","precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}",null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},function(e,t){function n(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}e.exports=n},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){var r=n(97),i=n(76),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1139),o=n(1140),a=n(1141),s=n(1142),l=n(1143);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):l(e)}var i=n(1097),o=n(1098),a=n(210),s=n(77),l=n(1168);e.exports=r},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(77),o=n(155),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var r=n(1090),i=n(154),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";var r=n(36),i=n(212);e.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,a=[];return-1===o.values.indexOf(i(n))&&a.push(new r(t,n,"expected one of [%s], %s found",o.values.join(", "),n)),a}},function(e,t,n){"use strict";var r=n(36),i=n(297),o=n(63),a=n(212);e.exports=function e(t){var n,s=t.value,l=t.key,u=t.styleSpec,c=[];if("array"!==o(s))return[new r(l,s,"array expected, %s found",o(s))];if(s.length<1)return[new r(l,s,"filter array must have at least 1 element")];switch(c=c.concat(i({key:l+"[0]",value:s[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),a(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"==s[1]&&c.push(new r(l,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!=s.length&&c.push(new r(l,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&(n=o(s[1]),"string"!==n?c.push(new r(l+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(l+"[1]",s[1],"filter key cannot be a constant")));for(var f=2;f<s.length;f++)n=o(s[f]),"$type"==s[1]?c=c.concat(i({key:l+"["+f+"]",value:s[f],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===n&&"@"===s[f][0]?c.push(new r(l+"["+f+"]",s[f],"filter value cannot be a constant")):"string"!==n&&"number"!==n&&"boolean"!==n&&c.push(new r(l+"["+f+"]",s[f],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(f=1;f<s.length;f++)c=c.concat(e({key:l+"["+f+"]",value:s[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=o(s[1]),2!==s.length?c.push(new r(l,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==n?c.push(new r(l+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(l+"[1]",s[1],"filter key cannot be a constant"))}return c}},function(e,t,n){"use strict";var r=n(1176);t.interpolated=function(e){var t=r.interpolated(e),n=function(e,n){return t(e&&e.zoom,n||{})};return n.isFeatureConstant=t.isFeatureConstant,n.isZoomConstant=t.isZoomConstant,n},t["piecewise-constant"]=function(e){var t=r["piecewise-constant"](e),n=function(e,n){return t(e&&e.zoom,n||{})};return n.isFeatureConstant=t.isFeatureConstant,n.isZoomConstant=t.isZoomConstant,n},t.isFunctionDefinition=r.isFunctionDefinition},function(e,t,n){"use strict";function r(e,t,n){"function"===typeof e&&(n=!!t,t=e,e=window);var r=i("ex",e),o=function(e){n&&e.preventDefault();var i=e.deltaX||0,o=e.deltaY||0,a=e.deltaZ||0,s=e.deltaMode,l=1;switch(s){case 1:l=r;break;case 2:l=window.innerHeight}if(i*=l,o*=l,a*=l,i||o||a)return t(i,o,a,e)};return e.addEventListener("wheel",o),o}var i=n(1690);e.exports=r},function(e,t,n){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},function(e,t,n){"use strict";var r=n(534),i=n(45),o=n(33),a=n(8).extendFlat;e.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:a({},i,{description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,role:"style",description:"Sets the annotation arrow head style."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",description:"Sets the size (in px) of annotation arrow head."},arrowwidth:{valType:"number",min:.1,role:"style",description:"Sets the width (in px) of annotation arrow."},standoff:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a distance, in pixels, to move the arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],role:"info",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],role:"info",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:a({},i,{description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")})},captureevents:{valType:"boolean",role:"info",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},_deprecated:{ref:{valType:"string",role:"info",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=e.length,r=new Array(n),i=n-1,o=0;i>=0;i--,o++)t=e[i],r[o]=[1-t[0],t[1]];return r}},function(e,t,n){"use strict";var r=n(91),i=n(539);e.exports=function(e){return void 0!==r[e]||i(e)}},function(e,t,n){"use strict";var r=n(6);t.legendGetsTrace=function(e){return e.visible&&r.traceIs(e,"showLegend")},t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,n){"use strict";var r=n(45),i=n(31),o=n(8).extendFlat,a=n(545);a=o(a,{_isLinkedToArray:"button",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),e.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:a,x:{valType:"number",min:-2,max:3,role:"style",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:o({},r,{description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:i.lightLine,role:"style",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the range selector."}}},function(e,t,n){"use strict";var r=n(31);e.exports={bgcolor:{valType:"color",dflt:r.background,role:"style",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:r.defaultLine,role:"style",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")}}},function(e,t,n){"use strict";t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.getDataToPixel=function(e,n,r){var i,o=e._fullLayout._size;if(n){var a=t.shapePositionToRange(n);i=function(e){return n._offset+n.r2p(a(e,!0))},"date"===n.type&&(i=t.decodeDate(i))}else i=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},t.getPixelToData=function(e,n,r){var i,o=e._fullLayout._size;if(n){var a=t.rangeToShapePosition(n);i=function(e){return a(n.p2r(e-n._offset))}}else i=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i}},function(e,t,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},function(e,t,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300}},function(e,t,n){"use strict";var r=n(247).EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!==typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!==typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var a=o._events[t];if(!a)return r;"function"===typeof a&&(a=[a]);for(var s=a.pop(),l=0;l<a.length;l++)a[l](n);return i=s(n),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=i},function(e,t,n){"use strict";var r="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};e.exports=function(e){return Array.isArray(e)||r.isView(e)}},function(e,t,n){"use strict";function r(e,t){return function(){var n,i,o,a,s,l=e;for(a=0;a<t.length-1;a++){if(-1===(n=t[a])){for(i=!0,o=[],s=0;s<l.length;s++)o[s]=r(l[s],t.slice(a+1))(),o[s]!==o[0]&&(i=!1);return i?o[0]:o}if("number"===typeof n&&!d(l))return;if("object"!==typeof(l=l[n])||null===l)return}if("object"===typeof l&&null!==l&&null!==(o=l[t[a]]))return o}}function i(e,t){if(!c(e)||p(e)&&"]"===t.charAt(t.length-1)||t.match(g)&&void 0!==e)return!1;if(!d(e))return!0;if(t.match(v))return!0;var n=m(t);return n&&""===n.index}function o(e,t,n){return function(r){var o,c,f=e,h="",p=[[e,h]],m=i(r,n);for(c=0;c<t.length-1;c++){if("number"===typeof(o=t[c])&&!d(f))throw"array index but container is not an array";if(-1===o){if(m=!s(f,t.slice(c+1),r,n))break;return}if(!l(f,o,t[c+1],m))break;if("object"!==typeof(f=f[o])||null===f)throw"container is not an object";h=a(h,o),p.push([f,h])}m?(c===t.length-1&&delete f[t[c]],u(p)):f[t[c]]=r}}function a(e,t){var n=t;return h(t)?n="["+t+"]":e&&(n="."+t),e+n}function s(e,t,n,r){var a,s=d(n),u=!0,c=n,f=r.replace("-1",0),h=!s&&i(n,f),p=t[0];for(a=0;a<e.length;a++)f=r.replace("-1",a),s&&(c=n[a%n.length],h=i(c,f)),h&&(u=!1),l(e,a,p,h)&&o(e[a],t,r.replace("-1",a))(c);return u}function l(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"===typeof n?[]:{}}return!0}function u(e){var t,n,r,o,s,l;for(t=e.length-1;t>=0;t--){if(r=e[t][0],o=e[t][1],l=!1,d(r))for(n=r.length-1;n>=0;n--)i(r[n],a(o,n))?l?r[n]=void 0:r.pop():l=!0;else if("object"===typeof r&&null!==r)for(s=Object.keys(r),l=!1,n=s.length-1;n>=0;n--)i(r[s[n]],a(o,s[n]))?delete r[s[n]]:l=!0;if(l)return}}function c(e){return void 0===e||null===e||"object"===typeof e&&(d(e)?!e.length:!Object.keys(e).length)}function f(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}var h=n(4),d=n(312),p=n(166),m=n(565);e.exports=function(e,t){if(h(t))t=String(t);else if("string"!==typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,a,s=0,l=t.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),a=0;a<i.length;a++)s++,l.splice(s,0,Number(i[a]))}s++}return"object"!==typeof e?f(e,t,l):{set:o(e,l,t),get:r(e,l),astr:t,parts:l,obj:e}};var v=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,g=/(^|\.)args\[/},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},function(e,t,n){"use strict";var r=e.exports={},i=n(100).locationmodeToLayer,o=n(668).feature;r.getTopojsonName=function(e){return[e.scope.replace(/ /g,"-"),"_",e.resolution.toString(),"m"].join("")},r.getTopojsonPath=function(e,t){return e+t+".json"},r.getTopojsonFeatures=function(e,t){var n=i[e.locationmode],r=t.objects[n];return o(t,r).features}},function(e,t,n){"use strict";function r(t,n){try{t._fullLayout._paper.style("background",n)}catch(t){e.exports.logging>0&&console.error(t)}}e.exports={staticPlot:!1,editable:!1,autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:r,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},function(e,t,n){"use strict";function r(e){a.register(e,e.name,e.categories,e.meta),a.subplotsRegistry[e.basePlotModule.name]||a.registerSubplot(e.basePlotModule)}function i(e){if("string"!==typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,n="function"===typeof e.transform,r="function"===typeof e.calcTransform;if(!n&&!r)throw new Error(t+" is missing a *transform* or *calcTransform* method.");n&&r&&s.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s.isPlainObject(e.attributes)||s.log(t+" registered without an *attributes* object."),"function"!==typeof e.supplyDefaults&&s.log(t+" registered without a *supplyDefaults* method."),a.transformsRegistry[e.name]=e}function o(e){if("string"!==typeof e.name)throw new Error("Component module *name* must be a string.");a.registerComponent(e)}var a=n(6),s=n(0);e.exports=function(e){if(!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":r(n);break;case"transform":i(n);break;case"component":o(n);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},function(e,t,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",description:"The easing function used for the transition"}}}},function(e,t,n){"use strict";var r=n(38).mix,i=n(6),o=n(0),a=n(31).lightFraction,s=n(57),l=n(227),u=n(321),c=n(226),f=n(568),h=n(169),d=n(570);e.exports=function(e,t,n,p,m){function v(n,r){return o.coerce2(e,t,s,n,r)}var g=p.letter,y=p.font||{},b="Click to enter "+(p.title||g.toUpperCase()+" axis")+" title",x=n("visible",!p.cheateronly),_=t.type;if("date"===_){i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",p.calendar)}if(h(t,m),n("autorange",!t.isValidRange(e.range))&&n("rangemode"),n("range"),t.cleanRange(),f(e,t,n),t._initialCategories="category"===_?d(g,t.categoryorder,t.categoryarray,p.data):[],!x)return t;var w=n("color"),M=w===e.color?w:y.color;n("title",b),o.coerceFont(n,"titlefont",{family:y.family,size:Math.round(1.2*y.size),color:M}),l(e,t,n,_),c(e,t,n,_,p),u(e,t,n,p);var k=v("linecolor",w),E=v("linewidth"),S=n("showline",!!k||!!E);S||(delete t.linecolor,delete t.linewidth),(S||t.ticks)&&n("mirror");var T=v("gridcolor",r(w,p.bgColor,a).toRgbString()),A=v("gridwidth");n("showgrid",p.showGrid||!!T||!!A)||(delete t.gridcolor,delete t.gridwidth);var C=v("zerolinecolor",w),D=v("zerolinewidth");return n("zeroline",p.showGrid||!!C||!!D)||(delete t.zerolinecolor,delete t.zerolinewidth),t}},function(e,t,n){"use strict";var r=n(0),i=n(57);e.exports=function(e,t,n,o){var a=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),l=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",o.outerTicks||a||s||l?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},function(e,t,n){"use strict";var r=n(1401),i=n(16),o=n(67);t.name="gl2d",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex={x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},t.attrRegex={x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},t.attributes=n(567),t.plot=function(e){for(var t=e._fullLayout,n=e._fullData,o=i.getSubplotIds(t,"gl2d"),a=0;a<o.length;a++){var s=o[a],l=t._plots[s],u=i.getSubplotData(n,"gl2d",s),c=l._scene2d;void 0===c&&(c=new r({id:s,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),l._scene2d=c),c.plot(u,e.calcdata,t,e.layout)}},t.clean=function(e,t,n,r){for(var o=i.getSubplotIds(r,"gl2d"),a=0;a<o.length;a++){var s=o[a],l=r._plots[s];if(l._scene2d){0===i.getSubplotData(e,"gl2d",s).length&&(l._scene2d.destroy(),delete r._plots[s])}}},t.toSVG=function(e){for(var t=e._fullLayout,n=i.getSubplotIds(t,"gl2d"),r=0;r<n.length;r++){var a=t._plots[n[r]],s=a._scene2d,l=s.toImage("png");t._glimages.append("svg:image").attr({xmlns:o.svg,"xlink:href":l,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}}},function(e,t,n){"use strict";var r=n(1410),i=n(16),o=n(0),a=n(67);t.name="gl3d",t.attr="scene",t.idRoot="scene",t.idRegex=/^scene([2-9]|[1-9][0-9]+)?$/,t.attrRegex=/^scene([2-9]|[1-9][0-9]+)?$/,t.attributes=n(1403),t.layoutAttributes=n(580),t.supplyLayoutDefaults=n(1406),t.plot=function(e){for(var t=e._fullLayout,n=e._fullData,a=i.getSubplotIds(t,"gl3d"),s=0;s<a.length;s++){var l=a[s],u=i.getSubplotData(n,"gl3d",l),c=t[l],f=c._scene;f||(f=new r({id:l,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),c._scene=f),f.cameraInitial||(f.cameraInitial=o.extendDeep({},c.camera)),f.plot(u,t,e.layout)}},t.clean=function(e,t,n,r){for(var o=i.getSubplotIds(r,"gl3d"),a=0;a<o.length;a++){var s=o[a];!t[s]&&r[s]._scene&&r[s]._scene.destroy()}},t.toSVG=function(e){for(var t=e._fullLayout,n=i.getSubplotIds(t,"gl3d"),r=t._size,o=0;o<n.length;o++){var s=t[n[o]],l=s.domain,u=s._scene,c=u.toImage("png");t._glimages.append("svg:image").attr({xmlns:a.svg,"xlink:href":c,x:r.l+r.w*l.x[0],y:r.t+r.h*(1-l.y[1]),width:r.w*(l.x[1]-l.x[0]),height:r.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}},t.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var t=e.substr(5);return"1"===t&&(t=""),"scene"+t}}},function(e,t,n){"use strict";function r(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function i(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}var o=n(0),a=n(16),s=o.extendFlat,l=o.extendDeep;e.exports=function(e,t){e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var n,o=e.data,u=e.layout,c=l([],o),f=l({},u,r(t.tileClass)),h=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var d=Object.keys(f);for(n=0;n<d.length;n++)i(d[n])&&(f[d[n]].title="");for(n=0;n<c.length;n++){var p=c[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),"pie"===p.type&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var m=a.getSubplotIds(f,"gl3d");if(m.length){var v={};for("thumbnail"===t.tileClass&&(v={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<m.length;n++){var g=f[m[n]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),s(g.xaxis,v),s(g.yaxis,v),s(g.zaxis,v),g._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var b={gd:y,td:y,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=r(t.tileClass),b}},function(e,t,n){"use strict";function r(e,t){return t=t||{},t.format=t.format||"png",new Promise(function(n,r){e._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),o.isIE()&&"svg"!==t.format&&r(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),e._snapshotInProgress=!0;var s=i(e,t),l=t.filename||e.fn||"newplot";l+="."+t.format,s.then(function(t){return e._snapshotInProgress=!1,a(t,l)}).then(function(e){n(e)}).catch(function(t){e._snapshotInProgress=!1,r(t)})})}var i=n(566),o=n(0),a=n(1425);e.exports=r},function(e,t,n){"use strict";t.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d"))?500:0},t.getRedrawFunc=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},function(e,t,n){"use strict";function r(e){var t=e.emitter||new o,n=new Promise(function(r,o){var a=window.Image,s=e.svg,l=e.format||"png";if(i.isIE()&&(s=s.replace(/"/gi,"'"),s=s.replace(/(\('#)(.*)('\))/gi,'("$2")'),s=s.replace(/(\\')/gi,'"'),"svg"!==l)){var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return o(u),e.promise?n:t.emit("error",u)}var c=e.canvas,f=c.getContext("2d"),h=new a,d="data:image/svg+xml,"+encodeURIComponent(s);c.height=e.height||150,c.width=e.width||300,h.onload=function(){var n;switch("svg"!==l&&f.drawImage(h,0,0),l){case"jpeg":n=c.toDataURL("image/jpeg");break;case"png":n=c.toDataURL("image/png");break;case"webp":n=c.toDataURL("image/webp");break;case"svg":n=d;break;default:if(o(new Error("Image format is not jpeg, png or svg")),!e.promise)return t.emit("error","Image format is not jpeg, png or svg")}r(n),e.promise||t.emit("success",n)},h.onerror=function(n){if(o(n),!e.promise)return t.emit("error",n)},h.src=d});return e.promise?n:t}var i=n(0),o=n(247).EventEmitter;e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(43),o=n(12),a=n(3),s=n(67);e.exports=function(e,t){var n,l=e._fullLayout,u=l._paper,c=l._toppaper;u.insert("rect",":first-child").call(o.setRect,0,0,l.width,l.height).call(a.fill,l.paper_bgcolor);var f=l._basePlotModules||[];for(n=0;n<f.length;n++){var h=f[n];h.toSVG&&h.toSVG(e)}if(c){var d=c.node().childNodes,p=Array.prototype.slice.call(d);for(n=0;n<p.length;n++){var m=p[n];m.childNodes.length&&u.node().appendChild(m)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr("data-unformatted",null).each(function(){var e=r.select(this);if("hidden"===e.style("visibility"))return void e.remove();e.style("visibility","visible");var t=e.style("font-family");t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(s.xmlns,"xmlns",s.svg),u.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink);var v=(new window.XMLSerializer).serializeToString(u.node());return v=i.html_entity_decode(v),v=i.xml_entity_encode(v),v=v.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},function(e,t,n){"use strict";var r=n(0).mergeArray;e.exports=function(e,t){r(t.text,e,"tx"),r(t.hovertext,e,"htx");var n=t.marker;if(n){r(n.opacity,e,"mo"),r(n.color,e,"mc");var i=n.line;i&&(r(i.color,e,"mlc"),r(i.width,e,"mlw"))}}},function(e,t,n){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divide by the sum of the","values at the location coordinate.","With *percent*, the results form *fraction* are presented in percents."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},function(e,t,n){"use strict";var r=n(34),i=n(31),o=n(8).extendFlat,a=r.marker,s=a.line;e.exports={y:{valType:"data_array",description:["Sets the y sample data or coordinates.","See overview for more info."].join(" ")},x:{valType:"data_array",description:["Sets the x sample data or coordinates.","See overview for more info."].join(" ")},x0:{valType:"any",role:"info",description:["Sets the x coordinate of the box.","See overview for more info."].join(" ")},y0:{valType:"any",role:"info",description:["Sets the y coordinate of the box.","See overview for more info."].join(" ")},xcalendar:r.xcalendar,ycalendar:r.ycalendar,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,role:"style",description:["Sets the width of the whiskers relative to","the box' width.","For example, with 1, the whiskers are as wide as the box(es)."].join(" ")},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers",role:"style",description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the box(es) are shown with no sample points"].join(" ")},boxmean:{valType:"enumerated",values:[!0,"sd",!1],dflt:!1,role:"style",description:["If *true*, the mean of the box(es)' underlying distribution is","drawn as a dashed line inside the box(es).","If *sd* the standard deviation is also drawn."].join(" ")},jitter:{valType:"number",min:0,max:1,role:"style",description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the box(es)."].join(" ")},pointpos:{valType:"number",min:-2,max:2,role:"style",description:["Sets the position of the sample points in relation to the box(es).","If *0*, the sample points are places over the center of the box(es).","Positive (negative) values correspond to positions to the","right (left) for vertical boxes and above (below) for horizontal boxes"].join(" ")},orientation:{valType:"enumerated",values:["v","h"],role:"style",description:["Sets the orientation of the box(es).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",role:"style",description:"Sets the color of the outlier sample points."},symbol:o({},a.symbol,{arrayOk:!1}),opacity:o({},a.opacity,{arrayOk:!1,dflt:1}),size:o({},a.size,{arrayOk:!1}),color:o({},a.color,{arrayOk:!1}),line:{color:o({},s.color,{arrayOk:!1,dflt:i.defaultLine}),width:o({},s.width,{arrayOk:!1,dflt:0}),outliercolor:{valType:"color",role:"style",description:["Sets the border line color of the outlier sample points.","Defaults to marker.color"].join(" ")},outlierwidth:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the border line width (in px) of the outlier sample points."].join(" ")}}},line:{color:{valType:"color",role:"style",description:"Sets the color of line bounding the box(es)."},width:{valType:"number",role:"style",min:0,dflt:2,description:"Sets the width (in px) of line bounding the box(es)."}},fillcolor:r.fillcolor}},function(e,t,n){"use strict";var r=n(8).extendFlat,i=n(45),o=n(1445),a=n(31);e.exports={carpet:{valType:"string",role:"info",description:["An identifier for this carpet, so that `scattercarpet` and","`scattercontour` traces can specify a carpet plot on which","they lie"].join(" ")},x:{valType:"data_array",description:["A two dimensional array of x coordinates at each carpet point.","If ommitted, the plot is a cheater plot and the xaxis is hidden","by default."].join(" ")},y:{valType:"data_array",description:"A two dimensional array of y coordinates at each carpet point."},a:{valType:"data_array",description:["An array containing values of the first parameter value"].join(" ")},a0:{valType:"number",dflt:0,role:"info",description:["Alternate to `a`.","Builds a linear space of a coordinates.","Use with `da`","where `a0` is the starting coordinate and `da` the step."].join(" ")},da:{valType:"number",dflt:1,role:"info",description:["Sets the a coordinate step.","See `a0` for more info."].join(" ")},b:{valType:"data_array",description:"A two dimensional array of y coordinates at each carpet point."},b0:{valType:"number",dflt:0,role:"info",description:["Alternate to `b`.","Builds a linear space of a coordinates.","Use with `db`","where `b0` is the starting coordinate and `db` the step."].join(" ")},db:{valType:"number",dflt:1,role:"info",description:["Sets the b coordinate step.","See `b0` for more info."].join(" ")},cheaterslope:{valType:"number",role:"info",dflt:1,description:["The shift applied to each successive row of data in creating a cheater plot.","Only used if `x` is been ommitted."].join(" ")},aaxis:r({},o),baxis:r({},o),font:{family:r({},i.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:r({},i.size,{dflt:12}),color:r({},i.color,{dflt:a.defaultLine})},color:{valType:"color",dflt:a.defaultLine,role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")}}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n,r=e._fullData.length,i=0;i<r;i++){var o=e._fullData[i];if(o.index!==t.index&&("carpet"===o.type&&(n||(n=o),o.carpet===t.carpet)))return o}return n}},function(e,t,n){"use strict";var r=n(177),i=n(56),o=n(32),a=n(69),s=n(8).extendFlat,l=r.marker.line;e.exports=s({},{locations:{valType:"data_array",description:["Sets the coordinates via location IDs or names.","See `locationmode` for more info."].join(" ")},locationmode:r.locationmode,z:{valType:"data_array",description:"Sets the color values."},text:{valType:"data_array",description:"Sets the text elements associated with each location."},marker:{line:{color:l.color,width:s({},l.width,{dflt:1})}},hoverinfo:s({},a.hoverinfo,{flags:["location","z","text","name"]})},i,{colorbar:o})},function(e,t,n){"use strict";var r=n(16),i=n(163),o=n(337),a=n(336);e.exports=function(e,t){var n=t[0].trace,s="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+s).remove(),!n.showscale)return void r.autoMargin(e,s);var l=i(e,s);t[0].t.cb=l;var u=n.contours,c=n.line,f=u.size||1,h=u.coloring,d=o(n,{isColorbar:!0});"heatmap"===h&&l.filllevels({start:n.zmin,end:n.zmax,size:(n.zmax-n.zmin)/254}),l.fillcolor("fill"===h||"heatmap"===h?d:"").line({color:"lines"===h?d:c.color,width:!1!==u.showlines?c.width:0,dash:c.dash}).levels({start:u.start,end:a(u),size:f}).options(n.colorbar)()}},function(e,t,n){"use strict";e.exports=function(e){return e.end+e.size/1e6}},function(e,t,n){"use strict";var r=n(2),i=n(66),o=n(336);e.exports=function(e){var t=e.contours,n=t.start,a=o(t),s=t.size||1,l=Math.floor((a-n)/s)+1,u="lines"===t.coloring?0:1;isFinite(s)||(s=1,l=1);var c,f,h=e.colorscale,d=h.length,p=new Array(d),m=new Array(d);if("heatmap"===t.coloring){for(e.zauto&&!1===e.autocontour&&(e.zmin=n-s/2,e.zmax=e.zmin+l*s),f=0;f<d;f++)c=h[f],p[f]=c[0]*(e.zmax-e.zmin)+e.zmin,m[f]=c[1];var v=r.extent([e.zmin,e.zmax,t.start,t.start+s*(l-1)]),g=v[e.zmin<e.zmax?0:1],y=v[e.zmin<e.zmax?1:0];g!==e.zmin&&(p.splice(0,0,g),m.splice(0,0,Range[0])),y!==e.zmax&&(p.push(y),m.push(m[m.length-1]))}else for(f=0;f<d;f++)c=h[f],p[f]=(c[0]*(l+u-1)-u/2)*s+n,m[f]=c[1];return i.makeColorScaleFunc({domain:p,range:m},{noNumericCheck:!0})}},function(e,t,n){"use strict";var r=n(65);e.exports=function(e,t,n,i,o,a){var s,l=n("contours.coloring");"fill"===l&&(s=n("contours.showlines")),!1!==s&&("lines"!==l&&n("line.color",o||"#000"),n("line.width",void 0===a?.5:a),n("line.dash")),n("line.smoothing"),"none"!==(t.contours||{}).coloring&&r(e,t,i,n,{prefix:"",cLetter:"z"})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){var n,i,o,a,s,l;if(t){for(n=0,s=0;s<e.length;s++)n=Math.max(n,e[s].length);if(0===n)return!1;o=function(e){return e.length},a=function(e,t,n){return e[n][t]}}else n=e.length,o=function(e,t){return e[t].length},a=function(e,t,n){return e[t][n]};var u=new Array(n);for(s=0;s<n;s++)for(i=o(e,s),u[s]=new Array(i),l=0;l<i;l++)u[s][l]=function(e){if(r(e))return+e}(a(e,s,l));return u}},function(e,t,n){"use strict";var r=n(0),i=n(27).BADNUM;e.exports=function(e,t,n,o,a,s){o=o||"x",a=a||"y",s=s||["z"];var l,u,c,f,h,d=e[o].slice(),p=e[a].slice(),m=e.text,v=Math.min(d.length,p.length),g=void 0!==m&&!Array.isArray(m[0]),y=e[o+"calendar"],b=e[a+"calendar"];for(l=0;l<s.length;l++)(c=e[s[l]])&&(v=Math.min(v,c.length));for(v<d.length&&(d=d.slice(0,v)),v<p.length&&(p=p.slice(0,v)),l=0;l<v;l++)d[l]=t.d2c(d[l],0,y),p[l]=n.d2c(p[l],0,b);var x=r.distinctVals(d),_=x.vals,w=r.distinctVals(p),M=w.vals,k=[];for(l=0;l<s.length;l++)k[l]=r.init2dArray(M.length,_.length);var E,S,T;for(g&&(T=r.init2dArray(M.length,_.length)),l=0;l<v;l++)if(d[l]!==i&&p[l]!==i){for(E=r.findBin(d[l]+x.minDiff/2,_),S=r.findBin(p[l]+w.minDiff/2,M),u=0;u<s.length;u++)h=s[u],c=e[h],f=k[u],f[S][E]=c[l];g&&(T[S][E]=m[l])}for(e[o]=_,e[a]=M,u=0;u<s.length;u++)e[s[u]]=k[u];g&&(e.text=T)}},function(e,t,n){"use strict";var r=n(40),i=n(0),o=n(33).MAXDIST;e.exports=function(e,t,n,a,s){if(!(e.distance<o)){var l,u,c,f,h=e.cd[0],d=h.trace,p=e.xa,m=e.ya,v=h.x,g=h.y,y=h.z,b=h.zmask,x=v,_=g;if(!1!==e.index){try{c=Math.round(e.index[1]),f=Math.round(e.index[0])}catch(t){return void i.error("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index)}if(c<0||c>=y[0].length||f<0||f>y.length)return}else{if(r.inbox(t-v[0],t-v[v.length-1])>o||r.inbox(n-g[0],n-g[g.length-1])>o)return;if(s){var w;for(x=[2*v[0]-v[1]],w=1;w<v.length;w++)x.push((v[w]+v[w-1])/2);for(x.push([2*v[v.length-1]-v[v.length-2]]),_=[2*g[0]-g[1]],w=1;w<g.length;w++)_.push((g[w]+g[w-1])/2);_.push([2*g[g.length-1]-g[g.length-2]])}c=Math.max(0,Math.min(x.length-2,i.findBin(t,x))),f=Math.max(0,Math.min(_.length-2,i.findBin(n,_)))}var M=p.c2p(v[c]),k=p.c2p(v[c+1]),E=m.c2p(g[f]),S=m.c2p(g[f+1]);s?(k=M,l=v[c],S=E,u=g[f]):(l=(v[c]+v[c+1])/2,u=(g[f]+g[f+1])/2,d.zsmooth&&(M=k=(M+k)/2,E=S=(E+S)/2));var T=y[f][c];b&&!b[f][c]&&(T=void 0);var A;return Array.isArray(h.text)&&Array.isArray(h.text[f])&&(A=h.text[f][c]),[i.extendFlat(e,{index:[f,c],distance:o+10,x0:M,x1:k,y0:E,y1:S,xLabelVal:l,yLabelVal:u,zLabelVal:T,text:A})]}}},function(e,t,n){"use strict";function r(e,t,n){function r(e,t){var n=t.length-2,r=a.constrain(a.findBin(e,t),0,n),i=t[r],o=t[r+1],s=a.constrain(r+(e-i)/(o-i)-.5,0,n),l=Math.round(s),u=Math.abs(s-l);return s&&s!==n&&u?{bin0:l,frac:u,bin1:Math.round(l+u/(s-l))}:{bin0:l,bin1:l,frac:0}}function c(e,t){if(void 0!==e){var n=Y(e);return n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),ne+=t,re+=n[0]*t,ie+=n[1]*t,oe+=n[2]*t,n}return[0,0,0,0]}function f(e,t,n){e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=Math.round(255*n[3])}var h=n[0].trace,d=h.uid,p=t.xaxis,m=t.yaxis,v=e._fullLayout,g="hm"+d;if(v._paper.selectAll(".contour"+d).remove(),v._infolayer.selectAll("g.rangeslider-container").selectAll(".contour"+d).remove(),!0!==h.visible)return v._paper.selectAll("."+g).remove(),void v._infolayer.selectAll(".cb"+d).remove();var y,b,x,_,w,M,k=n[0].z,E=n[0].x,S=n[0].y,T=o.traceIs(h,"contour"),A=T?"best":h.zsmooth,C=k.length,D=u(k),O=!1,P=!1;for(M=0;void 0===y&&M<E.length-1;)y=p.c2p(E[M]),M++;for(M=E.length-1;void 0===b&&M>0;)b=p.c2p(E[M]),M--;for(b<y&&(x=b,b=y,y=x,O=!0),M=0;void 0===_&&M<S.length-1;)_=m.c2p(S[M]),M++;for(M=S.length-1;void 0===w&&M>0;)w=m.c2p(S[M]),M--;if(w<_&&(x=_,_=w,w=x,P=!0),T&&(E=n[0].xfill,S=n[0].yfill),"fast"!==A){var L="best"===A?0:.5;y=Math.max(-L*p._length,y),b=Math.min((1+L)*p._length,b),_=Math.max(-L*m._length,_),w=Math.min((1+L)*m._length,w)}var I=Math.round(b-y),N=Math.round(w-_),R=I<=0||N<=0,j=t.plot.select(".imagelayer").selectAll("g.hm."+g).data(R?[]:[0]);if(j.enter().append("g").classed("hm",!0).classed(g,!0),j.exit().remove(),!R){var z,F;"fast"===A?(z=D,F=C):(z=I,F=N);var B=document.createElement("canvas");B.width=z,B.height=F;var U,V,H=B.getContext("2d"),Y=s.makeColorScaleFunc(s.extractScale(h.colorscale,h.zmin,h.zmax),{noNumericCheck:!0,returnArray:!0});"fast"===A?(U=O?function(e){return D-1-e}:a.identity,V=P?function(e){return C-1-e}:a.identity):(U=function(e){return a.constrain(Math.round(p.c2p(E[e])-y),0,I)},V=function(e){return a.constrain(Math.round(m.c2p(S[e])-_),0,N)});var W,q,G,X,Z,K,$,J=V(0),Q=[J,J],ee=O?0:1,te=P?0:1,ne=0,re=0,ie=0,oe=0;if(A){var ae,se=0;try{ae=new Uint8Array(I*N*4)}catch(e){ae=new Array(I*N*4)}if("best"===A){var le,ue,ce,fe=new Array(E.length),he=new Array(S.length),de=new Array(I);for(M=0;M<E.length;M++)fe[M]=Math.round(p.c2p(E[M])-y);for(M=0;M<S.length;M++)he[M]=Math.round(m.c2p(S[M])-_);for(M=0;M<I;M++)de[M]=r(M,fe);for(G=0;G<N;G++)for(le=r(G,he),ue=k[le.bin0],ce=k[le.bin1],M=0;M<I;M++,se+=4)$=function(e,t,n,r){var i=e[n.bin0];if(void 0===i)return c(void 0,1);var o,a=e[n.bin1],s=t[n.bin0],l=t[n.bin1],u=a-i||0,f=s-i||0;return o=void 0===a?void 0===l?0:void 0===s?2*(l-i):2*(2*l-s-i)/3:void 0===l?void 0===s?0:2*(2*i-a-s)/3:void 0===s?2*(2*l-a-i)/3:l+i-a-s,c(i+n.frac*u+r.frac*(f+n.frac*o))}(ue,ce,de[M],le),f(ae,se,$)}else for(G=0;G<C;G++)for(K=k[G],Q=V(G),M=0;M<I;M++)$=c(K[M],1),se=4*(Q*I+U(M)),f(ae,se,$);var pe=H.createImageData(I,N);try{pe.data.set(ae)}catch(e){var me=pe.data,ve=me.length;for(G=0;G<ve;G++)me[G]=ae[G]}H.putImageData(pe,0,0)}else for(G=0;G<C;G++)if(K=k[G],Q.reverse(),Q[te]=V(G+1),Q[0]!==Q[1]&&void 0!==Q[0]&&void 0!==Q[1])for(X=U(0),q=[X,X],M=0;M<D;M++)q.reverse(),q[ee]=U(M+1),q[0]!==q[1]&&void 0!==q[0]&&void 0!==q[1]&&(Z=K[M],$=c(Z,(q[1]-q[0])*(Q[1]-Q[0])),H.fillStyle="rgba("+$.join(",")+")",W=function(e,t,n,r,i,o,a,s,l){var u={x0:t,x1:n,y0:r,y1:i},c=2*e.xgap/3,f=2*e.ygap/3,h=e.xgap/3,d=e.ygap/3;return s===l-1&&(u.y1=i-f),o===a-1&&(u.x0=t+c),0===s&&(u.y0=r+f),0===o&&(u.x1=n-c),o>0&&o<a-1&&(u.x0=t+h,u.x1=n-h),s>0&&s<l-1&&(u.y0=r+d,u.y1=i-d),u}(h,q[0],q[1],Q[0],Q[1],M,D,G,C),H.fillRect(W.x0,W.y0,W.x1-W.x0,W.y1-W.y0));re=Math.round(re/ne),ie=Math.round(ie/ne),oe=Math.round(oe/ne);var ge=i("rgb("+re+","+ie+","+oe+")");e._hmpixcount=(e._hmpixcount||0)+ne,e._hmlumcount=(e._hmlumcount||0)+ne*ge.getLuminance();var ye=j.selectAll("image").data(n);ye.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),ye.attr({height:N,width:I,x:y,y:_,"xlink:href":B.toDataURL("image/png")}),ye.exit().remove()}}var i=n(38),o=n(6),a=n(0),s=n(66),l=n(67),u=n(233);e.exports=function(e,t,n){for(var i=0;i<n.length;i++)r(e,t,n[i])}},function(e,t,n){"use strict";function r(e,t){var n=t(e);return"scaled"===(n?t(e+"type","array"):"scaled")&&(t(e+"0"),t("d"+e)),n}function i(e){for(var t,n=!0,r=!1,i=!1,a=0;a<e.length;a++){if(t=e[a],!Array.isArray(t)){n=!1;break}t.length>0&&(r=!0);for(var s=0;s<t.length;s++)if(o(t[s])){i=!0;break}}return n&&r&&i}var o=n(4),a=n(6),s=n(172);e.exports=function(e,t,n,o,l,u){var c=n("z");l=l||"x",u=u||"y";var f,h;if(void 0===c||!c.length)return 0;if(s(e)){if(f=n(l),h=n(u),!f||!h)return 0}else{if(f=r(l,n),h=r(u,n),!i(c))return 0;n("transpose")}return a.getComponentMethod("calendars","handleTraceDefaults")(e,t,[l,u],o),t.z.length}},function(e,t,n){"use strict";function r(e){return{start:{valType:"any",dflt:null,role:"style",description:["Sets the starting value for the",e,"axis bins."].join(" ")},end:{valType:"any",dflt:null,role:"style",description:["Sets the end value for the",e,"axis bins."].join(" ")},size:{valType:"any",dflt:null,role:"style",description:["Sets the step in-between value each",e,"axis bin."].join(" ")}}}var i=n(230);e.exports={x:{valType:"data_array",description:["Sets the sample data to be binned on the x axis."].join(" ")},y:{valType:"data_array",description:["Sets the sample data to be binned on the y axis."].join(" ")},text:i.text,orientation:i.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],role:"style",dflt:"count",description:["Specifies the binning function used for this histogram trace.","If *count*, the histogram values are computed by counting the","number of values lying inside each bin.","If *sum*, *avg*, *min*, *max*,","the histogram values are computed using","the sum, the average, the minimum or the maximum","of the values lying inside each bin respectively."].join(" ")},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",role:"style",description:["Specifies the type of normalization used for this histogram trace.","If **, the span of each bar corresponds to the number of","occurrences (i.e. the number of data points lying inside the bins).","If *percent* / *probability*, the span of each bar corresponds to","the percentage / fraction of occurrences with respect to the total","number of sample points","(here, the sum of all bin HEIGHTS equals 100% / 1).","If *density*, the span of each bar corresponds to the number of","occurrences in a bin divided by the size of the bin interval","(here, the sum of all bin AREAS equals the","total number of sample points).","If *probability density*, the area of each bar corresponds to the","probability that an event will fall into the corresponding bin","(here, the sum of all bin AREAS equals 1)."].join(" ")},cumulative:{enabled:{valType:"boolean",dflt:!1,role:"info",description:["If true, display the cumulative distribution by summing the","binned values. Use the `direction` and `centralbin` attributes","to tune the accumulation method.","Note: in this mode, the *density* `histnorm` settings behave","the same as their equivalents without *density*:","** and *density* both rise to the number of data points, and","*probability* and *probability density* both rise to the","number of sample points."].join(" ")},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",role:"info",description:["Only applies if cumulative is enabled.","If *increasing* (default) we sum all prior bins, so the result","increases from left to right. If *decreasing* we sum later bins","so the result decreases from left to right."].join(" ")},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",role:"info",description:["Only applies if cumulative is enabled.","Sets whether the current bin is included, excluded, or has half","of its value included in the current cumulative value.","*include* is the default for compatibility with various other","tools, however it introduces a half-bin bias to the results.","*exclude* makes the opposite half-bin bias, and *half* removes","it."].join(" ")}},autobinx:{valType:"boolean",dflt:null,role:"style",description:["Determines whether or not the x axis bin attributes are picked","by an algorithm. Note that this should be set to false if you","want to manually set the number of bins using the attributes in","xbins."].join(" ")},nbinsx:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data."].join(" ")},xbins:r("x"),autobiny:{valType:"boolean",dflt:null,role:"style",description:["Determines whether or not the y axis bin attributes are picked","by an algorithm. Note that this should be set to false if you","want to manually set the number of bins using the attributes in","ybins."].join(" ")},nbinsy:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data."].join(" ")},ybins:r("y"),marker:i.marker,error_y:i.error_y,error_x:i.error_x,_deprecated:{bardir:i._deprecated.bardir}}},function(e,t,n){"use strict";var r=n(344),i=n(127),o=n(56),a=n(32),s=n(8).extendFlat;e.exports=s({},{x:r.x,y:r.y,z:{valType:"data_array",description:"Sets the aggregation data."},marker:{color:{valType:"data_array",description:"Sets the aggregation data."}},histnorm:r.histnorm,histfunc:r.histfunc,autobinx:r.autobinx,nbinsx:r.nbinsx,xbins:r.xbins,autobiny:r.autobiny,nbinsy:r.nbinsy,ybins:r.ybins,xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth},o,{autocolorscale:s({},o.autocolorscale,{dflt:!1})},{colorbar:a})},function(e,t,n){"use strict";var r=n(0),i=n(34),o=n(99).dash,a=i.line,s={name:{valType:"string",role:"info",description:["Sets the segment name.","The segment name appear as the legend item and on hover."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not an item corresponding to this","segment is shown in the legend."].join(" ")},line:{color:a.color,width:a.width,dash:o}};e.exports={x:{valType:"data_array",description:["Sets the x coordinates.","If absent, linear coordinate will be generated."].join(" ")},open:{valType:"data_array",dflt:[],description:"Sets the open values."},high:{valType:"data_array",dflt:[],description:"Sets the high values."},low:{valType:"data_array",dflt:[],description:"Sets the low values."},close:{valType:"data_array",dflt:[],description:"Sets the close values."},line:{width:r.extendFlat({},a.width,{description:[a.width,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")}),dash:r.extendFlat({},o,{description:[o.description,"Note that this style setting can also be set per","direction via `increasing.line.dash` and","`decreasing.line.dash`."].join(" ")})},increasing:r.extendDeep({},s,{line:{color:{dflt:"#3D9970"}}}),decreasing:r.extendDeep({},s,{line:{color:{dflt:"#FF4136"}}}),text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each sample point.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to","this trace's sample points."].join(" ")},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,role:"style",description:["Sets the width of the open/close tick marks","relative to the *x* minimal interval."].join(" ")}}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n){var i=n.marker.line.color;Array.isArray(i)&&(i=i[t.i]||r.defaultLine);var o=n.marker.line.width||0;Array.isArray(o)&&(o=o[t.i]||0),e.style({"stroke-width":o}).call(r.fill,t.color).call(r.stroke,i)}},function(e,t,n){"use strict";var r=n(0),i=n(40),o=n(33),a=n(79),s=n(176),l=n(3);e.exports=function(e,t,n,u){var c=e.cd,f=c[0].trace,h=e.xa,d=e.ya,p=h.c2p(t),m=d.c2p(n),v=[p,m];if(-1!==f.hoveron.indexOf("points")){var g=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(h.c2p(e.x)-p)-t,1-3/t)},y=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(d.c2p(e.y)-m)-t,1-3/t)},b=function(e){var t=Math.max(3,e.mrc||0),n=h.c2p(e.x)-p,r=d.c2p(e.y)-m;return Math.max(Math.sqrt(n*n+r*r)-t,1-3/t)},x=i.getDistanceFunction(u,g,y,b);if(i.getClosest(c,x,e),!1!==e.index){var _=c[e.index],w=h.c2p(_.x,!0),M=d.c2p(_.y,!0),k=_.mrc||1;return r.extendFlat(e,{color:s(f,_),x0:w-k,x1:w+k,xLabelVal:_.x,y0:M-k,y1:M+k,yLabelVal:_.y}),_.htx?e.text=_.htx:f.hovertext?e.text=f.hovertext:_.tx?e.text=_.tx:f.text&&(e.text=f.text),a.hoverInfo(_,f,e),[e]}}if(-1!==f.hoveron.indexOf("fills")&&f._polygons){var E,S,T,A,C,D,O,P,L,I=f._polygons,N=[],R=!1,j=1/0,z=-1/0,F=1/0,B=-1/0;for(E=0;E<I.length;E++)T=I[E],T.contains(v)&&(R=!R,N.push(T),F=Math.min(F,T.ymin),B=Math.max(B,T.ymax));if(R){F=Math.max(F,0),B=Math.min(B,d._length);var U=(F+B)/2;for(E=0;E<N.length;E++)for(A=N[E].pts,S=1;S<A.length;S++)P=A[S-1][1],L=A[S][1],P>U!==L>=U&&(D=A[S-1][0],O=A[S][0],C=D+(O-D)*(U-P)/(L-P),j=Math.min(j,C),z=Math.max(z,C));j=Math.max(j,0),z=Math.min(z,h._length);var V=l.defaultLine;return l.opacity(f.fillcolor)?V=f.fillcolor:l.opacity((f.line||{}).color)&&(V=f.line.color),r.extendFlat(e,{distance:o.MAXDIST+10,x0:j,x1:z,y0:U,y1:U,color:V}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},function(e,t,n){"use strict";e.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},function(e,t,n){"use strict";function r(e,t){var n;t.selectAll("g.trace").each(function(e){var t=a.select(this);if(n=e[0].trace,n._nexttrace){if(n._nextFill=t.select(".js-fill.js-tonext"),!n._nextFill.size()){var r=":first-child";t.select(".js-fill.js-tozero").size()&&(r+=" + *"),n._nextFill=t.insert("path",r).attr("class","js-fill js-tonext")}}else t.selectAll(".js-fill.js-tonext").remove(),n._nextFill=null;n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace)?(n._ownFill=t.select(".js-fill.js-tozero"),n._ownFill.size()||(n._ownFill=t.insert("path",":first-child").attr("class","js-fill js-tozero"))):(t.selectAll(".js-fill.js-tozero").remove(),n._ownFill=null)})}function i(e,t,n,r,i,h,p){function m(e){return M?e.transition():e}function v(e){return e.filter(function(e){return e.vis})}function g(e){return e.id}function y(e){if(e.ids)return g}function b(){return!1}function x(e){var t,n,r=e[0].trace,i=a.select(this),o=c.hasMarkers(r),u=c.hasText(r),f=y(r),h=b,d=b;o&&(h=r.marker.maxdisplayed||r._needsCull?v:s.identity),u&&(d=r.marker.maxdisplayed||r._needsCull?v:s.identity),n=i.selectAll("path.point"),t=n.data(h,f);var p=t.enter().append("path").classed("point",!0);p.call(l.pointStyle,r).call(l.translatePoints,k,E,r),M&&p.style("opacity",0).transition().style("opacity",1),t.each(function(e){var t=a.select(this),n=m(t);l.translatePoint(e,n,k,E),l.singlePointStyle(e,n,r),r.customdata&&t.classed("plotly-customdata",null!==e.data&&void 0!==e.data)}),M?t.exit().transition().style("opacity",0).remove():t.exit().remove(),n=i.selectAll("g"),t=n.data(d,f),t.enter().append("g").append("text"),t.each(function(e){var t=m(a.select(this).select("text"));l.translatePoint(e,t,k,E)}),t.selectAll("text").call(l.textPointStyle,r).each(function(e){var t=e.xp||k.c2p(e.x),n=e.yp||E.c2p(e.y);a.select(this).selectAll("tspan.line").each(function(){m(a.select(this)).attr({x:t,y:n})})}),t.exit().remove()}var _,w;o(e,t,n,r,i);var M=!!p&&p.duration>0,k=n.xaxis,E=n.yaxis,S=r[0].trace,T=S.line,A=a.select(h);if(A.call(u.plot,n,p),!0===S.visible){m(A).style("opacity",S.opacity);var C,D,O=S.fill.charAt(S.fill.length-1);"x"!==O&&"y"!==O&&(O=""),r[0].node3=A;var P="",L=[],I=S._prevtrace;I&&(P=I._prevRevpath||"",D=I._nextFill,L=I._polygons);var N,R,j,z,F,B,U,V,H,Y="",W="",q=[],G=[],X=s.noop;if(C=S._ownFill,c.hasLines(S)||"none"!==S.fill){for(D&&D.datum(r),-1!==["hv","vh","hvh","vhv"].indexOf(T.shape)?(j=l.steps(T.shape),z=l.steps(T.shape.split("").reverse().join(""))):j=z="spline"===T.shape?function(e){var t=e[e.length-1];return e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),T.smoothing):l.smoothopen(e,T.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return z(e.reverse())},q=f(r,{xaxis:k,yaxis:E,connectGaps:S.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,linear:"linear"===T.shape,simplify:T.simplify}),H=S._polygons=new Array(q.length),w=0;w<q.length;w++)S._polygons[w]=d(q[w]);q.length&&(B=q[0][0],U=q[q.length-1],V=U[U.length-1]),G=q.filter(function(e){return e.length>1}),X=function(e){return function(t){if(N=j(t),R=F(t),Y?O?(Y+="L"+N.substr(1),W=R+"L"+W.substr(1)):(Y+="Z"+N,W=R+"Z"+W):(Y=N,W=R),c.hasLines(S)&&t.length>1){var n=a.select(this);if(n.datum(r),e)m(n.style("opacity",0).attr("d",N).call(l.lineGroupStyle)).style("opacity",1);else{var i=m(n);i.attr("d",N),l.singleLineStyle(r,i)}}}}}var Z=A.selectAll(".js-line").data(G);m(Z.exit()).style("opacity",0).remove(),Z.each(X(!1)),Z.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(X(!0)),q.length&&(C?B&&V&&(O?("y"===O?B[1]=V[1]=E.c2p(0,!0):"x"===O&&(B[0]=V[0]=k.c2p(0,!0)),m(C).attr("d","M"+V+"L"+B+"L"+Y.substr(1))):m(C).attr("d",Y+"Z")):"tonext"===S.fill.substr(0,6)&&Y&&P&&("tonext"===S.fill?m(D).attr("d",Y+"Z"+P+"Z"):m(D).attr("d",Y+"L"+P.substr(1)+"Z"),S._polygons=S._polygons.concat(L)),S._prevRevpath=W,S._prevPolygons=H);var K=A.selectAll(".points");_=K.data([r]),K.each(x),_.enter().append("g").classed("points",!0).each(x),_.exit().remove()}}function o(e,t,n,r,i){var o=n.xaxis,l=n.yaxis,u=a.extent(s.simpleMap(o.range,o.r2c)),f=a.extent(s.simpleMap(l.range,l.r2c)),h=r[0].trace;if(c.hasMarkers(h)){var d=h.marker.maxdisplayed;if(0!==d){var p=r.filter(function(e){return e.x>=u[0]&&e.x<=u[1]&&e.y>=f[0]&&e.y<=f[1]}),m=Math.ceil(p.length/d),v=0;i.forEach(function(e,n){var r=e[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&v++});var g=Math.round(v*m/3+Math.floor(v/3)*m/7.1);r.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+g)%m)&&(e.vis=!0)})}}}var a=n(2),s=n(0),l=n(12),u=n(79),c=n(21),f=n(1524),h=n(1525),d=n(560).tester;e.exports=function(e,t,n,o,s){var l,u,c,f,d,p=t.plot.select("g.scatterlayer"),m=!o,v=!!o&&o.duration>0;for(c=p.selectAll("g.trace"),f=c.data(n,function(e){return e[0].trace.uid}),f.enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),h(e,t,n),r(e,p),l=0,u={};l<n.length;l++)u[n[l][0].trace.uid]=l;if(p.selectAll("g.trace").sort(function(e,t){return u[e[0].trace.uid]>u[t[0].trace.uid]?1:-1}),v){s&&(d=s());a.transition().duration(o.duration).ease(o.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){p.selectAll("g.trace").each(function(r,a){i(e,a,t,r,n,this,o)})})}else p.selectAll("g.trace").each(function(r,a){i(e,a,t,r,n,this,o)});m&&f.exit().remove(),p.selectAll("path:not([d])").remove()}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t){var n,i,o,a,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],f=s[0].trace,h=f.index,d=f.marker,p=!r.hasMarkers(f)&&!r.hasText(f);if(!0===f.visible&&!p){var m=Array.isArray(d.opacity)?1:d.opacity;if(!1===t)for(n=0;n<s.length;n++)s[n].dim=0;else for(n=0;n<s.length;n++)i=s[n],o=l.c2p(i.x),a=u.c2p(i.y),t.contains([o,a])?(c.push({curveNumber:h,pointNumber:n,x:i.x,y:i.y,id:i.id}),i.dim=0):i.dim=1;return s[0].node3.selectAll("path.point").style("opacity",function(e){return((e.mo+1||m+1)-1)*(e.dim?.2:1)}),s[0].node3.selectAll("text").style("opacity",function(e){return e.dim?.2:1}),c}}},function(e,t,n){"use strict";var r=n(2),i=n(12),o=n(79);e.exports=function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(e){var t=r.select(this),n=t.selectAll("path.point"),o=e.trace||e[0].trace;n.call(i.pointStyle,o),t.selectAll("text").call(i.textPointStyle,o)}),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),t.call(o.style)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n,i){var o,a=i("x"),s=i("y");if(r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),a)s?(o=Math.min(a.length,s.length),o<a.length&&(t.x=a.slice(0,o)),o<s.length&&(t.y=s.slice(0,o))):(o=a.length,i("y0"),i("dy"));else{if(!s)return 0;o=t.y.length,i("x0"),i("dx")}return o}},function(e,t,n){"use strict";var r=n(173),i=n(174);e.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),i(t),n}},function(e,t,n){"use strict";var r=n(34),i=n(89),o=n(552),a=n(165),s=n(8).extendFlat,l=n(8).extendDeep,u=r.line,c=r.marker,f=c.line;e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:s({},r.text,{description:["Sets text elements associated with each (x,y) pair to appear on hover.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates."].join(" ")}),mode:{valType:"flaglist",flags:["lines","markers"],extras:["none"],role:"info",description:["Determines the drawing mode for this scatter trace."].join(" ")},line:{color:u.color,width:u.width,dash:{valType:"enumerated",values:Object.keys(o),dflt:"solid",role:"style",description:"Sets the style of the lines."}},marker:l({},i("marker"),{symbol:{valType:"enumerated",values:Object.keys(a),dflt:"circle",arrayOk:!0,role:"style",description:"Sets the marker symbol type."},size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,showscale:c.showscale,colorbar:c.colorbar,line:l({},i("marker.line"),{width:f.width})}),connectgaps:r.connectgaps,fill:s({},r.fill,{values:["none","tozeroy","tozerox"]}),fillcolor:r.fillcolor,error_y:r.error_y,error_x:r.error_x}},function(e,t,n){"use strict";function r(e){return{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not these contour lines are projected","on the",e,"plane.","If `highlight` is set to *true* (the default), the projected","lines are shown on hover.","If `show` is set to *true*, the projected lines are shown","in permanence."].join(" ")}}function i(e){return{show:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not contour lines about the",e,"dimension are drawn."].join(" ")},project:{x:r("x"),y:r("y"),z:r("z")},color:{valType:"color",role:"style",dflt:o.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",role:"info",dflt:!1,description:["An alternate to *color*.","Determines whether or not the contour lines are colored using","the trace *colorscale*."].join(" ")},width:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not contour lines about the",e,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",role:"style",dflt:o.defaultLine,description:"Sets the color of the highlighted contour lines."},highlightwidth:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var o=n(3),a=n(56),s=n(32),l=n(8).extendFlat;e.exports={z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"data_array",description:"Sets the text elements associated with each z value."},surfacecolor:{valType:"data_array",description:["Sets the surface color values,","used for setting a color scale independent of `z`."].join(" ")},cauto:a.zauto,cmin:a.zmin,cmax:a.zmax,colorscale:a.colorscale,autocolorscale:l({},a.autocolorscale,{dflt:!1}),reversescale:a.reversescale,showscale:a.showscale,colorbar:s,contours:{x:i("x"),y:i("y"),z:i("z")},hidesurface:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a surface is drawn.","For example, set `hidesurface` to *false*","`contours.x.show` to *true* and","`contours.y.show` to *true* to draw a wire frame plot."].join(" ")},lightposition:{x:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},y:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:1e4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},specular:{valType:"number",role:"style",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",role:"style",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",role:"style",min:0,max:5,dflt:.2,description:["Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective","when viewing it from the edge of the paper (almost 90 degrees), causing shine."].join(" ")}},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the surface."},_deprecated:{zauto:l({},a.zauto,{description:"Obsolete. Use `cauto` instead."}),zmin:l({},a.zmin,{description:"Obsolete. Use `cmin` instead."}),zmax:l({},a.zmax,{description:"Obsolete. Use `cmax` instead."})}}},function(e,t,n){e.exports=n(1568)()},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(m(e,i,r),i===n)break;i=o}}function l(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(p(i,n),l(r,i,t)):l(r,e,t)}var c=n(129),f=n(1583),h=(n(28),n(58),n(367)),d=n(242),p=n(656),m=h(function(e,t,n){e.insertBefore(t,n)}),v=f.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":o(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":d(e,s.content);break;case"TEXT_CONTENT":p(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};e.exports=g},function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1||a("96",e),!u.plugins[n]){t.extractEvents||a("97",e),u.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)||a("98",o,e)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]&&a("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(18),s=(n(10),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(l[n]&&a("102",n),l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=u.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&p("103"),e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function f(e){return!!e._dispatchListeners}var h,d,p=n(18),m=n(365),v=(n(10),n(15),{injectComponentTree:function(e){h=e},injectTreeTraversal:function(e){d=e}}),g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:f,getInstanceFromNode:function(e){return h.getInstanceFromNode(e)},getNodeFromInstance:function(e){return h.getNodeFromInstance(e)},isAncestor:function(e,t){return d.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return d.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return d.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return d.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return d.traverseEnterLeave(e,t,n,r,i)},injection:v};e.exports=g},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function i(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function o(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(18),l=n(1612),u=n(635),c=n(132),f=u(c.isValidElement),h=(n(10),n(15),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:f.func},p={},m={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var i=d[r](t,r,e,"prop",null,l);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(18),i=(n(10),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&r("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){l.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(18),s=(n(82),n(181)),l=(n(58),n(70)),u=(n(10),n(15),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var i=o(e);if(!i)return null;i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],r(i)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=o(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(u.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){(n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!==typeof e&&a("122",t,i(e))}});e.exports=u},function(e,t,n){"use strict";var r=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=r},function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return!!r&&!!n[r]}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"===typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(42);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=r},function(e,t,n){"use strict";var r=(n(11),n(49)),i=(n(15),r);e.exports=i},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=n(134),o=n(375),a=(n(660),n(148));n(10),n(15);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";var r=(n(15),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,a=i(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:a}:null==r?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:r,properties:o,geometry:a}}function i(e,t){function r(e,t){t.length&&t.pop();for(var r=h[e<0?~e:e],i=0,a=r.length;i<a;++i)t.push(f(r[i].slice(),i));e<0&&n.i(o.a)(t,a)}function i(e){return f(e.slice())}function s(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function l(e){for(var t=s(e);t.length<4;)t.push(t[0].slice());return t}function u(e){return e.map(l)}function c(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(c)};case"Point":t=i(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(i);break;case"LineString":t=s(e.arcs);break;case"MultiLineString":t=e.arcs.map(s);break;case"Polygon":t=u(e.arcs);break;case"MultiPolygon":t=e.arcs.map(u);break;default:return null}return{type:n,coordinates:t}}var f=n.i(a.a)(e),h=e.arcs;return c(t)}t.b=i;var o=n(1696),a=n(377);t.a=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return r(e,t)})}:r(e,t)}},function(e,t,n){"use strict";var r=n(670);t.a=function(e){if(null==(t=e.transform))return r.a;var t,n,i,o=t.scale[0],a=t.scale[1],s=t.translate[0],l=t.translate[1];return function(e,t){return t||(n=i=0),e[0]=(n+=e[0])*o+s,e[1]=(i+=e[1])*a+l,e}}},function(e,t,n){"use strict";function r(e,t){return"object"===typeof t&&null!==t||(t={}),i(e,t.canvas||o,t.context||a,t)}e.exports=r;var i=n(1702),o=null,a=null;"undefined"!==typeof document&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,a=o.getContext("2d"))},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(124),s=i.default.createClass({displayName:"CommentCardItem",getInitialState:function(){return{closed:!0}},handleToggle:function(){this.setState({closed:!this.state.closed})},render:function(){var e=a(this.props.date).year()!==a().year(),t=this.props.date?a(this.props.date).format(e?"D MMM YY":"D MMM"):"";return i.default.createElement("div",{className:"comment-card "+(this.props.checkbox?"comment-card-with-checkbox":null),key:o.uniqueId()},this.props.checkbox?i.default.createElement("div",{className:"comment-card-checkbox"},this.props.checkbox):i.default.createElement("div",null),i.default.createElement("div",{className:"comment-card-meta"},i.default.createElement("div",{className:"comment-card-icon"+(this.props.iconWrapperClass||""),style:this.props.iconStyle},i.default.createElement("i",{className:"fa fa-"+this.props.iconName}))),i.default.createElement("div",{className:"comment-card-content"},i.default.createElement("h5",{className:"meta color-warning comment-card-title"},this.props.title),i.default.createElement("h5",{className:"meta comment-card-date"},t),i.default.createElement("div",null,this.props.visibleContent),i.default.createElement("div",{className:"comment-card-hidden "+(this.state.closed?"":"active")},this.props.hiddenContent),this.props.hiddenContent&&this.props.hiddenContent.length>0?i.default.createElement("a",{className:"comment-card-toggle",onClick:this.handleToggle},i.default.createElement("i",{className:"fa "+(this.state.closed?"fa-plus":"fa-minus")})," View ",this.state.closed?"More":"Less"):null))}}),l=i.default.createClass({displayName:"CommentCardGroup",render:function(){return i.default.createElement("div",{className:"comment-card-group"+(this.props.isTight?" comment-card-group--tight":"")},this.props.title?i.default.createElement("span",{className:"comment-card-group-title"},"this.props.title"):"",this.props.comments.map(function(e){return i.default.createElement(s,e)}))}});e.exports=l},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.createClass({displayName:"ListTable",render:function(){var e=this.props.listItems||[];return i.default.createElement("div",{className:"list-table list-table--simple"},i.default.createElement("table",{className:"no-border list-table"},i.default.createElement("thead",{className:"no-border-x no-border-y"},i.default.createElement("tr",{className:"list-table-header"},i.default.createElement("th",null,i.default.createElement("div",{className:"list-table-header-cell"},this.props.title)))),i.default.createElement("tbody",null,i.default.createElement("tr",{className:"list-table-content"},i.default.createElement("td",{className:"list-table-content-column"},i.default.createElement("div",{className:"list-table-column-wrapper"},i.default.createElement("table",{className:"no-border list-table-column"},i.default.createElement("tbody",{className:"no-border-x no-border-y"},e.map(function(e){return i.default.createElement("tr",{className:"list-table-name-row"},i.default.createElement("td",null,e))})))))))))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1730);Object.defineProperty(t,"ActivityFeed",{enumerable:!0,get:function(){return r(i).default}});var o=n(1731);Object.defineProperty(t,"AttributeSelector",{enumerable:!0,get:function(){return r(o).default}});var a=n(246);Object.defineProperty(t,"colors",{enumerable:!0,get:function(){return r(a).default}});var s=n(379);Object.defineProperty(t,"CommentCardGroup",{enumerable:!0,get:function(){return r(s).default}});var l=n(1732);Object.defineProperty(t,"CommentCardHistoryList",{enumerable:!0,get:function(){return r(l).default}});var u=n(1733);Object.defineProperty(t,"ComplexBarChart",{enumerable:!0,get:function(){return r(u).default}});var c=n(1734);Object.defineProperty(t,"GroupingsListTable",{enumerable:!0,get:function(){return r(c).default}});var f=n(1735);Object.defineProperty(t,"Heatmap",{enumerable:!0,get:function(){return r(f).default}});var h=n(1736);Object.defineProperty(t,"Histogram",{enumerable:!0,get:function(){return r(h).default}});var d=n(1737);Object.defineProperty(t,"IconButton",{enumerable:!0,get:function(){return r(d).default}});var p=n(1738);Object.defineProperty(t,"List",{enumerable:!0,get:function(){return r(p).default}});var m=n(1739);Object.defineProperty(t,"ListBody",{enumerable:!0,get:function(){return r(m).default}});var v=n(1740);Object.defineProperty(t,"ListHeader",{enumerable:!0,get:function(){return r(v).default}});var g=n(380);Object.defineProperty(t,"ListTable",{enumerable:!0,get:function(){return r(g).default}});var y=n(1741);Object.defineProperty(t,"LoadingModal",{enumerable:!0,get:function(){return r(y).default}});var b=n(1743);Object.defineProperty(t,"MultipleChoiceResponse",{enumerable:!0,get:function(){return r(b).default}});var x=n(1744);Object.defineProperty(t,"MultipleChoiceResult",{enumerable:!0,get:function(){return r(x).default}});var _=n(1742);Object.defineProperty(t,"MultiSelectSort",{enumerable:!0,get:function(){return r(_).default}});var w=n(1745);Object.defineProperty(t,"NameCreator",{enumerable:!0,get:function(){return r(w).default}});var M=n(677);Object.defineProperty(t,"PercentPieChart",{enumerable:!0,get:function(){return r(M).default}});var k=n(678);Object.defineProperty(t,"Popover",{enumerable:!0,get:function(){return r(k).default}});var E=n(1746);Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return r(E).default}});var S=n(1747);Object.defineProperty(t,"ResponseItem",{enumerable:!0,get:function(){return r(S).default}});var T=n(1748);Object.defineProperty(t,"Rubric",{enumerable:!0,get:function(){return r(T).default}});var A=n(1749);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return r(A).default}});var C=n(1750);Object.defineProperty(t,"SearchWithFilters",{enumerable:!0,get:function(){return r(C).default}});var D=n(1751);Object.defineProperty(t,"SurveysExploreList",{enumerable:!0,get:function(){return r(D).default}});var O=n(1752);Object.defineProperty(t,"SurveysList",{enumerable:!0,get:function(){return r(O).default}});var P=n(679);Object.defineProperty(t,"Tag",{enumerable:!0,get:function(){return r(P).default}});var L=n(1753);Object.defineProperty(t,"Timeline",{enumerable:!0,get:function(){return r(L).default}});var I=n(1754);Object.defineProperty(t,"ViewMore",{enumerable:!0,get:function(){return r(I).default}})},function(e,t,n){"use strict";var r=n(696),i=n(697),o=n(688),a=n(683),s=n(687),l=n(686),u=n(684),c=n(685),f=n(682);t.a=[{component:r.a,linkName:"Home",path:"/",exact:!0},{component:i.a,linkName:"Report Builder",path:"/report-builder"},{component:o.a,linkName:"Events",path:"/events/admin/",exact:!0},{component:f.a,linkName:"Saving Buttons",path:"/buttons/saving/",exact:!0},{component:a.a,path:"/events/admin/browse-upcoming"},{component:s.a,path:"/events/admin/manage"},{component:l.a,path:"/events/admin/view/:id"},{component:u.a,path:"/events/admin/create"},{component:c.a,path:"/events/admin/edit"}]},function(e,t,n){"use strict";var r=n(47),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(724),a=n(746),s=n(395),l=function(){function e(t,n,i){r(this,e),this._isDragging=!1,this._animationFrameID=null,this._domNode=i,this._onMove=t,this._onMoveEnd=n,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return i(e,[{key:"captureMouseMoves",value:function(e){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=o.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=o.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=e.clientX,this._y=e.clientY),e.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(a(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(e){var t=e.clientX,n=e.clientY;this._deltaX+=t-this._x,this._deltaY+=n-this._y,null===this._animationFrameID&&(this._animationFrameID=s(this._didMouseMove)),this._x=t,this._y=n,e.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),e}();e.exports=l},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(35),i=r.createClass({displayName:"TransitionColumn",statics:{__TableColumn__:!0},render:function(){return null}});e.exports=i},function(e,t,n){"use strict";var r=n(35),i=r.createClass({displayName:"TransitionColumnGroup",statics:{__TableColumnGroup__:!0},render:function(){return null}});e.exports=i},function(e,t,n){"use strict";function r(e){return null===e||void 0===e?"":String(e)}function i(e,t){s.Children.forEach(e,function(e){e.type===l?i(e.props.children,t):e.type===u&&t(e)})}function o(e,t){var n=[];return s.Children.forEach(e,function(e){var r=e;if(e.type===l){var o=!1,a=[];i(e.props.children,function(e){var n=t(e);n!==e&&(o=!0),a.push(n)}),o&&(r=s.cloneElement(e,{children:a}))}else e.type===u&&(r=t(e));n.push(r)}),n}var a=n(392),s=n(35),l=n(389),u=n(388),c=a.isRTL()?-1:1,f={DIR_SIGN:c,CELL_VISIBILITY_TOLERANCE:5,renderToString:r,forEachColumn:i,mapColumns:o};e.exports=f},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(35),o=n(728),a=n(71),s=n(109),l=n(139),u=n(19),c=i.createClass({displayName:"FixedDataTableRowImpl",propTypes:{isScrolling:u.bool,fixedColumns:u.array.isRequired,height:u.number.isRequired,index:u.number.isRequired,scrollableColumns:u.array.isRequired,scrollLeft:u.number.isRequired,width:u.number.isRequired,onClick:u.func,onDoubleClick:u.func,onColumnResize:u.func},render:function(){var e={width:this.props.width,height:this.props.height},t=a({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2===1,"public/fixedDataTableRow/odd":this.props.index%2===1,"public/fixedDataTableRow/even":this.props.index%2===0}),n=this._getColumnsWidth(this.props.fixedColumns),r=i.createElement(o,{key:"fixed_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:0,width:n,zIndex:2,columns:this.props.fixedColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),l=this._renderColumnsShadow(n),u=i.createElement(o,{key:"scrollable_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:this.props.scrollLeft,offsetLeft:n,width:this.props.width-n,zIndex:0,columns:this.props.scrollableColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return i.createElement("div",{className:s(t,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:e},i.createElement("div",{className:a("fixedDataTableRowLayout/body")},r,u,l))},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t},_renderColumnsShadow:function(e){if(e>0){var t=a({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),n={left:e,height:this.props.height};return i.createElement("div",{className:t,style:n})}},_onClick:function(e){this.props.onClick(e,this.props.index)},_onDoubleClick:function(e){this.props.onDoubleClick(e,this.props.index)},_onMouseDown:function(e){this.props.onMouseDown(e,this.props.index)},_onMouseEnter:function(e){this.props.onMouseEnter(e,this.props.index)},_onMouseLeave:function(e){this.props.onMouseLeave(e,this.props.index)}}),f=i.createClass({displayName:"FixedDataTableRow",propTypes:{isScrolling:u.bool,height:u.number.isRequired,zIndex:u.number,offsetTop:u.number.isRequired,width:u.number.isRequired},render:function(){var e={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return l(e,0,this.props.offsetTop),i.createElement("div",{style:e,className:a("fixedDataTableRowLayout/rowWrapper")},i.createElement(c,r({},this.props,{offsetTop:void 0,zIndex:void 0})))}});e.exports=f},function(e,t,n){"use strict";var r={isRTL:function(){return!1},getDirection:function(){return"LTR"}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(108),a=n(751),s=n(395),l=function(){function e(t,n,i,a){r(this,e),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!==typeof n&&(n=n?o.thatReturnsTrue:o.thatReturnsFalse),"function"!==typeof i&&(i=i?o.thatReturnsTrue:o.thatReturnsFalse),"function"!==typeof a&&(a=a?o.thatReturnsTrue:o.thatReturnsFalse),this._handleScrollX=n,this._handleScrollY=i,this._stopPropagation=a,this._onWheelCallback=t,this.onWheel=this.onWheel.bind(this)}return i(e,[{key:"onWheel",value:function(e){var t=a(e),n=this._deltaX+t.pixelX,r=this._deltaY+t.pixelY,i=this._handleScrollX(n,r),o=this._handleScrollY(r,n);if(i||o){this._deltaX+=i?t.pixelX:0,this._deltaY+=o?t.pixelY:0,e.preventDefault();var l;0===this._deltaX&&0===this._deltaY||(this._stopPropagation()&&e.stopPropagation(),l=!0),!0===l&&null===this._animationFrameID&&(this._animationFrameID=s(this._didWheel))}}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),e}();e.exports=l},function(e,t,n){"use strict";function r(e){for(var t=0;t<u.length;t++){var n=u[t]+e;if(n in f)return n}return null}function i(e){var t=a(e);if(void 0===l[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);c.test(n)&&s(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",e),l[t]=t in f?t:r(n)}return l[t]}var o=n(387),a=n(745),s=n(138),l={},u=["Webkit","ms","Moz","O"],c=new RegExp("^("+u.join("|")+")"),f=o.canUseDOM?document.createElement("div").style:{};e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(108),i=n(750),o=0,a=i||function(e){var n=Date.now(),r=Math.max(0,16-(n-o));return o=n+r,t.setTimeout(function(){e(Date.now())},r)};a(r),e.exports=a}).call(t,n(29))},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=i.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return g=e,y}}function o(e,t){try{return e(t)}catch(e){return g=e,y}}function a(e,t,n){try{e(t,n)}catch(e){return g=e,y}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&m(e,this)}function l(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),u(e,new p(t,n,a))})}function u(e,t){for(;3===e._81;)e=e._65;if(s._10&&s._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);c(e,t)}function c(e,t){v(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):h(t.promise,e._65));var r=o(n,e._65);r===y?h(t.promise,g):f(t.promise,r)})}function f(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===y)return h(e,g);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"===typeof n)return void m(n.bind(t),e)}e._81=1,e._65=t,d(e)}function h(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function p(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))});n||r!==y||(n=!0,h(t,g))}var v=n(706),g=null,y={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(r);return u(this,new p(e,t,n)),n}},function(e,t,n){"use strict";var r=n(767);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){!function(t,r){e.exports=r(n(111),n(7),n(841),n(187))}(0,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(4),h=r(f),d=n(5),p=(r(d),n(19)),m=r(p),v=n(10),g=r(v),y=n(17),b=n(2),x=r(b),_=n(11),w=r(_),M="react-datepicker-ignore-onclickoutside",k=(0,w.default)(c.default),E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcInitialState=function(){var e=n.props.openToDate?(0,x.default)(n.props.openToDate):n.props.selectsEnd&&n.props.startDate?(0,x.default)(n.props.startDate):n.props.selectsStart&&n.props.endDate?(0,x.default)(n.props.endDate):(0,x.default)(),t=(0,y.getEffectiveMinDate)(n.props),r=(0,y.getEffectiveMaxDate)(n.props),i=t&&e.isBefore(t)?t:r&&e.isAfter(r)?r:e;return{open:!1,preventFocus:!1,preSelection:n.props.selected?(0,x.default)(n.props.selected):i}},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.refs.input.focus()},n.setOpen=function(e){n.setState({open:e,preSelection:e&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection})},n.handleFocus=function(e){n.state.preventFocus||(n.props.onFocus(e),n.setOpen(!0))},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=window.setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(e){n.state.open?n.deferFocusInput():n.props.onBlur(e)},n.handleCalendarClickOutside=function(e){n.setOpen(!1),n.props.onClickOutside(e),n.props.withPortal&&e.preventDefault()},n.handleChange=function(e){if(!n.props.onChangeRaw||(n.props.onChangeRaw(e),!e.isDefaultPrevented())){n.setState({inputValue:e.target.value});var t=(0,y.parseDate)(e.target.value,n.props);!t&&e.target.value||n.setSelected(t,e,!0)}},n.handleSelect=function(e,t){n.setState({preventFocus:!0},function(){return n.preventFocusTimeout=setTimeout(function(){return n.setState({preventFocus:!1})},50),n.preventFocusTimeout}),n.setSelected(e,t),n.setOpen(!1)},n.setSelected=function(e,t,r){var i=e;null!==i&&(0,y.isDayDisabled)(i,n.props)||((0,y.isSameDay)(n.props.selected,i)||(null!==i&&(n.props.selected&&(i=(0,x.default)(i).set({hour:n.props.selected.hour(),minute:n.props.selected.minute(),second:n.props.selected.second()})),n.setState({preSelection:i})),n.props.onChange(i,t)),n.props.onSelect(i,t),r||n.setState({inputValue:null}))},n.setPreSelection=function(e){(!("undefined"!=typeof n.props.minDate&&"undefined"!=typeof n.props.maxDate)||!e||(0,y.isDayInRange)(e,n.props.minDate,n.props.maxDate))&&n.setState({preSelection:e})},n.onInputClick=function(){n.props.disabled||n.setOpen(!0)},n.onInputKeyDown=function(e){if(!n.state.open&&!n.props.inline)return void n.onInputClick();var t=(0,x.default)(n.state.preSelection);if("Enter"===e.key?(e.preventDefault(),n.handleSelect(t,e)):"Escape"===e.key?(e.preventDefault(),n.setOpen(!1)):"Tab"===e.key&&n.setOpen(!1),!n.props.disabledKeyboardNavigation){var r=void 0;switch(e.key){case"ArrowLeft":e.preventDefault(),r=t.subtract(1,"days");break;case"ArrowRight":e.preventDefault(),r=t.add(1,"days");break;case"ArrowUp":e.preventDefault(),r=t.subtract(1,"weeks");break;case"ArrowDown":e.preventDefault(),r=t.add(1,"weeks");break;case"PageUp":e.preventDefault(),r=t.subtract(1,"months");break;case"PageDown":e.preventDefault(),r=t.add(1,"months");break;case"Home":e.preventDefault(),r=t.subtract(1,"years");break;case"End":e.preventDefault(),r=t.add(1,"years")}n.setPreSelection(r)}},n.onClearClick=function(e){e.preventDefault(),n.props.onChange(null,e)},n.renderCalendar=function(){return n.props.inline||n.state.open&&!n.props.disabled?h.default.createElement(k,{ref:"calendar",locale:n.props.locale,dateFormat:n.props.dateFormatCalendar,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,highlightDates:n.props.highlightDates,includeDates:n.props.includeDates,inline:n.props.inline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,forceShowMonthNavigation:n.props.forceShowMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,todayButton:n.props.todayButton,utcOffset:n.props.utcOffset,outsideClickIgnoreClass:M,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,className:n.props.calendarClassName},n.props.children):null},n.renderDateInput=function(){var e=(0,g.default)(n.props.className,i({},M,n.state.open)),t=n.props.customInput||h.default.createElement("input",{type:"text"}),r="string"==typeof n.props.value?n.props.value:"string"==typeof n.state.inputValue?n.state.inputValue:(0,y.safeDateFormat)(n.props.selected,n.props);return h.default.cloneElement(t,{ref:"input",value:r,onBlur:n.handleBlur,onChange:n.handleChange,onClick:n.onInputClick,onFocus:n.handleFocus,onKeyDown:n.onInputKeyDown,id:n.props.id,name:n.props.name,autoFocus:n.props.autoFocus,placeholder:n.props.placeholderText,disabled:n.props.disabled,autoComplete:n.props.autoComplete,className:e,title:n.props.title,readOnly:n.props.readOnly,required:n.props.required,tabIndex:n.props.tabIndex})},n.renderClearButton=function(){return n.props.isClearable&&null!=n.props.selected?h.default.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:n.onClearClick}):null},n.state=n.calcInitialState(),n}return s(t,e),l(t,null,[{key:"defaultProps",get:function(){return{dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},popoverAttachment:"top left",popoverTargetAttachment:"bottom left",popoverTargetOffset:"10px 0",tetherConstraints:[{to:"window",attachment:"together"}],utcOffset:(0,x.default)().utcOffset(),monthsShown:1,withPortal:!1}}}]),l(t,[{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?h.default.createElement("div",null,this.props.inline?null:h.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?h.default.createElement("div",{className:"react-datepicker__portal"},e):null):h.default.createElement(m.default,{classPrefix:"react-datepicker__tether",attachment:this.props.popoverAttachment,targetAttachment:this.props.popoverTargetAttachment,targetOffset:this.props.popoverTargetOffset,renderElementTo:this.props.renderCalendarTo,constraints:this.props.tetherConstraints},h.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),e)}}]),t}(h.default.Component);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(3),f=r(c),h=n(12),d=r(h),p=n(14),m=r(p),v=n(4),g=r(v),y=n(5),b=(r(y),n(10)),x=r(b),_=n(17),w=["react-datepicker__year-select","react-datepicker__month-select"],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return w.some(function(e){return t.indexOf(e)>=0})},k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickOutside=function(e){n.props.onClickOutside(e)},n.handleDropdownFocus=function(e){M(e.target)&&n.props.onDropdownFocus()},n.getDateInView=function(){var e=n.props,t=e.preSelection,r=e.selected,i=e.openToDate,o=e.utcOffset,a=(0,_.getEffectiveMinDate)(n.props),s=(0,_.getEffectiveMaxDate)(n.props),l=u.default.utc().utcOffset(o),c=t||r;return c||(a&&s&&i&&i.isBetween(a,s)?i:a&&i&&i.isAfter(a)?i:a&&a.isAfter(l)?a:s&&i&&i.isBefore(s)?i:s&&s.isBefore(l)?s:i||l)},n.localizeMoment=function(e){return e.clone().locale(n.props.locale||u.default.locale())},n.increaseMonth=function(){n.setState({date:n.state.date.clone().add(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState({date:n.state.date.clone().subtract(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(e,t){return n.props.onSelect(e,t)},n.handleDayMouseEnter=function(e){return n.setState({selectingDate:e})},n.handleMonthMouseLeave=function(){return n.setState({selectingDate:null})},n.handleMonthChange=function(e){n.props.onMonthChange&&n.props.onMonthChange(e)},n.changeYear=function(e){n.setState({date:n.state.date.clone().set("year",e)})},n.changeMonth=function(e){n.setState({date:n.state.date.clone().set("month",e)},function(){return n.handleMonthChange(n.state.date)})},n.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=e.clone().startOf("week"),r=[];return n.props.showWeekNumbers&&r.push(g.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},"#")),r.concat([0,1,2,3,4,5,6].map(function(e){var n=t.clone().add(e,"days");return g.default.createElement("div",{key:e,className:"react-datepicker__day-name"},n.localeData().weekdaysMin(n))}))},n.renderPreviousMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,_.allDaysDisabledBefore)(n.state.date,"month",n.props))return g.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:n.decreaseMonth})},n.renderNextMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,_.allDaysDisabledAfter)(n.state.date,"month",n.props))return g.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--next",onClick:n.increaseMonth})},n.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=["react-datepicker__current-month"];return n.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),g.default.createElement("div",{className:t.join(" ")},e.format(n.props.dateFormat))},n.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showYearDropdown&&!e)return g.default.createElement(f.default,{dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:n.state.date.year(),scrollableYearDropdown:n.props.scrollableYearDropdown})},n.renderMonthDropdown=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],n.props.showMonthDropdown)return g.default.createElement(d.default,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonth,month:n.state.date.month()})},n.renderTodayButton=function(){if(n.props.todayButton)return g.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return n.props.onSelect(u.default.utc().utcOffset(n.props.utcOffset).startOf("date"),e)}},n.props.todayButton)},n.renderMonths=function(){for(var e=[],t=0;t<n.props.monthsShown;++t){var r=n.state.date.clone().add(t,"M"),i="month-"+t;e.push(g.default.createElement("div",{key:i,className:"react-datepicker__month-container"},g.default.createElement("div",{className:"react-datepicker__header"},n.renderCurrentMonth(r),g.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+n.props.dropdownMode,onFocus:n.handleDropdownFocus},n.renderMonthDropdown(0!==t),n.renderYearDropdown(0!==t)),g.default.createElement("div",{className:"react-datepicker__day-names"},n.header(r))),g.default.createElement(m.default,{day:r,onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,highlightDates:n.props.highlightDates,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,inline:n.props.inline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,utcOffset:n.props.utcOffset})))}return e},n.state={date:n.localizeMoment(n.getDateInView()),selectingDate:null},n}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},utcOffset:u.default.utc().utcOffset(),monthsShown:1,forceShowMonthNavigation:!1}}}]),s(t,[{key:"componentWillReceiveProps",value:function(e){e.preSelection&&!(0,_.isSameDay)(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeMoment(e.preSelection)}):e.openToDate&&!(0,_.isSameDay)(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeMoment(e.openToDate)})}},{key:"render",value:function(){return g.default.createElement("div",{className:(0,x.default)("react-datepicker",this.props.className)},g.default.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.props.children)}}]),t}(g.default.Component);t.default=k},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),n(9)),h=r(f),d=n(11),p=r(d),m=(0,p.default)(h.default),v=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?r.props.minDate.year():1900,t=r.props.maxDate?r.props.maxDate.year():2100,n=[],i=e;i<=t;i++)n.push(u.default.createElement("option",{key:i,value:i},i));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return u.default.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return u.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},u.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),u.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return u.default.createElement(m,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,scrollableYearDropdown:r.props.scrollableYearDropdown})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(){r.setState({dropdownVisible:!r.state.dropdownVisible})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return u.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)}}]),t}(u.default.Component);t.default=v},function(e,n){e.exports=t},function(e,t,n){e.exports=n(6)()},function(e,t,n){"use strict";var r=n(7),i=n(8);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){for(var n=[],r=0;r<2*t;r++)n.push(e+t-r);return n}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),f=n(5),h=(r(f),n(10)),d=r(h),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return c.default.createElement("div",{className:"react-datepicker__year-option",key:t,ref:t,onClick:n.onChange.bind(n,t)},e===t?c.default.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)});return t.unshift(c.default.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:n.incrementYears},c.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),t.push(c.default.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:n.decrementYears},c.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)},n.state={yearsList:n.props.scrollableYearDropdown?s(n.props.year,10):s(n.props.year,5)},n}return a(t,e),l(t,[{key:"render",value:function(){var e=(0,d.default)({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return c.default.createElement("div",{className:e},this.renderOptions())}}]),t}(c.default.Component);t.default=p},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),n(13)),h=r(f),d=n(11),p=r(d),m=n(2),v=r(m),g=(0,p.default)(h.default),y=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map(function(e,t){return u.default.createElement("option",{key:t,value:t},e)})},r.renderSelectMode=function(e){return u.default.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return u.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},u.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]),u.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}))},r.renderDropdown=function(e){return u.default.createElement(g,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=v.default.localeData(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map(function(n){return t.months((0,v.default)({M:n}),e.props.dateFormat)}),r=void 0;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n)}return u.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},r)}}]),t}(u.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderOptions=function(){return r.props.monthNames.map(function(e,t){return u.default.createElement("div",{className:"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?u.default.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),t}(u.default.Component));t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),n(10)),h=r(f),d=n(15),p=r(d),m=6,v=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isWeekInMonth=function(e){var t=r.props.day,n=e.clone().add(6,"days");return e.isSame(t,"month")||n.isSame(t,"month")},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=r.props.day.clone().startOf("month").startOf("week"),i=0,o=!1;e.push(u.default.createElement(p.default,{key:i,day:n,month:r.props.day.month(),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,utcOffset:r.props.utcOffset})),!o;){i++,n=n.clone().add(1,"weeks");var a=t&&i>=m,s=!t&&!r.isWeekInMonth(n);if(a||s){if(!r.props.peekNextMonth)break;o=!0}}return e},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,i=e.selectsEnd;return(0,h.default)("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||i)})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())}}]),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),n(16)),h=r(f),d=n(18),p=r(d),m=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.renderDays=function(){var e=r.props.day.clone().startOf("week"),t=[];return r.props.showWeekNumber&&t.push(u.default.createElement(p.default,{key:"W",weekNumber:parseInt(e.format("w"),10)})),t.concat([0,1,2,3,4,5,6].map(function(t){var n=e.clone().add(t,"days");return u.default.createElement(h.default,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,utcOffset:r.props.utcOffset})}))},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}]),t}(u.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(4),f=r(c),h=n(5),d=(r(h),n(10)),p=r(d),m=n(17),v=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return(0,m.isSameDay)(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return(0,m.isDayDisabled)(r.props.day,r.props)},r.isHighlighted=function(){var e=r.props,t=e.day,n=e.highlightDates;return!!n&&n.some(function(e){return(0,m.isSameDay)(t,e)})},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,m.isDayInRange)(t,n,i)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,i=e.selectsEnd,o=e.selectingDate,a=e.startDate,s=e.endDate;return!(!n&&!i||!o||r.isDisabled())&&(n&&s&&o.isSameOrBefore(s)?(0,m.isDayInRange)(t,o,s):!!(i&&a&&o.isSameOrAfter(a))&&(0,m.isDayInRange)(t,a,o))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.startDate;return e.selectsStart?(0,m.isSameDay)(t,n):(0,m.isSameDay)(t,i)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.endDate;return e.selectsEnd?(0,m.isSameDay)(t,n):(0,m.isSameDay)(t,i)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,m.isSameDay)(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,m.isSameDay)(i,t)},r.isWeekend=function(){var e=r.props.day.day();return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==r.props.day.month()},r.getClassNames=function(){return(0,p.default)("react-datepicker__day",{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--highlighted":r.isHighlighted(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(u.default.utc().utcOffset(r.props.utcOffset)),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return f.default.createElement("div",{className:this.getClassNames(),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+this.props.day.date(),role:"option"},this.props.day.date())}}]),t}(f.default.Component);v.defaultProps={utcOffset:u.default.utc().utcOffset()},t.default=v},function(e,t,n){"use strict";function r(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function i(e,t){return e&&t?e.utcOffset()===t.utcOffset():!e&&!t}function o(e,t,n){var r=t.clone().startOf("day").subtract(1,"seconds"),i=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(r,i)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,i=t.maxDate,o=t.excludeDates,a=t.includeDates,s=t.filterDate;return n&&e.isBefore(n,"day")||i&&e.isAfter(i,"day")||o&&o.some(function(t){return r(e,t)})||a&&!a.some(function(t){return r(e,t)})||s&&!s(e.clone())||!1}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.minDate,i=n.includeDates,o=e.clone().subtract(1,t);return r&&o.isBefore(r,t)||i&&i.every(function(e){return o.isBefore(e,t)})||!1}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxDate,i=n.includeDates,o=e.clone().add(1,t);return r&&o.isAfter(r,t)||i&&i.every(function(e){return o.isAfter(e,t)})||!1}function u(e){var t=e.minDate,n=e.includeDates;return n&&t?p.default.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?p.default.min(n):t}function c(e){var t=e.maxDate,n=e.includeDates;return n&&t?p.default.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?p.default.max(n):t}function f(e,t){var n=t.dateFormat,r=t.locale,i=(0,p.default)(e,n,r||p.default.locale(),!0);return i.isValid()?i:null}function h(e,t){var n=t.dateFormat,r=t.locale;return e&&e.clone().locale(r||p.default.locale()).format(Array.isArray(n)?n[0]:n)||""}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameDay=r,t.isSameUtcOffset=i,t.isDayInRange=o,t.isDayDisabled=a,t.allDaysDisabledBefore=s,t.allDaysDisabledAfter=l,t.getEffectiveMinDate=u,t.getEffectiveMaxDate=c,t.parseDate=f,t.safeDateFormat=h;var d=n(2),p=function(e){return e&&e.__esModule?e:{default:e}}(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=r(l),c=n(5),f=(r(c),function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"react-datepicker__week-number","aria-label":"week-"+this.props.weekNumber},this.props.weekNumber)}}]),t}(u.default.Component));t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=r(c),h=n(5),d=(r(h),n(20)),p=r(d),m=n(21),v=r(m),g=function(e){function t(){var e,n,r,s;o(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.disable=function(){return r._tether.disable()},r.enable=function(){return r._tether.enable()},r.position=function(){return r._tether.position()},r._destroy=function(){r._elementParentNode&&(p.default.unmountComponentAtNode(r._elementParentNode),r._elementParentNode.parentNode.removeChild(r._elementParentNode)),r._tether&&r._tether.destroy(),r._elementParentNode=null,r._tether=null},r._update=function(){var e=r.props,t=e.children,n=e.renderElementTag,i=e.renderElementTo,o=t[1];if(!o)return void(r._tether&&r._destroy());if(!r._elementParentNode){r._elementParentNode=document.createElement(n);(i||document.body).appendChild(r._elementParentNode)}p.default.unstable_renderSubtreeIntoContainer(r,o,r._elementParentNode,function(){r._updateTether()})},r._updateTether=function(){var e=r.props,t=(e.renderElementTag,e.renderElementTo,i(e,["renderElementTag","renderElementTo"])),n=l({target:r._targetNode,element:r._elementParentNode},t);r._tether?r._tether.setOptions(n):r._tether=new v.default(n),r._tether.position()},s=n,a(r,s)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this._targetNode=p.default.findDOMNode(this),this._update()}},{key:"componentDidUpdate",value:function(){this._update()}},{key:"componentWillUnmount",value:function(){this._destroy()}},{key:"render",value:function(){var e=this.props.children,t=null;return f.default.Children.forEach(e,function(e,n){if(0===n)return t=e,!1}),t}}]),t}(f.default.Component);g.defaultProps={renderElementTag:"div",renderElementTo:null},t.default=g},function(e,t){e.exports=r},function(e,t,n){var r,i;!function(o,a){r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=e.getBoundingClientRect(),n={};for(var r in t)n[r]=t[r];if(e.ownerDocument!==document){var o=e.ownerDocument.defaultView.frameElement;if(o){var a=i(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(e){var t=getComputedStyle(e)||{},n=t.position,r=[];if("fixed"===n)return[e];for(var i=e;(i=i.parentNode)&&i&&1===i.nodeType;){var o=void 0;try{o=getComputedStyle(i)}catch(e){}if("undefined"==typeof o||null===o)return r.push(i),r;var a=o,s=a.overflow,l=a.overflowX;/(auto|scroll)/.test(s+a.overflowY+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&r.push(i)}return r.push(e.ownerDocument.body),e.ownerDocument!==document&&r.push(e.ownerDocument.defaultView),r}function a(){E&&document.body.removeChild(E),E=null}function s(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,r=i(e),o=A();return r.top-=o.top,r.left-=o.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function l(e){return e.offsetParent||document.documentElement}function u(){if(C)return C;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");c(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);var i=n-r;return C={width:i,height:i}}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function f(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=p(e).replace(n," ");m(e,r)}}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{f(e,t);var n=p(e)+" "+t;m(e,n)}}function d(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=p(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function p(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function m(e,t){e.setAttribute("class",t)}function v(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&d(e,n)&&f(e,n)}),t.forEach(function(t){d(e,t)||h(e,t)})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function x(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){var n=t.top,r=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof r&&(r=parseFloat(r,10)),e.top+=n,e.left+=r}),e}function _(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function w(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&function(){var e=t,n=s(t),r=n,i=getComputedStyle(t);if(t=[r.left,r.top,n.width+r.left,n.height+r.top],e.ownerDocument!==document){var o=e.ownerDocument.defaultView;t[0]+=o.pageXOffset,t[1]+=o.pageYOffset,t[2]+=o.pageXOffset,t[3]+=o.pageYOffset}Z.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(i["border"+e+"Width"]):t[n]-=parseFloat(i["border"+e+"Width"])})}(),t}var M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=void 0;"undefined"==typeof k&&(k={modules:[]});var E=null,S=function(){var e=0;return function(){return++e}}(),T={},A=function(){var e=E;e&&document.body.contains(e)||(e=document.createElement("div"),e.setAttribute("data-tether-id",S()),c(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),E=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof T[t]&&(T[t]=i(e),O(function(){delete T[t]})),T[t]},C=null,D=[],O=function(e){D.push(e)},P=function(){for(var e=void 0;e=D.pop();)e()},L=function(){function e(){r(this,e)}return M(e,[{key:"on",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],a=o.handler,s=o.ctx,l=o.once,u=s;"undefined"==typeof u&&(u=this),a.apply(u,r),l?this.bindings[e].splice(t,1):++t}}}}]),e}();k.Utils={getActualBoundingClientRect:i,getScrollParents:o,getBounds:s,getOffsetParent:l,extend:c,addClass:h,removeClass:f,hasClass:d,updateClasses:v,defer:O,flush:P,uniqueId:S,Evented:L,getScrollBarSize:u,removeUtilElements:a};var I=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}};if("undefined"==typeof k)throw new Error("You must include the utils.js file before tether.js");var R=k.Utils,o=R.getScrollParents,s=R.getBounds,l=R.getOffsetParent,c=R.extend,h=R.addClass,f=R.removeClass,v=R.updateClasses,O=R.defer,P=R.flush,u=R.getScrollBarSize,a=R.removeUtilElements,j=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var r=t[n];if(void 0!==e.style[r])return r}}(),z=[],F=function(){z.forEach(function(e){e.position(!1)}),P()};!function(){var e=null,t=null,n=null,r=function r(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(r,250))):void("undefined"!=typeof e&&b()-e<10||(null!=n&&(clearTimeout(n),n=null),e=b(),F(),t=b()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,r)})}();var B={center:"center",left:"right",right:"left"},U={middle:"middle",top:"bottom",bottom:"top"},V={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},H=function(e,t){var n=e.left,r=e.top;return"auto"===n&&(n=B[t.left]),"auto"===r&&(r=U[t.top]),{left:n,top:r}},Y=function(e){var t=e.left,n=e.top;return"undefined"!=typeof V[e.left]&&(t=V[e.left]),"undefined"!=typeof V[e.top]&&(n=V[e.top]),{left:t,top:n}},W=function(e){var t=e.split(" "),n=I(t,2);return{top:n[0],left:n[1]}},q=W,G=function(e){function t(e){var n=this;r(this,t),N(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),z.push(this),this.history=[],this.setOptions(e,!1),k.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return g(t,e),M(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(r,e);var i=this.options,a=i.element,s=i.target,l=i.targetModifier;if(this.element=a,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),h(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=q(this.options.targetAttachment),this.attachment=q(this.options.attachment),this.offset=W(this.options.offset),this.targetOffset=W(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=s(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(n);var r=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;i&&(o=15);var a=e.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-o,t={width:15,height:.975*a*(a/n.scrollHeight),left:e.left+e.width-parseFloat(r.borderLeftWidth)-15},l=0;a<408&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var u=this.target.scrollTop/(n.scrollHeight-a);return t.top=u*(a-t.height-l)+e.top+parseFloat(r.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),z.forEach(function(t,n){t===e&&z.splice(n,1)}),0===z.length&&a()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;e.top&&i.push(this.getClass("element-attached")+"-"+e.top),e.left&&i.push(this.getClass("element-attached")+"-"+e.left),t.top&&i.push(this.getClass("target-attached")+"-"+t.top),t.left&&i.push(this.getClass("target-attached")+"-"+t.left);var o=[];r.forEach(function(e){o.push(n.getClass("element-attached")+"-"+e),o.push(n.getClass("target-attached")+"-"+e)}),O(function(){"undefined"!=typeof n._addAttachClasses&&(v(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&v(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=H(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var r=this.cache("element-bounds",function(){return s(e.element)}),i=r.width,o=r.height;if(0===i&&0===o&&"undefined"!=typeof this.lastSize){var a=this.lastSize;i=a.width,o=a.height}else this.lastSize={width:i,height:o};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),f=c,h=_(Y(this.attachment),{width:i,height:o}),d=_(Y(n),f),p=_(this.offset,{width:i,height:o}),m=_(this.targetOffset,f);h=x(h,p),d=x(d,m);for(var v=c.left+d.left-h.left,g=c.top+d.top-h.top,y=0;y<k.modules.length;++y){var b=k.modules[y],w=b.position.call(this,{left:v,top:g,targetAttachment:n,targetPos:c,elementPos:r,offset:h,targetOffset:d,manualOffset:p,manualTargetOffset:m,scrollbarSize:T,attachment:this.attachment});if(!1===w)return!1;"undefined"!=typeof w&&"object"==typeof w&&(g=w.top,v=w.left)}var M={page:{top:g,left:v},viewport:{top:g-pageYOffset,bottom:pageYOffset-g-o+innerHeight,left:v-pageXOffset,right:pageXOffset-v-i+innerWidth}},E=this.target.ownerDocument,S=E.defaultView,T=void 0;return S.innerHeight>E.documentElement.clientHeight&&(T=this.cache("scrollbar-size",u),M.viewport.bottom-=T.height),S.innerWidth>E.documentElement.clientWidth&&(T=this.cache("scrollbar-size",u),M.viewport.right-=T.width),-1!==["","static"].indexOf(E.body.style.position)&&-1!==["","static"].indexOf(E.body.parentElement.style.position)||(M.page.bottom=E.body.scrollHeight-g-o,M.page.right=E.body.scrollWidth-v-i),"undefined"!=typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&"undefined"==typeof this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return s(t)}),r=getComputedStyle(t),i=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(e){o[e.toLowerCase()]=parseFloat(r["border"+e+"Width"])}),n.right=E.body.scrollWidth-n.left-i.width+o.right,n.bottom=E.body.scrollHeight-n.top-i.height+o.bottom,M.page.top>=n.top+o.top&&M.page.bottom>=n.bottom&&M.page.left>=n.left+o.left&&M.page.right>=n.right){var a=t.scrollTop,u=t.scrollLeft;M.offset={top:M.page.top-n.top+a-o.top,left:M.page.left-n.left+u-o.left}}}(),this.move(M),this.history.unshift(M),this.history.length>3&&this.history.pop(),t&&P(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var r in e){n[r]={};for(var i in e[r]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[r]&&!y(s[r][i],e[r][i])){o=!0;break}}o||(n[r][i]=!0)}}var u={top:"",left:"",right:"",bottom:""},f=function(e,n){if(!1!==("undefined"!=typeof t.options.optimizations?t.options.optimizations.gpu:null)){var r=void 0,i=void 0;e.top?(u.top=0,r=n.top):(u.bottom=0,r=-n.bottom),e.left?(u.left=0,i=n.left):(u.right=0,i=-n.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(i=Math.round(i),r=Math.round(r))),u[j]="translateX("+i+"px) translateY("+r+"px)","msTransform"!==j&&(u[j]+=" translateZ(0)")}else e.top?u.top=n.top+"px":u.bottom=n.bottom+"px",e.left?u.left=n.left+"px":u.right=n.right+"px"},h=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",f(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",f(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var r=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==r&&O(function(){t.element.parentNode.removeChild(t.element),r.appendChild(t.element)}),f(n.offset,e.offset),h=!0}():(u.position="absolute",f({top:!0,left:!0},e.page)),!h)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var d=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){d=!1;break}p=p.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},v=!1;for(var i in u){var g=u[i];this.element.style[i]!==g&&(v=!0,m[i]=g)}v&&O(function(){c(t.element.style,m),t.trigger("repositioned")})}}}]),t}(L);G.modules=[],k.position=F;var X=c(G,k),I=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=k.Utils,s=R.getBounds,c=R.extend,v=R.updateClasses,O=R.defer,Z=["left","top","right","bottom"];k.modules.push({position:function(e){var t=this,n=e.top,r=e.left,i=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(t.element)}),a=o.height,l=o.width;if(0===l&&0===a&&"undefined"!=typeof this.lastSize){var u=this.lastSize;l=u.width,a=u.height}var f=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=f.height,d=f.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&p.push(t),n&&p.push(n)}),p.forEach(function(e){["left","top","right","bottom"].forEach(function(t){p.push(e+"-"+t)})});var m=[],g=c({},i),y=c({},this.attachment);return this.options.constraints.forEach(function(e){var o=e.to,s=e.attachment,u=e.pin;"undefined"==typeof s&&(s="");var c=void 0,f=void 0;if(s.indexOf(" ")>=0){var p=s.split(" "),v=I(p,2);f=v[0],c=v[1]}else c=f=s;var b=w(t,o);"target"!==f&&"both"!==f||(n<b[1]&&"top"===g.top&&(n+=h,g.top="bottom"),n+a>b[3]&&"bottom"===g.top&&(n-=h,g.top="top")),"together"===f&&("top"===g.top&&("bottom"===y.top&&n<b[1]?(n+=h,g.top="bottom",n+=a,y.top="top"):"top"===y.top&&n+a>b[3]&&n-(a-h)>=b[1]&&(n-=a-h,g.top="bottom",y.top="bottom")),"bottom"===g.top&&("top"===y.top&&n+a>b[3]?(n-=h,g.top="top",n-=a,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*a-h)<=b[3]&&(n+=a-h,g.top="top",y.top="top")),"middle"===g.top&&(n+a>b[3]&&"top"===y.top?(n-=a,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=a,y.top="top"))),"target"!==c&&"both"!==c||(r<b[0]&&"left"===g.left&&(r+=d,g.left="right"),r+l>b[2]&&"right"===g.left&&(r-=d,g.left="left")),"together"===c&&(r<b[0]&&"left"===g.left?"right"===y.left?(r+=d,g.left="right",r+=l,y.left="left"):"left"===y.left&&(r+=d,g.left="right",r-=l,y.left="right"):r+l>b[2]&&"right"===g.left?"left"===y.left?(r-=d,g.left="left",r-=l,y.left="right"):"right"===y.left&&(r-=d,g.left="left",r+=l,y.left="left"):"center"===g.left&&(r+l>b[2]&&"left"===y.left?(r-=l,y.left="right"):r<b[0]&&"right"===y.left&&(r+=l,y.left="left"))),"element"!==f&&"both"!==f||(n<b[1]&&"bottom"===y.top&&(n+=a,y.top="top"),n+a>b[3]&&"top"===y.top&&(n-=a,y.top="bottom")),"element"!==c&&"both"!==c||(r<b[0]&&("right"===y.left?(r+=l,y.left="left"):"center"===y.left&&(r+=l/2,y.left="left")),r+l>b[2]&&("left"===y.left?(r-=l,y.left="right"):"center"===y.left&&(r-=l/2,y.left="right"))),"string"==typeof u?u=u.split(",").map(function(e){return e.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var x=[],_=[];n<b[1]&&(u.indexOf("top")>=0?(n=b[1],x.push("top")):_.push("top")),n+a>b[3]&&(u.indexOf("bottom")>=0?(n=b[3]-a,x.push("bottom")):_.push("bottom")),r<b[0]&&(u.indexOf("left")>=0?(r=b[0],x.push("left")):_.push("left")),r+l>b[2]&&(u.indexOf("right")>=0?(r=b[2]-l,x.push("right")):_.push("right")),x.length&&function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),x.forEach(function(t){m.push(e+"-"+t)})}(),_.length&&function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),_.forEach(function(t){m.push(e+"-"+t)})}(),(x.indexOf("left")>=0||x.indexOf("right")>=0)&&(y.left=g.left=!1),(x.indexOf("top")>=0||x.indexOf("bottom")>=0)&&(y.top=g.top=!1),g.top===i.top&&g.left===i.left&&y.top===t.attachment.top&&y.left===t.attachment.left||(t.updateAttachClasses(y,g),t.trigger("update",{attachment:y,targetAttachment:g}))}),O(function(){!1!==t.options.addTargetClasses&&v(t.target,m,p),v(t.element,m,p)}),{top:n,left:r}}});var R=k.Utils,s=R.getBounds,v=R.updateClasses,O=R.defer;k.modules.push({position:function(e){var t=this,n=e.top,r=e.left,i=this.cache("element-bounds",function(){return s(t.element)}),o=i.height,a=i.width,l=this.getTargetBounds(),u=n+o,c=r+a,f=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==r&&t!==c||f.push(e)}),r<=l.right&&c>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==n&&t!==u||f.push(e)});var h=[],d=[],p=["left","top","right","bottom"];return h.push(this.getClass("abutted")),p.forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),f.length&&d.push(this.getClass("abutted")),f.forEach(function(e){d.push(t.getClass("abutted")+"-"+e)}),O(function(){!1!==t.options.addTargetClasses&&v(t.target,d,h),v(t.element,d,h)}),!0}});var I=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return k.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:n}));var i=void 0,o=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var a=r,s=I(a,2);i=s[0],o=s[1],i=parseFloat(i,10),o=parseFloat(o,10)}else i=r.top,o=r.left;return t+=i,n+=o,{top:t,left:n}}}}),X})}])})},function(e,t,n){var r=n(774),i=n(141),o=n(255),a=n(403),s=n(405),l=n(404),u=n(84);e.exports=r.default||r,e.exports.DateUtils=i.default||i,e.exports.LocaleUtils=o.default||o,e.exports.ModifiersUtils=a.default||a,e.exports.WeekdayPropTypes=s.WeekdayPropTypes,e.exports.NavbarPropTypes=l.NavbarPropTypes,e.exports.PropTypes=u},function(e,t,n){"use strict";function r(e,t){return!!t&&(Array.isArray(t)?t:[t]).some(function(t){return!!t&&(t instanceof Date?(0,o.isSameDay)(e,t):(0,a.isRangeOfDates)(t)?(0,o.isDayInRange)(e,t):t.after?(0,o.isDayAfter)(e,t.after):t.before?(0,o.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some(function(t){return e.getDay()===t}):"function"===typeof t&&t(e))})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(n,i){var o=t[i];return r(e,o)&&n.push(i),n},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=r,t.getModifiersForDay=i;var o=n(141),a=n(254);t.default={dayMatchesModifier:r,getModifiersForDay:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classNames,n=e.className,r=e.showPreviousButton,i=e.showNextButton,o=e.onPreviousClick,s=e.onNextClick,l=e.labels,u=e.dir,c="rtl"===u?s:o,f="rtl"===u?o:s,h=r&&a.default.createElement("span",{role:"button","aria-label":l.previousMonth,key:"previous",className:t.navButtonPrev,onClick:function(){return c()}}),d=i&&a.default.createElement("span",{role:"button","aria-label":l.nextMonth,key:"right",className:t.navButtonNext,onClick:function(){return f()}});return a.default.createElement("div",{className:n||t.navBar},"rtl"===u?[d,h]:[h,d])}Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarPropTypes=void 0,t.default=i;var o=n(7),a=r(o),s=n(84),l=r(s),u=n(256),c=r(u),f=t.NavbarPropTypes={classNames:l.default.shape({navBar:l.default.string.isRequired,navButtonPrev:l.default.string.isRequired,navButtonNext:l.default.string.isRequired}),className:l.default.string,showPreviousButton:l.default.bool,showNextButton:l.default.bool,onPreviousClick:l.default.func,onNextClick:l.default.func,dir:l.default.string,labels:l.default.shape({previousMonth:l.default.string.isRequired,nextMonth:l.default.string.isRequired})};i.propTypes=f,i.defaultProps={classNames:c.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.weekday,n=e.className,r=e.weekdaysLong,i=e.weekdaysShort,o=e.localeUtils,s=e.locale,l=void 0;l=r?r[t]:o.formatWeekdayLong(t,s);var u=void 0;return u=i?i[t]:o.formatWeekdayShort(t,s),a.default.createElement("div",{className:n,role:"columnheader"},a.default.createElement("abbr",{title:l},u))}Object.defineProperty(t,"__esModule",{value:!0}),t.WeekdayPropTypes=void 0,t.default=i;var o=n(7),a=r(o),s=n(84),l=r(s),u=t.WeekdayPropTypes={weekday:l.default.number,className:l.default.string,locale:l.default.string,localeUtils:l.default.localeUtils,weekdaysLong:l.default.arrayOf(l.default.string),weekdaysShort:l.default.arrayOf(l.default.string)};i.propTypes=u},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(17),o=n(94),a=(n(9),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&i("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(a)},function(e,t,n){"use strict";function r(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(s.test(e)?(u[e]=!0,!0):(l[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var o=n(113),a=(n(26),n(54),n(839)),s=(n(14),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";var r={hasCachedChildNodes:1};e.exports=r},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=l.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(r,this),n}var a=n(20),s=n(262),l=n(26),u=n(60),c=(n(14),!1),f={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,e.exports=o},function(e,t,n){"use strict";var r={logTopLevelRenders:!1};e.exports=r},function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function i(e){return new l(e)}function o(e){return e instanceof l}var a=n(17),s=(n(9),null),l=null,u={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){l=e}},c={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:u};e.exports=c},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(799),o=n(713),a=n(384),s=n(385),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(O)||""}function a(e,t,n,r,i){var o;if(_.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;o="React mount: "+("string"===typeof s?s:s.displayName||s.name),console.time(o)}var l=k.mountComponent(e,n,null,b(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var i=S.ReactReconcileTransaction.getPooled(!n&&x.useCreateElement);i.perform(a,null,e,t,i,n,r),S.ReactReconcileTransaction.release(i)}function l(e,t,n){for(k.unmountComponent(e,n),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=i(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==L&&e.nodeType!==I&&e.nodeType!==N)}function f(e){var t=i(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function h(e){var t=f(e);return t?t._hostContainerInfo._topLevelWrapper:null}var d=n(17),p=n(112),m=n(113),v=n(115),g=n(188),y=(n(74),n(26)),b=n(793),x=n(795),_=n(412),w=n(144),M=(n(54),n(809)),k=n(114),E=n(265),S=n(60),T=n(107),A=n(422),C=(n(9),n(192)),D=n(271),O=(n(14),m.ID_ATTRIBUTE_NAME),P=m.ROOT_ATTRIBUTE_NAME,L=1,I=9,N=11,R={},j=1,z=function(){this.rootID=j++};z.prototype.isReactComponent={},z.prototype.render=function(){return this.props.child},z.isReactTopLevelWrapper=!0;var F={TopLevelWrapper:z,_instancesByReactRootID:R,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return F.scrollMonitor(r,function(){E.enqueueElementInternal(e,t,n),i&&E.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||d("37"),g.ensureScrollValueMonitoring();var i=A(e,!1);S.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return R[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&w.has(e)||d("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){E.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||d("39","string"===typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"===typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(z,{child:t});if(e){var l=w.get(e);a=l._processChildContext(l._context)}else a=T;var c=h(n);if(c){var f=c._currentElement,p=f.props.child;if(D(p,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return F._updateRootComponent(c,s,a,n,g),m}F.unmountComponentAtNode(n)}var y=i(n),b=y&&!!o(y),x=u(n),_=b&&!c&&!x,M=F._renderNewRootComponent(s,n,_,a)._renderedComponent.getPublicInstance();return r&&r.call(M),M},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||d("40");var t=h(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(P);return!1}return delete R[t._instance.rootID],S.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(c(t)||d("41"),o){var s=i(t);if(M.canReuseMarkup(e,s))return void y.precacheNode(n,s);var l=s.getAttribute(M.CHECKSUM_ATTR_NAME);s.removeAttribute(M.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(M.CHECKSUM_ATTR_NAME,l);var f=e,h=r(f,u),m=" (client) "+f.substring(h-20,h+20)+"\n (server) "+u.substring(h-20,h+20);t.nodeType===I&&d("42",m)}if(t.nodeType===I&&d("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);p.insertTreeBefore(t,e,null)}else C(t,e),y.precacheNode(n,t.firstChild)}};e.exports=F},function(e,t,n){"use strict";var r=n(17),i=n(115),o=(n(9),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:i.isValidElement(e)?"function"===typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";function r(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(17);n(9);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(416);e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(41),o=null;e.exports=r},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"===typeof e&&"undefined"!==typeof e.prototype&&"function"===typeof e.prototype.mountComponent&&"function"===typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||!1===e)n=u.create(o);else if("object"===typeof e){var s=e,l=s.type;if("function"!==typeof l&&"string"!==typeof l){var h="";h+=r(s._owner),a("130",null==l?l:typeof l,h)}"string"===typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"===typeof e||"number"===typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(17),s=n(20),l=n(790),u=n(411),c=n(413),f=(n(870),n(9),n(14),function(e){this.construct(e)});s(f.prototype,l,{_instantiateReactComponent:o}),e.exports=o},function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},function(e,t,n){"use strict";var r=n(41),i=n(191),o=n(192),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);o(e,i(t))})),e.exports=a},function(e,t,n){"use strict";function r(e,t){return e&&"object"===typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||"object"===h&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,p,m=0,v=""===t?c:t+f;if(Array.isArray(e))for(var g=0;g<e.length;g++)d=e[g],p=v+r(d,g),m+=i(d,p,n,o);else{var y=l(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var _=0;!(b=x.next()).done;)d=b.value,p=v+r(d,_++),m+=i(d,p,n,o);else for(;!(b=x.next()).done;){var w=b.value;w&&(d=w[1],p=v+u.escape(w[0])+f+r(d,0),m+=i(d,p,n,o))}}else if("object"===h){var M="",k=String(e);a("31","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,M)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(17),s=(n(74),n(805)),l=n(836),u=(n(9),n(261)),c=(n(14),"."),f=":";e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=n.n(s),u=n(19),c=n.n(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},d=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=r(e,["replace","to"]),i=this.context.router.history.createHref("string"===typeof t?{pathname:t}:t);return l.a.createElement("a",f({},n,{onClick:this.handleClick,href:i}))},t}(l.a.Component);d.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},d.defaultProps={replace:!1},d.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(95),s=n.n(a),l=n(7),u=n.n(l),c=n(19),f=n.n(c),h=n(274),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var r=e.computedMatch,i=e.location,o=e.path,a=e.strict,s=e.exact,l=t.route;if(r)return r;var u=(i||l.location).pathname;return o?n.i(h.a)(u,{path:o,strict:a,exact:s}):l.match},t.prototype.componentWillMount=function(){var e=this.props,t=e.component,n=e.render,r=e.children;s()(!(t&&n),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(t&&r),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(n&&r),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,l=o.staticContext,c=this.props.location||s.location,f={match:e,location:c,history:a,staticContext:l};return r?e?u.a.createElement(r,f):null:i?e?i(f):null:n?"function"===typeof n?n(f):!Array.isArray(n)||n.length?u.a.Children.only(n):null:null},t}(u.a.Component);p.propTypes={computedMatch:f.a.object,path:f.a.string,exact:f.a.bool,strict:f.a.bool,component:f.a.func,render:f.a.func,children:f.a.oneOfType([f.a.func,f.a.node]),location:f.a.object},p.contextTypes={router:f.a.shape({history:f.a.object.isRequired,route:f.a.object.isRequired,staticContext:f.a.object})},p.childContextTypes={router:f.a.object.isRequired},t.a=p},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function i(e){var t=u(e);if(t){var n=t.childIDs;c(e),n.forEach(i)}}function o(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function a(e){return null==e?"#empty":"string"===typeof e||"number"===typeof e?"#text":"string"===typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=E.getDisplayName(e),r=E.getElement(e),i=E.getOwnerID(e);return i&&(t=E.getDisplayName(i)),o(n,r&&r._source,t)}var l,u,c,f,h,d,p,m=n(117),v=n(74),g=(n(9),n(14),"function"===typeof Array.from&&"function"===typeof Map&&r(Map)&&null!=Map.prototype&&"function"===typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"===typeof Set&&r(Set)&&null!=Set.prototype&&"function"===typeof Set.prototype.keys&&r(Set.prototype.keys));if(g){var y=new Map,b=new Set;l=function(e,t){y.set(e,t)},u=function(e){return y.get(e)},c=function(e){y.delete(e)},f=function(){return Array.from(y.keys())},h=function(e){b.add(e)},d=function(e){b.delete(e)},p=function(){return Array.from(b.keys())}}else{var x={},_={},w=function(e){return"."+e},M=function(e){return parseInt(e.substr(1),10)};l=function(e,t){var n=w(e);x[n]=t},u=function(e){var t=w(e);return x[t]},c=function(e){var t=w(e);delete x[t]},f=function(){return Object.keys(x).map(M)},h=function(e){var t=w(e);_[t]=!0},d=function(e){var t=w(e);delete _[t]},p=function(){return Object.keys(_).map(M)}}var k=[],E={onSetChildren:function(e,t){var n=u(e);n||m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=u(i);o||m("140"),null==o.childIDs&&"object"===typeof o.element&&null!=o.element&&m("141"),o.isMounted||m("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e&&m("142",i,o.parentID,e)}},onBeforeMountComponent:function(e,t,n){l(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=u(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=u(e);t||m("144"),t.isMounted=!0,0===t.parentID&&h(e)},onUpdateComponent:function(e){var t=u(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=u(e);if(t){t.isMounted=!1;0===t.parentID&&d(e)}k.push(e)},purgeUnmountedComponents:function(){if(!E._preventPurging){for(var e=0;e<k.length;e++){i(k[e])}k.length=0}},isMounted:function(e){var t=u(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=a(e),r=e._owner;t+=o(n,e._source,r&&r.getName())}var i=v.current,s=i&&i._debugID;return t+=E.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=E.getParentID(e);return t},getChildIDs:function(e){var t=u(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=E.getElement(e);return t?a(t):null},getElement:function(e){var t=u(e);return t?t.element:null},getOwnerID:function(e){var t=E.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=u(e);return t?t.parentID:null},getSource:function(e){var t=u(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=E.getElement(e);return"string"===typeof t?t:"number"===typeof t?""+t:null},getUpdateCount:function(e){var t=u(e);return t?t.updateCount:0},getRootIDs:p,getRegisteredIDs:f};e.exports=E},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=u(e,n);if(o)return o;var a=Object.keys(n),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(S(n)){var v=n.name?": "+n.name:"";return e.stylize("[Function"+v+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return c(n)}var g="",y=!1,x=["{","}"];if(p(n)&&(y=!0,x=["[","]"]),S(n)){g=" [Function"+(n.name?": "+n.name:"")+"]"}if(w(n)&&(g=" "+RegExp.prototype.toString.call(n)),k(n)&&(g=" "+Date.prototype.toUTCString.call(n)),E(n)&&(g=" "+c(n)),0===a.length&&(!y||0==n.length))return x[0]+g+x[1];if(r<0)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var _;return _=y?f(e,n,r,m,a):a.map(function(t){return h(e,n,r,m,t,y)}),e.seen.pop(),d(_,g,x)}function u(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"===typeof e}function v(e){return null===e}function g(e){return null==e}function y(e){return"number"===typeof e}function b(e){return"string"===typeof e}function x(e){return"symbol"===typeof e}function _(e){return void 0===e}function w(e){return M(e)&&"[object RegExp]"===A(e)}function M(e){return"object"===typeof e&&null!==e}function k(e){return M(e)&&"[object Date]"===A(e)}function E(e){return M(e)&&("[object Error]"===A(e)||e instanceof Error)}function S(e){return"function"===typeof e}function T(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function A(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function D(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])v(s)||!M(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(_(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var L,I={};t.debuglog=function(e){if(_(L)&&(L=n.i({NODE_ENV:"production",PUBLIC_URL:"."}).NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var i=r.pid;I[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else I[e]=function(){};return I[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=g,t.isNumber=y,t.isString=b,t.isSymbol=x,t.isUndefined=_,t.isRegExp=w,t.isObject=M,t.isDate=k,t.isError=E,t.isFunction=S,t.isPrimitive=T,t.isBuffer=n(878);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=n(877),t._extend=function(e,t){if(!t||!M(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(29),n(72))},function(e,t,n){"use strict";function r(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map(function(t){return e[t]}),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}function i(e){e=e||{};var t=e.eye||[0,0,1],n=e.center||[0,0,0],i=e.up||[0,1,0],l=e.distanceLimits||[0,1/0],u=e.mode||"turntable",c=o(),f=a(),h=s();return c.setDistanceLimits(l[0],l[1]),c.lookAt(0,t,n,i),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,t,n,i),h.setDistanceLimits(l[0],l[1]),h.lookAt(0,t,n,i),new r({turntable:c,orbit:f,matrix:h},u)}e.exports=i;var o=n(1699),a=n(1275),s=n(1258),l=r.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach(function(e){for(var t=e[0],n=[],r=0;r<e[1];++r)n.push("a"+r);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+e[0]+"("+n.join()+")}";l[t]=Function.apply(null,n.concat(i))}),l.recalcMatrix=function(e){this._active.recalcMatrix(e)},l.getDistance=function(e){return this._active.getDistance(e)},l.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},l.lastT=function(){return this._active.lastT()},l.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var n=this._active,r=this._controllerList[t],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},function(e,t,n){"use strict";function r(e,t){return i(e[0].mul(t[1]),e[1].mul(t[0]))}var i=n(146);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&Boolean(e.words)}n(194);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.exponent(e);return t<52?new i(e):new i(e*Math.pow(2,52-t)).ushln(t-52)}var i=n(194),o=n(282);e.exports=r},function(e,t,n){"use strict";function r(e,t){return i(e[0].mul(t[0]),e[1].mul(t[1]))}var i=n(146);e.exports=r},function(e,t,n){"use strict";function r(e,t){return i(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}var i=n(146);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e[0],n=e[1];if(0===t.cmpn(0))return 0;var r=t.abs().divmod(n.abs()),a=r.div,s=i(a),l=r.mod,u=t.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=o(s)+4,f=i(l.ushln(c).divRound(n));return u*(s+f*Math.pow(2,-c))}var h=n.bitLength()-l.bitLength()+53,f=i(l.ushln(h).divRound(n));return h<1023?u*f*Math.pow(2,-h):(f*=Math.pow(2,-1023),u*f*Math.pow(2,1023-h))}var i=n(893),o=n(894);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(i.replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}e.exports=r;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(e,t,n){"use strict";function r(e){var t=f.nextPow2(e);p.length<t&&(c.free(p),p=c.mallocInt32(t)),m.length<t&&(c.free(m),m=c.mallocInt32(t)),v.length<t&&(c.free(v),v=c.mallocInt32(t)),g.length<t&&(c.free(g),g=c.mallocInt32(t)),y.length<t&&(c.free(y),y=c.mallocInt32(t)),b.length<t&&(c.free(b),b=c.mallocInt32(t));var n=8*t;x.length<n&&(c.free(x),x=c.mallocDouble(n))}function i(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function o(e,t,n,r){e[n]=r,t[r]=n}function a(e,t,n,r,a,s,l,u,c,f){for(var y=0,b=2*e,_=e-1,w=b-1,M=n;M<r;++M){var k=s[M],E=b*M;x[y++]=a[E+_],x[y++]=-(k+1),x[y++]=a[E+w],x[y++]=k}for(var M=l;M<u;++M){var k=f[M]+d,S=b*M;x[y++]=c[S+_],x[y++]=-k,x[y++]=c[S+w],x[y++]=k}var T=y>>>1;h(x,T);for(var A=0,C=0,M=0;M<T;++M){var D=0|x[2*M+1];if(D>=d)D=D-d|0,i(v,g,C--,D);else if(D>=0)i(p,m,A--,D);else if(D<=-d){D=-D-d|0;for(var O=0;O<A;++O){var P=t(p[O],D);if(void 0!==P)return P}o(v,g,C++,D)}else{D=-D-1|0;for(var O=0;O<C;++O){var P=t(D,v[O]);if(void 0!==P)return P}o(p,m,A++,D)}}}function s(e,t,n,r,a,s,l,u,c,f){for(var d=0,_=2*e,w=e-1,M=_-1,k=n;k<r;++k){var E=s[k]+1<<1,S=_*k;x[d++]=a[S+w],x[d++]=-E,x[d++]=a[S+M],x[d++]=E}for(var k=l;k<u;++k){var E=f[k]+1<<1,T=_*k;x[d++]=c[T+w],x[d++]=1|-E,x[d++]=c[T+M],x[d++]=1|E}var A=d>>>1;h(x,A);for(var C=0,D=0,O=0,k=0;k<A;++k){var P=0|x[2*k+1],L=1&P;if(k<A-1&&P>>1===x[2*k+3]>>1&&(L=2,k+=1),P<0){for(var I=-(P>>1)-1,N=0;N<O;++N){var R=t(y[N],I);if(void 0!==R)return R}if(0!==L)for(var N=0;N<C;++N){var R=t(p[N],I);if(void 0!==R)return R}if(1!==L)for(var N=0;N<D;++N){var R=t(v[N],I);if(void 0!==R)return R}0===L?o(p,m,C++,I):1===L?o(v,g,D++,I):2===L&&o(y,b,O++,I)}else{var I=(P>>1)-1;0===L?i(p,m,C--,I):1===L?i(v,g,D--,I):2===L&&i(y,b,O--,I)}}}function l(e,t,n,r,a,s,l,u,c,f,v,g){var y=0,b=2*e,_=t,w=t+e,M=1,k=1;r?k=d:M=d;for(var E=a;E<s;++E){var S=E+M,T=b*E;x[y++]=l[T+_],x[y++]=-S,x[y++]=l[T+w],x[y++]=S}for(var E=c;E<f;++E){var S=E+k,A=b*E;x[y++]=v[A+_],x[y++]=-S}var C=y>>>1;h(x,C);for(var D=0,E=0;E<C;++E){var O=0|x[2*E+1];if(O<0){var S=-O,P=!1;if(S>=d?(P=!r,S-=d):(P=!!r,S-=1),P)o(p,m,D++,S);else{var L=g[S],I=b*S,N=v[I+t+1],R=v[I+t+1+e];e:for(var j=0;j<D;++j){var z=p[j],F=b*z;if(!(R<l[F+t+1]||l[F+t+1+e]<N)){for(var B=t+2;B<e;++B)if(v[I+B+e]<l[F+B]||l[F+B+e]<v[I+B])continue e;var U,V=u[z];if(void 0!==(U=r?n(L,V):n(V,L)))return U}}}}else i(p,m,D--,O-M)}}function u(e,t,n,r,i,o,a,s,l,u,c){for(var f=0,m=2*e,v=t,g=t+e,y=r;y<i;++y){var b=y+d,_=m*y;x[f++]=o[_+v],x[f++]=-b,x[f++]=o[_+g],x[f++]=b}for(var y=s;y<l;++y){var b=y+1,w=m*y;x[f++]=u[w+v],x[f++]=-b}var M=f>>>1;h(x,M);for(var k=0,y=0;y<M;++y){var E=0|x[2*y+1];if(E<0){var b=-E;if(b>=d)p[k++]=b-d;else{b-=1;var S=c[b],T=m*b,A=u[T+t+1],C=u[T+t+1+e];e:for(var D=0;D<k;++D){var O=p[D],P=a[O];if(P===S)break;var L=m*O;if(!(C<o[L+t+1]||o[L+t+1+e]<A)){for(var I=t+2;I<e;++I)if(u[T+I+e]<o[L+I]||o[L+I+e]<u[T+I])continue e;var N=n(P,S);if(void 0!==N)return N}}}}else{for(var b=E-d,D=k-1;D>=0;--D)if(p[D]===b){for(var I=D+1;I<k;++I)p[I-1]=p[I];break}--k}}}e.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:l,scanComplete:u};var c=n(23),f=n(85),h=n(903),d=1<<28,p=c.mallocInt32(1024),m=c.mallocInt32(1024),v=c.mallocInt32(1024),g=c.mallocInt32(1024),y=c.mallocInt32(1024),b=c.mallocInt32(1024),x=c.mallocDouble(8192)},function(e,t,n){"use strict";function r(e){for(var t=1,n=1;n<e.length;++n)for(var r=0;r<n;++r)if(e[n]<e[r])t=-t;else if(e[r]===e[n])return 0;return t}e.exports=r},function(e,t,n){(function(e){var n,r;(function(){var i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x,_,w,M,k,E,S,T,A,C,D,O,P,L,I,N,R,j,z,F,B,U,V,H,Y,W,q,G,X,Z,K,$,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe,he,de,pe,me,ve,ge,ye,be,xe,_e,we,Me,ke,Ee,Se=[].slice;_e=function(){var e,t,n,r,i;for(e={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,t=i.length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),q=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},we=function(e){return e.length>=3?[].slice.call(e):e[0]},w=function(e){var t;for(t in e)t<3?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},s=Math.PI,ve=Math.round,k=Math.cos,C=Math.floor,te=Math.pow,G=Math.log,ye=Math.sin,be=Math.sqrt,v=Math.atan2,K=Math.max,m=Math.abs,c=2*s,l=s/3,o=s/180,u=180/s,_=function(){return arguments[0]instanceof i?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,arguments,function(){})},p=[],"undefined"!==typeof e&&null!==e&&null!=e.exports&&(e.exports=_),n=[],void 0!==(r=function(){return _}.apply(t,n))&&(e.exports=r),_.version="1.1.1",d={},f=[],h=!1,i=function(){function e(){var e,t,n,r,i,o,a,s,l;for(o=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(a=t[t.length-1],null!=d[a])o._rgb=w(d[a](we(t.slice(0,-1))));else{for(h||(f=f.sort(function(e,t){return t.p-e.p}),h=!0),l=0,i=f.length;l<i&&(n=f[l],!(a=n.test.apply(n,t)));l++);a&&(o._rgb=w(d[a].apply(d,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.toString=function(){return this.name()},e}(),_._input=d,_.brewer={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Me={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},_.colors=Me,U=function(){var e,t,n,r,i,o,s,l,u;return t=we(arguments),i=t[0],e=t[1],n=t[2],l=(i+16)/116,s=isNaN(e)?l:l+e/500,u=isNaN(n)?l:l-n/200,l=a.Yn*V(l),s=a.Xn*V(s),u=a.Zn*V(u),o=Ee(3.2404542*s-1.5371385*l-.4985314*u),r=Ee(-.969266*s+1.8760108*l+.041556*u),n=Ee(.0556434*s-.2040259*l+1.0572252*u),o=q(o,0,255),r=q(r,0,255),n=q(n,0,255),[o,r,n,t.length>3?t[3]:1]},Ee=function(e){return ve(255*(e<=.00304?12.92*e:1.055*te(e,1/2.4)-.055))},V=function(e){return e>a.t1?e*e*e:a.t2*(e-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},le=function(){var e,t,n,r,i,o,a,s;return r=we(arguments),n=r[0],t=r[1],e=r[2],i=de(n,t,e),o=i[0],a=i[1],s=i[2],[116*a-16,500*(o-a),200*(a-s)]},pe=function(e){return(e/=255)<=.04045?e/12.92:te((e+.055)/1.055,2.4)},ke=function(e){return e>a.t3?te(e,1/3):e/a.t2+a.t0},de=function(){var e,t,n,r,i,o,s;return r=we(arguments),n=r[0],t=r[1],e=r[2],n=pe(n),t=pe(t),e=pe(e),i=ke((.4124564*n+.3575761*t+.1804375*e)/a.Xn),o=ke((.2126729*n+.7151522*t+.072175*e)/a.Yn),s=ke((.0193339*n+.119192*t+.9503041*e)/a.Zn),[i,o,s]},_.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["lab"]),function(){})},d.lab=U,i.prototype.lab=function(){return le(this._rgb)},g=function(e){var t,n,r,i,o,a,s,l,u,c,f;return e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(_(i));return r}(),2===e.length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),_.lab.apply(_,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),_.lab.apply(_,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=f[0],a=f[1],s=f[2],l=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return r}(),_.lab.apply(_,n)}):5===e.length&&(n=g(e.slice(0,3)),r=g(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},_.bezier=function(e){var t;return t=g(e),t.scale=function(){return _.scale(t)},t},_.cubehelix=function(e,t,n,r,i){var o,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=i[1]-i[0],o=0,s=function(s){var l,u,f,h,d,p,m,v,g;return l=c*((e+120)/360+t*s),m=te(i[0]+a*s,r),p=0!==o?n[0]+s*o:n,u=p*m*(1-m)/2,h=k(l),g=ye(l),v=m+u*(-.14861*h+1.78277*g),d=m+u*(-.29227*h-.90649*g),f=m+u*(1.97294*h),_(w([255*v,255*d,255*f]))},s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:(n=e,"array"===_e(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(e){return null==e?i:(i=e,"array"===_e(i)?0===(a=i[1]-i[0])&&(i=i[1]):a=0,s)},s.scale=function(){return _.scale(s)},s.hue(n),s},_.random=function(){var e,t,n;for(t="0123456789abcdef",e="#",n=0;n<6;++n)e+=t.charAt(C(16*Math.random()));return new i(e)},d.rgb=function(){var e,t,n,r;t=we(arguments),n=[];for(e in t)r=t[e],n.push(r);return n},_.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["rgb"]),function(){})},i.prototype.rgb=function(){return this._rgb.slice(0,3)},i.prototype.rgba=function(){return this._rgb},f.push({p:15,test:function(e){var t;return t=we(arguments),"array"===_e(t)&&3===t.length?"rgb":4===t.length&&"number"===_e(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),D=function(e){var t,n,r,i,o,a;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),a=parseInt(e,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),a=parseInt(e,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,t=ve((255&a)/255*100)/100,[i,r,n,t];if(null!=d.css&&(o=d.css(e)))return o;throw"unknown color: "+e},ie=function(e,t){var n,r,i,o,a,s,l;return null==t&&(t="rgb"),a=e[0],i=e[1],r=e[2],n=e[3],l=a<<16|i<<8|r,s="000000"+l.toString(16),s=s.substr(s.length-6),o="0"+ve(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},d.hex=function(e){return D(e)},_.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["hex"]),function(){})},i.prototype.hex=function(e){return null==e&&(e="rgb"),ie(this._rgb,e)},f.push({p:10,test:function(e){if(1===arguments.length&&"string"===_e(e))return"hex"}}),L=function(){var e,t,n,r,i,o,a,s,l,u,c,f,h,d;if(e=we(arguments),i=e[0],c=e[1],a=e[2],0===c)l=r=t=255*a;else{for(d=[0,0,0],n=[0,0,0],h=a<.5?a*(1+c):a+c-a*c,f=2*a-h,i/=360,d[0]=i+1/3,d[1]=i,d[2]=i-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),6*d[o]<1?n[o]=f+6*(h-f)*d[o]:2*d[o]<1?n[o]=h:3*d[o]<2?n[o]=f+(h-f)*(2/3-d[o])*6:n[o]=f;u=[ve(255*n[0]),ve(255*n[1]),ve(255*n[2])],l=u[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ae=function(e,t,n){var r,i,o,a,s;return void 0!==e&&e.length>=3&&(a=e,e=a[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),K=Math.max(e,t,n),i=(K+o)/2,K===o?(s=0,r=Number.NaN):s=i<.5?(K-o)/(K+o):(K-o)/(2-K-o),e===K?r=(t-n)/(K-o):t===K?r=2+(n-e)/(K-o):n===K&&(r=4+(e-t)/(K-o)),r*=60,r<0&&(r+=360),[r,s,i]},_.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["hsl"]),function(){})},d.hsl=L,i.prototype.hsl=function(){return ae(this._rgb)},I=function(){var e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,v,g;if(e=we(arguments),i=e[0],m=e[1],g=e[2],g*=255,0===m)l=r=t=g;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60,o=C(i),n=i-o,a=g*(1-m),s=g*(1-m*n),v=g*(1-m*(1-n)),o){case 0:u=[g,v,a],l=u[0],r=u[1],t=u[2];break;case 1:c=[s,g,a],l=c[0],r=c[1],t=c[2];break;case 2:f=[a,g,v],l=f[0],r=f[1],t=f[2];break;case 3:h=[a,s,g],l=h[0],r=h[1],t=h[2];break;case 4:d=[v,a,g],l=d[0],r=d[1],t=d[2];break;case 5:p=[g,a,s],l=p[0],r=p[1],t=p[2]}return l=ve(l),r=ve(r),t=ve(t),[l,r,t,e.length>3?e[3]:1]},se=function(){var e,t,n,r,i,o,a,s,l;return a=we(arguments),o=a[0],n=a[1],e=a[2],i=Math.min(o,n,e),K=Math.max(o,n,e),t=K-i,l=K/255,0===K?(r=Number.NaN,s=0):(s=t/K,o===K&&(r=(n-e)/t),n===K&&(r=2+(e-o)/t),e===K&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,s,l]},_.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["hsv"]),function(){})},d.hsv=I,i.prototype.hsv=function(){return se(this._rgb)},Q=function(e){var t,n,r;return"number"===_e(e)&&e>=0&&e<=16777215?(r=e>>16,n=e>>8&255,t=255&e,[r,n,t,1]):(console.warn("unknown num color: "+e),[0,0,0,1])},fe=function(){var e,t,n,r;return r=we(arguments),n=r[0],t=r[1],e=r[2],(n<<16)+(t<<8)+e},_.num=function(e){return new i(e,"num")},i.prototype.num=function(e){return null==e&&(e="rgb"),fe(this._rgb,e)},d.num=Q,f.push({p:10,test:function(e){if(1===arguments.length&&"number"===_e(e)&&e>=0&&e<=16777215)return"num"}}),E=function(e){var t,n,r,i,o,a,s,l;if(e=e.toLowerCase(),null!=_.colors&&_.colors[e])return D(_.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=l=0;l<=3;i=++l)s[i]=+s[i];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=t=0;t<=2;i=++t)s[i]=ve(2.55*s[i]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=ve(2.55*s[i]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=L(r),s[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=L(r),s[3]=+o[4]);return s},re=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(ve).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ve).join(",")+","+e[3]+")":void 0},me=function(e){return ve(100*e)/100},P=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=me(e[0]||0),e[1]=me(100*e[1])+"%",e[2]=me(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},d.css=function(e){return E(e)},_.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["css"]),function(){})},i.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?re(this._rgb):"hsl"===e.slice(0,3)?P(this.hsl(),this.alpha()):void 0},d.named=function(e){return D(Me[e])},f.push({p:20,test:function(e){if(1===arguments.length&&null!=Me[e])return"named"}}),i.prototype.name=function(e){var t,n;arguments.length&&(Me[e]&&(this._rgb=D(Me[e])),this._rgb[3]=1),t=this.hex();for(n in Me)if(t===Me[n])return n;return t},H=function(){var e,t,n,r;return r=we(arguments),n=r[0],e=r[1],t=r[2],t*=o,[n,k(t)*e,ye(t)*e]},Y=function(){var e,t,n,r,i,o,a,s,l,u,c;return n=we(arguments),s=n[0],i=n[1],a=n[2],u=H(s,i,a),e=u[0],t=u[1],r=u[2],c=U(e,t,r),l=c[0],o=c[1],r=c[2],[q(l,0,255),q(o,0,255),q(r,0,255),n.length>3?n[3]:1]},B=function(){var e,t,n,r,i,o;return o=we(arguments),i=o[0],e=o[1],t=o[2],n=be(e*e+t*t),r=(v(t,e)*u+360)%360,0===ve(1e4*n)&&(r=Number.NaN),[i,n,r]},ue=function(){var e,t,n,r,i,o,a;return o=we(arguments),i=o[0],n=o[1],t=o[2],a=le(i,n,t),r=a[0],e=a[1],t=a[2],B(r,e,t)},_.lch=function(){var e;return e=we(arguments),new i(e,"lch")},_.hcl=function(){var e;return e=we(arguments),new i(e,"hcl")},d.lch=Y,d.hcl=function(){var e,t,n,r;return r=we(arguments),t=r[0],e=r[1],n=r[2],Y([n,e,t])},i.prototype.lch=function(){return ue(this._rgb)},i.prototype.hcl=function(){return ue(this._rgb).reverse()},ne=function(e){var t,n,r,i,o,a,s,l,u;return null==e&&(e="rgb"),l=we(arguments),s=l[0],i=l[1],t=l[2],s/=255,i/=255,t/=255,o=1-Math.max(s,Math.max(i,t)),r=o<1?1/(1-o):0,n=(1-s-o)*r,a=(1-i-o)*r,u=(1-t-o)*r,[n,a,u,o]},M=function(){var e,t,n,r,i,o,a,s,l;return t=we(arguments),r=t[0],a=t[1],l=t[2],o=t[3],e=t.length>4?t[4]:1,1===o?[0,0,0,e]:(s=r>=1?0:ve(255*(1-r)*(1-o)),i=a>=1?0:ve(255*(1-a)*(1-o)),n=l>=1?0:ve(255*(1-l)*(1-o)),[s,i,n,e])},d.cmyk=function(){return M(we(arguments))},_.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["cmyk"]),function(){})},i.prototype.cmyk=function(){return ne(this._rgb)},d.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;e=we(arguments),n=[];for(t in e)i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},_.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["gl"]),function(){})},i.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},ce=function(e,t,n){var r;return r=we(arguments),e=r[0],t=r[1],n=r[2],e=X(e),t=X(t),n=X(n),.2126*e+.7152*t+.0722*n},X=function(e){return e/=255,e<=.03928?e/12.92:te((e+.055)/1.055,2.4)},p=[],N=function(e,t,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==_e(e)&&(e=_(e)),"object"!==_e(t)&&(t=_(t)),a=0,o=p.length;a<o;a++)if(i=p[a],r===i[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha())),s},_.interpolate=N,i.prototype.interpolate=function(e,t,n){return N(this,e,t,n)},_.mix=N,i.prototype.mix=i.prototype.interpolate,F=function(e,t,n,r){var o,a;return o=e._rgb,a=t._rgb,new i(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),r)},p.push(["rgb",F]),i.prototype.luminance=function(e,t){var n,r,i,o;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,o=function(n,a){var s,l;return l=n.interpolate(a,.5,t),s=l.luminance(),Math.abs(e-s)<r||!i--?l:s>e?o(n,l):o(l,a)},n=ce(this._rgb),this._rgb=(n>e?o(_("black"),this):o(this,_("white"))).rgba()),this):ce(this._rgb)},xe=function(e){var t,n,r,i;return i=e/100,i<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*G(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*G(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*G(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*G(n),t=255),w([r,n,t])},he=function(){var e,t,n,r,i,o,a,s;for(o=we(arguments),i=o[0],o[1],e=o[2],r=1e3,n=4e4,t=.4;n-r>t;)s=.5*(n+r),a=xe(s),a[2]/a[0]>=e/i?n=s:r=s;return ve(s)},_.temperature=_.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=xe,i.prototype.temperature=function(){return he(this._rgb)},i.prototype.kelvin=i.prototype.temperature,_.contrast=function(e,t){var n,r,o,a;return"string"!==(o=_e(e))&&"number"!==o||(e=new i(e)),"string"!==(a=_e(t))&&"number"!==a||(t=new i(t)),n=e.luminance(),r=t.luminance(),n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},i.prototype.get=function(e){var t,n,r,i,o,a;return r=this,o=e.split("."),i=o[0],t=o[1],a=r[i](),t?(n=i.indexOf(t),n>-1?a[n]:console.warn("unknown channel "+t+" in mode "+i)):a},i.prototype.set=function(e,t){var n,r,i,o,a,s;if(i=this,a=e.split("."),o=a[0],n=a[1],n)if(s=i[o](),(r=o.indexOf(n))>-1)if("string"===_e(t))switch(t.charAt(0)){case"+":case"-":s[r]+=+t;break;case"*":s[r]*=+t.substr(1);break;case"/":s[r]/=+t.substr(1);break;default:s[r]=+t}else s[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else s=t;return i._rgb=_(s,o).alpha(i.alpha())._rgb,i},i.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=a.Kn*e,_.lab(t).alpha(n.alpha())},i.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},i.prototype.darker=i.prototype.darken,i.prototype.brighter=i.prototype.brighten,i.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*a.Kn,t[1]<0&&(t[1]=0),_.lch(t).alpha(n.alpha())},i.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},i.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),_(t[0]*e,t[1]*e,t[2]*e,e)},y=function(e,t,n){if(!y[n])throw"unknown blend mode "+n;return y[n](e,t)},b=function(e){return function(t,n){var r,i;return r=_(n).rgb(),i=_(t).rgb(),_(e(r,i),"rgb")}},A=function(e){return function(t,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=e(t[r],n[r]);return o}},J=function(e,t){return e},$=function(e,t){return e*t/255},S=function(e,t){return e>t?t:e},W=function(e,t){return e>t?e:t},ge=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ee=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},x=function(e,t){return 255*(1-(1-t/255)/(e/255))},T=function(e,t){return 255===e?255:(e=t/255*255/(1-e/255),e>255?255:e)},y.normal=b(A(J)),y.multiply=b(A($)),y.screen=b(A(ge)),y.overlay=b(A(ee)),y.darken=b(A(S)),y.lighten=b(A(W)),y.dodge=b(A(T)),y.burn=b(A(x)),_.blend=y,_.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(i=e[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return _.limits(r,e,t)},r},_.scale=function(e,t){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x;return u="rgb",c=_("#ccc"),p=0,!1,a=[0,1],d=[],h=[0,0],n=!1,i=[],f=!1,l=0,s=1,o=!1,r={},b=function(e){var t,n,r,o,a,s,l;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===_e(e)&&null!=(null!=(o=_.brewer)?o[e]:void 0)&&(e=_.brewer[e]),"array"===_e(e)){for(e=e.slice(0),t=r=0,a=e.length-1;0<=a?r<=a:r>=a;t=0<=a?++r:--r)n=e[t],"string"===_e(n)&&(e[t]=_(n));for(d.length=0,t=l=0,s=e.length-1;0<=s?l<=s:l>=s;t=0<=s?++l:--l)d.push(t/(e.length-1))}return y(),i=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},x=function(e){return e},function(e){var t,r,i,o,a;return a=e,n.length>2&&(o=n.length-1,t=v(e),i=n[0]+(n[1]-n[0])*(0+.5*p),r=n[o-1]+(n[o]-n[o-1])*(1-.5*p),a=l+(n[t]+.5*(n[t+1]-n[t])-i)/(r-i)*(s-l)),a},g=function(e,t){var o,a,f,p,m,g,y,b;if(null==t&&(t=!1),isNaN(e))return c;if(t?b=e:n&&n.length>2?(o=v(e),b=o/(n.length-2),b=h[0]+b*(1-h[0]-h[1])):s!==l?(b=(e-l)/(s-l),b=h[0]+b*(1-h[0]-h[1]),b=Math.min(1,Math.max(0,b))):b=1,t||(b=x(b)),p=Math.floor(1e4*b),r[p])a=r[p];else{if("array"===_e(i))for(f=m=0,y=d.length-1;0<=y?m<=y:m>=y;f=0<=y?++m:--m){if(g=d[f],b<=g){a=i[f];break}if(b>=g&&f===d.length-1){a=i[f];break}if(b>g&&b<d[f+1]){b=(b-g)/(d[f+1]-g),a=_.interpolate(i[f],i[f+1],b,u);break}}else"function"===_e(i)&&(a=i(b));r[p]=a}return a},y=function(){return r={}},b(e),m=function(e){var t;return t=_(g(e)),f&&t[f]?t[f]():t},m.classes=function(e){var t;return null!=e?("array"===_e(e)?(n=e,a=[e[0],e[e.length-1]]):(t=_.analyze(a),n=0===e?[t.min,t.max]:_.limits(t,"e",e)),m):n},m.domain=function(e){var t,n,r,o,u,c,f;if(!arguments.length)return a;if(l=e[0],s=e[e.length-1],d=[],r=i.length,e.length===r&&l!==s)for(u=0,o=e.length;u<o;u++)n=e[u],d.push((n-l)/(s-l));else for(t=f=0,c=r-1;0<=c?f<=c:f>=c;t=0<=c?++f:--f)d.push(t/(r-1));return a=[l,s],m},m.mode=function(e){return arguments.length?(u=e,y(),m):u},m.range=function(e,t){return b(e,t),m},m.out=function(e){return f=e,m},m.spread=function(e){return arguments.length?(p=e,m):p},m.correctLightness=function(e){return null==e&&(e=!0),o=e,y(),x=o?function(e){var t,n,r,i,o,a,s,l,u;for(t=g(0,!0).lab()[0],n=g(1,!0).lab()[0],s=t>n,r=g(e,!0).lab()[0],o=t+(n-t)*e,i=r-o,l=0,u=1,a=20;Math.abs(i)>.01&&a-- >0;)!function(){s&&(i*=-1),i<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),r=g(e,!0).lab()[0],i=r-o}();return e}:function(e){return e},m},m.padding=function(e){return null!=e?("number"===_e(e)&&(e=[e,e]),h=e,m):h},m.colors=function(){var t,r,i,o,s,l,u,c,f;if(o=0,s="hex",1===arguments.length&&("string"===_e(arguments[0])?s=arguments[0]:o=arguments[0]),2===arguments.length&&(o=arguments[0],s=arguments[1]),o)return r=a[0],t=a[1]-r,function(){u=[];for(var e=0;0<=o?e<o:e>o;0<=o?e++:e--)u.push(e);return u}.apply(this).map(function(e){return m(r+e/(o-1)*t)[s]()});if(e=[],c=[],n&&n.length>2)for(i=f=1,l=n.length;1<=l?f<l:f>l;i=1<=l?++f:--f)c.push(.5*(n[i-1]+n[i]));else c=a;return c.map(function(e){return m(e)[s]()})},m},null==_.scales&&(_.scales={}),_.scales.cool=function(){return _.scale([_.hsl(180,1,.9),_.hsl(250,.7,.4)])},_.scales.hot=function(){return _.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},_.analyze=function(e,t,n){var r,i,o,a,s,l,u;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},u=function(e,i){if(n(e,i))return r(null!=t&&"function"===_e(t)?t(e):null!=t&&"string"===_e(t)||"number"===_e(t)?e[t]:e)},"array"===_e(e))for(a=0,o=e.length;a<o;a++)l=e[a],u(l);else for(i in e)l=e[i],u(l,i);return s.domain=[s.min,s.max],s.limits=function(e,t){return _.limits(s,e,t)},s},_.limits=function(e,t,n){var r,i,o,a,s,l,u,c,f,h,d,p,v,g,y,b,x,w,M,k,E,S,T,A,D,O,P,L,I,N,R,j,z,F,B,U,V,H,Y,W,q,X,Z,$,J,Q,ee,ne,re,ie,oe,ae,se,le;if(null==t&&(t="equal"),null==n&&(n=7),"array"===_e(e)&&(e=_.analyze(e)),D=e.min,K=e.max,e.sum,se=e.values.sort(function(e,t){return e-t}),T=[],"c"===t.substr(0,1)&&(T.push(D),T.push(K)),"e"===t.substr(0,1)){for(T.push(D),k=R=1,B=n-1;1<=B?R<=B:R>=B;k=1<=B?++R:--R)T.push(D+k/n*(K-D));T.push(K)}else if("l"===t.substr(0,1)){if(D<=0)throw"Logarithmic scales are only possible for values > 0";for(O=Math.LOG10E*G(D),A=Math.LOG10E*G(K),T.push(D),k=le=1,U=n-1;1<=U?le<=U:le>=U;k=1<=U?++le:--le)T.push(te(10,O+k/n*(A-O)));T.push(K)}else if("q"===t.substr(0,1)){for(T.push(D),k=r=1,X=n-1;1<=X?r<=X:r>=X;k=1<=X?++r:--r)j=se.length*k/n,z=C(j),z===j?T.push(se[z]):(F=j-z,T.push(se[z]*F+se[z+1]*(1-F)));T.push(K)}else if("k"===t.substr(0,1)){for(L=se.length,g=new Array(L),w=new Array(n),ie=!0,I=0,b=null,b=[],b.push(D),k=i=1,Z=n-1;1<=Z?i<=Z:i>=Z;k=1<=Z?++i:--i)b.push(D+k/n*(K-D));for(b.push(K);ie;){for(E=o=0,$=n-1;0<=$?o<=$:o>=$;E=0<=$?++o:--o)w[E]=0;for(k=a=0,J=L-1;0<=J?a<=J:a>=J;k=0<=J?++a:--a){for(ae=se[k],P=Number.MAX_VALUE,E=s=0,Q=n-1;0<=Q?s<=Q:s>=Q;E=0<=Q?++s:--s)(M=m(b[E]-ae))<P&&(P=M,y=E);w[y]++,g[k]=y}for(N=new Array(n),E=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;E=0<=ee?++l:--l)N[E]=null;for(k=u=0,ne=L-1;0<=ne?u<=ne:u>=ne;k=0<=ne?++u:--u)x=g[k],null===N[x]?N[x]=se[k]:N[x]+=se[k];for(E=c=0,re=n-1;0<=re?c<=re:c>=re;E=0<=re?++c:--c)N[E]*=1/w[E];for(ie=!1,E=f=0,V=n-1;0<=V?f<=V:f>=V;E=0<=V?++f:--f)if(N[E]!==b[k]){ie=!0;break}b=N,I++,I>200&&(ie=!1)}for(S={},E=h=0,H=n-1;0<=H?h<=H:h>=H;E=0<=H?++h:--h)S[E]=[];for(k=d=0,Y=L-1;0<=Y?d<=Y:d>=Y;k=0<=Y?++d:--d)x=g[k],S[x].push(se[k]);for(oe=[],E=p=0,W=n-1;0<=W?p<=W:p>=W;E=0<=W?++p:--p)oe.push(S[E][0]),oe.push(S[E][S[E].length-1]);for(oe=oe.sort(function(e,t){return e-t}),T.push(oe[0]),k=v=1,q=oe.length-1;v<=q;k=v+=2)isNaN(oe[k])||T.push(oe[k])}return T},O=function(e,t,n){var r,i,o,a;return r=we(arguments),e=r[0],t=r[1],n=r[2],e/=360,e<1/3?(i=(1-t)/3,a=(1+t*k(c*e)/k(l-c*e))/3,o=1-(i+a)):e<2/3?(e-=1/3,a=(1-t)/3,o=(1+t*k(c*e)/k(l-c*e))/3,i=1-(a+o)):(e-=2/3,o=(1-t)/3,i=(1+t*k(c*e)/k(l-c*e))/3,a=1-(o+i)),a=q(n*a*3),o=q(n*o*3),i=q(n*i*3),[255*a,255*o,255*i,r.length>3?r[3]:1]},oe=function(){var e,t,n,r,i,o,a,s;return a=we(arguments),o=a[0],t=a[1],e=a[2],c=2*Math.PI,o/=255,t/=255,e/=255,i=Math.min(o,t,e),r=(o+t+e)/3,s=1-i/r,0===s?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=c-n),n/=c),[360*n,s,r]},_.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Se.call(arguments).concat(["hsi"]),function(){})},d.hsi=O,i.prototype.hsi=function(){return oe(this._rgb)},R=function(e,t,n,r){var i,o,a,s,l,u,c,f,h,d,p,m;return"hsl"===r?(p=e.hsl(),m=t.hsl()):"hsv"===r?(p=e.hsv(),m=t.hsv()):"hsi"===r?(p=e.hsi(),m=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",p=e.hcl(),m=t.hcl()),"h"===r.substr(0,1)&&(a=p[0],h=p[1],u=p[2],s=m[0],d=m[1],c=m[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==u&&0!==u||"hsv"===r||(f=d)):(o=a,1!==c&&0!==c||"hsv"===r||(f=h)):(i=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,o=a+n*i),null==f&&(f=h+n*(d-h)),l=u+n*(c-u),_[r](o,f,l)},p=p.concat(function(){var e,t,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],t=0,e=n.length;t<e;t++)Z=n[t],r.push([Z,R]);return r}()),z=function(e,t,n,r){var i,o;return i=e.num(),o=t.num(),_.num(i+(o-i)*n,"num")},p.push(["num",z]),j=function(e,t,n,r){var o,a;return o=e.lab(),a=t.lab(),new i(o[0]+n*(a[0]-o[0]),o[1]+n*(a[1]-o[1]),o[2]+n*(a[2]-o[2]),r)},p.push(["lab",j])}).call(this)}).call(t,n(61)(e))},function(e,t,n){"use strict";var r=n(916),i=n(917),o=n(279);e.exports=function(e,t){null==t&&(t=!0);var n=r(e);if(!n.space)return[];if(Array.isArray(e))return e;var a,s=n.values,l=s.length;for(a=0;a<l;a++)s[a]=o(s[a],0,255);if("h"===n.space[0]&&(s=i.rgb(s)),t)for(a=0;a<l;a++)s[a]/=255;return s.push(o(n.alpha,0,1)),s}},function(e,t,n){"use strict";function r(e){var t,n,r,u,c,f,h,d,p,m,v,g,y,b=[],x=[],_=[],w=[];if(a.isPlainObject(e)||(e={}),p=e.nshades||72,d=e.format||"hex",h=e.colormap,h||(h="jet"),"string"===typeof h){if(h=h.toLowerCase(),!l[h])throw Error(h+" not a supported colorscale");f=s(l[h])}else{if(!Array.isArray(h))throw Error("unsupported colormap option",h);f=s(h)}if(f.length>p)throw new Error(h+" map requires nshades to be at least size "+f.length);for(v=Array.isArray(e.alpha)?2!==e.alpha.length?[1,1]:s(e.alpha):"number"===typeof e.alpha?[e.alpha,e.alpha]:[1,1],t=f.map(function(e){return Math.round(e.index*p)}),v[0]<0&&(v[0]=0),v[1]<0&&(v[0]=0),v[0]>1&&(v[0]=1),v[1]>1&&(v[0]=1),y=0;y<t.length;++y)g=f[y].index,n=f[y].rgb,4===n.length&&n[3]>=0&&n[3]<=1||(n[3]=v[0]+(v[1]-v[0])*g);for(y=0;y<t.length-1;++y)c=t[y+1]-t[y],r=f[y].rgb,u=f[y+1].rgb,b=b.concat(a.linspace(r[0],u[0],c)),x=x.concat(a.linspace(r[1],u[1],c)),_=_.concat(a.linspace(r[2],u[2],c)),w=w.concat(a.linspace(r[3],u[3],c));return b=b.map(Math.round),x=x.map(Math.round),_=_.map(Math.round),m=a.zip(b,x,_,w),"hex"===d&&(m=m.map(i)),"rgbaString"===d&&(m=m.map(o)),m}function i(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function o(e){return"rgba("+e.join(",")+")"}var a=n(887),s=n(913),l=n(919);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(0===t)return[];if(1===t)return[[0]];var n=e[0].length;return 0===n?[]:1===n?i(e):2===n?o(e):a(e,n)}var i=n(923),o=n(924),a=n(925);e.exports=r},function(e,t){function n(e){return e=Math.round(e),e<0?0:e>255?255:e}function r(e){return e<0?0:e>1?1:e}function i(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return r("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function s(e){var t=e.replace(/ /g,"").toLowerCase();if(t in l)return l[t].slice();if("#"===t[0]){if(4===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null}if(7===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null}return null}var s=t.indexOf("("),u=t.indexOf(")");if(-1!==s&&u+1===t.length){var c=t.substr(0,s),f=t.substr(s+1,u-(s+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),h];case"hsla":if(4!==f.length)return null;h=o(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,p=o(f[1]),m=o(f[2]),v=m<=.5?m*(p+1):m+p-m*p,g=2*m-v;return[n(255*a(g,v,d+1/3)),n(255*a(g,v,d)),n(255*a(g,v,d-1/3)),h];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{t.parseCSSColor=s}catch(e){}},function(e,t,n){"use strict";function r(e,t){var n=e.length;if("number"!==typeof t){t=0;for(var r=0;r<n;++r){var o=e[r];t=Math.max(t,o[0],o[1])}t=1+(0|t)}t|=0;for(var a=new Array(t),r=0;r<t;++r)a[r]=[];for(var r=0;r<n;++r){var o=e[r];a[o[0]].push(o[1]),a[o[1]].push(o[0])}for(var s=0;s<t;++s)i(a[s],function(e,t){return e-t});return a}e.exports=r;var i=n(245)},function(e,t,n){"use strict";var r=n(49),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return Math.min(t,Math.max(e,n))}function i(e,t,n){this.dimension=e.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[n],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}function o(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function a(e,t,n){switch(arguments.length){case 0:return new i([0],[0],0);case 1:if("number"===typeof e){var r=o(e);return new i(r,r,0)}return new i(e,o(e.length),0);case 2:if("number"===typeof t){var r=o(e.length);return new i(e,r,+t)}n=0;case 3:if(e.length!==t.length)throw new Error("state and velocity lengths must match");return new i(e,t,n)}}e.exports=a;var s=n(927),l=n(96),u=i.prototype;u.flush=function(e){var t=l.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},u.curve=function(e){var t=this._time,n=t.length,i=l.le(t,e),o=this._scratch[0],a=this._state,u=this._velocity,c=this.dimension,f=this.bounds;if(i<0)for(var h=c-1,d=0;d<c;++d,--h)o[d]=a[h];else if(i>=n-1)for(var h=a.length-1,p=e-t[n-1],d=0;d<c;++d,--h)o[d]=a[h]+p*u[h];else{for(var h=c*(i+1)-1,m=t[i],v=t[i+1],g=v-m||1,y=this._scratch[1],b=this._scratch[2],x=this._scratch[3],_=this._scratch[4],w=!0,d=0;d<c;++d,--h)y[d]=a[h],x[d]=u[h]*g,b[d]=a[h+c],_[d]=u[h+c]*g,w=w&&y[d]===b[d]&&x[d]===_[d]&&0===x[d];if(w)for(var d=0;d<c;++d)o[d]=y[d];else s(y,x,b,_,(e-m)/g,o)}for(var M=f[0],k=f[1],d=0;d<c;++d)o[d]=r(M[d],k[d],o[d]);return o},u.dcurve=function(e){var t=this._time,n=t.length,r=l.le(t,e),i=this._scratch[0],o=this._state,a=this._velocity,u=this.dimension;if(r>=n-1)for(var c=o.length-1,f=(t[n-1],0);f<u;++f,--c)i[f]=a[c];else{for(var c=u*(r+1)-1,h=t[r],d=t[r+1],p=d-h||1,m=this._scratch[1],v=this._scratch[2],g=this._scratch[3],y=this._scratch[4],b=!0,f=0;f<u;++f,--c)m[f]=o[c],g[f]=a[c]*p,v[f]=o[c+u],y[f]=a[c+u]*p,b=b&&m[f]===v[f]&&g[f]===y[f]&&0===g[f];if(b)for(var f=0;f<u;++f)i[f]=0;else{s.derivative(m,g,v,y,(e-h)/p,i);for(var f=0;f<u;++f)i[f]/=p}}return i},u.lastT=function(){var e=this._time;return e[e.length-1]},u.stable=function(){for(var e=this._velocity,t=e.length,n=this.dimension-1;n>=0;--n)if(e[--t])return!1;return!0},u.jump=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var i=this._state,o=this._velocity,a=i.length-this.dimension,s=this.bounds,l=s[0],u=s[1];this._time.push(t,e);for(var c=0;c<2;++c)for(var f=0;f<n;++f)i.push(i[a++]),o.push(0);this._time.push(e);for(var f=n;f>0;--f)i.push(r(l[f-1],u[f-1],arguments[f])),o.push(0)}},u.push=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var i=this._state,o=this._velocity,a=i.length-this.dimension,s=e-t,l=this.bounds,u=l[0],c=l[1],f=s>1e-6?1/s:0;this._time.push(e);for(var h=n;h>0;--h){var d=r(u[h-1],c[h-1],arguments[h]);i.push(d),o.push((d-i[a++])*f)}}},u.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var n=this._state,i=this._velocity,o=this.bounds,a=o[0],s=o[1];this._time.push(e);for(var l=t;l>0;--l)n.push(r(a[l-1],s[l-1],arguments[l])),i.push(0)}},u.move=function(e){var t=this.lastT(),n=this.dimension;if(!(e<=t||arguments.length!==n+1)){var i=this._state,o=this._velocity,a=i.length-this.dimension,s=this.bounds,l=s[0],u=s[1],c=e-t,f=c>1e-6?1/c:0;this._time.push(e);for(var h=n;h>0;--h){var d=arguments[h];i.push(r(l[h-1],u[h-1],i[a++]+d)),o.push(d*f)}}},u.idle=function(e){var t=this.lastT();if(!(e<t)){var n=this.dimension,i=this._state,o=this._velocity,a=i.length-n,s=this.bounds,l=s[0],u=s[1],c=e-t;this._time.push(e);for(var f=n-1;f>=0;--f)i.push(r(l[f],u[f],i[a]+c*o[a])),o.push(0),a+=1}}},function(e,t,n){"use strict";function r(e,t,n,r,a,l,u,c){if(n/=t,r/=t,u>=n&&c<=r)return e;if(u>r||c<n)return null;for(var f=[],h=0;h<e.length;h++){var d,p,m=e[h],v=m.geometry,g=m.type;if(d=m.min[a],p=m.max[a],d>=n&&p<=r)f.push(m);else if(!(d>r||p<n)){var y=1===g?i(v,n,r,a):o(v,n,r,a,l,3===g);y.length&&f.push(s(m.tags,g,y,m.id))}}return f.length?f:null}function i(e,t,n,r){for(var i=[],o=0;o<e.length;o++){var a=e[o],s=a[r];s>=t&&s<=n&&i.push(a)}return i}function o(e,t,n,r,i,o){for(var s=[],l=0;l<e.length;l++){var u,c,f,h=0,d=0,p=null,m=e[l],v=m.area,g=m.dist,y=m.outer,b=m.length,x=[];for(c=0;c<b-1;c++)u=p||m[c],p=m[c+1],h=d||u[r],d=p[r],h<t?d>n?(x.push(i(u,p,t),i(u,p,n)),o||(x=a(s,x,v,g,y))):d>=t&&x.push(i(u,p,t)):h>n?d<t?(x.push(i(u,p,n),i(u,p,t)),o||(x=a(s,x,v,g,y))):d<=n&&x.push(i(u,p,n)):(x.push(u),d<t?(x.push(i(u,p,t)),o||(x=a(s,x,v,g,y))):d>n&&(x.push(i(u,p,n)),o||(x=a(s,x,v,g,y))));u=m[b-1],h=u[r],h>=t&&h<=n&&x.push(u),f=x[x.length-1],o&&f&&(x[0][0]!==f[0]||x[0][1]!==f[1])&&x.push(x[0]),a(s,x,v,g,y)}return s}function a(e,t,n,r,i){return t.length&&(t.area=n,t.dist=r,void 0!==i&&(t.outer=i),e.push(t)),[]}e.exports=r;var s=n(285)},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<4;++r){e[r]=n[12+r];for(var i=0;i<3;++i)e[r]+=t[i]*n[4*i+r]}}function i(e){for(var t=0;t<m.length;++t)if(e=l.positive(e,m[t]),e.length<3)return 0;for(var n=e[0],r=n[0]/n[3],i=n[1]/n[3],o=0,t=1;t+1<e.length;++t){var a=e[t],s=e[t+1],u=a[0]/a[3],c=a[1]/a[3],f=s[0]/s[3],h=s[1]/s[3],d=u-r,p=c-i,v=f-r,g=h-i;o+=Math.abs(d*g-p*v)}return o}function o(e,t,n,o){s(c,t,e),s(c,n,c);for(var l=0,m=0;m<2;++m){d[2]=o[m][2];for(var b=0;b<2;++b){d[1]=o[b][1];for(var x=0;x<2;++x)d[0]=o[x][0],r(f[l],d,c),l+=1}}for(var _=-1,m=0;m<8;++m){for(var w=f[m][3],M=0;M<3;++M)h[m][M]=f[m][M]/w;w<0&&(_<0?_=m:h[m][2]<h[_][2]&&(_=m))}if(_<0){_=0;for(var k=0;k<3;++k){for(var E=(k+2)%3,S=(k+1)%3,T=-1,A=-1,C=0;C<2;++C){var D=C<<k,O=D+(C<<E)+(1-C<<S),P=D+(1-C<<E)+(C<<S);u(h[D],h[O],h[P],p)<0||(C?T=1:A=1)}if(T<0||A<0)A>T&&(_|=1<<k);else{for(var C=0;C<2;++C){var D=C<<k,O=D+(C<<E)+(1-C<<S),P=D+(1-C<<E)+(C<<S),L=i([f[D],f[O],f[P],f[D+(1<<E)+(1<<S)]]);C?T=L:A=L}A>T&&(_|=1<<k)}}}for(var I=7^_,N=-1,m=0;m<8;++m)m!==_&&m!==I&&(N<0?N=m:h[N][1]>h[m][1]&&(N=m));for(var R=-1,m=0;m<3;++m){var j=N^1<<m;if(j!==_&&j!==I){R<0&&(R=j);var S=h[j];S[0]<h[R][0]&&(R=j)}}for(var z=-1,m=0;m<3;++m){var j=N^1<<m;if(j!==_&&j!==I&&j!==R){z<0&&(z=j);var S=h[j];S[0]>h[z][0]&&(z=j)}}var F=v;F[0]=F[1]=F[2]=0,F[a.log2(R^N)]=N&R,F[a.log2(N^z)]=N&z;var B=7^z;B===_||B===I?(B=7^R,F[a.log2(z^B)]=B&z):F[a.log2(R^B)]=B&R;for(var U=g,V=_,k=0;k<3;++k)U[k]=V&1<<k?-1:1;return y}e.exports=o;var a=n(85),s=n(120),l=(n(86),n(666)),u=n(59),c=new Array(16),f=(new Array(16),new Array(8)),h=new Array(8),d=new Array(3),p=[0,0,0];!function(){for(var e=0;e<8;++e)f[e]=[1,1,1,1],h[e]=[1,1,1]}();var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]],v=[1,1,1],g=[0,0,0],y={cubeEdges:v,axis:g}},function(e,t,n){"use strict";function r(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function i(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function o(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);y=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),o=0;o<r;++o)i[o]=e.COLOR_ATTACHMENT0+o;for(var o=r;o<n;++o)i[o]=e.NONE;y[r]=i}}function a(e){switch(e){case p:throw new Error("gl-fbo: Framebuffer unsupported");case m:throw new Error("gl-fbo: Framebuffer incomplete attachment");case v:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case g:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(e,t,n,r,i,o){if(!r)return null;var a=d(e,t,n,i,r);return a.magFilter=e.NEAREST,a.minFilter=e.NEAREST,a.mipSamples=1,a.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,o,e.TEXTURE_2D,a.handle,0),a}function l(e,t,n,r,i){var o=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,o),o}function u(e){var t=r(e.gl),n=e.gl,o=e.handle=n.createFramebuffer(),u=e._shape[0],c=e._shape[1],f=e.color.length,h=e._ext,d=e._useStencil,p=e._useDepth,m=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,o);for(var v=0;v<f;++v)e.color[v]=s(n,u,c,m,n.RGBA,n.COLOR_ATTACHMENT0+v);0===f?(e._color_rb=l(n,u,c,n.RGBA4,n.COLOR_ATTACHMENT0),h&&h.drawBuffersWEBGL(y[0])):f>1&&h.drawBuffersWEBGL(y[f]);var g=n.getExtension("WEBGL_depth_texture");g?d?e.depth=s(n,u,c,g.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p&&(e.depth=s(n,u,c,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):p&&d?e._depth_rb=l(n,u,c,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p?e._depth_rb=l(n,u,c,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):d&&(e._depth_rb=l(n,u,c,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null);for(var v=0;v<e.color.length;++v)e.color[v].dispose(),e.color[v]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),i(n,t),a(b)}i(n,t)}function c(e,t,n,r,i,o,a,s){this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var l=0;l<i;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var c=this,f=[0|t,0|n];Object.defineProperties(f,{0:{get:function(){return c._shape[0]},set:function(e){return c.width=e}},1:{get:function(){return c._shape[1]},set:function(e){return c.height=e}}}),this._shapeVector=f,u(this)}function f(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var o=e.gl,s=o.getParameter(o.MAX_RENDERBUFFER_SIZE);if(t<0||t>s||n<0||n>s)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var l=r(o),u=0;u<e.color.length;++u)e.color[u].shape=e._shape;e._color_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,e._color_rb),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&o.renderbufferStorage(o.RENDERBUFFER,o.STENCIL_INDEX,e._shape[0],e._shape[1])),o.bindFramebuffer(o.FRAMEBUFFER,e.handle);var c=o.checkFramebufferStatus(o.FRAMEBUFFER);c!==o.FRAMEBUFFER_COMPLETE&&(e.dispose(),i(o,l),a(c)),i(o,l)}}function h(e,t,n,r){p||(p=e.FRAMEBUFFER_UNSUPPORTED,m=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,v=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,g=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var i=e.getExtension("WEBGL_draw_buffers");if(!y&&i&&o(e,i),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!==typeof t)throw new Error("gl-fbo: Missing shape parameter");var a=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>a||n<0||n>a)throw new Error("gl-fbo: Parameters are too large for FBO");r=r||{};var s=1;if("color"in r){if((s=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(s>1){if(!i)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(s>e.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+s+" draw buffers")}}var l=e.UNSIGNED_BYTE,u=e.getExtension("OES_texture_float");if(r.float&&s>0){if(!u)throw new Error("gl-fbo: Context does not support floating point textures");l=e.FLOAT}else r.preferFloat&&s>0&&u&&(l=e.FLOAT);var f=!0;"depth"in r&&(f=!!r.depth);var h=!1;return"stencil"in r&&(h=!!r.stencil),new c(e,t,n,l,s,f,h,i)}var d=n(121);e.exports=h;var p,m,v,g,y=null,b=c.prototype;Object.defineProperties(b,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return f(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return e|=0,f(this,e,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,f(this,this._shape[0],e),e},enumerable:!1}}),b.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},b.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(e,t){function n(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=n},function(e,t){function n(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],m=e[14],v=e[15];return(t*a-n*o)*(f*v-h*m)-(t*s-r*o)*(c*v-h*p)+(t*l-i*o)*(c*m-f*p)+(n*s-r*a)*(u*v-h*d)-(n*l-i*a)*(u*m-f*d)+(r*l-i*s)*(u*p-c*d)}e.exports=n},function(e,t){function n(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-f-p,e[1]=c+g,e[2]=h-v,e[3]=0,e[4]=c-g,e[5]=1-u-p,e[6]=d+m,e[7]=0,e[8]=h+v,e[9]=d-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=n},function(e,t){function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=n},function(e,t,n){function r(e,t,n,r){var o,a,s,l,u,c,f,h,d,p,m=t[0],v=t[1],g=t[2],y=r[0],b=r[1],x=r[2],_=n[0],w=n[1],M=n[2];return Math.abs(m-_)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(g-M)<1e-6?i(e):(f=m-_,h=v-w,d=g-M,p=1/Math.sqrt(f*f+h*h+d*d),f*=p,h*=p,d*=p,o=b*d-x*h,a=x*f-y*d,s=y*h-b*f,p=Math.sqrt(o*o+a*a+s*s),p?(p=1/p,o*=p,a*=p,s*=p):(o=0,a=0,s=0),l=h*s-d*a,u=d*o-f*s,c=f*a-h*o,p=Math.sqrt(l*l+u*u+c*c),p?(p=1/p,l*=p,u*=p,c*=p):(l=0,u=0,c=0),e[0]=o,e[1]=l,e[2]=f,e[3]=0,e[4]=a,e[5]=u,e[6]=h,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*m+a*v+s*g),e[13]=-(l*m+u*v+c*g),e[14]=-(f*m+h*v+d*g),e[15]=1,e)}var i=n(458);e.exports=r},function(e,t){function n(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=n},function(e,t){function n(e,t,n){var r,i,o,a,s,l,u,c,f,h,d,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*m+s*v+f*g+t[12],e[13]=i*m+l*v+h*g+t[13],e[14]=o*m+u*v+d*g+t[14],e[15]=a*m+c*v+p*g+t[15]),e}e.exports=n},function(e,t){function n(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}e.exports=n},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},i.clone=function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.fromValues=function(e,t,n,i,o,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},i.set=function(e,t,n,r,i,o,a,s,l,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*a-s*u,h=-c*o+s*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null},i.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=a*c-s*u,e[1]=i*u-r*c,e[2]=r*s-i*a,e[3]=s*l-o*c,e[4]=n*c-i*l,e[5]=i*o-n*s,e[6]=o*u-a*l,e[7]=r*l-n*u,e[8]=n*a-r*o,e},i.determinant=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*(u*o-a*l)+n*(-u*i+a*s)+r*(l*i-o*s)},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=n[0],d=n[1],p=n[2],m=n[3],v=n[4],g=n[5],y=n[6],b=n[7],x=n[8];return e[0]=h*r+d*a+p*u,e[1]=h*i+d*s+p*c,e[2]=h*o+d*l+p*f,e[3]=m*r+v*a+g*u,e[4]=m*i+v*s+g*c,e[5]=m*o+v*l+g*f,e[6]=y*r+b*a+x*u,e[7]=y*i+b*s+x*c,e[8]=y*o+b*l+x*f,e},i.mul=i.multiply,i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=h*r+d*a+u,e[7]=h*i+d*s+c,e[8]=h*o+d*l+f,e},i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=Math.sin(n),d=Math.cos(n);return e[0]=d*r+h*a,e[1]=d*i+h*s,e[2]=d*o+h*l,e[3]=d*a-h*r,e[4]=d*s-h*i,e[5]=d*l-h*o,e[6]=u,e[7]=c,e[8]=f,e},i.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-f-p,e[3]=c-g,e[6]=h+v,e[1]=c+g,e[4]=1-u-p,e[7]=d-m,e[2]=h-v,e[5]=d+m,e[8]=1-u-f,e},i.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,M=i*u-o*l,k=c*m-f*p,E=c*v-h*p,S=c*g-d*p,T=f*v-h*m,A=f*g-d*m,C=h*g-d*v,D=y*C-b*A+x*T+_*S-w*E+M*k;return D?(D=1/D,e[0]=(s*C-l*A+u*T)*D,e[1]=(l*S-a*C-u*E)*D,e[2]=(a*A-s*S+u*k)*D,e[3]=(i*A-r*C-o*T)*D,e[4]=(n*C-i*S+o*E)*D,e[5]=(r*S-n*A-o*k)*D,e[6]=(m*M-v*w+g*_)*D,e[7]=(v*x-p*M-g*b)*D,e[8]=(p*w-m*x+g*y)*D,e):null},i.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},i.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=t[0],d=t[1],p=t[2],m=t[3],v=t[4],g=t[5],y=e[6],b=t[7],x=t[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-g)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))},e.exports=i},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.fromValues=function(e,t,n){var i=new r.ARRAY_TYPE(3);return i[0]=e,i[1]=t,i[2]=n,i},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e},i.hermite=function(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*s+n[0]*l+r[0]*u+i[0]*c,e[1]=t[1]*s+n[1]*l+r[1]*u+i[1]*c,e[2]=t[2]*s+n[2]*l+r[2]*u+i[2]*c,e},i.bezier=function(e,t,n,r,i,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,f=3*l*a,h=l*o;return e[0]=t[0]*u+n[0]*c+r[0]*f+i[0]*h,e[1]=t[1]*u+n[1]*c+r[1]*f+i[1]*h,e[2]=t[2]*u+n[2]*c+r[2]*f+i[2]*h,e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,h=u*o+a*i-s*r,d=-a*r-s*i-l*o;return e[0]=c*u+d*-a+f*-l-h*-s,e[1]=f*u+d*-s+h*-a-c*-l,e[2]=h*u+d*-l+c*-s-f*-a,e},i.rotateX=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateY=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateZ=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),i.angle=function(e,t){var n=i.fromValues(e[0],e[1],e[2]),r=i.fromValues(t[0],t[1],t[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],l=t[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},e.exports=i},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.fromValues=function(e,t,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.set=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},i.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),i.normalize(e,e),i.scale(e,e,t),e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,h=u*o+a*i-s*r,d=-a*r-s*i-l*o;return e[0]=c*u+d*-a+f*-l-h*-s,e[1]=f*u+d*-s+h*-a-c*-l,e[2]=h*u+d*-l+c*-s-f*-a,e[3]=t[3],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),i.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x,_,w,M,k,E,S){this.gl=e,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=o,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=h,this.triangleUVs=f,this.triangleIds=u,this.triangleVAO=d,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=v,this.edgeUVs=g,this.edgeIds=m,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=b,this.pointColors=_,this.pointUVs=w,this.pointSizes=M,this.pointIds=x,this.pointVAO=k,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=E,this.contourVAO=S,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this._model=L,this._view=L,this._projection=L,this._resolution=[1,1]}function i(e){for(var t=w({colormap:e,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=t[r],o=0;o<3;++o)n[4*r+o]=i[o];n[4*r+3]=255*i[3]}return _(n,[256,256,4],[4,0,1])}function o(e,t,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=0;for(var o=e.length,i=0;i<o;++i)for(var a=e[i],s=0;s<a.length;++s)r[a[s]]=n[i];return r}function a(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}function s(e){var t=p(e,T);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.normal.location=4,t}function l(e){var t=p(e,A);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t}function u(e){var t=p(e,C);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.pointSize.location=4,t}function c(e){var t=p(e,D);return t.attributes.position.location=0,t.attributes.id.location=1,t}function f(e){var t=p(e,O);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.pointSize.location=4,t}function h(e){var t=p(e,P);return t.attributes.position.location=0,t}function d(e){var t=e.gl,n=s(t),i=l(t),o=u(t),a=c(t),d=f(t),p=h(t),y=g(t,_(new Uint8Array([255,255,255,255]),[1,1,4]));y.generateMipmap(),y.minFilter=t.LINEAR_MIPMAP_LINEAR,y.magFilter=t.LINEAR;var b=m(t),x=m(t),w=m(t),M=m(t),k=m(t),E=v(t,[{buffer:b,type:t.FLOAT,size:3},{buffer:k,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:x,type:t.FLOAT,size:4},{buffer:w,type:t.FLOAT,size:2},{buffer:M,type:t.FLOAT,size:3}]),S=m(t),T=m(t),A=m(t),C=m(t),D=v(t,[{buffer:S,type:t.FLOAT,size:3},{buffer:C,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:T,type:t.FLOAT,size:4},{buffer:A,type:t.FLOAT,size:2}]),O=m(t),P=m(t),L=m(t),I=m(t),N=m(t),R=v(t,[{buffer:O,type:t.FLOAT,size:3},{buffer:N,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:t.FLOAT,size:4},{buffer:L,type:t.FLOAT,size:2},{buffer:I,type:t.FLOAT,size:1}]),j=m(t),z=v(t,[{buffer:j,type:t.FLOAT,size:3}]),F=new r(t,y,n,i,o,a,d,p,b,k,x,w,M,E,S,C,T,A,D,O,N,P,L,I,R,j,z);return F.update(e),F}var p=n(55),m=n(24),v=n(62),g=n(121),y=n(1273),b=n(120),x=n(86),_=n(52),w=n(444),M=n(1675),k=n(23),E=n(993),S=n(992),T=E.meshShader,A=E.wireShader,C=E.pointShader,D=E.pickShader,O=E.pointPickShader,P=E.contourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=r.prototype;I.isOpaque=function(){return this.opacity>=1},I.isTransparent=function(){return this.opacity<1},I.pickSlots=1,I.setPickBase=function(e){this.pickId=e},I.highlight=function(e){if(!e||!this.contourEnable)return void(this.contourCount=0);for(var t=M(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,o=n.length,a=k.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var u=n[l],c=0;c<2;++c){var f=u[0];2===u.length&&(f=u[c]);for(var h=r[f][0],d=r[f][1],p=i[f],m=1-p,v=this.positions[h],g=this.positions[d],y=0;y<3;++y)a[s++]=p*v[y]+m*g[y]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),k.free(a)},I.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"contourEnable"in e&&(this.contourEnable=e.contourEnable),"contourColor"in e&&(this.contourColor=e.contourColor),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"lightPosition"in e&&(this.lightPosition=e.lightPosition),"opacity"in e&&(this.opacity=e.opacity),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),e.texture?(this.texture.dispose(),this.texture=g(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(i(e.colormap)),this.texture.generateMipmap());var n=e.cells,r=e.positions;if(r&&n){var s=[],l=[],u=[],c=[],f=[],h=[],d=[],p=[],m=[],v=[],b=[],x=[],_=[],w=[];this.cells=n,this.positions=r;var M=e.vertexNormals,k=e.cellNormals,E=void 0===e.vertexNormalsEpsilon?1e-6:e.vertexNormalsEpsilon,S=void 0===e.faceNormalsEpsilon?1e-6:e.faceNormalsEpsilon;e.useFacetNormals&&!k&&(k=y.faceNormals(n,r,S)),k||M||(M=y.vertexNormals(n,r,E));var T=e.vertexColors,A=e.cellColors,C=e.meshColor||[1,1,1,1],D=e.vertexUVs,O=e.vertexIntensity,P=e.cellUVs,L=e.cellIntensity,I=1/0,N=-1/0;if(!D&&!P)if(O)for(var R=0;R<O.length;++R){var j=O[R];I=Math.min(I,j),N=Math.max(N,j)}else if(L)for(var R=0;R<L.length;++R){var j=L[R];I=Math.min(I,j),N=Math.max(N,j)}else for(var R=0;R<r.length;++R){var j=r[R][2];I=Math.min(I,j),N=Math.max(N,j)}this.intensity=O||(L?o(n,r.length,L):a(r));var z=e.pointSizes,F=e.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var R=0;R<r.length;++R)for(var B=r[R],U=0;U<3;++U)!isNaN(B[U])&&isFinite(B[U])&&(this.bounds[0][U]=Math.min(this.bounds[0][U],B[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],B[U]));var V=0,H=0,Y=0;e:for(var R=0;R<n.length;++R){var W=n[R];switch(W.length){case 1:for(var q=W[0],B=r[q],U=0;U<3;++U)if(isNaN(B[U])||!isFinite(B[U]))continue e;v.push(B[0],B[1],B[2]);var G;G=T?T[q]:A?A[R]:C,3===G.length?b.push(G[0],G[1],G[2],1):b.push(G[0],G[1],G[2],G[3]);var X;X=D?D[q]:O?[(O[q]-I)/(N-I),0]:P?P[R]:L?[(L[R]-I)/(N-I),0]:[(B[2]-I)/(N-I),0],x.push(X[0],X[1]),z?_.push(z[q]):_.push(F),w.push(R),Y+=1;break;case 2:for(var U=0;U<2;++U)for(var q=W[U],B=r[q],Z=0;Z<3;++Z)if(isNaN(B[Z])||!isFinite(B[Z]))continue e;for(var U=0;U<2;++U){var q=W[U],B=r[q];h.push(B[0],B[1],B[2]);var G;G=T?T[q]:A?A[R]:C,3===G.length?d.push(G[0],G[1],G[2],1):d.push(G[0],G[1],G[2],G[3]);var X;X=D?D[q]:O?[(O[q]-I)/(N-I),0]:P?P[R]:L?[(L[R]-I)/(N-I),0]:[(B[2]-I)/(N-I),0],p.push(X[0],X[1]),m.push(R)}H+=1;break;case 3:for(var U=0;U<3;++U)for(var q=W[U],B=r[q],Z=0;Z<3;++Z)if(isNaN(B[Z])||!isFinite(B[Z]))continue e;for(var U=0;U<3;++U){var q=W[U],B=r[q];s.push(B[0],B[1],B[2]);var G;G=T?T[q]:A?A[R]:C,3===G.length?l.push(G[0],G[1],G[2],1):l.push(G[0],G[1],G[2],G[3]);var X;X=D?D[q]:O?[(O[q]-I)/(N-I),0]:P?P[R]:L?[(L[R]-I)/(N-I),0]:[(B[2]-I)/(N-I),0],c.push(X[0],X[1]);var K;K=M?M[q]:k[R],u.push(K[0],K[1],K[2]),f.push(R)}V+=1}}this.pointCount=Y,this.edgeCount=H,this.triangleCount=V,this.pointPositions.update(v),this.pointColors.update(b),this.pointUVs.update(x),this.pointSizes.update(_),this.pointIds.update(new Uint32Array(w)),this.edgePositions.update(h),this.edgeColors.update(d),this.edgeUVs.update(p),this.edgeIds.update(new Uint32Array(m)),this.trianglePositions.update(s),this.triangleColors.update(l),this.triangleUVs.update(c),this.triangleNormals.update(u),this.triangleIds.update(new Uint32Array(f))}},I.drawTransparent=I.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||L,r=e.view||L,i=e.projection||L,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:i,clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,contourColor:this.contourColor,texture:0};this.texture.bind(0);var l=new Array(16);b(l,s.view,s.model),b(l,s.projection,l),x(l,l);for(var a=0;a<3;++a)s.eyePosition[a]=l[12+a]/l[15];for(var u=l[15],a=0;a<3;++a)u+=this.lightPosition[a]*l[4*a+3];for(var a=0;a<3;++a){for(var c=l[12+a],f=0;f<3;++f)c+=l[4*f+a]*this.lightPosition[f];s.lightPosition[a]=c/u}if(this.triangleCount>0){var h=this.triShader;h.bind(),h.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var h=this.lineShader;h.bind(),h.uniforms=s,this.edgeVAO.bind(),t.lineWidth(this.lineWidth),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()}if(this.pointCount>0){var h=this.pointShader;h.bind(),h.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var h=this.contourShader;h.bind(),h.uniforms=s,this.contourVAO.bind(),t.drawArrays(t.LINES,0,this.contourCount),this.contourVAO.unbind()}},I.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||L,r=e.view||L,i=e.projection||L,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:o,pickId:this.pickId/255},l=this.pickShader;if(l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0){var l=this.pointPickShader;l.bind(),l.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()}},I.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;for(var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions,i=new Array(n.length),o=0;o<n.length;++o)i[o]=r[n[o]];var a=S(i,[e.coord[0],this._resolution[1]-e.coord[1]],this._model,this._view,this._projection,this._resolution);if(!a)return null;for(var s=a[2],l=0,o=0;o<n.length;++o)l+=s[o]*this.intensity[n[o]];return{position:a[1],index:n[a[0]],cell:n,cellId:t,intensity:l,dataCoordinate:this.positions[n[a[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=d},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){this.coord=[e,t],this.id=n,this.value=r,this.distance=i}function i(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}function o(e,t){return new i(e,a(e,t),s.mallocUint8(t[0]*t[1]*4))}e.exports=o;var a=n(454),s=n(23),l=n(52),u=n(85).nextPow2,c=n(118)({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_16_arg0_<255||_inline_16_arg1_<255||_inline_16_arg2_<255||_inline_16_arg3_<255){var _inline_16_l=_inline_16_arg4_-_inline_16_arg6_[0],_inline_16_a=_inline_16_arg5_-_inline_16_arg6_[1],_inline_16_f=_inline_16_l*_inline_16_l+_inline_16_a*_inline_16_a;_inline_16_f<this_closestD2&&(this_closestD2=_inline_16_f,this_closestX=_inline_16_arg6_[0],this_closestY=_inline_16_arg6_[1])}}",args:[{name:"_inline_16_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_16_a","_inline_16_f","_inline_16_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),f=i.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){s.free(this.buffer);for(var r=this.buffer=s.mallocUint8(u(n*t*4)),i=0;i<n*t*4;++i)r[i]=255}return e}}}),f.begin=function(){var e=this.gl;this.shape;e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},f.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(e,t,n){if(!this.gl)return null;var i=this.fbo.shape.slice();e|=0,t|=0,"number"!==typeof n&&(n=1);var o=0|Math.min(Math.max(e-n,0),i[0]),a=0|Math.min(Math.max(e+n,0),i[0]),s=0|Math.min(Math.max(t-n,0),i[1]),u=0|Math.min(Math.max(t+n,0),i[1]);if(a<=o||u<=s)return null;var f=[a-o,u-s],h=l(this.buffer,[f[0],f[1],4],[4,4*i[0],1],4*(o+i[0]*s)),d=c(h.hi(f[0],f[1],1),n,n),p=d[0],m=d[1];return p<0||Math.pow(this.radius,2)<d[2]?null:new r(p+o|0,m+s|0,h.get(p,m,0),[h.get(p,m,1),h.get(p,m,2),h.get(p,m,3)],Math.sqrt(d[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var r=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,l=o.type||e.FLOAT,u=!!o.normalized,c=o.stride||0,f=o.offset||0;a.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,l,u,c,f)}else{if("number"===typeof o)e.vertexAttrib1f(i,o);else if(1===o.length)e.vertexAttrib1f(i,o[0]);else if(2===o.length)e.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)e.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}e.disableVertexAttribArray(i)}}for(;i<r;++i)e.disableVertexAttribArray(i)}else{e.bindBuffer(e.ARRAY_BUFFER,null);for(var i=0;i<r;++i)e.disableVertexAttribArray(i)}}e.exports=r},function(e,t){function n(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}e.exports=n},function(e,t){function n(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}e.exports=n},function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(e,t,n){"use strict";function r(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],n=o[2],this.d=t+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],l=o[i+a+1];r.push(s===l?null:o.subarray(s,l))}var u=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(u,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var h=n/t*e;this.min=-h,this.max=e+h}e.exports=r;var i=3;r.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(e,t,n,r){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(e,t,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(e,t,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var h=4*f;e<=u[h+2]&&t<=u[h+3]&&n>=u[h+0]&&r>=u[h+1]?(a[f]=!0,o.push(l[f])):a[f]=!1}}},r.prototype._forEachCell=function(e,t,n,r,i,o,a){for(var s=this._convertToCellCoord(e),l=this._convertToCellCoord(t),u=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=u;f++)for(var h=l;h<=c;h++){var d=this.d*h+f;if(i.call(this,e,t,n,r,d,o,a))return}},r.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(t+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=t,s=0;s<e.length;s++){var l=e[s];o[i+s]=a,o.set(l,a),a+=l.length}return o[i+e.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+e.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},function(e,t,n){"use strict";function r(e,t,n){this.vertices=e,this.adjacent=t,this.boundary=n,this.lastVisited=-1}function i(e,t,n){this.vertices=e,this.cell=t,this.index=n}function o(e,t){return c(e.vertices,t.vertices)}function a(e){for(var t=["function orient(){var tuple=this.tuple;return test("],n=0;n<=e;++n)n>0&&t.push(","),t.push("tuple[",n,"]");t.push(")}return orient");var r=new Function("test",t.join("")),i=u[e+1];return i||(i=u),r(i)}function s(e,t,n){this.dimension=e,this.vertices=t,this.simplices=n,this.interior=n.filter(function(e){return!e.boundary}),this.tuple=new Array(e+1);for(var r=0;r<=e;++r)this.tuple[r]=this.vertices[r];var i=f[e];i||(i=f[e]=a(e)),this.orient=i}function l(e,t){var n=e.length;if(0===n)throw new Error("Must have at least d+1 points");var i=e[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var o=e.slice(0,i+1),a=u.apply(void 0,o);if(0===a)throw new Error("Input not in general position");for(var l=new Array(i+1),c=0;c<=i;++c)l[c]=c;a<0&&(l[0]=1,l[1]=0);for(var f=new r(l,new Array(i+1),!1),h=f.adjacent,d=new Array(i+2),c=0;c<=i;++c){for(var p=l.slice(),m=0;m<=i;++m)m===c&&(p[m]=-1);var v=p[0];p[0]=p[1],p[1]=v;var g=new r(p,new Array(i+1),!0);h[c]=g,d[c]=g}d[i+1]=f;for(var c=0;c<=i;++c)for(var p=h[c].vertices,y=h[c].adjacent,m=0;m<=i;++m){var b=p[m];if(b<0)y[m]=f;else for(var x=0;x<=i;++x)h[x].vertices.indexOf(b)<0&&(y[m]=h[x])}for(var _=new s(i,o,d),w=!!t,c=i+1;c<n;++c)_.insert(e[c],w);return _.boundary()}e.exports=l;var u=n(59),c=n(1677).compareCells;r.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};var f=[],h=s.prototype;h.handleBoundaryDegeneracy=function(e,t){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[e];for(e.lastVisited=-r;a.length>0;){e=a.pop();for(var s=(e.vertices,e.adjacent),l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,f=0;f<=n;++f){var h=c[f];i[f]=h<0?t:o[h]}var d=this.orient();if(d>0)return u;u.lastVisited=-r,0===d&&a.push(u)}}}return null},h.walk=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,a=t?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];e:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)o[c]=i[l[c]];s.lastVisited=n;for(var c=0;c<=r;++c){var f=u[c];if(!(f.lastVisited>=n)){var h=o[c];o[c]=e;var d=this.orient();if(o[c]=h,d<0){s=f;continue e}f.boundary?f.lastVisited=-n:f.lastVisited=n}}return}return s},h.addPeaks=function(e,t){var n=this.vertices.length-1,a=this.dimension,s=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,f=[t];t.lastVisited=n,t.vertices[t.vertices.indexOf(-1)]=n,t.boundary=!1,u.push(t);for(var h=[];f.length>0;){var t=f.pop(),d=t.vertices,p=t.adjacent,m=d.indexOf(n);if(!(m<0))for(var v=0;v<=a;++v)if(v!==m){var g=p[v];if(g.boundary&&!(g.lastVisited>=n)){var y=g.vertices;if(g.lastVisited!==-n){for(var b=0,x=0;x<=a;++x)y[x]<0?(b=x,l[x]=e):l[x]=s[y[x]];var _=this.orient();if(_>0){y[b]=n,g.boundary=!1,u.push(g),f.push(g),g.lastVisited=n;continue}g.lastVisited=-n}var w=g.adjacent,M=d.slice(),k=p.slice(),E=new r(M,k,!0);c.push(E);var S=w.indexOf(t);if(!(S<0)){w[S]=E,k[m]=g,M[v]=-1,k[v]=t,p[v]=E,E.flip();for(var x=0;x<=a;++x){var T=M[x];if(!(T<0||T===n)){for(var A=new Array(a-1),C=0,D=0;D<=a;++D){var O=M[D];O<0||D===x||(A[C++]=O)}h.push(new i(A,E,x))}}}}}}h.sort(o);for(var v=0;v+1<h.length;v+=2){var P=h[v],L=h[v+1],I=P.index,N=L.index;I<0||N<0||(P.cell.adjacent[P.index]=L.cell,L.cell.adjacent[L.index]=P.cell)}},h.insert=function(e,t){var n=this.vertices;n.push(e);var r=this.walk(e,t);if(r){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=r.vertices[a];o[a]=s<0?e:n[s]}var l=this.orient(o);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,e)))&&this.addPeaks(e,r)}},h.boundary=function(){for(var e=this.dimension,t=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var a=new Array(e),s=o.vertices,l=0,u=0,c=0;c<=e;++c)s[c]>=0?a[l++]=s[c]:u=1&c;if(u===(1&e)){var f=a[0];a[0]=a[1],a[1]=f}t.push(a)}}return t}},function(e,t,n){"use strict";function r(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(205),o=n(1156),a=n(1157),s=n(1158),l=n(1159),u=n(1160);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(489),o=n(209);e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(1091),o=n(154);e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(77),o=n(293),a=n(1161),s=n(1175);e.exports=r},function(e,t,n){function r(e,t,n,r,u,c){var f=n&s,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&l?new i:void 0;for(c.set(e,t),c.set(t,e);++m<h;){var y=e[m],b=t[m];if(r)var x=f?r(b,y,m,t,e,c):r(y,b,m,e,t,c);if(void 0!==x){if(x)continue;v=!1;break}if(g){if(!o(t,function(e,t){if(!a(g,t)&&(y===e||u(y,e,n,r,c)))return g.push(t)})){v=!1;break}}else if(y!==b&&!u(y,b,n,r,c)){v=!1;break}}return c.delete(e),c.delete(t),v}var i=n(1076),o=n(1082),a=n(1107),s=1,l=2;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(29))},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(153);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){(function(e){var r=n(76),i=n(1171),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;e.exports=c}).call(t,n(61)(e))},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==l||t==a||t==u}var i=n(151),o=n(153),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t,n){var r=n(1094),i=n(488),o=n(1147),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){"use strict";e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}},function(e,t,n){"use strict";var r=n(63),i=n(122),o=n(36);e.exports=function(e){var t=e.value,n=e.valueSpec,a=e.style,s=e.styleSpec,l=e.key,u=e.arrayElementValidator||i;if("array"!==r(t))return[new o(l,t,"array expected, %s found",r(t))];if(n.length&&t.length!==n.length)return[new o(l,t,"array length %d expected, length %d found",n.length,t.length)];if(n["min-length"]&&t.length<n["min-length"])return[new o(l,t,"array length at least %d expected, length %d found",n["min-length"],t.length)];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],h=0;h<t.length;h++)f=f.concat(u({array:t,arrayIndex:h,value:t[h],valueSpec:c,style:a,styleSpec:s,key:l+"["+h+"]"}));return f}},function(e,t,n){"use strict";var r=n(36),i=n(63);e.exports=function(e){var t=e.key,n=e.value;if(e.styleSpec.$version>7)return n?[new r(t,n,"constants have been deprecated as of v8")]:[];var o=i(n);if("object"!==o)return[new r(t,n,"object expected, %s found",o)];var a=[];for(var s in n)"@"!==s[0]&&a.push(new r(t+"."+s,n[s],'constants must start with "@"'));return a}},function(e,t,n){"use strict";var r=n(36),i=n(63),o=n(122),a=n(156),s=n(499),l=n(504);e.exports=function(e){function t(e){var t=[],o=e.value;return t=t.concat(s({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&t.push(new r(e.key,o,"array must have at least one stop")),t}function n(e){var t=[],n=e.value,s=e.key;if("array"!==i(n))return[new r(s,n,"array expected, %s found",i(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];var h=i(n[0]);if(c||(c=h),h!==c)return[new r(s,n,"%s stop key type must match previous stop key type %s",h,c)];if("object"===h){if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];t=t.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:l,value:u}}))}else t=t.concat((d?l:u)({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec}));return t=t.concat(o({key:s+"[1]",value:n[1],valueSpec:f,style:e.style,styleSpec:e.styleSpec})),"number"===i(n[0])&&("piecewise-constant"===f.function&&n[0]%1!==0&&t.push(new r(s+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),0!==e.arrayIndex&&n[0]<e.array[e.arrayIndex-1][0]&&t.push(new r(s+"[0]",n[0],"array stops must appear in ascending order"))),t}function u(e){var t=[],n=i(e.value);return"number"!==n&&"string"!==n&&"array"!==n&&t.push(new r(e.key,e.value,"property value must be a number, string or array")),t}var c,f=e.valueSpec,h=void 0!==e.value.property||"object"===c,d=void 0===e.value.property||"object"===c,p=a({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t}});return e.styleSpec.$version>=8&&(h&&!e.valueSpec["property-function"]?p.push(new r(e.key,e.value,"property functions not supported")):d&&!e.valueSpec["zoom-function"]&&p.push(new r(e.key,e.value,"zoom functions not supported"))),p}},function(e,t,n){"use strict";var r=n(36),i=n(212),o=n(156),a=n(298),s=n(505),l=n(503),u=n(498);e.exports=function(e){var t=[],n=e.value,c=e.key,f=e.style,h=e.styleSpec;n.type||n.ref||t.push(new r(c,n,'either "type" or "ref" is required'));var d=i(n.type),p=i(n.ref);if(n.id)for(var m=0;m<e.arrayIndex;m++){var v=f.layers[m];i(v.id)===i(n.id)&&t.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,v.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new r(c,n[e],'"%s" is prohibited for ref layers',e))});var g;f.layers.forEach(function(e){e.id==p&&(g=e)}),g?g.ref?t.push(new r(c,n.ref,"ref cannot reference another ref layer")):d=i(g.type):t.push(new r(c,n.ref,'ref layer "%s" not found',p))}else if("background"!==d)if(n.source){var y=f.sources&&f.sources[n.source];y?"vector"==y.type&&"raster"==d?t.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"==y.type&&"raster"!=d?t.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=y.type||n["source-layer"]||t.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):t.push(new r(c,n.source,'source "%s" not found',n.source))}else t.push(new r(c,n,'missing required property "source"'));return t=t.concat(o({key:c,value:n,valueSpec:h.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{filter:a,layout:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return l(u({layerType:d},e))}}})},paint:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return s(u({layerType:d},e))}}})}}}))}},function(e,t,n){"use strict";var r=n(122),i=n(36);e.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,l=o["layout_"+e.layerType];if(e.valueSpec||l[s]){var u=[];return"symbol"===e.layerType&&("icon-image"===s&&n&&!n.sprite?u.push(new i(t,a,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&n&&!n.glyphs&&u.push(new i(t,a,'use of "text-field" requires a style "glyphs" property'))),u.concat(r({key:e.key,value:a,valueSpec:e.valueSpec||l[s],style:n,styleSpec:o}))}return[new i(t,a,'unknown property "%s"',s)]}},function(e,t,n){"use strict";var r=n(63),i=n(36);e.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,a=r(n);return"number"!==a?[new i(t,n,"number expected, %s found",a)]:"minimum"in o&&n<o.minimum?[new i(t,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new i(t,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},function(e,t,n){"use strict";var r=n(122),i=n(36);e.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,l=o["paint_"+e.layerType],u=s.match(/^(.*)-transition$/);return u&&l[u[1]]&&l[u[1]].transition?r({key:t,value:a,valueSpec:o.transition,style:n,styleSpec:o}):e.valueSpec||l[s]?r({key:e.key,value:a,valueSpec:e.valueSpec||l[s],style:n,styleSpec:o}):[new i(t,a,'unknown property "%s"',s)]}},function(e,t,n){"use strict";var r=n(36),i=n(212),o=n(156),a=n(297);e.exports=function(e){var t=e.value,n=e.key,s=e.styleSpec,l=e.style;if(!t.type)return[new r(n,t,'"type" is required')];switch(i(t.type)){case"vector":case"raster":var u=[];if(u=u.concat(o({key:n,value:t,valueSpec:s.source_tile,style:e.style,styleSpec:s})),"url"in t)for(var c in t)["type","url","tileSize"].indexOf(c)<0&&u.push(new r(n+"."+c,t[c],'a source with a "url" property may not include a "%s" property',c));return u;case"geojson":return o({key:n,value:t,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return o({key:n,value:t,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return o({key:n,value:t,valueSpec:s.source_image,style:l,styleSpec:s});default:return a({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:l,styleSpec:s})}}},function(e,t,n){"use strict";var r=n(63),i=n(36);e.exports=function(e){var t=e.value,n=e.key,o=r(t);return"string"!==o?[new i(n,t,"string expected, %s found",o)]:[]}},function(e,t,n){e.exports=n(759)},function(e,t,n){"use strict";function r(e){return!!(i()&&o()&&a()&&s()&&l()&&u()&&c()&&f(e&&e.failIfMajorPerformanceCaveat))}function i(){return"undefined"!==typeof window&&"undefined"!==typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(e){return void 0===d[e]&&(d[e]=h(e)),d[e]}function h(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}"undefined"!==typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var d={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},function(e,t,n){"use strict";function r(e,t,n){if(e.grid){var r=e,i=t;e=r.coord,t=r.overscaling,this.grid=new p(r.grid),this.featureIndexArray=new k(r.featureIndexArray),this.rawTileData=i,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new p(f,16,0),this.featureIndexArray=new k;this.coord=e,this.overscaling=t,this.x=e.x,this.y=e.y,this.z=e.z-Math.log(t)/Math.LN2,this.setCollisionTile(n)}function i(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function o(e,t){return t-e}function a(e){return e["line-gap-width"]>0?e["line-gap-width"]+2*e["line-width"]:e["line-width"]}function s(e,t,n,r,i){if(!t[0]&&!t[1])return e;t=u.convert(t),"viewport"===n&&t._rotate(-r);for(var o=[],a=0;a<e.length;a++){for(var s=e[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(t._mult(i)));o.push(l)}return o}function l(e,t){for(var n=[],r=new u(0,0),i=0;i<e.length;i++){for(var o=e[i],a=[],s=0;s<o.length;s++){var l=o[s-1],c=o[s],f=o[s+1],h=0===s?r:c.sub(l)._unit()._perp(),d=s===o.length-1?r:f.sub(c)._unit()._perp(),p=h._add(d)._unit(),m=p.x*d.x+p.y*d.y;p._mult(1/m),a.push(p._mult(t)._add(c))}n.push(a)}return n}var u=n(22),c=n(158),f=n(30).EXTENT,h=n(284),d=n(98),p=n(480),m=n(531),v=n(183),g=n(162),y=n(533),b=n(1).arraysIntersect,x=n(1251),_=x.multiPolygonIntersectsBufferedMultiPoint,w=x.multiPolygonIntersectsMultiPolygon,M=x.multiPolygonIntersectsBufferedMultiLine,k=new d({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]});e.exports=r,r.prototype.insert=function(e,t,n,r){var i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(t,n,r);for(var o=c(e),a=0;a<o.length;a++){for(var s=o[a],l=[1/0,1/0,-1/0,-1/0],u=0;u<s.length;u++){var f=s[u];l[0]=Math.min(l[0],f.x),l[1]=Math.min(l[1],f.y),l[2]=Math.max(l[2],f.x),l[3]=Math.max(l[3],f.y)}this.grid.insert(i,l[0],l[1],l[2],l[3])}},r.prototype.setCollisionTile=function(e){this.collisionTile=e},r.prototype.serialize=function(){var e={coord:this.coord,overscaling:this.overscaling,grid:this.grid.toArrayBuffer(),featureIndexArray:this.featureIndexArray.serialize(),bucketLayerIDs:this.bucketLayerIDs};return{data:e,transferables:[e.grid,e.featureIndexArray.arrayBuffer]}},r.prototype.query=function(e,t){this.vtLayers||(this.vtLayers=new v.VectorTile(new g(new Uint8Array(this.rawTileData))).layers,this.sourceLayerCoder=new m(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},r=e.params||{},s=f/e.tileSize/e.scale,l=h(r.filter),c=0;for(var d in t){var p=t[d],y=p.paint,b=0;"line"===p.type?b=a(y)/2+Math.abs(y["line-offset"])+i(y["line-translate"]):"fill"===p.type?b=i(y["fill-translate"]):"circle"===p.type&&(b=y["circle-radius"]+i(y["circle-translate"])),c=Math.max(c,b*s)}for(var x=e.queryGeometry.map(function(e){return e.map(function(e){return new u(e.x,e.y)})}),_=1/0,w=1/0,M=-1/0,k=-1/0,E=0;E<x.length;E++)for(var S=x[E],T=0;T<S.length;T++){var A=S[T];_=Math.min(_,A.x),w=Math.min(w,A.y),M=Math.max(M,A.x),k=Math.max(k,A.y)}var C=this.grid.query(_-c,w-c,M+c,k+c);C.sort(o),this.filterMatching(n,C,this.featureIndexArray,x,l,r.layers,t,e.bearing,s);var D=this.collisionTile.queryRenderedSymbols(_,w,M,k,e.scale);return D.sort(),this.filterMatching(n,D,this.collisionTile.collisionBoxArray,x,l,r.layers,t,e.bearing,s),n},r.prototype.filterMatching=function(e,t,n,r,i,o,u,f,h){for(var d,p=0;p<t.length;p++){var m=t[p];if(m!==d){d=m;var v=n.get(m),g=this.bucketLayerIDs[v.bucketIndex];if(!o||b(o,g)){var x=this.sourceLayerCoder.decode(v.sourceLayerIndex),k=this.vtLayers[x],E=k.feature(v.featureIndex);if(i(E))for(var S=null,T=0;T<g.length;T++){var A=g[T];if(!(o&&o.indexOf(A)<0)){var C=u[A];if(C){var D;if("symbol"!==C.type){S||(S=c(E));var O=C.paint;if("line"===C.type){D=s(r,O["line-translate"],O["line-translate-anchor"],f,h);var P=a(O)/2*h;if(O["line-offset"]&&(S=l(S,O["line-offset"]*h)),!M(D,S,P))continue}else if("fill"===C.type){if(D=s(r,O["fill-translate"],O["fill-translate-anchor"],f,h),!w(D,S))continue}else if("circle"===C.type){D=s(r,O["circle-translate"],O["circle-translate-anchor"],f,h);var L=O["circle-radius"]*h;if(!_(D,S,L))continue}}var I=new y(E,this.z,this.x,this.y);I.layer=C.serialize({includeRefProperties:!0});var N=e[A];void 0===N&&(N=e[A]=[]),N.push(I)}}}}}}}},function(e,t,n){"use strict";var r=e.exports={};r.version=n(760).version,r.Map=n(1243),r.Control=n(216),r.Navigation=n(1234),r.Geolocate=n(1233),r.Attribution=n(528),r.Popup=n(1245),r.Marker=n(1244),r.Style=n(519),r.LngLat=n(78),r.LngLatBounds=n(214),r.Point=n(22),r.Evented=n(46),r.util=n(1),r.supported=n(37).supported;var i=n(64);r.util.getJSON=i.getJSON,r.util.getArrayBuffer=i.getArrayBuffer;var o=n(530);r.config=o,Object.defineProperty(r,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(e){o.ACCESS_TOKEN=e}})},function(e,t,n){"use strict";var r=n(83);e.exports=function(e){for(var t={define:{},initialize:{}},n=0;n<e.length;n++){var i=e[n];r("u_"===i.name.slice(0,2));var o="{precision} "+(1===i.components?"float":"vec"+i.components);t.define[i.name.slice(2)]="uniform "+o+" "+i.name+";\n",t.initialize[i.name.slice(2)]=o+" "+i.name.slice(2)+" = "+i.name+";\n"}return t}},function(e,t,n){"use strict";var r=n(1),i=n(64),o=n(37),a=n(123).normalizeSourceURL;e.exports=function(e,t){var n=function(e,n){if(e)return t(e);var i=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(i.vectorLayers=n.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(e){return e.id})),t(null,i)};e.url?i.getJSON(a(e.url),n):o.frame(n.bind(null,null,e))}},function(e,t,n){"use strict";var r=n(1),i={vector:n(1208),raster:n(1206),geojson:n(1201),video:n(1209),image:n(1204)};t.create=function(e,t,n){if(t=new i[t.type](e,t,n),t.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+t.id);return r.bindAll(["load","abort","unload","serialize","prepare"],t),t},t.getType=function(e){return i[e]},t.setType=function(e,t){i[e]=t}},function(e,t,n){"use strict";function r(e,t,n){this.id=e,this.dispatcher=n;var r=this._source=a.create(e,t,n).on("load",function(){this.map&&this._source.onAdd&&this._source.onAdd(this.map),this._sourceLoaded=!0,this.tileSize=r.tileSize,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.roundZoom=r.roundZoom,this.reparseOverscaled=r.reparseOverscaled,this.isTileClipped=r.isTileClipped,this.attribution=r.attribution,this.vectorLayerIds=r.vectorLayerIds,this.fire("load")}.bind(this)).on("error",function(e){this._sourceErrored=!0,this.fire("error",e)}.bind(this)).on("change",function(){this.reload(),this.transform&&this.update(this.transform,this.map&&this.map.style.rasterFadeDuration),this.fire("change")}.bind(this));this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._isIdRenderable=this._isIdRenderable.bind(this)}function i(e,t,n){var r=n.zoomTo(Math.min(e.z,t));return{x:(r.column-(e.x+e.w*Math.pow(2,e.z)))*d,y:(r.row-e.y)*d}}function o(e,t){return e%32-t%32}var a=n(514),s=n(1207),l=n(46),u=n(161),c=n(1252),f=n(213),h=n(1),d=n(30).EXTENT;e.exports=r,r.maxOverzooming=10,r.maxUnderzooming=3,r.prototype=h.inherit(l,{onAdd:function(e){this.map=e,this._source&&this._source.onAdd&&this._source.onAdd(e)},loaded:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},getSource:function(){return this._source},loadTile:function(e,t){return this._source.loadTile(e,t)},unloadTile:function(e){if(this._source.unloadTile)return this._source.unloadTile(e)},abortTile:function(e){if(this._source.abortTile)return this._source.abortTile(e)},serialize:function(){return this._source.serialize()},prepare:function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},getIds:function(){return Object.keys(this._tiles).map(Number).sort(o)},getRenderableIds:function(){return this.getIds().filter(this._isIdRenderable)},_isIdRenderable:function(e){return this._tiles[e].isRenderable()&&!this._coveredTiles[e]},reload:function(){this._cache.reset();for(var e in this._tiles){var t=this._tiles[e];"loading"!==t.state&&(t.state="reloading"),this.loadTile(this._tiles[e],this._tileLoaded.bind(this,this._tiles[e]))}},_tileLoaded:function(e,t){if(t)return e.state="errored",this.fire("tile.error",{tile:e,error:t}),void this._source.fire("tile.error",{tile:e,error:t});e.source=this,e.timeAdded=(new Date).getTime(),this.fire("tile.load",{tile:e}),this._source.fire("tile.load",{tile:e})},getTile:function(e){return this.getTileByID(e.id)},getTileByID:function(e){return this._tiles[e]},getZoom:function(e){return e.zoom+e.scaleZoom(e.tileSize/this.tileSize)},findLoadedChildren:function(e,t,n){var r=!1;for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.isRenderable()||o.coord.z<=e.z||o.coord.z>t)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(e.z,this.maxzoom));if(Math.floor(o.coord.x/a)===e.x&&Math.floor(o.coord.y/a)===e.y)for(n[i]=!0,r=!0;o&&o.coord.z-1>e.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.isRenderable()&&(delete n[i],n[s]=!0)}}}return r},findLoadedParent:function(e,t,n){for(var r=e.z-1;r>=t;r--){e=e.parent(this.maxzoom);var i=this._tiles[e.id];if(i&&i.isRenderable())return n[e.id]=!0,i;if(this._cache.has(e.id))return this.addTile(e),n[e.id]=!0,this._tiles[e.id]}},updateCacheSize:function(e){var t=Math.ceil(e.width/e.tileSize)+1,n=Math.ceil(e.height/e.tileSize)+1,r=t*n;this._cache.setMaxSize(Math.floor(5*r))},update:function(e,t){if(this._sourceLoaded){var n,i,o;this.updateCacheSize(e);var a=(this.roundZoom?Math.round:Math.floor)(this.getZoom(e)),s=Math.max(a-r.maxOverzooming,this.minzoom),l=Math.max(a+r.maxUnderzooming,this.minzoom),c={},f=(new Date).getTime();this._coveredTiles={};var d=this.used?e.coveringTiles(this._source):[];for(n=0;n<d.length;n++)i=d[n],o=this.addTile(i),c[i.id]=!0,o.isRenderable()||this.findLoadedChildren(i,l,c)||this.findLoadedParent(i,s,c);for(var p={},m=Object.keys(c),v=0;v<m.length;v++){var g=m[v];i=u.fromID(g),o=this._tiles[g],o&&o.timeAdded>f-(t||0)&&(this.findLoadedChildren(i,l,c)&&(c[g]=!0),this.findLoadedParent(i,s,p))}var y;for(y in p)c[y]||(this._coveredTiles[y]=!0);for(y in p)c[y]=!0;var b=h.keysDifference(this._tiles,c);for(n=0;n<b.length;n++)this.removeTile(+b[n]);this.transform=e}},addTile:function(e){var t=this._tiles[e.id];if(t)return t;var n=e.wrapped();if(t=this._tiles[n.id],t||(t=this._cache.get(n.id))&&this._redoPlacement&&this._redoPlacement(t),!t){var r=e.z,i=r>this.maxzoom?Math.pow(2,r-this.maxzoom):1;t=new s(n,this.tileSize*i,this.maxzoom),this.loadTile(t,this._tileLoaded.bind(this,t))}return t.uses++,this._tiles[e.id]=t,this.fire("tile.add",{tile:t}),this._source.fire("tile.add",{tile:t}),t},removeTile:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this.fire("tile.remove",{tile:t}),this._source.fire("tile.remove",{tile:t}),t.uses>0||(t.isRenderable()?this._cache.add(t.coord.wrapped().id,t):(t.aborted=!0,this.abortTile(t),this.unloadTile(t))))},clearTiles:function(){for(var e in this._tiles)this.removeTile(e);this._cache.reset()},tilesIn:function(e){for(var t={},n=this.getIds(),r=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0].zoom,c=0;c<e.length;c++){var h=e[c];r=Math.min(r,h.column),o=Math.min(o,h.row),a=Math.max(a,h.column),s=Math.max(s,h.row)}for(var p=0;p<n.length;p++){var m=this._tiles[n[p]],v=u.fromID(n[p]),g=[i(v,m.sourceMaxZoom,new f(r,o,l)),i(v,m.sourceMaxZoom,new f(a,s,l))];if(g[0].x<d&&g[0].y<d&&g[1].x>=0&&g[1].y>=0){for(var y=[],b=0;b<e.length;b++)y.push(i(v,m.sourceMaxZoom,e[b]));var x=t[m.coord.id];void 0===x&&(x=t[m.coord.id]={tile:m,coord:v,queryGeometry:[],scale:Math.pow(2,this.transform.zoom-m.coord.z)}),x.queryGeometry.push(y)}}var _=[];for(var w in t)_.push(t[w]);return _},redoPlacement:function(){for(var e=this.getIds(),t=0;t<e.length;t++){this.getTileByID(e[t]).redoPlacement(this)}},getVisibleCoordinates:function(){return this.getRenderableIds().map(u.fromID)}})},function(e,t,n){"use strict";function r(e,t,n){this.actor=e,this.styleLayers=t,n&&(this.loadVectorData=n),this.loading={},this.loaded={}}var i=n(64),o=n(183),a=n(162),s=n(1211);e.exports=r,r.prototype={loadTile:function(e,t){function n(e,n){return delete this.loading[r][i],e?t(e):n?(o.data=n.tile,o.parse(o.data,this.styleLayers.getLayerFamilies(),this.actor,n.rawTileData,t),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][i]=o)):t(null,null)}var r=e.source,i=e.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(e);o.abort=this.loadVectorData(e,n.bind(this))},reloadTile:function(e,t){var n=this.loaded[e.source],r=e.uid;if(n&&n[r]){var i=n[r];i.parse(i.data,this.styleLayers.getLayerFamilies(),this.actor,e.rawTileData,t)}},abortTile:function(e){var t=this.loading[e.source],n=e.uid;t&&t[n]&&t[n].abort&&(t[n].abort(),delete t[n])},removeTile:function(e){var t=this.loaded[e.source],n=e.uid;t&&t[n]&&delete t[n]},loadVectorData:function(e,t){function n(e,n){if(e)return t(e);var r=new o.VectorTile(new a(new Uint8Array(n)));t(e,{tile:r,rawTileData:n})}var r=i.getArrayBuffer(e.url,n.bind(this));return function(){r.abort()}},redoPlacement:function(e,t){var n=this.loaded[e.source],r=this.loading[e.source],i=e.uid;if(n&&n[i]){var o=n[i],a=o.redoPlacement(e.angle,e.pitch,e.showCollisionBoxes);a.result&&t(null,a.result,a.transferables)}else r&&r[i]&&(r[i].angle=e.angle)}}},function(e,t,n){"use strict";function r(){this.n=0,this.times=[]}e.exports=r,r.prototype.stopped=function(){return this.times=this.times.filter(function(e){return e.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(e){return this.times.push({id:this.n,time:e+(new Date).getTime()}),this.n++},r.prototype.cancel=function(e){this.times=this.times.filter(function(t){return t.id!==e})}},function(e,t,n){"use strict";var r=n(446).parseCSSColor,i=n(1),o=n(299),a={};e.exports=function e(t){if(o.isFunctionDefinition(t))return i.extend({},t,{stops:t.stops.map(function(t){return[t[0],e(t[1])]})});if("string"===typeof t){if(!a[t]){var n=r(t);if(!n)throw new Error("Invalid color "+t);a[t]=[n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]]}return a[t]}throw new Error("Invalid color "+t)}},function(e,t,n){"use strict";function r(e,t,n){this.animationLoop=t||new m,this.dispatcher=new p(n||1,this),this.spriteAtlas=new l(1024,1024),this.lineAtlas=new u(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this),this._resetUpdates();var r=function(e,t){if(e)return void this.fire("error",{error:e});if(!v.emitErrors(this,v(t))){this._loaded=!0,this.stylesheet=t,this.updateClasses();var n=t.sources;for(var r in n)this.addSource(r,n[r]);t.sprite&&(this.sprite=new a(t.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new s(t.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"===typeof e?f.getJSON(h(e),r):d.frame(r.bind(this,null,e)),this.on("source.load",function(e){var t=e.source;if(t&&t.vectorLayerIds)for(var n in this._layers){var r=this._layers[n];r.source===t.id&&this._validateLayer(r)}})}var i=n(46),o=n(87),a=n(1212),s=n(1226),l=n(1230),u=n(1198),c=n(1),f=n(64),h=n(123).normalizeStyleURL,d=n(37),p=n(1249),m=n(517),v=n(521),g=n(514),y=n(1205),b=n(515),x=n(520),_=n(299);e.exports=r,r.prototype=c.inherit(i,{_loaded:!1,_validateLayer:function(e){var t=this.sources[e.source];e.sourceLayer&&t&&t.vectorLayerIds&&-1===t.vectorLayerIds.indexOf(e.sourceLayer)&&this.fire("error",{error:new Error('Source layer "'+e.sourceLayer+'" does not exist on source "'+t.id+'" as specified by style layer "'+e.id+'"')})},loaded:function(){if(!this._loaded)return!1;if(Object.keys(this._updates.sources).length)return!1;for(var e in this.sources)if(!this.sources[e].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},_resolve:function(){var e,t;this._layers={},this._order=this.stylesheet.layers.map(function(e){return e.id});for(var n=0;n<this.stylesheet.layers.length;n++)t=this.stylesheet.layers[n],t.ref||(e=o.create(t),this._layers[e.id]=e,e.on("error",this._forwardLayerEvent));for(var r=0;r<this.stylesheet.layers.length;r++)if(t=this.stylesheet.layers[r],t.ref){var i=this.getLayer(t.ref);e=o.create(t,i),this._layers[e.id]=e,e.on("error",this._forwardLayerEvent)}this._groupLayers(),this._updateWorkerLayers()},_groupLayers:function(){var e;this._groups=[];for(var t=0;t<this._order.length;++t){var n=this._layers[this._order[t]];e&&n.source===e.source||(e=[],e.source=n.source,this._groups.push(e)),e.push(n)}},_updateWorkerLayers:function(e){this.dispatcher.broadcast(e?"update layers":"set layers",this._serializeLayers(e))},_serializeLayers:function(e){e=e||this._order;for(var t=[],n={includeRefProperties:!0},r=0;r<e.length;r++)t.push(this._layers[e[r]].serialize(n));return t},_applyClasses:function(e,t){if(this._loaded){e=e||[],t=t||{transition:!0};var n=this.stylesheet.transition||{},r=this._updates.allPaintProps?this._layers:this._updates.paintProps;for(var i in r){var o=this._layers[i],a=this._updates.paintProps[i];if(this._updates.allPaintProps||a.all)o.updatePaintTransitions(e,t,n,this.animationLoop);else for(var s in a)this._layers[i].updatePaintTransition(s,e,t,n,this.animationLoop)}}},_recalculate:function(e){for(var t in this.sources)this.sources[t].used=!1;this._updateZoomHistory(e),this.rasterFadeDuration=300;for(var n in this._layers){var r=this._layers[n];r.recalculate(e,this.zoomHistory),!r.isHidden(e)&&r.source&&(this.sources[r.source].used=!0)}Math.floor(this.z)!==Math.floor(e)&&this.animationLoop.set(300),this.z=e,this.fire("zoom")},_updateZoomHistory:function(e){var t=this.zoomHistory;void 0===t.lastIntegerZoom&&(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=0,t.lastZoom=e),Math.floor(t.lastZoom)<Math.floor(e)?(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=Date.now()):Math.floor(t.lastZoom)>Math.floor(e)&&(t.lastIntegerZoom=Math.floor(e+1),t.lastIntegerZoomTime=Date.now()),t.lastZoom=e},_checkLoaded:function(){if(!this._loaded)throw new Error("Style is not done loading")},update:function(e,t){if(!this._updates.changed)return this;if(this._updates.allLayers)this._groupLayers(),this._updateWorkerLayers();else{var n=Object.keys(this._updates.layers);n.length&&this._updateWorkerLayers(n)}var r,i=Object.keys(this._updates.sources);for(r=0;r<i.length;r++)this._reloadSource(i[r]);for(r=0;r<this._updates.events.length;r++){var o=this._updates.events[r];this.fire(o[0],o[1])}return this._applyClasses(e,t),this._updates.changed&&this.fire("change"),this._resetUpdates(),this},_resetUpdates:function(){this._updates={events:[],layers:{},sources:{},paintProps:{}}},addSource:function(e,t){if(this._checkLoaded(),void 0!==this.sources[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t)+".");return["vector","raster","geojson","video","image"].indexOf(t.type)>=0&&this._handleErrors(v.source,"sources."+e,t)?this:(t=new b(e,t,this.dispatcher),this.sources[e]=t,t.style=this,t.on("load",this._forwardSourceEvent).on("error",this._forwardSourceEvent).on("change",this._forwardSourceEvent).on("tile.add",this._forwardTileEvent).on("tile.load",this._forwardTileEvent).on("tile.error",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.add",{source:t}]),this._updates.changed=!0,this)},removeSource:function(e){if(this._checkLoaded(),void 0===this.sources[e])throw new Error("There is no source with this ID");var t=this.sources[e];return delete this.sources[e],delete this._updates.sources[e],t.off("load",this._forwardSourceEvent).off("error",this._forwardSourceEvent).off("change",this._forwardSourceEvent).off("tile.add",this._forwardTileEvent).off("tile.load",this._forwardTileEvent).off("tile.error",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.remove",{source:t}]),this._updates.changed=!0,this},getSource:function(e){return this.sources[e]&&this.sources[e].getSource()},addLayer:function(e,t){if(this._checkLoaded(),!(e instanceof o)){if(this._handleErrors(v.layer,"layers."+e.id,e,!1,{arrayIndex:-1}))return this;var n=e.ref&&this.getLayer(e.ref);e=o.create(e,n)}return this._validateLayer(e),e.on("error",this._forwardLayerEvent),this._layers[e.id]=e,this._order.splice(t?this._order.indexOf(t):1/0,0,e.id),this._updates.allLayers=!0,e.source&&(this._updates.sources[e.source]=!0),this._updates.events.push(["layer.add",{layer:e}]),this.updateClasses(e.id)},removeLayer:function(e){this._checkLoaded();var t=this._layers[e];if(void 0===t)throw new Error("There is no layer with this ID");for(var n in this._layers)this._layers[n].ref===e&&this.removeLayer(n);return t.off("error",this._forwardLayerEvent),delete this._layers[e],delete this._updates.layers[e],delete this._updates.paintProps[e],this._order.splice(this._order.indexOf(e),1),this._updates.allLayers=!0,this._updates.events.push(["layer.remove",{layer:t}]),this._updates.changed=!0,this},getLayer:function(e){return this._layers[e]},getReferentLayer:function(e){var t=this.getLayer(e);return t.ref&&(t=this.getLayer(t.ref)),t},setLayerZoomRange:function(e,t,n){this._checkLoaded();var r=this.getReferentLayer(e);return r.minzoom===t&&r.maxzoom===n?this:(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r))},setFilter:function(e,t){this._checkLoaded();var n=this.getReferentLayer(e);return null!==t&&this._handleErrors(v.filter,"layers."+n.id+".filter",t)?this:c.deepEqual(n.filter,t)?this:(n.filter=c.clone(t),this._updateLayer(n))},getFilter:function(e){return this.getReferentLayer(e).filter},setLayoutProperty:function(e,t,n){this._checkLoaded();var r=this.getReferentLayer(e);return c.deepEqual(r.getLayoutProperty(t),n)?this:(r.setLayoutProperty(t,n),this._updateLayer(r))},getLayoutProperty:function(e,t){return this.getReferentLayer(e).getLayoutProperty(t)},setPaintProperty:function(e,t,n,r){this._checkLoaded();var i=this.getLayer(e);if(c.deepEqual(i.getPaintProperty(t,r),n))return this;var o=i.isPaintValueFeatureConstant(t);return i.setPaintProperty(t,n,r),!(n&&_.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property)&&o||(this._updates.layers[e]=!0,i.source&&(this._updates.sources[i.source]=!0)),this.updateClasses(e,t)},getPaintProperty:function(e,t,n){return this.getLayer(e).getPaintProperty(t,n)},updateClasses:function(e,t){if(this._updates.changed=!0,e){var n=this._updates.paintProps;n[e]||(n[e]={}),n[e][t||"all"]=!0}else this._updates.allPaintProps=!0;return this},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(e){return e.serialize()}),layers:this._order.map(function(e){return this._layers[e].serialize()},this)},function(e){return void 0!==e})},_updateLayer:function(e){return this._updates.layers[e.id]=!0,e.source&&(this._updates.sources[e.source]=!0),this._updates.changed=!0,this},_flattenRenderedFeatures:function(e){for(var t=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],i=0;i<e.length;i++){var o=e[i][r];if(o)for(var a=0;a<o.length;a++)t.push(o[a])}return t},queryRenderedFeatures:function(e,t,n,r){t&&t.filter&&this._handleErrors(v.filter,"queryRenderedFeatures.filter",t.filter,!0);var i={};if(t&&t.layers)for(var o=0;o<t.layers.length;o++){var a=t.layers[o];i[this._layers[a].source]=!0}var s=[];for(var l in this.sources)if(!t.layers||i[l]){var u=this.sources[l],c=y.rendered(u,this._layers,e,t,n,r);s.push(c)}return this._flattenRenderedFeatures(s)},querySourceFeatures:function(e,t){t&&t.filter&&this._handleErrors(v.filter,"querySourceFeatures.filter",t.filter,!0);var n=this.sources[e];return n?y.source(n,t):[]},addSourceType:function(e,t,n){return g.getType(e)?n(new Error('A source type called "'+e+'" already exists.')):(g.setType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("load worker source",{name:e,url:t.workerSourceURL},n):n(null,null))},_handleErrors:function(e,t,n,r,i){var o=r?v.throwErrors:v.emitErrors,a=e.call(v,c.extend({key:t,style:this.serialize(),value:n,styleSpec:x},i));return o.call(v,this,a)},_remove:function(){this.dispatcher.remove()},_reloadSource:function(e){this.sources[e].reload()},_updateSources:function(e){for(var t in this.sources)this.sources[t].update(e)},_redoPlacement:function(){for(var e in this.sources)this.sources[e].redoPlacement&&this.sources[e].redoPlacement()},_forwardSourceEvent:function(e){this.fire("source."+e.type,c.extend({source:e.target.getSource()},e))},_forwardTileEvent:function(e){this.fire(e.type,c.extend({source:e.target},e))},_forwardLayerEvent:function(e){this.fire("layer."+e.type,c.extend({layer:{id:e.target.id}},e))},"get sprite json":function(e,t){var n=this.sprite;n.loaded()?t(null,{sprite:n.data,retina:n.retina}):n.on("load",function(){t(null,{sprite:n.data,retina:n.retina})})},"get icons":function(e,t){var n=this.sprite,r=this.spriteAtlas;n.loaded()?(r.setSprite(n),r.addIcons(e.icons,t)):n.on("load",function(){r.setSprite(n),r.addIcons(e.icons,t)})},"get glyphs":function(e,t){function n(e,n,r){e&&console.error(e),o[r]=n,0===--i&&t(null,o)}var r=e.stacks,i=Object.keys(r).length,o={};for(var a in r)this.glyphSource.getSimpleGlyphs(a,r[a],e.uid,n)}})},function(e,t,n){"use strict";e.exports=n(508)},function(e,t,n){"use strict";e.exports=n(1181),e.exports.emitErrors=function(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)e.fire("error",{error:new Error(t[n].message)});return!0}return!1},e.exports.throwErrors=function(e,t){if(t)for(var n=0;n<t.length;n++)throw new Error(t[n].message)}},function(e,t,n){"use strict";function r(e,t,n,r){this.x=e,this.y=t,this.angle=n,void 0!==r&&(this.segment=r)}var i=n(22);e.exports=r,r.prototype=Object.create(i.prototype),r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)}},function(e,t,n){"use strict";var r=n(98),i=n(1),o=n(22),a=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});i.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)}})},function(e,t,n){"use strict";function r(e,t,n){if("object"===typeof e){var r=e;n=t,e=r.angle,t=r.pitch,this.grid=new a(r.grid),this.ignoredGrid=new a(r.ignoredGrid)}else this.grid=new a(o,12,6),this.ignoredGrid=new a(o,12,0);this.angle=e,this.pitch=t;var i=Math.sin(e),s=Math.cos(e);if(this.rotationMatrix=[s,-i,i,s],this.reverseRotationMatrix=[s,i,-i,s],this.yStretch=1/Math.cos(t/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();n.emplaceBack(0,0,0,-32767,0,32767,32767,0,0,0,0,0,0,0,0,0),n.emplaceBack(o,0,0,-32767,0,32767,32767,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-32767,0,32767,0,32767,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,o,-32767,0,32767,0,32767,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]}var i=n(22),o=n(30).EXTENT,a=n(480);e.exports=r,r.prototype.serialize=function(){var e={angle:this.angle,pitch:this.pitch,grid:this.grid.toArrayBuffer(),ignoredGrid:this.ignoredGrid.toArrayBuffer()};return{data:e,transferables:[e.grid,e.ignoredGrid]}},r.prototype.minScale=.25,r.prototype.maxScale=2,r.prototype.placeCollisionFeature=function(e,t,n){for(var r=this.collisionBoxArray,o=this.minScale,a=this.rotationMatrix,s=this.yStretch,l=e.boxStartIndex;l<e.boxEndIndex;l++){var u=r.get(l),c=u.anchorPoint._matMult(a),f=c.x,h=c.y,d=f+u.x1,p=h+u.y1*s,m=f+u.x2,v=h+u.y2*s;if(u.bbox0=d,u.bbox1=p,u.bbox2=m,u.bbox3=v,!t)for(var g=this.grid.query(d,p,m,v),y=0;y<g.length;y++){var b=r.get(g[y]),x=b.anchorPoint._matMult(a);if((o=this.getPlacementScale(o,c,u,x,b))>=this.maxScale)return o}if(n){var _;if(this.angle){var w=this.reverseRotationMatrix,M=new i(u.x1,u.y1).matMult(w),k=new i(u.x2,u.y1).matMult(w),E=new i(u.x1,u.y2).matMult(w),S=new i(u.x2,u.y2).matMult(w);_=this.tempCollisionBox,_.anchorPointX=u.anchorPoint.x,_.anchorPointY=u.anchorPoint.y,_.x1=Math.min(M.x,k.x,E.x,S.x),_.y1=Math.min(M.y,k.x,E.x,S.x),_.x2=Math.max(M.x,k.x,E.x,S.x),_.y2=Math.max(M.y,k.x,E.x,S.x),_.maxScale=u.maxScale}else _=u;for(var T=0;T<this.edges.length;T++){var A=this.edges[T];if((o=this.getPlacementScale(o,u.anchorPoint,_,A.anchorPoint,A))>=this.maxScale)return o}}}return o},r.prototype.queryRenderedSymbols=function(e,t,n,r,o){var a={},s=[],l=this.collisionBoxArray,u=this.rotationMatrix,c=new i(e,t)._matMult(u),f=this.tempCollisionBox;f.anchorX=c.x,f.anchorY=c.y,f.x1=0,f.y1=0,f.x2=n-e,f.y2=r-t,f.maxScale=o,o=f.maxScale;for(var h=[c.x+f.x1/o,c.y+f.y1/o*this.yStretch,c.x+f.x2/o,c.y+f.y2/o*this.yStretch],d=this.grid.query(h[0],h[1],h[2],h[3]),p=this.ignoredGrid.query(h[0],h[1],h[2],h[3]),m=0;m<p.length;m++)d.push(p[m]);for(var v=0;v<d.length;v++){var g=l.get(d[v]),y=g.sourceLayerIndex,b=g.featureIndex;if(void 0===a[y]&&(a[y]={}),!a[y][b]){var x=g.anchorPoint.matMult(u);this.getPlacementScale(this.minScale,c,f,x,g)>=o&&(a[y][b]=!0,s.push(d[v]))}}return s},r.prototype.getPlacementScale=function(e,t,n,r,i){var o=t.x-r.x,a=t.y-r.y,s=(i.x1-n.x2)/o,l=(i.x2-n.x1)/o,u=(i.y1-n.y2)*this.yStretch/a,c=(i.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(l))&&(s=l=1),(isNaN(u)||isNaN(c))&&(u=c=1);var f=Math.min(Math.max(s,l),Math.max(u,c)),h=i.maxScale,d=n.maxScale;return f>h&&(f=h),f>d&&(f=d),f>e&&f>=i.placementScale&&(e=f),e},r.prototype.insertCollisionFeature=function(e,t,n){for(var r=n?this.ignoredGrid:this.grid,i=this.collisionBoxArray,o=e.boxStartIndex;o<e.boxEndIndex;o++){var a=i.get(o);a.placementScale=t,t<this.maxScale&&r.insert(o,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l,u){this.anchorPoint=e,this.tl=t,this.tr=n,this.bl=r,this.br=i,this.tex=o,this.anchorAngle=a,this.glyphAngle=s,this.minScale=l,this.maxScale=u}function i(e,t,n,i,o,a,u,c,f){var h,d,p,m,v=t.image.rect,g=o.layout,y=t.left-1,b=y+v.w/t.image.pixelRatio,x=t.top-1,_=x+v.h/t.image.pixelRatio;if("none"!==g["icon-text-fit"]&&u){var w=b-y,M=_-x,k=g["text-size"]/24,E=u.left*k,S=u.right*k,T=u.top*k,A=u.bottom*k,C=S-E,D=A-T,O=g["icon-text-fit-padding"][0],P=g["icon-text-fit-padding"][1],L=g["icon-text-fit-padding"][2],I=g["icon-text-fit-padding"][3],N="width"===g["icon-text-fit"]?.5*(D-M):0,R="height"===g["icon-text-fit"]?.5*(C-w):0,j="width"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?C:w,z="height"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?D:M;h=new s(E+R-I,T+N-O),d=new s(E+R+P+j,T+N-O),p=new s(E+R+P+j,T+N+L+z),m=new s(E+R-I,T+N+L+z)}else h=new s(y,x),d=new s(b,x),p=new s(b,_),m=new s(y,_);var F=o.getLayoutValue("icon-rotate",c,f)*Math.PI/180;if(a){var B=i[e.segment];if(e.y===B.y&&e.x===B.x&&e.segment+1<i.length){var U=i[e.segment+1];F+=Math.atan2(e.y-U.y,e.x-U.x)+Math.PI}else F+=Math.atan2(e.y-B.y,e.x-B.x)}if(F){var V=Math.sin(F),H=Math.cos(F),Y=[H,-V,V,H];h=h.matMult(Y),d=d.matMult(Y),m=m.matMult(Y),p=p.matMult(Y)}return[new r(new s(e.x,e.y),h,d,m,p,t.image.rect,0,0,l,1/0)]}function o(e,t,n,i,o,u){for(var c=o.layout["text-rotate"]*Math.PI/180,f=o.layout["text-keep-upright"],h=t.positionedGlyphs,d=[],p=0;p<h.length;p++){var m=h[p],v=m.glyph,g=v.rect;if(g){var y,b=(m.x+v.advance/2)*n,x=l;u?(y=[],x=a(y,e,b,i,e.segment,!0),f&&(x=Math.min(x,a(y,e,b,i,e.segment,!1)))):y=[{anchorPoint:new s(e.x,e.y),offset:0,angle:0,maxScale:1/0,minScale:l}];for(var _=m.x+v.left,w=m.y-v.top,M=_+g.w,k=w+g.h,E=new s(_,w),S=new s(M,w),T=new s(_,k),A=new s(M,k),C=0;C<y.length;C++){var D=y[C],O=E,P=S,L=T,I=A;if(c){var N=Math.sin(c),R=Math.cos(c),j=[R,-N,N,R];O=O.matMult(j),P=P.matMult(j),L=L.matMult(j),I=I.matMult(j)}var z=Math.max(D.minScale,x),F=(e.angle+D.offset+2*Math.PI)%(2*Math.PI),B=(D.angle+D.offset+2*Math.PI)%(2*Math.PI);d.push(new r(D.anchorPoint,O,P,L,I,g,F,B,z,D.maxScale))}}}return d}function a(e,t,n,r,i,o){var a=!o;n<0&&(o=!o),o&&i++;var u=new s(t.x,t.y),c=r[i],f=1/0;n=Math.abs(n);for(var h=l;;){var d=u.dist(c),p=n/d,m=Math.atan2(c.y-u.y,c.x-u.x);if(o||(m+=Math.PI),e.push({anchorPoint:u,offset:a?Math.PI:0,minScale:p,maxScale:f,angle:(m+2*Math.PI)%(2*Math.PI)}),p<=h)break;for(u=c;u.equals(c);)if(i+=o?1:-1,!(c=r[i]))return p;var v=c.sub(u)._unit();u=u.sub(v._mult(d)),f=p}return h}var s=n(22);e.exports={getIconQuads:i,getGlyphQuads:o,SymbolQuad:r};var l=.5},function(e,t,n){"use strict";var r=n(98),i=n(1),o=n(22),a=e.exports=new r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"}]});i.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)}})},function(e,t,n){"use strict";var r=n(98),i=n(1),o=n(22),a=n(525).SymbolQuad,s=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"}]});i.extendAll(s.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)},get SymbolQuad(){return new a(this.anchorPoint,new o(this.tlX,this.tlY),new o(this.trX,this.trY),new o(this.blX,this.blY),new o(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale)}})},function(e,t,n){"use strict";function r(e){a.setOptions(this,e)}var i=n(216),o=n(51),a=n(1);e.exports=r,r.createAttributionString=function(e){var t=[];for(var n in e){var r=e[n];r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}return t.sort(function(e,t){return e.length-t.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),t.join(" | ")},r.prototype=a.inherit(i,{options:{position:"bottom-right"},onAdd:function(e){var t=this._container=o.create("div","mapboxgl-ctrl-attrib",e.getContainer());return this._update(),e.on("source.load",this._update.bind(this)),e.on("source.change",this._update.bind(this)),e.on("source.remove",this._update.bind(this)),e.on("moveend",this._updateEditLink.bind(this)),t},_update:function(){this._map.style&&(this._container.innerHTML=r.createAttributionString(this._map.style.sources)),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var e=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+e.lng+"/"+e.lat+"/"+Math.round(this._map.getZoom()+1)}}})},function(e,t,n){"use strict";function r(e,t){this.target=e,this.parent=t,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=r,r.prototype.receive=function(e){function t(e,t,n){this.postMessage({type:"<response>",id:String(i),error:e?String(e):null,data:t},n)}var n,r=e.data,i=r.id;if("<response>"===r.type)n=this.callbacks[r.id],delete this.callbacks[r.id],n&&n(r.error||null,r.data);else if("undefined"!==typeof r.id&&this.parent[r.type])this.parent[r.type](r.data,t.bind(this));else if("undefined"!==typeof r.id&&this.parent.workerSources){var o=r.type.split(".");this.parent.workerSources[o[0]][o[1]](r.data,t.bind(this))}else this.parent[r.type](r.data)},r.prototype.send=function(e,t,n,r){var i=null;n&&(this.callbacks[i=this.callbackID++]=n),this.postMessage({type:e,id:String(i),data:t},r)},r.prototype.postMessage=function(e,t){this.target.postMessage(e,t)}},function(e,t,n){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},function(e,t,n){"use strict";function r(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}var i=n(83);e.exports=r,r.prototype.encode=function(e){return i(e in this._stringToNumber),this._stringToNumber[e]},r.prototype.decode=function(e){return i(e<this._numberToString.length),this._numberToString[e]}},function(e,t,n){"use strict";function r(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?e[n]:""})}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)}e.exports=r,r.prototype={type:"Feature",get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set geometry(e){this._geometry=e},toJSON:function(){var e={};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&"toJSON"!==t&&(e[t]=this[t]);return e}}},function(e,t,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&i(e,n);return l.previousPromises(e)}function i(e,t){function n(e){return e.call(d.font,N).attr({"text-anchor":{left:"start",right:"end"}[x.align]||"middle"}),p.convertToTspans(e,r),e}function r(){function n(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}R.selectAll("tspan.line").attr({y:0,x:0});var r=A.select(".annotation-math-group"),i=!r.empty(),f=d.bBox((i?r:R).node()),p=f.width,b=f.height,D=x.width||p,N=x.height||b,j=Math.round(D+2*O),z=Math.round(N+2*O);x._w=D,x._h=N;var F=!1;if(["x","y"].forEach(function(t){var r,i,o,a,s,f=x[t+"ref"]||t,h=x["a"+t+"ref"],d=c.getFromId(e,f),p=(E+("x"===t?0:-90))*Math.PI/180,m=j*Math.cos(p),v=z*Math.sin(p),g=Math.abs(m)+Math.abs(v),b=x[t+"anchor"],_=x[t+"shift"]*("x"===t?1:-1),w=k[t];if(d){var M=d.r2fraction(x[t]);if((e._dragging||!d.autorange)&&(M<0||M>1)&&(h===f?((M=d.r2fraction(x["a"+t]))<0||M>1)&&(F=!0):F=!0,F))return;r=d._offset+d.r2p(x[t]),a=.5}else"x"===t?(o=x[t],r=y.l+y.w*o):(o=1-x[t],r=y.t+y.h*o),a=x.showarrow?.5:o;if(x.showarrow){w.head=r;var S=x["a"+t];s=m*n(.5,x.xanchor)-v*n(.5,x.yanchor),h===f?(w.tail=d._offset+d.r2p(S),i=s):(w.tail=r+S,i=s+S),w.text=w.tail+s;var T=l["x"===t?"width":"height"];if("paper"===f&&(w.head=u.constrain(w.head,1,T-1)),"pixel"===h){var A=-Math.max(w.tail-3,w.text),C=Math.min(w.tail+3,w.text)-T;A>0?(w.tail+=A,w.text+=A):C>0&&(w.tail-=C,w.text-=C)}w.tail+=_,w.head+=_}else s=g*n(a,b),i=s,w.text=r+s;w.text+=_,s+=_,i+=_,x["_"+t+"padplus"]=g/2+i,x["_"+t+"padminus"]=g/2-i,x["_"+t+"size"]=g,x["_"+t+"shift"]=s}),F)return void A.remove();var B=0,U=0;if("left"!==x.align&&(B=(D-p)*("center"===x.align?.5:1)),"top"!==x.valign&&(U=(N-b)*("middle"===x.valign?.5:1)),i)r.select("svg").attr({x:O+B-1,y:O+U}).call(d.setClipUrl,L?_:null);else{var V=O+U-f.top,H=O+B-f.left;R.attr({x:H,y:V}).call(d.setClipUrl,L?_:null),R.selectAll("tspan.line").attr({y:V,x:H})}I.select("rect").call(d.setRect,O,O,D,N),P.call(d.setRect,C/2,C/2,j-C,z-C),A.call(d.setTranslate,Math.round(k.x.text-j/2),Math.round(k.y.text-z/2)),T.attr({transform:"rotate("+E+","+k.x.text+","+k.y.text+")"});var Y="annotations["+t+"]",W=function(n,r){a.select(e).selectAll('.annotation-arrow-g[data-index="'+t+'"]').remove();var i=k.x.head,l=k.y.head,c=k.x.tail+n,f=k.y.tail+r,p=k.x.text+n,m=k.y.text+r,b=u.rotationXYMatrix(E,p,m),_=u.apply2DTransform(b),C=u.apply2DTransform2(b),D=+P.attr("width"),O=+P.attr("height"),L=p-.5*D,I=L+D,N=m-.5*O,R=N+O,j=[[L,N,L,R],[L,R,I,R],[I,R,I,N],[I,N,L,N]].map(C);if(!j.reduce(function(e,t){return e^!!o(i,l,i+1e6,l+1e6,t[0],t[1],t[2],t[3])},!1)){j.forEach(function(e){var t=o(c,f,i,l,e[0],e[1],e[2],e[3]);t&&(c=t.x,f=t.y)});var z=x.arrowwidth,F=x.arrowcolor,B=S.append("g").style({opacity:h.opacity(F)}).classed("annotation-arrow-g",!0).attr("data-index",String(t)),U=B.append("path").attr("d","M"+c+","+f+"L"+i+","+l).style("stroke-width",z+"px").call(h.stroke,h.rgb(F));if(g(U,x.arrowhead,"end",x.arrowsize,x.standoff),e._context.editable&&U.node().parentNode){var V=i,H=l;if(x.standoff){var W=Math.sqrt(Math.pow(i-c,2)+Math.pow(l-f,2));V+=x.standoff*(c-i)/W,H+=x.standoff*(f-l)/W}var q,G,X,Z=B.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(t),d:"M3,3H-3V-3H3ZM0,0L"+(c-V)+","+(f-H),transform:"translate("+V+","+H+")"}).style("stroke-width",z+6+"px").call(h.stroke,"rgba(0,0,0,0)").call(h.fill,"rgba(0,0,0,0)");v.init({element:Z.node(),prepFn:function(){var e=d.getTranslate(A);G=e.x,X=e.y,q={},w&&w.autorange&&(q[w._name+".autorange"]=!0),M&&M.autorange&&(q[M._name+".autorange"]=!0)},moveFn:function(e,t){var n=_(G,X),r=n[0]+e,i=n[1]+t;A.call(d.setTranslate,r,i),q[Y+".x"]=w?w.p2r(w.r2p(x.x)+e):x.x+e/y.w,q[Y+".y"]=M?M.p2r(M.r2p(x.y)+t):x.y-t/y.h,x.axref===x.xref&&(q[Y+".ax"]=w.p2r(w.r2p(x.ax)+e)),x.ayref===x.yref&&(q[Y+".ay"]=M.p2r(M.r2p(x.ay)+t)),B.attr("transform","translate("+e+","+t+")"),T.attr({transform:"rotate("+E+","+r+","+i+")"})},doneFn:function(t){if(t){s.relayout(e,q);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};if(x.showarrow&&W(0,0),e._context.editable){var q,G;v.init({element:A.node(),prepFn:function(){G=T.attr("transform"),q={}},moveFn:function(e,t){var n="pointer";if(x.showarrow)x.axref===x.xref?q[Y+".ax"]=w.p2r(w.r2p(x.ax)+e):q[Y+".ax"]=x.ax+e,x.ayref===x.yref?q[Y+".ay"]=M.p2r(M.r2p(x.ay)+t):q[Y+".ay"]=x.ay+t,W(e,t);else{if(w)q[Y+".x"]=x.x+e/w._m;else{var r=x._xsize/y.w,i=x.x+(x._xshift-x.xshift)/y.w-r/2;q[Y+".x"]=v.align(i+e/y.w,r,0,1,x.xanchor)}if(M)q[Y+".y"]=x.y+t/M._m;else{var o=x._ysize/y.h,a=x.y-(x._yshift+x.yshift)/y.h-o/2;q[Y+".y"]=v.align(a-t/y.h,o,0,1,x.yanchor)}w&&M||(n=v.getCursor(w?.5:q[Y+".x"],M?.5:q[Y+".y"],x.xanchor,x.yanchor))}T.attr({transform:"translate("+e+","+t+")"+G}),m(A,n)},doneFn:function(t){if(m(A),t){s.relayout(e,q);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var i=e.layout,l=e._fullLayout,y=e._fullLayout._size;l._infolayer.selectAll('.annotation[data-index="'+t+'"]').remove();var b=(i.annotations||[])[t],x=l.annotations[t],_="clip"+l._uid+"_ann"+t;if(!b||!1===x.visible)return void a.selectAll("#"+_).remove();var w=c.getFromId(e,x.xref),M=c.getFromId(e,x.yref),k={x:{},y:{}},E=+x.textangle||0,S=l._infolayer.append("g").classed("annotation",!0).attr("data-index",String(t)).style("opacity",x.opacity),T=S.append("g").classed("annotation-text-g",!0).attr("data-index",String(t)),A=T.append("g").style("pointer-events",x.captureevents?"all":null).call(m,"default").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",{index:t,annotation:b,fullAnnotation:x})});x.hovertext&&A.on("mouseover",function(){var t=x.hoverlabel,n=t.font,r=this.getBoundingClientRect(),i=e.getBoundingClientRect();f.loneHover({x0:r.left-i.left,x1:r.right-i.left,y:(r.top+r.bottom)/2-i.top,text:x.hovertext,color:t.bgcolor,borderColor:t.bordercolor,fontFamily:n.family,fontSize:n.size,fontColor:n.color},{container:l._hoverlayer.node(),outerContainer:l._paper.node()})}).on("mouseout",function(){f.loneUnhover(l._hoverlayer.node())});var C=x.borderwidth,D=x.borderpad,O=C+D,P=A.append("rect").attr("class","bg").style("stroke-width",C+"px").call(h.stroke,x.bordercolor).call(h.fill,x.bgcolor),L=x.width||x.height,I=l._defs.select(".clips").selectAll("#"+_).data(L?[0]:[]);I.enter().append("clipPath").classed("annclip",!0).attr("id",_).append("rect"),I.exit().remove();var N=x.font,R=A.append("text").classed("annotation",!0).attr("data-unformatted",x.text).text(x.text);e._context.editable?R.call(p.makeEditable,A).call(n).on("edit",function(r){x.text=r,this.attr({"data-unformatted":x.text}),this.call(n);var i={};i["annotations["+t+"].text"]=x.text,w&&w.autorange&&(i[w._name+".autorange"]=!0),M&&M.autorange&&(i[M._name+".autorange"]=!0),s.relayout(e,i)}):R.call(n)}function o(e,t,n,r,i,o,a,s){var l=n-e,u=i-e,c=a-i,f=r-t,h=o-t,d=s-o,p=l*d-c*f;if(0===p)return null;var m=(u*d-c*h)/p,v=(u*f-l*h)/p;return v<0||v>1||m<0||m>1?null:{x:e+l*m,y:t+f*m}}var a=n(2),s=n(25),l=n(16),u=n(0),c=n(5),f=n(40),h=n(3),d=n(12),p=n(43),m=n(126),v=n(92),g=n(1319);e.exports={draw:r,drawOne:i}},function(e,t,n){"use strict";var r=n(0),i=n(227),o=n(321),a=n(226),s=n(32);e.exports=function(e,t,n){function l(e,t){return r.coerce(c,u,s,e,t)}var u=t.colorbar={},c=e.colorbar||{};l("thickness","fraction"===l("thicknessmode")?30/(n.width-n.margin.l-n.margin.r):30),l("len","fraction"===l("lenmode")?1:n.height-n.margin.t-n.margin.b),l("x"),l("xanchor"),l("xpad"),l("y"),l("yanchor"),l("ypad"),r.noneOrAll(c,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor"),i(c,u,l,"linear"),a(c,u,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),o(c,u,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),l("title"),r.coerceFont(l,"titlefont",n.font),l("titleside")}},function(e,t,n){"use strict";var r=n(91);e.exports=r.RdBu},function(e,t,n){"use strict";var r=n(91),i=n(537),o=n(539);e.exports=function(e,t){function n(){try{e=r[e]||JSON.parse(e)}catch(n){e=t}}return t||(t=i),e?("string"===typeof e&&(n(),"string"===typeof e&&n()),o(e)?e:t):t}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}},function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array,o=e.arrayminus;return n||void 0===o?function(e,t){var n=+i[t];return[n,n]}:function(e,t){return[+o[t],+i[t]]}}var a=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=a(e);return[t,t]}:function(e){return[s(e),a(e)]}}},function(e,t,n){"use strict";var r=n(33);e.exports={_isLinkedToArray:"image",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",role:"info",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",role:"info",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}}},function(e,t,n){"use strict";var r=n(45),i=n(31),o=n(8).extendFlat;e.exports={bgcolor:{valType:"color",role:"style",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the legend."},font:o({},r,{description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")}}},function(e,t,n){"use strict";function r(e){var t=e[0].trace,n=t.visible&&t.fill&&"none"!==t.fill,r=d.hasLines(t);t&&t._module&&"contourcarpet"===t._module.name&&(r=t.contours.showlines,n="fill"===t.contours.coloring);var i=l.select(this).select(".legendfill").selectAll("path").data(n?[e]:[]);i.enter().append("path").classed("js-fill",!0),i.exit().remove(),i.attr("d","M5,0h30v6h-30z").call(f.fillGroupStyle);var o=l.select(this).select(".legendlines").selectAll("path").data(r?[e]:[]);o.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),o.exit().remove(),o.call(f.lineGroupStyle)}function i(e){function t(e,t,n){var r=c.nestedProperty(a,e).get(),i=Array.isArray(r)&&t?t(r):r;if(n){if(i<n[0])return n[0];if(i>n[1])return n[1]}return i}function n(e){return e[0]}var r,i,o=e[0],a=o.trace,s=d.hasMarkers(a),u=d.hasText(a),h=d.hasLines(a);if(s||u||h){var p={},m={};s&&(p.mc=t("marker.color",n),p.mo=t("marker.opacity",c.mean,[.2,1]),p.ms=t("marker.size",c.mean,[2,16]),p.mlc=t("marker.line.color",n),p.mlw=t("marker.line.width",c.mean,[0,5]),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),h&&(m.line={width:t("line.width",n,[0,10])}),u&&(p.tx="Aa",p.tp=t("textposition",n),p.ts=10,p.tc=t("textfont.color",n),p.tf=t("textfont.family",n)),r=[c.minExtend(o,p)],i=c.minExtend(a,m)}var v=l.select(this).select("g.legendpoints"),g=v.selectAll("path.scatterpts").data(s?r:[]);g.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),g.exit().remove(),g.call(f.pointStyle,i),s&&(r[0].mrc=3);var y=v.selectAll("g.pointtext").data(u?r:[]);y.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),y.exit().remove(),y.selectAll("text").call(f.textPointStyle,i)}function o(e){var t=e[0].trace,n=t.marker||{},r=n.line||{},i=l.select(this).select("g.legendpoints").selectAll("path.legendbar").data(u.traceIs(t,"bar")?[e]:[]);i.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),i.exit().remove(),i.each(function(e){var t=l.select(this),i=e[0],o=(i.mlw+1||r.width+1)-1;t.style("stroke-width",o+"px").call(h.fill,i.mc||n.color),o&&t.call(h.stroke,i.mlc||r.color)})}function a(e){var t=e[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(u.traceIs(t,"box")&&t.visible?[e]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var e=t.line.width,n=l.select(this);n.style("stroke-width",e+"px").call(h.fill,t.fillcolor),e&&n.call(h.stroke,t.line.color)})}function s(e){var t=e[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendpie").data(u.traceIs(t,"pie")&&t.visible?[e]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(p,e[0],t)}var l=n(2),u=n(6),c=n(0),f=n(12),h=n(3),d=n(21),p=n(347);e.exports=function(e){e.each(function(e){var t=l.select(this),n=t.selectAll("g.layers").data([0]);n.enter().append("g").classed("layers",!0),n.style("opacity",e[0].trace.opacity),n.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var r=n.selectAll("g.legendsymbols").data([e]);r.enter().append("g").classed("legendsymbols",!0),r.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(o).each(a).each(s).each(r).each(i)}},function(e,t,n){"use strict";t.manage=n(1343)},function(e,t,n){"use strict";e.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the button."}}},function(e,t,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(e,t,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(e,t,n){"use strict";var r=n(302),i=n(34).line,o=n(99).dash,a=n(8).extendFlat;e.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:"Specifies whether shapes are drawn below or above traces."},xref:a({},r.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:a({},r.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",description:"Sets the opacity of the shape."},line:{color:i.color,width:i.width,dash:o,role:"info"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",description:["Sets the color filling the shape's interior."].join(" ")}}},function(e,t,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(e,t,n){"use strict";var r=n(45),i=n(583),o=n(8).extendFlat,a=n(8).extendDeep,s=n(319),l=n(221),u={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")}};e.exports={_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:a({},i,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:s.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:o({},r,{description:"Sets the font of the current value label text."})},font:o({},r,{description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:l.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:l.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:l.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:l.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:l.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}},function(e,t,n){"use strict";var r=n(45),i=n(31),o=n(8).extendFlat,a=n(583),s={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."}};e.exports={_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:o({},a,{description:"Sets the padding around the buttons or dropdown menu."}),font:o({},r,{description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:i.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the border enclosing the update menu."}}},function(e,t,n){"use strict";e.exports={solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}},function(e,t,n){"use strict";e.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},function(e,t,n){"use strict";e.exports={entityToUnicode:{mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},function(e,t,n){"use strict";function r(e,t){return(0,l[e])(t)}function i(e){for(var t=0;t<s.length;t++){var n=s[t];if(new RegExp(o[n]).test(e.trim().toLowerCase()))return n}return a.warn("Unrecognized country name: "+e+"."),!1}var o=n(926),a=n(0),s=Object.keys(o),l={"ISO-3":a.identity,"USA-states":a.identity,"country names":i};t.locationToFeature=function(e,t,n){var i=r(e,t);if(i){for(var o=0;o<n.length;o++){var s=n[o];if(s.id===i)return s}a.warn(["Location with id",i,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}},function(e,t,n){"use strict";var r=n(27).BADNUM;t.calcTraceToLineCoords=function(e){for(var t=e[0].trace,n=t.connectgaps,i=[],o=[],a=0;a<e.length;a++){var s=e[a],l=s.lonlat;l[0]!==r?o.push(l):!n&&o.length>0&&(i.push(o),o=[])}return o.length>0&&i.push(o),i},t.makeLine=function(e,t){var n={};return n=1===e.length?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e},t&&(n.trace=t),n},t.makePolygon=function(e,t){var n={};if(1===e.length)n={type:"Polygon",coordinates:e};else{for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=[e[i]];n={type:"MultiPolygon",coordinates:r}}return t&&(n.trace=t),n},t.makeBlank=function(){return{type:"Point",coordinates:[]}}},function(e,t,n){"use strict";function r(e,t){var n=e;return n[3]*=t,n}function i(e){if(s(e))return f;var t=l(e);return t.length?t:f}function o(e){return s(e)?e:h}function a(e,t,n){var a,s,c,d,p,m=e.color,v=Array.isArray(m),g=Array.isArray(t),y=[];if(a=void 0!==e.colorscale?u.makeColorScaleFunc(u.extractScale(e.colorscale,e.cmin,e.cmax)):i,s=v?function(e,t){return void 0===e[t]?f:l(a(e[t]))}:i,c=g?function(e,t){return void 0===e[t]?h:o(e[t])}:o,v||g)for(var b=0;b<n;b++)d=s(m,b),p=c(t,b),y[b]=r(d,p);else y=r(l(m),t);return y}var s=n(4),l=n(443),u=n(66),c=n(31).defaultLine,f=l(c),h=1;e.exports=a},function(e,t,n){"use strict";t.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},t.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var o=new Array(r);for(t=0;t<r;t++)for(o[t]=new Array(i),n=0;n<i;n++)o[t][n]=e[n][t];return o},t.dot=function(e,n){if(!e.length||!n.length||e.length!==n.length)return null;var r,i,o=e.length;if(e[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=t.dot(e[i],n);else if(n[0].length){var a=t.transposeRagged(n);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=t.dot(e,a[i])}else for(r=0,i=0;i<o;i++)r+=e[i]*n[i];return r},t.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},t.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},t.rotationXYMatrix=function(e,n,r){return t.dot(t.dot(t.translationMatrix(n,r),t.rotationMatrix(e)),t.translationMatrix(-n,-r))},t.apply2DTransform=function(e){return function(){var n=arguments;3===n.length&&(n=n[0]);var r=1===arguments.length?n[0]:[n[0],n[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var n=t.apply2DTransform(e);return function(e){return n(e.slice(0,2)).concat(n(e.slice(2,4)))}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e%t;return n<0?n+t:n}},function(e,t,n){"use strict";var r=n(558).dot,i=e.exports={};i.tester=function(e){function t(e,t){var n=e[0],r=e[1];return!(n<i||n>o||r<a||r>s)&&(!t||!u(e))}function n(e,t){var n=e[0],l=e[1];if(n<i||n>o||l<a||l>s)return!1;var u,c,f,h,d,p=r.length,m=r[0][0],v=r[0][1],g=0;for(u=1;u<p;u++)if(c=m,f=v,m=r[u][0],v=r[u][1],h=Math.min(c,m),!(n<h||n>Math.max(c,m)||l>Math.max(f,v)))if(l<Math.min(f,v))n!==h&&g++;else{if(d=m===c?l:f+(n-c)*(v-f)/(m-c),l===d)return 1!==u||!t;l<=d&&n!==h&&g++}return g%2===1}var r=e.slice(),i=r[0][0],o=i,a=r[0][1],s=a;r.push(r[0]);for(var l=1;l<r.length;l++)i=Math.min(i,r[l][0]),o=Math.max(o,r[l][0]),a=Math.min(a,r[l][1]),s=Math.max(s,r[l][1]);var u,c=!1;return 5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,u=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,u=function(e){return e[1]===r[0][1]})),{xmin:i,xmax:o,ymin:a,ymax:s,pts:r,contains:c?t:n,isRect:c}};var o=i.isSegmentBent=function(e,t,n,i){var o,a,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),h=[-u[1]/f,u[0]/f];for(o=t+1;o<n;o++)if(a=[e[o][0]-l[0],e[o][1]-l[1]],(s=r(a,u))<0||s>c||Math.abs(r(a,h))>i)return!0;return!1};i.filter=function(e,t){function n(n){e.push(n);var s=r.length,l=i;r.splice(a+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||o(e,l,u+1,t))&&(r.push(e[u]),r.length<s-2&&(i=u,a=r.length-1),l=u)}var r=[e[0]],i=0,a=0;if(e.length>1){n(e.pop())}return{addPt:n,raw:e,filtered:r}}},function(e,t,n){"use strict";e.exports=function(e,t){if(t instanceof RegExp){var n,r=t.toString();for(n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===r)return e;e.push(t)}else t&&-1===e.indexOf(t)&&e.push(t);return e}},function(e,t,n){"use strict";function r(e,t){for(var n,r=[],o=0;o<t.length;o++)n=t[o],r[o]=n===e?n:"object"===typeof n?Array.isArray(n)?i.extendDeep([],n):i.extendDeepAll({},n):n;return r}var i=n(0),o=n(317),a={};a.add=function(e,t,n,r,i){var a,s;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay)return void(e.undoQueue.inSequence||(e.autoplay=!1));!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,a),e.undoQueue.index+=1):a=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(i)),e.undoQueue.queue.length>o.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)},a.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},a.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},a.undo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.undo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)a.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},a.redo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.redo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)a.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},a.plotDo=function(e,t,n){e.autoplay=!0,n=r(e,n),t.apply(null,n)},e.exports=a},function(e,t,n){"use strict";function r(e,t){return e<t}function i(e,t){return e<=t}function o(e,t){return e>t}function a(e,t){return e>=t}var s=n(4),l=n(167);t.findBin=function(e,t,n){if(s(t.start))return n?Math.ceil((e-t.start)/t.size)-1:Math.floor((e-t.start)/t.size);var u,c,f=0,h=t.length,d=0;for(c=t[t.length-1]>=t[0]?n?r:i:n?a:o;f<h&&d++<100;)u=Math.floor((f+h)/2),c(t[u],e)?f=u+1:h=u;return d>90&&l.log("Long binary search..."),f-1},t.sorterAsc=function(e,t){return e-t},t.sorterDes=function(e,t){return t-e},t.distinctVals=function(e){var n=e.slice();n.sort(t.sorterAsc);for(var r=n.length-1,i=n[r]-n[0]||1,o=i/(r||1)/1e4,a=[n[0]],s=0;s<r;s++)n[s+1]>n[s]+o&&(i=Math.min(i,n[s+1]-n[s]),a.push(n[s+1]));return{vals:a,minDiff:i}},t.roundUp=function(e,t,n){for(var r,i=0,o=t.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;i<o&&a++<100;)r=u((i+o)/2),t[r]<=e?i=r+s:o=r-l;return t[i]}},function(e,t,n){"use strict";var r=n(3),i=function(){};e.exports=function(e){for(var t in e)"function"===typeof e[t]&&(e[t]=i);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement("div");return n.textContent="Webgl is not supported by your browser - visit http://get.webgl.org for more info",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],e.container.appendChild(n),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("http://get.webgl.org")},!1}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){for(var t,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=e.split("[")[0],s=0;s<o.length;s++)if((n=e.match(o[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(a)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},function(e,t,n){"use strict";function r(e,t){return new Promise(function(n,r){function f(){var e=s.getDelay(p._fullLayout);return new Promise(function(n,r){setTimeout(function(){var e=u(p),i=document.createElement("canvas");i.id=a.randstr(),c({format:t.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:i,svg:e,promise:!0}).then(function(e){p&&document.body.removeChild(p),n(e)}).catch(function(e){r(e)})},e)})}t=t||{},t.format=t.format||"png";var h=function(e){return void 0===e||null===e||!!(i(e)&&e>1)};h(t.width)&&h(t.height)||r(new Error("Height and width should be pixel values."));var d=l(e,{format:"png",height:t.height,width:t.width}),p=d.gd;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var m=s.getRedrawFunc(p);o.plot(p,d.data,d.layout,d.config).then(m).then(f).then(function(e){n(e)}).catch(function(e){r(e)})})}var i=n(4),o=n(25),a=n(0),s=n(326),l=n(324),u=n(328),c=n(327);e.exports=r},function(e,t,n){"use strict";e.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},function(e,t,n){"use strict";e.exports=function(e,t,n){if("category"===t.type){var r,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(r="array");var a=n("categoryorder",r);"array"===a&&n("categoryarray"),o||"array"!==a||(t.categoryorder="trace")}}},function(e,t,n){"use strict";var r=n(53).id2name,i=n(572),o=n(27).ALMOST_EQUAL;e.exports=function(e){var t,n,a,s,l,u=e._fullLayout,c=u._axisConstraintGroups;for(t=0;t<c.length;t++){var f=c[t],h=Object.keys(f),d=1/0,p=0,m=1/0,v={},g={};for(n=0;n<h.length;n++)a=h[n],g[a]=s=u[r(a)],s.setScale(),v[a]=l=Math.abs(s._m)/f[a],d=Math.min(d,l),s._constraintShrinkable?delete s._constraintShrinkable:m=Math.min(m,l),p=Math.max(p,l);if(!(d>o*p))for(n=0;n<h.length;n++)a=h[n],(l=v[a])!==m&&i(g[a],l/m)}}},function(e,t,n){"use strict";function r(e,t,n){var r,o,a,s,l,u=[],c=n.map(function(t){return t[e]}),f=i.bisector(t).left;for(r=0;r<c.length;r++)for(a=c[r],o=0;o<a.length;o++)null!==(s=a[o])&&void 0!==s&&((l=f(u,s))<u.length&&u[l]===s||u.splice(l,0,s));return u}var i=n(2);e.exports=function(e,t,n,o){switch(t){case"array":return Array.isArray(n)?n.slice():[];case"category ascending":return r(e,i.ascending,o);case"category descending":return r(e,i.descending,o);case"trace":default:return[]}}},function(e,t,n){"use strict";var r=n(4),i=n(0);e.exports=function(e,t,n,o){var a=o.counterAxes||[],s=o.overlayableAxes||[],l=o.letter;"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:r(e.position)?"free":a[0]||"free"}},"anchor")&&n("position"),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var u=!1;if(s.length&&(u=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!u){var c=n("domain");c[0]>c[1]-.01&&(t.domain=[0,1]),i.noneOrAll(e.domain,t.domain,[0,1])}return t}},function(e,t,n){"use strict";e.exports=function(e,t,n){void 0===n&&(n=.5);var r=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=r[0]+(r[1]-r[0])*n,o=(i-r[0])*t;e.range=e._input.range=[e.l2r(i-o),e.l2r(i+o)]}},function(e,t,n){"use strict";function r(e){return e._id}var i=n(560),o=n(3),a=n(5),s=n(33),l=i.filter,u=i.tester,c=s.MINSELECT;e.exports=function(e,t,n,i,f){function h(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return e.p2d(n[t])}}function d(e,t){return e-t}var p,m=i.gd._fullLayout._zoomlayer,v=i.element.getBoundingClientRect(),g=i.plotinfo.xaxis._offset,y=i.plotinfo.yaxis._offset,b=t-v.left,x=n-v.top,_=b,w=x,M="M"+b+","+x,k=i.xaxes[0]._length,E=i.yaxes[0]._length,S=i.xaxes.map(r),T=i.yaxes.map(r),A=i.xaxes.concat(i.yaxes);"lasso"===f&&(p=l([[b,x]],s.BENDPX));var C=m.selectAll("path.select-outline").data([1,2]);C.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e}).attr("transform","translate("+g+", "+y+")").attr("d",M+"Z");var D,O,P,L,I,N=m.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform","translate("+g+", "+y+")").attr("d","M0,0Z"),R=[],j=i.gd,z=[];for(D=0;D<j.calcdata.length;D++)if(O=j.calcdata[D],P=O[0].trace,P._module&&P._module.selectPoints)if(i.subplot){if(P.subplot!==i.subplot)continue;R.push({selectPoints:P._module.selectPoints,cd:O,xaxis:i.xaxes[0],yaxis:i.yaxes[0]})}else{if(-1===S.indexOf(P.xaxis))continue;if(-1===T.indexOf(P.yaxis))continue;R.push({selectPoints:P._module.selectPoints,cd:O,xaxis:a.getFromId(j,P.xaxis),yaxis:a.getFromId(j,P.yaxis)})}i.moveFn=function(e,t){var n,r;_=Math.max(0,Math.min(k,e+b)),w=Math.max(0,Math.min(E,t+x));var o=Math.abs(_-b),a=Math.abs(w-x);for("select"===f?(a<Math.min(.6*o,c)?(n=u([[b,0],[b,E],[_,E],[_,0]]),N.attr("d","M"+n.xmin+","+(x-c)+"h-4v"+2*c+"h4ZM"+(n.xmax-1)+","+(x-c)+"h4v"+2*c+"h-4Z")):o<Math.min(.6*a,c)?(n=u([[0,x],[0,w],[k,w],[k,x]]),N.attr("d","M"+(b-c)+","+n.ymin+"v-4h"+2*c+"v4ZM"+(b-c)+","+(n.ymax-1)+"v4h"+2*c+"v-4Z")):(n=u([[b,x],[b,w],[_,w],[_,x]]),N.attr("d","M0,0Z")),C.attr("d","M"+n.xmin+","+n.ymin+"H"+(n.xmax-1)+"V"+(n.ymax-1)+"H"+n.xmin+"Z")):"lasso"===f&&(p.addPt([_,w]),n=u(p.filtered),C.attr("d","M"+p.filtered.join("L")+"Z")),z=[],D=0;D<R.length;D++)L=R[D],[].push.apply(z,L.selectPoints(L,n));if(I={points:z},"select"===f){var s,l=I.range={};for(D=0;D<A.length;D++)r=A[D],s=r._id.charAt(0),l[r._id]=[r.p2d(n[s+"min"]),r.p2d(n[s+"max"])].sort(d)}else{var m=I.lassoPoints={};for(D=0;D<A.length;D++)r=A[D],m[r._id]=p.filtered.map(h(r))}i.gd.emit("plotly_selecting",I)},i.doneFn=function(e,t){if(N.remove(),e||2!==t)i.gd.emit("plotly_selected",I);else{for(C.remove(),D=0;D<R.length;D++)L=R[D],L.selectPoints(L,!1);j.emit("plotly_deselect",null)}}}},function(e,t,n){"use strict";function r(e,t){if("-"===e.type){var n=e._id,r=n.charAt(0);-1!==n.indexOf("scene")&&(n=r);var u=i(t,n,r);if(u){if("histogram"===u.type&&r==={v:"y",h:"x"}[u.orientation||"v"])return void(e.type="linear");var c=r+"calendar",f=u[c];if(a(u,r)){for(var h,d=o(u),p=[],m=0;m<t.length;m++)h=t[m],s.traceIs(h,"box")&&(h[r+"axis"]||r)===n&&(void 0!==h[d]?p.push(h[d][0]):void 0!==h.name?p.push(h.name):p.push("text"),h[c]!==f&&(f=void 0));e.type=l(p,f)}else e.type=l(u[r]||[u[r+"0"]],f)}}}function i(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if((i[n+"axis"]||n)===t){if(a(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}function o(e){return{v:"x",h:"y"}[e.orientation||"v"]}function a(e,t){var n=o(e),r=s.traceIs(e,"box"),i=s.traceIs(e._fullInput||{},"candlestick");return r&&!i&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}var s=n(6),l=n(225),u=n(53).name2id;e.exports=function(e,t,n,i,o){o&&(t._name=o,t._id=u(o)),"-"===n("type")&&(r(t,i),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},function(e,t,n){"use strict";var r=n(1391),i=n(16);t.name="geo",t.attr="geo",t.idRoot="geo",t.idRegex=/^geo([2-9]|[1-9][0-9]+)?$/,t.attrRegex=/^geo([2-9]|[1-9][0-9]+)?$/,t.attributes=n(1392),t.layoutAttributes=n(578),t.supplyLayoutDefaults=n(1394),t.plot=function(e){var t=e._fullLayout,n=e.calcdata,o=i.getSubplotIds(t,"geo");void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}});for(var a=0;a<o.length;a++){var s=o[a],l=i.getSubplotCalcData(n,"geo",s),u=t[s]._subplot;u||(u=new r({id:s,graphDiv:e,container:t._geolayer.node(),topojsonURL:e._context.topojsonURL}),t[s]._subplot=u),u.plot(l,t,e._promises)}},t.clean=function(e,t,n,r){for(var o=i.getSubplotIds(r,"geo"),a=0;a<o.length;a++){var s=o[a],l=r[s]._subplot;!t[s]&&l&&(l.framework.remove(),l.clipDef.remove())}}},function(e,t,n){"use strict";var r=n(31);e.exports={range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:"Sets the range of this axis (in degrees)."},showgrid:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not graticule are shown on the map."},tick0:{valType:"number",role:"info",description:["Sets the graticule's starting tick longitude/latitude."].join(" ")},dtick:{valType:"number",role:"info",description:["Sets the graticule's longitude/latitude tick step."].join(" ")},gridcolor:{valType:"color",role:"style",dflt:r.lightLine,description:["Sets the graticule's stroke color."].join(" ")},gridwidth:{valType:"number",role:"style",min:0,dflt:1,description:["Sets the graticule's stroke width (in px)."].join(" ")}}},function(e,t,n){"use strict";var r=n(31),i=n(100),o=n(577);e.exports={domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this map","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this map","(in plot fraction)."].join(" ")}},resolution:{valType:"enumerated",values:[110,50],role:"info",dflt:110,coerceNumber:!0,description:["Sets the resolution of the base layers.","The values have units of km/mm","e.g. 110 corresponds to a scale ratio of 1:110,000,000."].join(" ")},scope:{valType:"enumerated",role:"info",values:Object.keys(i.scopeDefaults),dflt:"world",description:"Set the scope of the map."},projection:{type:{valType:"enumerated",role:"info",values:Object.keys(i.projNames),description:"Sets the projection type."},rotation:{lon:{valType:"number",role:"info",description:["Rotates the map along parallels","(in degrees East)."].join(" ")},lat:{valType:"number",role:"info",description:["Rotates the map along meridians","(in degrees North)."].join(" ")},roll:{valType:"number",role:"info",description:["Roll the map (in degrees)","For example, a roll of *180* makes the map appear upside down."].join(" ")}},parallels:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["For conic projection types only.","Sets the parallels (tangent, secant)","where the cone intersects the sphere."].join(" ")},scale:{valType:"number",role:"info",min:0,max:10,dflt:1,description:"Zooms in or out on the map view."}},showcoastlines:{valType:"boolean",role:"info",description:"Sets whether or not the coastlines are drawn."},coastlinecolor:{valType:"color",role:"style",dflt:r.defaultLine,description:"Sets the coastline color."},coastlinewidth:{valType:"number",role:"style",min:0,dflt:1,description:"Sets the coastline stroke width (in px)."},showland:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not land masses are filled in color."},landcolor:{valType:"color",role:"style",dflt:i.landColor,description:"Sets the land mass color."},showocean:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not oceans are filled in color."},oceancolor:{valType:"color",role:"style",dflt:i.waterColor,description:"Sets the ocean color"},showlakes:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not lakes are drawn."},lakecolor:{valType:"color",role:"style",dflt:i.waterColor,description:"Sets the color of the lakes."},showrivers:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not rivers are drawn."},rivercolor:{valType:"color",role:"style",dflt:i.waterColor,description:"Sets color of the rivers."},riverwidth:{valType:"number",role:"style",min:0,dflt:1,description:"Sets the stroke width (in px) of the rivers."},showcountries:{valType:"boolean",role:"info",description:"Sets whether or not country boundaries are drawn."},countrycolor:{valType:"color",role:"style",dflt:r.defaultLine,description:"Sets line color of the country boundaries."},countrywidth:{valType:"number",role:"style",min:0,dflt:1,description:"Sets line width (in px) of the country boundaries."},showsubunits:{valType:"boolean",role:"info",description:["Sets whether or not boundaries of subunits within countries","(e.g. states, provinces) are drawn."].join(" ")},subunitcolor:{valType:"color",role:"style",dflt:r.defaultLine,description:"Sets the color of the subunits boundaries."},subunitwidth:{valType:"number",role:"style",min:0,dflt:1,description:"Sets the stroke width (in px) of the subunits boundaries."},showframe:{valType:"boolean",role:"info",description:"Sets whether or not a frame is drawn around the map."},framecolor:{valType:"color",role:"style",dflt:r.defaultLine,description:"Sets the color the frame."},framewidth:{valType:"number",role:"style",min:0,dflt:1,description:"Sets the stroke width (in px) of the frame."},bgcolor:{valType:"color",role:"style",dflt:r.background,description:"Set the background color of the map"},lonaxis:o,lataxis:o}},function(e,t,n){"use strict";var r=n(3),i=n(57),o=n(8).extendFlat;e.exports={visible:i.visible,showspikes:{valType:"boolean",role:"info",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",role:"info",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",role:"style",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",role:"style",dflt:r.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",role:"info",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",role:"style",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",role:"info",dflt:!0,description:"Sets whether or not this axis is labeled"},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:i.title,titlefont:i.titlefont,type:i.type,autorange:i.autorange,rangemode:i.rangemode,range:i.range,tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,separatethousands:i.separatethousands,tickformat:i.tickformat,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:o({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth}},function(e,t,n){"use strict";function r(e,t,n){return{x:{valType:"number",role:"info",dflt:e},y:{valType:"number",role:"info",dflt:t},z:{valType:"number",role:"info",dflt:n}}}var i=n(579),o=n(8).extendFlat;e.exports={bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)"},camera:{up:o(r(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:o(r(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:o(r(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")})},domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this scene","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this scene","(in plot fraction)."].join(" ")}},aspectmode:{valType:"enumerated",role:"info",values:["auto","cube","data","manual"],dflt:"auto",description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",role:"info",min:0},y:{valType:"number",role:"info",min:0},z:{valType:"number",role:"info",min:0},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:i,yaxis:i,zaxis:i,dragmode:{valType:"enumerated",role:"info",values:["orbit","turntable","zoom","pan",!1],dflt:"turntable",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["closest",!1],dflt:"closest",description:["Determines the mode of hover interactions for this scene."].join(" ")},_deprecated:{cameraposition:{valType:"info_array",role:"info",description:"Obsolete. Use `camera` instead."}}}},function(e,t,n){"use strict";e.exports={styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",controlContainerClassName:"mapboxgl-control-container",noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.plot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),mapOnErrorMsg:"Mapbox error."}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){var n=e.split(" "),i=n[0],o=n[1],a=Array.isArray(t)?r.mean(t):t,s=.5+a/100,l=1.5+a/100,u=["",""],c=[0,0];switch(i){case"top":u[0]="top",c[1]=-l;break;case"bottom":u[0]="bottom",c[1]=l}switch(o){case"left":u[1]="right",c[0]=-s;break;case"right":u[1]="left",c[0]=s}var f;return f=u[0]&&u[1]?u.join("-"):u[0]?u[0]:u[1]?u[1]:"center",{anchor:f,offset:c}}},function(e,t,n){"use strict";e.exports={t:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the left side of the component."}}},function(e,t,n){var r=n(2),i=n(0),o=i.extendDeepAll,a=e.exports={version:"0.2.2"};a.Axis=function(){function e(e){n=e||n;var u=l.data,f=l.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(u).each(function(e,n){function l(e,t){return s(e)%360+f.orientation}var u=e.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(f)};var h=0;u.forEach(function(e,t){e.color||(e.color=f.defaultColorRange[h],h=(h+1)%f.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize});var d=u.filter(function(e,t){var n=e.visible;return"undefined"===typeof n||!0===n}),p=!1,m=d.map(function(e,t){return p=p||"undefined"!==typeof e.groupId,e});if(p){var v=r.nest().key(function(e,t){return"undefined"!=typeof e.groupId?e.groupId:"unstacked"}).entries(m),g=[],y=v.map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],g.push(n),n=a.util.sumArrays(e.r,n)}),e.values});d=r.merge(y)}d.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var b=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;b=Math.max(10,b);var x,_=[f.margin.left+b,f.margin.top+b];if(p){x=[0,r.max(a.util.sumArrays(a.util.arrayLast(d).r[0],a.util.arrayLast(g)))]}else x=r.extent(a.util.flattenArray(d.map(function(e,t){return e.r})));f.radialAxis.domain!=a.DATAEXTENT&&(x[0]=0),i=r.scale.linear().domain(f.radialAxis.domain!=a.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:x).range([0,b]),c.layout.radialAxis.domain=i.domain();var w,M=a.util.flattenArray(d.map(function(e,t){return e.t})),k="string"===typeof M[0];k&&(M=a.util.deduplicate(M),w=M.slice(),M=r.range(M.length),d=d.map(function(e,t){var n=e;return e.t=[M],p&&(n.yStack=e.yStack),n}));var E=d.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===d.length,S=null===f.needsEndSpacing?k||!E:f.needsEndSpacing,T=f.angularAxis.domain&&f.angularAxis.domain!=a.DATAEXTENT&&!k&&f.angularAxis.domain[0]>=0,A=T?f.angularAxis.domain:r.extent(M),C=Math.abs(M[1]-M[0]);E&&!k&&(C=0);var D=A.slice();S&&k&&(D[1]+=C);var O=f.angularAxis.ticksCount||4;O>8&&(O=O/(O/8)+O%8),f.angularAxis.ticksStep&&(O=(D[1]-D[0])/O);var P=f.angularAxis.ticksStep||(D[1]-D[0])/(O*(f.minorTicks+1));w&&(P=Math.max(Math.round(P),1)),D[2]||(D[2]=P);var L=r.range.apply(this,D);if(L=L.map(function(e,t){return parseFloat(e.toPrecision(12))}),s=r.scale.linear().domain(D.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=S?C:0,"undefined"===typeof(t=r.select(this).select("svg.chart-root"))||t.empty()){var I=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),N=this.appendChild(this.ownerDocument.importNode(I.documentElement,!0));t=r.select(N)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var R,j=t.select(".chart-group"),z={fill:"none",stroke:f.tickColor},F={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){R=t.select(".legend-group").attr({transform:"translate("+[b,f.margin.top]+")"}).style({display:"block"});var B=d.map(function(e,t){var n=a.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend="undefined"===typeof e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});a.Legend().config({data:d.map(function(e,t){return e.name||"Element"+t}),legendConfig:o({},a.Legend.defaultConfig().legendConfig,{container:R,elements:B,reverseOrder:f.legend.reverseOrder})})();var U=R.node().getBBox();b=Math.min(f.width-U.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,b=Math.max(10,b),_=[f.margin.left+b,f.margin.top+b],i.range([0,b]),c.layout.radialAxis.domain=i.domain(),R.attr("transform","translate("+[_[0]+b,_[1]-b]+")")}else R=t.select(".legend-group").style({display:"none"});t.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),j.attr("transform","translate("+_+")").style({cursor:"crosshair"});var V=[(f.width-(f.margin.left+f.margin.right+2*b+(U?U.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*b))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),t.select(".outer-group").attr("transform","translate("+V+")"),f.title){var H=t.select("g.title-group text").style(F).text(f.title),Y=H.node().getBBox();H.attr({x:_[0]-Y.width/2,y:_[1]-b-20})}var W=t.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var q=W.selectAll("circle.grid-circle").data(i.ticks(5));q.enter().append("circle").attr({class:"grid-circle"}).style(z),q.attr("r",i),q.exit().remove()}W.select("circle.outside-circle").attr({r:b}).style(z);var G=t.select("circle.background-circle").attr({r:b}).style({fill:f.backgroundColor,stroke:f.stroke});if(f.radialAxis.visible){var X=r.svg.axis().scale(i).ticks(5).tickSize(5);W.call(X).attr({transform:"rotate("+f.radialAxis.orientation+")"}),W.selectAll(".domain").style(z),W.selectAll("g>text").text(function(e,t){return this.textContent+f.radialAxis.ticksSuffix}).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),W.selectAll("g>line").style({stroke:"black"})}var Z=t.select(".angular.axis-group").selectAll("g.angular-tick").data(L),K=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(e,t){return"rotate("+l(e,t)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Z.exit().remove(),K.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(f.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(f.minorTicks+1)==0)}).style(z),K.selectAll(".minor").style({stroke:f.minorTickColor}),Z.select("line.grid-line").attr({x1:f.tickLength?b-f.tickLength:0,x2:b}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),K.append("text").classed("axis-text",!0).style(F);var $=Z.select("text.axis-text").attr({x:b+f.labelOffset,dy:".35em",transform:function(e,t){var n=l(e,t),r=b+f.labelOffset,i=f.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-n+" "+r+" 0)":"radial"==i?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(f.minorTicks+1)!=0?"":w?w[e]+f.angularAxis.ticksSuffix:e+f.angularAxis.ticksSuffix}).style(F);f.angularAxis.rewriteTicks&&$.text(function(e,t){return t%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,t)});var J=r.max(j.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));R.attr({transform:"translate("+[b+J,f.margin.top]+")"});var Q=t.select("g.geometry-group").selectAll("g").size()>0,ee=t.select("g.geometry-group").selectAll("g.geometry").data(d);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),d[0]||Q){var te=[];d.forEach(function(e,t){var n={};n.radialScale=i,n.angularScale=s,n.container=ee.filter(function(e,n){return n==t}),n.geometry=e.geometry,n.orientation=f.orientation,n.direction=f.direction,n.index=t,te.push({data:e,geometryConfig:n})});var ne=r.nest().key(function(e,t){return"undefined"!=typeof e.data.groupId||"unstacked"}).entries(te),re=[];ne.forEach(function(e,t){"unstacked"===e.key?re=re.concat(e.values.map(function(e,t){return[e]})):re.push(e.values)}),re.forEach(function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e,t){return o(a[n].defaultConfig(),e)});a[n]().config(r)()})}var ie,oe,ae=t.select(".guides-group"),se=t.select(".tooltips-group"),le=a.tooltipPanel().config({container:se,fontSize:8})(),ue=a.tooltipPanel().config({container:se,fontSize:8})(),ce=a.tooltipPanel().config({container:se,hasTick:!0})();if(!k){var fe=ae.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});j.on("mousemove.angular-guide",function(e,t){var n=a.util.getMousePos(G).angle;fe.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-f.orientation)%360;ie=s.invert(r);var i=a.util.convertToCartesian(b+12,n+180);le.text(a.util.round(ie)).move([i[0]+_[0],i[1]+_[1]])}).on("mouseout.angular-guide",function(e,t){ae.select("line").style({opacity:0})})}var he=ae.select("circle").style({stroke:"grey",fill:"none"});j.on("mousemove.radial-guide",function(e,t){var n=a.util.getMousePos(G).radius;he.attr({r:n}).style({opacity:.5}),oe=i.invert(a.util.getMousePos(G).radius);var r=a.util.convertToCartesian(n,f.radialAxis.orientation);ue.text(a.util.round(oe)).move([r[0]+_[0],r[1]+_[1]])}).on("mouseout.radial-guide",function(e,t){he.style({opacity:0}),ce.hide(),le.hide(),ue.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e,n){var i=r.select(this),o=i.style("fill"),s="black",l=i.style("opacity")||1;if(i.attr({"data-opacity":l}),"none"!=o){i.attr({"data-fill":o}),s=r.hsl(o).darker().toString(),i.style({fill:s,opacity:1});var u={t:a.util.round(e[0]),r:a.util.round(e[1])};k&&(u.t=w[e[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),h=t.node().getBoundingClientRect(),d=[f.left+f.width/2-V[0]-h.left,f.top+f.height/2-V[1]-h.top];ce.config({color:s}).text(c),ce.move(d)}else o=i.style("stroke"),i.attr({"data-stroke":o}),s=r.hsl(o).darker().toString(),i.style({stroke:s,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&ce.show()}).on("mouseout.tooltip",function(e,t){ce.hide();var n=r.select(this),i=n.attr("data-fill");i?n.style({fill:i,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),h}var t,n,i,s,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),h={};return h.render=function(t){return e(t),this},h.config=function(e){if(!arguments.length)return l;var t=a.util.cloneJson(e);return t.data.forEach(function(e,t){l.data[t]||(l.data[t]={}),o(l.data[t],a.Axis.defaultConfig().data[0]),o(l.data[t],e)}),o(l.layout,a.Axis.defaultConfig().layout),o(l.layout,t.layout),this},h.getLiveConfig=function(){return c},h.getinputConfig=function(){return u},h.radialScale=function(e){return i},h.angularScale=function(e){return s},h.svg=function(){return t},r.rebind(h,f,"on"),h},a.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},a.util._extend=function(e,t){for(var n in e)t[n]=e[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map(function(t,n){var r=t*Math.PI/180;return[t,e(r)]})},a.util.dataFromEquation=function(e,t,n){var i=t||6,o=[],a=[];r.range(0,360+i,i).forEach(function(t,n){var r=t*Math.PI/180,i=e(r);o.push(t),a.push(i)});var s={t:o,r:a};return n&&(s.name=n),s},a.util.ensureArray=function(e,t){if("undefined"===typeof e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},a.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=a.util.ensureArray(e[t],n)}),e},a.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},a.util.validateKeys=function(e,t){"string"===typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},a.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},a.util.arrayLast=function(e){return e[e.length-1]},a.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},a.util.flattenArray=function(e){for(var t=[];!a.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},a.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},a.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},a.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},a.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],i=t[1],o={};return o.x=n,o.y=i,o.pos=t,o.angle=180*(Math.atan2(i,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+i*i),o},a.util.duplicatesCount=function(e){for(var t,n={},r={},i=0,o=e.length;i<o;i++)t=e[i],t in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},a.util.duplicates=function(e){return Object.keys(a.util.duplicatesCount(e))},a.util.translator=function(e,t,n,r){if(r){var i=n.slice();n=t,t=i}var o=t.reduce(function(e,t){if("undefined"!=typeof e)return e[t]},e);"undefined"!==typeof o&&(t.reduce(function(e,n,r){if("undefined"!=typeof e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return"undefined"===typeof e[t]&&(e[t]={}),r===n.length-1&&(e[t]=o),e[t]},e))},a.PolyChart=function(){function e(){var e=t[0].geometryConfig,n=e.container;"string"==typeof n&&(n=r.select(n)),n.datum(t).each(function(t,n){function o(t,n){return{r:e.radialScale(t[1]),t:(e.angularScale(t[0])+e.orientation)*Math.PI/180}}function a(e){return{x:e.r*Math.cos(e.t),y:e.r*Math.sin(e.t)}}var s=!!t[0].data.yStack,l=t.map(function(e,t){return s?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),u=e.angularScale,c=e.radialScale.domain()[0],f={};f.bar=function(n,i,o){var a=t[o].data,s=e.radialScale(n[1])-e.radialScale(0),l=e.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[s+l,-c/2],[s+l,c/2],[l,c/2],[l,-c/2]].join("L")+"Z",transform:function(t,n){return"rotate("+(e.orientation+u(t[0]))+")"}})},f.dot=function(e,n,i){var s=e[2]?[e[0],e[1]+e[2]]:e,l=r.svg.symbol().size(t[i].data.dotSize).type(t[i].data.dotType)(e,n);r.select(this).attr({class:"mark dot",d:l,transform:function(e,t){var n=a(o(s));return"translate("+[n.x,n.y]+")"}})};var h=r.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});f.line=function(n,i,o){var a=n[2]?l[o].map(function(e,t){return[e[0],e[1]+e[2]]}):l[o];if(r.select(this).each(f.dot).style({opacity:function(e,n){return+t[o].data.dotVisible},fill:v.stroke(n,i,o)}).attr({class:"mark dot"}),!(i>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:h(a),transform:function(t,n){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return v.fill(n,i,o)},"fill-opacity":0,stroke:function(e,t){return v.stroke(n,i,o)},"stroke-width":function(e,t){return v["stroke-width"](n,i,o)},"stroke-dasharray":function(e,t){return v["stroke-dasharray"](n,i,o)},opacity:function(e,t){return v.opacity(n,i,o)},display:function(e,t){return v.display(n,i,o)}})}};var d=e.angularScale.range(),p=Math.abs(d[1]-d[0])/l[0].length*Math.PI/180,m=r.svg.arc().startAngle(function(e){return-p/2}).endAngle(function(e){return p/2}).innerRadius(function(t){return e.radialScale(c+(t[2]||0))}).outerRadius(function(t){return e.radialScale(c+(t[2]||0))+e.radialScale(t[1])});f.arc=function(t,n,i){r.select(this).attr({class:"mark arc",d:m,transform:function(t,n){return"rotate("+(e.orientation+u(t[0])+90)+")"}})};var v={fill:function(e,n,r){return t[r].data.color},stroke:function(e,n,r){return t[r].data.strokeColor},"stroke-width":function(e,n,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,n,r){return i[t[r].data.strokeDash]},opacity:function(e,n,r){return t[r].data.opacity},display:function(e,n,r){return"undefined"===typeof t[r].data.visible||t[r].data.visible?"block":"none"}},g=r.select(this).selectAll("g.layer").data(l);g.enter().append("g").attr({class:"layer"});var y=g.selectAll("path.mark").data(function(e,t){return e});y.enter().append("path").attr({class:"mark"}),y.style(v).each(f[e.geometryType]),y.exit().remove(),g.exit().remove()})}var t=[a.PolyChart.defaultConfig()],n=r.dispatch("hover"),i={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(e.forEach(function(e,n){t[n]||(t[n]={}),o(t[n],a.PolyChart.defaultConfig()),o(t[n],e)}),this):t},e.getColorScale=function(){},r.rebind(e,n,"on"),e},a.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},a.Legend=function(){function e(){var n=t.legendConfig,i=t.data.map(function(e,t){return[].concat(e).map(function(e,r){var i=o({},n.elements[t]);return i.name=e,i.color=[].concat(n.elements[t].color)[r],i})}),a=r.merge(i);a=a.filter(function(e,t){return n.elements[t]&&(n.elements[t].visibleInLegend||"undefined"===typeof n.elements[t].visibleInLegend)}),n.reverseOrder&&(a=a.reverse());var s=n.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=a.map(function(e,t){return e.color}),u=n.fontSize,c=null==n.isContinuous?"number"===typeof a[0]:n.isContinuous,f=c?n.height:u*a.length,h=s.classed("legend-group",!0),d=h.selectAll("svg").data([0]),p=d.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var m=r.range(a.length),v=r.scale[c?"linear":"ordinal"]().domain(m).range(l),g=r.scale[c?"linear":"ordinal"]().domain(m)[c?"range":"rangePoints"]([0,f]),y=function(e,t){var n=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(e)?r.svg.symbol().type(e).size(n)():r.svg.symbol().type("square").size(n)()};if(c){var b=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);b.enter().append("stop"),b.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),d.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var x=d.select(".legend-marks").selectAll("path.legend-mark").data(a);x.enter().append("path").classed("legend-mark",!0),x.attr({transform:function(e,t){return"translate("+[u/2,g(t)+u/2]+")"},d:function(e,t){var n=e.symbol;return y(n,u)},fill:function(e,t){return v(t)}}),x.exit().remove()}var _=r.svg.axis().scale(g).orient("right"),w=d.select("g.legend-axis").attr({transform:"translate("+[c?n.colorBandWidth:u,u/2]+")"}).call(_);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:c?n.textColor:"none"}),w.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(e,t){return a[t].name}),e}var t=a.Legend.defaultConfig(),n=r.dispatch("hover");return e.config=function(e){return arguments.length?(o(t,e),this):t},r.rebind(e,n,"on"),e},a.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},a.tooltipPanel=function(){var e,t,n,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=function(){e=i.container.selectAll("g."+s).data([0]);var r=e.enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:i.padding+10,dy:.3*+i.fontSize}),l};return l.text=function(o){var a=r.hsl(i.color).l,s=a>=.5?"#aaa":"white",u=a>=.5?"black":"white",c=o||"";t.style({fill:u,"font-size":i.fontSize+"px"}).text(c);var f=i.padding,h=t.node().getBBox(),d={fill:i.color,stroke:s,"stroke-width":"2px"},p=h.width+2*f+10,m=h.height+2*f;return n.attr({d:"M"+[[10,-m/2],[10,-m/4],[i.hasTick?0:10,0],[10,m/4],[10,m/2],[p,m/2],[p,-m/2]].join("L")+"Z"}).style(d),e.attr({transform:"translate("+[10,-m/2+2*f]+")"}),e.style({display:"block"}),l},l.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),l},l.hide=function(){if(e)return e.style({display:"none"}),l},l.show=function(){if(e)return e.style({display:"block"}),l},l.config=function(e){return o(i,e),l},l},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){var e={};return e.convert=function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=o({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach(function(e,n){a.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var i=a.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=i.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)})}if(e.layout){var s=o({},e.layout);if([[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,n){a.util.translator.apply(null,e.concat(t))}),t?("undefined"!==typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!==typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!==typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var l=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],c={};r.entries(s.margin).forEach(function(e,t){c[u[l.indexOf(e.key)]]=e.value}),s.margin=c}t&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n},e}},function(e,t,n){"use strict";var r=n(57),i=n(8).extendFlat;e.exports={title:r.title,titlefont:r.titlefont,color:r.color,tickmode:r.tickmode,nticks:i({},r.nticks,{dflt:6,min:1}),tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,showexponent:r.showexponent,exponentformat:r.exponentformat,separatethousands:r.separatethousands,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,hoverformat:r.hoverformat,showline:i({},r.showline,{dflt:!0}),linecolor:r.linecolor,linewidth:r.linewidth,showgrid:i({},r.showgrid,{dflt:!0}),gridcolor:r.gridcolor,gridwidth:r.gridwidth,min:{valType:"number",dflt:0,role:"info",min:0,description:["The minimum value visible on this axis.","The maximum is determined by the sum minus the minimum","values of the other two axes. The full view corresponds to","all the minima set to zero."].join(" ")}}},function(e,t,n){"use strict";var r=n(31),i=n(585);e.exports={domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this subplot","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this subplot","(in plot fraction)."].join(" ")}},bgcolor:{valType:"color",role:"style",dflt:r.background,description:"Set the background color of the subplot"},sum:{valType:"number",role:"info",dflt:1,min:0,description:["The number each triplet should sum to,","and the maximum range of each axis"].join(" ")},aaxis:i,baxis:i,caxis:i}},function(e,t,n){"use strict";var r=n(40),i=n(79),o=n(3);e.exports=function(e,t,n,a){var s,l,u,c,f,h,d,p=e.cd,m=p[0].trace,v=p[0].t,g=e.xa,y=e.ya,b=function(e){return r.inbox(c(e)-s,f(e)-s)};"h"===m.orientation?(s=n,l=function(e){return e.y-e.w/2},u=function(e){return e.y+e.w/2},h=function(e){return r.inbox(e.b-t,e.x-t)+(e.x-t)/(e.x-e.b)},d=b):(s=t,l=function(e){return e.x-e.w/2},u=function(e){return e.x+e.w/2},d=function(e){return r.inbox(e.b-n,e.y-n)+(e.y-n)/(e.y-e.b)},h=b),c="closest"===a?l:function(e){return Math.min(l(e),e.p-v.bargroupwidth/2)},f="closest"===a?u:function(e){return Math.max(u(e),e.p+v.bargroupwidth/2)};var x=r.getDistanceFunction(a,h,d);if(r.getClosest(p,x,e),!1!==e.index){var _=e.index,w=p[_],M=w.mcc||m.marker.color,k=w.mlcc||m.marker.line.color,E=w.mlw||m.marker.line.width;o.opacity(M)?e.color=M:o.opacity(k)&&E&&(e.color=k);var S=m.base?w.b+w.s:w.s;return"h"===m.orientation?(e.x0=e.x1=g.c2p(w.x,!0),e.xLabelVal=S,e.y0=y.c2p(c(w),!0),e.y1=y.c2p(f(w),!0),e.yLabelVal=w.p):(e.y0=e.y1=y.c2p(w.y,!0),e.yLabelVal=S,e.x0=g.c2p(c(w),!0),e.x1=g.c2p(f(w),!0),e.xLabelVal=w.p),w.htx?e.text=w.htx:m.hovertext?e.text=m.hovertext:w.tx?e.text=w.tx:m.text&&(e.text=m.text),i.hoverInfo(w,m,e),[e]}}},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(0),a=n(330);e.exports=function(e,t,n){function s(n,r){return o.coerce(e,t,a,n,r)}for(var l=!1,u=!1,c=!1,f={},h=0;h<n.length;h++){var d=n[h];if(r.traceIs(d,"bar")){if(l=!0,"overlay"!==e.barmode&&"stack"!==e.barmode){var p=d.xaxis+d.yaxis;f[p]&&(c=!0),f[p]=!0}if(d.visible&&"histogram"===d.type){"category"!==i.getFromId({_fullLayout:t},d["v"===d.orientation?"xaxis":"yaxis"]).type&&(u=!0)}}}if(l){"overlay"!==s("barmode")&&s("barnorm"),s("bargap",u&&!c?0:.2),s("bargroupgap")}}},function(e,t,n){"use strict";function r(e,t,n,r,a,h,d,p){function m(e,t,n){var r=e.append("text").attr("data-notex",1).text(t).attr({class:"bartext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(k.font,n);return r.call(w.convertToTspans),r.selectAll("tspan.line").attr({x:0,y:0}),r}var v=n[0].trace,g=v.orientation,y=s(v,r);if(y){var b=l(v,r);if("none"!==b){var x,_,M,E,S=u(v,r,e._fullLayout.font),T=c(v,r,S),A=f(v,r,S),C=e._fullLayout.barmode,D="stack"===C,O="relative"===C,L=D||O,I=n[r],N=!L||I._outmost,R=Math.abs(h-a)-2*P,j=Math.abs(p-d)-2*P;if("outside"===b&&(N||(b="inside")),"auto"===b)if(N){x=m(t,y,T),_=k.bBox(x.node()),M=_.width,E=_.height;var z=M>0&&E>0,F=M<=R&&E<=j,B=M<=j&&E<=R,U="h"===g?R>=M*(j/E):j>=E*(R/M);z&&(F||B||U)?b="inside":(b="outside",x.remove(),x=null)}else b="inside";if(!x&&(x=m(t,y,"outside"===b?A:T),_=k.bBox(x.node()),M=_.width,E=_.height,M<=0||E<=0))return void x.remove();var V;V="outside"===b?o(a,h,d,p,_,g):i(a,h,d,p,_,g),x.attr("transform",V)}}}function i(e,t,n,r,i,o){var s,l,u,c,f,h=i.width,d=i.height,p=(i.left+i.right)/2,m=(i.top+i.bottom)/2,v=Math.abs(t-e),g=Math.abs(r-n);v>2*P&&g>2*P?(f=P,v-=2*f,g-=2*f):f=0;var y,b;return h<=v&&d<=g?(y=!1,b=1):h<=g&&d<=v?(y=!0,b=1):h<d===v<g?(y=!1,b=Math.min(v/h,g/d)):(y=!0,b=Math.min(g/h,v/d)),y&&(y=90),y?(s=b*d,l=b*h):(s=b*h,l=b*d),"h"===o?t<e?(u=t+f+s/2,c=(n+r)/2):(u=t-f-s/2,c=(n+r)/2):r>n?(u=(e+t)/2,c=r-f-l/2):(u=(e+t)/2,c=r+f+l/2),a(p,m,u,c,b,y)}function o(e,t,n,r,i,o){var s,l="h"===o?Math.abs(r-n):Math.abs(t-e);l>2*P&&(s=P,l-=2*s);var u,c,f,h,d="h"===o?Math.min(1,l/i.height):Math.min(1,l/i.width),p=(i.left+i.right)/2,m=(i.top+i.bottom)/2;return u=d*i.width,c=d*i.height,"h"===o?t<e?(f=t-s-u/2,h=(n+r)/2):(f=t+s+u/2,h=(n+r)/2):r>n?(f=(e+t)/2,h=r+s+c/2):(f=(e+t)/2,h=r-s-c/2),a(p,m,f,h,d,!1)}function a(e,t,n,r,i,o){var a,s;return i<1?a="scale("+i+") ":(i=1,a=""),s=o?"rotate("+o+" "+e+" "+t+") ":"","translate("+(n-i*e)+" "+(r-i*t)+")"+a+s}function s(e,t){var n=d(e.text,t);return p(T,n)}function l(e,t){var n=d(e.textposition,t);return m(A,n)}function u(e,t,n){return h(C,e.textfont,t,n)}function c(e,t,n){return h(D,e.insidetextfont,t,n)}function f(e,t,n){return h(O,e.outsidetextfont,t,n)}function h(e,t,n,r){t=t||{};var i=d(t.family,n),o=d(t.size,n),a=d(t.color,n);return{family:p(e.family,i,r.family),size:v(e.size,o,r.size),color:g(e.color,a,r.color)}}function d(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n}function p(e,t,n){if("string"===typeof t){if(t||!e.noBlank)return t}else if("number"===typeof t&&!e.strict)return String(t);return void 0!==n?n:e.dflt}function m(e,t,n){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==n?n:e.dflt}function v(e,t,n){if(b(t)){t=+t;var r=e.min,i=e.max;if(!(void 0!==r&&t<r||void 0!==i&&t>i))return t}return void 0!==n?n:e.dflt}function g(e,t,n){return x(t).isValid()?t:void 0!==n?n:e.dflt}var y=n(2),b=n(4),x=n(38),_=n(0),w=n(43),M=n(3),k=n(12),E=n(79),S=n(230),T=S.text,A=S.textposition,C=S.textfont,D=S.insidetextfont,O=S.outsidetextfont,P=3;e.exports=function(e,t,n){var i=t.xaxis,o=t.yaxis,a=e._fullLayout,s=t.plot.select(".barlayer").selectAll("g.trace.bars").data(n);s.enter().append("g").attr("class","trace bars"),s.append("g").attr("class","points").each(function(t){var n=t[0].t,s=t[0].trace,l=n.poffset,u=Array.isArray(l);y.select(this).selectAll("g.point").data(_.identity).enter().append("g").classed("point",!0).each(function(n,c){function f(e){return 0===a.bargap&&0===a.bargroupgap?y.round(Math.round(e)-E,2):e}function h(e,t){return Math.abs(e-t)>=2?f(e):e>t?Math.ceil(e):Math.floor(e)}var d,p,m,v,g=n.p+(u?l[c]:l),x=g+n.w,_=n.b,w=_+n.s;if("h"===s.orientation?(m=o.c2p(g,!0),v=o.c2p(x,!0),d=i.c2p(_,!0),p=i.c2p(w,!0)):(d=i.c2p(g,!0),p=i.c2p(x,!0),m=o.c2p(_,!0),v=o.c2p(w,!0)),!b(d)||!b(p)||!b(m)||!b(v)||d===p||m===v)return void y.select(this).remove();var k=(n.mlw+1||s.marker.line.width+1||(n.trace?n.trace.marker.line.width:0)+1)-1,E=y.round(k/2%1,2);if(!e._context.staticPlot){var S=M.opacity(n.mc||s.marker.color),T=S<1||k>.01?f:h;d=T(d,p),p=T(p,d),m=T(m,v),v=T(v,m)}var A=y.select(this);A.append("path").attr("d","M"+d+","+m+"V"+v+"H"+p+"V"+m+"Z"),r(e,A,t,c,d,p,m,v)})}),s.call(E.plot,t)}},function(e,t,n){"use strict";function r(e,t,n,r){if(r.length){var s,l,u,c,f,h=e._fullLayout.barmode,d="overlay"===h,p="group"===h;if(d)i(e,t,n,r);else if(p){for(s=[],l=[],u=0;u<r.length;u++)c=r[u],f=c[0].trace,void 0===f.offset?l.push(c):s.push(c);l.length&&o(e,t,n,l),s.length&&i(e,t,n,s)}else{for(s=[],l=[],u=0;u<r.length;u++)c=r[u],f=c[0].trace,void 0===f.base?l.push(c):s.push(c);l.length&&a(e,t,n,l),s.length&&i(e,t,n,s)}}}function i(e,t,n,r){for(var i=e._fullLayout.barnorm,o=!i,a=0;a<r.length;a++){var l=r[a],u=new w([l],!1,o);s(e,t,u),i?(m(e,n,u),v(e,n,u)):d(e,n,u)}}function o(e,t,n,r){var i=e._fullLayout,o=i.barnorm,a=!o,s=new w(r,!1,a);l(e,t,s),o?(m(e,n,s),v(e,n,s)):d(e,n,s)}function a(e,t,n,r){var i=e._fullLayout,o=i.barmode,a="stack"===o,l="relative"===o,u=e._fullLayout.barnorm,c=l,f=!(u||a||l),h=new w(r,c,f);s(e,t,h),p(e,n,h);for(var d=0;d<r.length;d++)for(var m=r[d],g=0;g<m.length;g++){var y=m[g];if(y.s!==b){var x=y.b+y.s===h.get(y.p,y.s);x&&(y._outmost=!0)}}u&&v(e,n,h)}function s(e,t,n){var r,i,o,a,s=e._fullLayout,l=s.bargap,h=s.bargroupgap,d=n.minDiff,p=n.traces,m=d*(1-l),v=m,g=v*(1-h),y=-g/2;for(r=0;r<p.length;r++)i=p[r],o=i[0],a=o.t,a.barwidth=g,a.poffset=y,a.bargroupwidth=m;n.binWidth=p[0][0].t.barwidth/100,u(n),c(e,t,n),f(e,t,n)}function l(e,t,n){var r,i,o,a,s=e._fullLayout,l=s.bargap,h=s.bargroupgap,d=n.positions,p=n.distinctPositions,m=n.minDiff,v=n.traces,g=d.length!==p.length,y=v.length,b=m*(1-l),x=g?b/y:b,_=x*(1-h);for(r=0;r<y;r++){i=v[r],o=i[0];var w=g?((2*r+1-y)*x-_)/2:-_/2;a=o.t,a.barwidth=_,a.poffset=w,a.bargroupwidth=b}n.binWidth=v[0][0].t.barwidth/100,u(n),c(e,t,n),f(e,t,n,g)}function u(e){var t,n,r,i,o,a,s=e.traces;for(t=0;t<s.length;t++){n=s[t],r=n[0],i=r.trace,a=r.t;var l,u=i.offset,c=a.poffset;if(Array.isArray(u)){for(l=u.slice(0,n.length),o=0;o<l.length;o++)y(l[o])||(l[o]=c);for(o=l.length;o<n.length;o++)l.push(c);a.poffset=l}else void 0!==u&&(a.poffset=u);var f=i.width,h=a.barwidth;if(Array.isArray(f)){var d=f.slice(0,n.length);for(o=0;o<d.length;o++)y(d[o])||(d[o]=h);for(o=d.length;o<n.length;o++)d.push(h);if(a.barwidth=d,void 0===u){for(l=[],o=0;o<n.length;o++)l.push(c+(h-d[o])/2);a.poffset=l}}else void 0!==f&&(a.barwidth=f,void 0===u&&(a.poffset=c+(h-f)/2))}}function c(e,t,n){for(var r=n.traces,i=g(t),o=0;o<r.length;o++)for(var a=r[o],s=a[0].t,l=s.poffset,u=Array.isArray(l),c=s.barwidth,f=Array.isArray(c),h=0;h<a.length;h++){var d=a[h],p=d.w=f?c[h]:c;d[i]=d.p+(u?l[h]:l)+p/2}}function f(e,t,n,r){var i=n.traces,o=n.distinctPositions,a=o[0],s=n.minDiff,l=s/2;_.minDtick(t,s,a,r);for(var u=Math.min.apply(Math,o)-l,c=Math.max.apply(Math,o)+l,f=0;f<i.length;f++){var h=i[f],d=h[0],p=d.trace;if(void 0!==p.width||void 0!==p.offset)for(var m=d.t,v=m.poffset,g=m.barwidth,y=Array.isArray(v),b=Array.isArray(g),x=0;x<h.length;x++){var w=h[x],M=y?v[x]:v,k=b?g[x]:g,E=w.p,S=E+M,T=S+k;u=Math.min(u,S),c=Math.max(c,T)}}_.expand(t,[u,c],{padded:!1})}function h(e,t){y(e[0])?e[0]=Math.min(e[0],t):e[0]=t,y(e[1])?e[1]=Math.max(e[1],t):e[1]=t}function d(e,t,n){for(var r=n.traces,i=g(t),o=t.l2c(t.c2l(0)),a=[o,o],s=0;s<r.length;s++)for(var l=r[s],u=0;u<l.length;u++){var c=l[u],f=c.b,d=f+c.s;c[i]=d,y(t.c2l(d))&&h(a,d),y(t.c2l(f))&&h(a,f)}_.expand(t,a,{tozero:!0,padded:!0})}function p(e,t,n){var r,i,o,a,s=e._fullLayout,l=s.barnorm,u=g(t),c=n.traces,f=t.l2c(t.c2l(0)),d=[f,f];for(r=0;r<c.length;r++)for(i=c[r],o=0;o<i.length;o++)if(a=i[o],a.s!==b){var p=n.put(a.p,a.b+a.s),m=p+a.b+a.s;a.b=p,a[u]=m,l||(y(t.c2l(m))&&h(d,m),y(t.c2l(p))&&h(d,p))}l||_.expand(t,d,{tozero:!0,padded:!0})}function m(e,t,n){for(var r=n.traces,i=0;i<r.length;i++)for(var o=r[i],a=0;a<o.length;a++){var s=o[a];s.s!==b&&n.put(s.p,s.b+s.s)}}function v(e,t,n){function r(e){y(t.c2l(e))&&(e<l-s||e>u+s||!y(l))&&(f=!0,h(c,e))}for(var i=n.traces,o=g(t),a="fraction"===e._fullLayout.barnorm?1:100,s=a/1e9,l=t.l2c(t.c2l(0)),u="stack"===e._fullLayout.barmode?a:l,c=[l,u],f=!1,d=0;d<i.length;d++)for(var p=i[d],m=0;m<p.length;m++){var v=p[m];if(v.s!==b){var x=Math.abs(a/n.get(v.p,v.s));v.b*=x,v.s*=x;var w=v.b,M=w+v.s;v[o]=M,r(M),r(w)}}_.expand(t,c,{tozero:!0,padded:f})}function g(e){return e._id.charAt(0)}var y=n(4),b=n(27).BADNUM,x=n(6),_=n(5),w=n(1431);e.exports=function(e,t){var n,i=t.xaxis,o=t.yaxis,a=e._fullData,s=e.calcdata,l=[],u=[];for(n=0;n<a.length;n++){var c=a[n];!0===c.visible&&x.traceIs(c,"bar")&&c.xaxis===i._id&&c.yaxis===o._id&&("h"===c.orientation?l.push(s[n]):u.push(s[n]))}r(e,i,o,u),r(e,o,i,l)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(12),a=n(79);e.exports=function(e){var t=r.select(e).selectAll("g.trace.bars"),n=t.size(),s=e._fullLayout;t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){("stack"===s.barmode&&n>1||0===s.bargap&&0===s.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(e){var t=e[0].trace,n=t.marker,a=n.line,s=o.tryColorscale(n,""),l=o.tryColorscale(n,"line");r.select(this).selectAll("path").each(function(e){var t,o,u=(e.mlw+1||a.width+1)-1,c=r.select(this);t="mc"in e?e.mcc=s(e.mc):Array.isArray(n.color)?i.defaultLine:n.color,c.style("stroke-width",u+"px").call(i.fill,t),u&&(o="mlc"in e?e.mlcc=l(e.mlc):Array.isArray(a.color)?i.defaultLine:a.color,c.call(i.stroke,o))})}),t.call(a.style)}},function(e,t,n){"use strict";var r=n(3),i=n(90),o=n(65);e.exports=function(e,t,n,a,s){n("marker.color",a),i(e,"marker")&&o(e,t,s,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),i(e,"marker.line")&&o(e,t,s,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width")}},function(e,t,n){"use strict";var r={};r.attributes=n(331),r.layoutAttributes=n(594),r.supplyDefaults=n(1433),r.supplyLayoutDefaults=n(1435),r.calc=n(1432),r.setPositions=n(1437),r.plot=n(1436),r.style=n(1438),r.hoverPoints=n(1434),r.moduleType="trace",r.name="box",r.basePlotModule=n(44),r.categories=["cartesian","symbols","oriented","box","showLegend"],r.meta={description:["In vertical (horizontal) box plots,","statistics are computed using `y` (`x`) values.","By supplying an `x` (`y`) array, one box per distinct x (y) value","is drawn","If no `x` (`y`) {array} is provided, a single box is drawn.","That box position is then positioned with","with `name` or with `x0` (`y0`) if provided.","Each box spans from quartile 1 (Q1) to quartile 3 (Q3).","The second quartile (Q2) is marked by a line inside the box.","By default, the whiskers correspond to the box' edges","+/- 1.5 times the interquartile range (IQR = Q3-Q1),","see *boxpoints* for other options."].join(" ")},e.exports=r},function(e,t,n){"use strict";e.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",role:"info",description:["Determines how boxes at the same location coordinate","are displayed on the graph.","If *group*, the boxes are plotted next to one another","centered around the shared location.","If *overlay*, the boxes are plotted over one another,","you might need to set *opacity* to see them multiple boxes."].join(" ")},boxgap:{valType:"number",min:0,max:1,dflt:.3,role:"style",description:["Sets the gap (in plot fraction) between boxes of","adjacent location coordinates."].join(" ")},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,role:"style",description:["Sets the gap (in plot fraction) between boxes of","the same location coordinate."].join(" ")}}},function(e,t,n){"use strict";var r=n(0),i=n(346),o=n(331),a={name:i.increasing.name,showlegend:i.increasing.showlegend,line:{color:r.extendFlat({},o.line.color),width:r.extendFlat({},o.line.width)},fillcolor:r.extendFlat({},o.fillcolor)};e.exports={x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:r.extendFlat({},o.line.width,{description:[o.line.width.description,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")})},increasing:r.extendDeep({},a,{line:{color:{dflt:i.increasing.line.color.dflt}}}),decreasing:r.extendDeep({},a,{line:{color:{dflt:i.decreasing.line.color.dflt}}}),text:i.text,whiskerwidth:r.extendFlat({},o.whiskerwidth,{dflt:0})}},function(e,t,n){"use strict";e.exports=function(e,t,n){if(0===e.length)return"";var r,i=[],o=n?3:1;for(r=0;r<e.length;r+=o)i.push(e[r]+","+t[r]),n&&r<e.length-o&&(i.push("C"),i.push([e[r+1]+","+t[r+1],e[r+2]+","+t[r+2]+" "].join(" ")));return i.join(n?"":"L")}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(Array.isArray(e)?e.length>t.length&&(e=e.slice(0,t.length)):e=[],r=0;r<t.length;r++)e[r]=n(t[r]);return e}},function(e,t,n){"use strict";function r(e,t,n){var r={type:"linear",range:[e,t]};return i.autoTicks(r,(t-e)/(n||15)),r}var i=n(5),o=n(0).extendFlat,a=n(232);e.exports=function(e,t){var n=a(e,t),s=t.contours;if(!1!==t.autocontour){var l=r(t.zmin,t.zmax,t.ncontours);s.size=l.dtick,s.start=i.tickFirst(l),l.range.reverse(),s.end=i.tickFirst(l),s.start===t.zmin&&(s.start+=s.size),s.end===t.zmax&&(s.end-=s.size),s.start>s.end&&(s.start=s.end=(s.start+s.end)/2),t._input.contours||(t._input.contours={}),o(t._input.contours,{start:s.start,end:s.end,size:s.size}),t._input.autocontour=!0}else{var u=s.start,c=s.end,f=t._input.contours;if(u>c&&(s.start=f.start=c,c=s.end=f.end=u,u=s.start),!(s.size>0)){var h;h=u===c?1:r(u,c,t.ncontours).dtick,f.size=s.size=h}}return n}},function(e,t,n){"use strict";e.exports.BOTTOMSTART=[1,9,13,104,713],e.exports.TOPSTART=[4,6,7,104,713],e.exports.LEFTSTART=[8,12,14,208,1114],e.exports.RIGHTSTART=[2,3,11,208,1114],e.exports.NEWDELTA=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],e.exports.CHOOSESADDLE={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},e.exports.SADDLEREMAINDER={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11}},function(e,t,n){"use strict";var r=n(0),i=n(231);e.exports=function(e,t,n){var o,a=r.coerce2(e,t,i,"contours.start"),s=r.coerce2(e,t,i,"contours.end"),l=!1===a||!1===s,u=n("contours.size");!(o=l?t.autocontour=!0:n("autocontour",!1))&&u||n("ncontours")}},function(e,t,n){"use strict";function r(e,t,n,r){return Math.abs(e[0]-t[0])<n&&Math.abs(e[1]-t[1])<r}function i(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function o(e,t,n,o,c){function f(e){return g[e%g.length]}var h,d=t.join(","),p=d,m=e.crossings[p],v=a(m,n,t),g=[s(e,t,[-v[0],-v[1]])],y=v.join(","),b=e.z.length,x=e.z[0].length;for(h=0;h<1e4;h++){if(m>20?(m=u.CHOOSESADDLE[m][(v[0]||v[1])<0?0:1],e.crossings[p]=u.SADDLEREMAINDER[m]):delete e.crossings[p],!(v=u.NEWDELTA[m])){l.log("Found bad marching index:",m,t,e.level);break}g.push(s(e,t,v)),t[0]+=v[0],t[1]+=v[1],r(g[g.length-1],g[g.length-2],o,c)&&g.pop(),p=t.join(",");var _=v[0]&&(t[0]<0||t[0]>x-2)||v[1]&&(t[1]<0||t[1]>b-2);if(p===d&&v.join(",")===y||n&&_)break;m=e.crossings[p]}1e4===h&&l.log("Infinite loop in contour?");var w,M,k,E,S,T,A,C=r(g[0],g[g.length-1],o,c),D=0,O=.2*e.smoothing,P=[],L=0;for(h=1;h<g.length;h++)A=i(g[h],g[h-1]),D+=A,P.push(A);var I=D/P.length*O;for(h=g.length-2;h>=L;h--)if((w=P[h])<I){for(k=0,M=h-1;M>=L&&w+P[M]<I;M--)w+=P[M];if(C&&h===g.length-2)for(k=0;k<M&&w+P[k]<I;k++)w+=P[k];S=h-M+k+1,T=Math.floor((h+M+k+2)/2),E=C||h!==g.length-2?C||-1!==M?S%2?f(T):[(f(T)[0]+f(T+1)[0])/2,(f(T)[1]+f(T+1)[1])/2]:g[0]:g[g.length-1],g.splice(M+1,h-M+1,E),h=M+1,k&&(L=k),C&&(h===g.length-2?g[k]=g[g.length-1]:0===h&&(g[g.length-1]=g[0]))}if(g.splice(0,L),!(g.length<2))if(C)g.pop(),e.paths.push(g);else{n||l.log("Unclosed interior contour?",e.level,d,g.join("L"));var N=!1;e.edgepaths.forEach(function(t,n){if(!N&&r(t[0],g[g.length-1],o,c)){g.pop(),N=!0;var i=!1;e.edgepaths.forEach(function(t,a){!i&&r(t[t.length-1],g[0],o,c)&&(i=!0,g.splice(0,1),e.edgepaths.splice(n,1),a===n?e.paths.push(g.concat(t)):e.edgepaths[a]=e.edgepaths[a].concat(g,t))}),i||(e.edgepaths[n]=g.concat(t))}}),e.edgepaths.forEach(function(t,n){!N&&r(t[t.length-1],g[0],o,c)&&(g.splice(0,1),e.edgepaths[n]=t.concat(g),N=!0)}),N||e.edgepaths.push(g)}}function a(e,t,n){var r=0,i=0;return e>20&&t?208===e||1114===e?r=0===n[0]?1:-1:i=0===n[1]?1:-1:-1!==u.BOTTOMSTART.indexOf(e)?i=1:-1!==u.LEFTSTART.indexOf(e)?r=1:-1!==u.TOPSTART.indexOf(e)?i=-1:r=-1,[r,i]}function s(e,t,n){var r=t[0]+Math.max(n[0],0),i=t[1]+Math.max(n[1],0),o=e.z[i][r],a=e.xaxis,s=e.yaxis;if(n[1]){var l=(e.level-o)/(e.z[i][r+1]-o);return[a.c2p((1-l)*e.x[r]+l*e.x[r+1],!0),s.c2p(e.y[i],!0)]}var u=(e.level-o)/(e.z[i+1][r]-o);return[a.c2p(e.x[r],!0),s.c2p((1-u)*e.y[i]+u*e.y[i+1],!0)]}var l=n(0),u=n(599);e.exports=function(e,t,n){var r,i,a,s,u;for(t=t||.01,n=n||.01,a=0;a<e.length;a++){for(s=e[a],u=0;u<s.starts.length;u++)i=s.starts[u],o(s,i,"edge",t,n);for(r=0;Object.keys(s.crossings).length&&r<1e4;)r++,i=Object.keys(s.crossings)[0].split(",").map(Number),o(s,i,void 0,t,n);1e4===r&&l.log("Infinite loop in contour?")}}},function(e,t,n){"use strict";var r=n(341);e.exports=function(e,t,n,i){return r(e,t,n,i,!0)}},function(e,t,n){"use strict";function r(e,t){var n=(t[0][0]>e?0:1)+(t[0][1]>e?0:2)+(t[1][1]>e?0:4)+(t[1][0]>e?0:8);if(5===n||10===n){return e>(t[0][0]+t[0][1]+t[1][0]+t[1][1])/4?5===n?713:1114:5===n?104:208}return 15===n?0:n}var i=n(599);e.exports=function(e){var t,n,o,a,s,l,u,c,f,h=e[0].z,d=h.length,p=h[0].length,m=2===d||2===p;for(n=0;n<d-1;n++)for(a=[],0===n&&(a=a.concat(i.BOTTOMSTART)),n===d-2&&(a=a.concat(i.TOPSTART)),t=0;t<p-1;t++)for(o=a.slice(),0===t&&(o=o.concat(i.LEFTSTART)),t===p-2&&(o=o.concat(i.RIGHTSTART)),s=t+","+n,l=[[h[n][t],h[n][t+1]],[h[n+1][t],h[n+1][t+1]]],f=0;f<e.length;f++)c=e[f],(u=r(c.level,l))&&(c.crossings[s]=u,-1!==o.indexOf(u)&&(c.starts.push([t,n]),m&&-1!==o.indexOf(u,o.indexOf(u)+1)&&c.starts.push([t,n])))}},function(e,t,n){"use strict";function r(e,t,n){var r=n[0].trace,l=n[0].x,f=n[0].y,h=r.contours,d=r.uid,p=t.xaxis,y=t.yaxis,b=e._fullLayout,x="contour"+d,_=i(h,t,n[0]);if(!0!==r.visible)return b._paper.selectAll("."+x+",.hm"+d).remove(),void b._infolayer.selectAll(".cb"+d).remove();"heatmap"===h.coloring?(r.zauto&&!1===r.autocontour&&(r._input.zmin=r.zmin=h.start-h.size/2,r._input.zmax=r.zmax=r.zmin+_.length*h.size),m(e,t,[n])):(b._paper.selectAll(".hm"+d).remove(),b._infolayer.selectAll("g.rangeslider-container").selectAll(".hm"+d).remove()),v(_),g(_);var w=p.c2p(l[0],!0),M=p.c2p(l[l.length-1],!0),k=y.c2p(f[0],!0),E=y.c2p(f[f.length-1],!0),S=[[w,E],[M,E],[M,k],[w,k]],T=o(t,n,x);a(T,S,h),s(T,_,S,h),u(T,_,h),c(T,t,n[0],S)}function i(e,t,n){for(var r=e.size,i=[],o=y(e),a=e.start;a<o;a+=r)if(i.push({level:a,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.xaxis,yaxis:t.yaxis,x:n.x,y:n.y,z:n.z,smoothing:n.trace.line.smoothing}),i.length>1e3){d.warn("Too many contours, clipping at 1000",e);break}return i}function o(e,t,n){var r=e.plot.select(".maplayer").selectAll("g.contour."+n).data(t);return r.enter().append("g").classed("contour",!0).classed(n,!0),r.exit().remove(),r}function a(e,t,n){var r=e.selectAll("g.contourbg").data([0]);r.enter().append("g").classed("contourbg",!0);var i=r.selectAll("path").data("fill"===n.coloring?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+t.join("L")+"Z").style("stroke","none")}function s(e,t,n,r){var i=e.selectAll("g.contourfill").data([0]);i.enter().append("g").classed("contourfill",!0);var o=i.selectAll("path").data("fill"===r.coloring?t:[]);o.enter().append("path"),o.exit().remove(),o.each(function(e){var t=l(e,n);t?h.select(this).attr("d",t).style("stroke","none"):h.select(this).remove()})}function l(e,t){function n(e){return Math.abs(e[0]-t[2][0])<.01}for(var r,i,o,a,s,l,u=Math.min(e.z[0][0],e.z[0][1]),c=e.edgepaths.length||u<=e.level?"":"M"+t.join("L")+"Z",f=0,h=e.edgepaths.map(function(e,t){return t}),m=!0;h.length;){for(l=p.smoothopen(e.edgepaths[f],e.smoothing),c+=m?l:l.replace(/^M/,"L"),h.splice(h.indexOf(f),1),r=e.edgepaths[f][e.edgepaths[f].length-1],a=-1,o=0;o<4;o++){if(!r){d.log("Missing end?",f,e);break}for(!function(e){return Math.abs(e[1]-t[0][1])<.01}(r)||n(r)?!function(e){return Math.abs(e[0]-t[0][0])<.01}(r)?!function(e){return Math.abs(e[1]-t[2][1])<.01}(r)?n(r)&&(i=t[2]):i=t[3]:i=t[0]:i=t[1],s=0;s<e.edgepaths.length;s++){var v=e.edgepaths[s][0];Math.abs(r[0]-i[0])<.01?Math.abs(r[0]-v[0])<.01&&(v[1]-r[1])*(i[1]-v[1])>=0&&(i=v,a=s):Math.abs(r[1]-i[1])<.01?Math.abs(r[1]-v[1])<.01&&(v[0]-r[0])*(i[0]-v[0])>=0&&(i=v,a=s):d.log("endpt to newendpt is not vert. or horz.",r,i,v)}if(r=i,a>=0)break;c+="L"+i}if(a===e.edgepaths.length){d.log("unclosed perimeter path");break}f=a,m=-1===h.indexOf(f),m&&(f=h[0],c+="Z")}for(f=0;f<e.paths.length;f++)c+=p.smoothclosed(e.paths[f],e.smoothing);return c}function u(e,t,n){var r=t[0].smoothing,i=e.selectAll("g.contourlevel").data(!1===n.showlines?[]:t);i.enter().append("g").classed("contourlevel",!0),i.exit().remove();var o=i.selectAll("path.openline").data(function(e){return e.edgepaths});o.enter().append("path").classed("openline",!0),o.exit().remove(),o.attr("d",function(e){return p.smoothopen(e,r)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var a=i.selectAll("path.closedline").data(function(e){return e.paths});a.enter().append("path").classed("closedline",!0),a.exit().remove(),a.attr("d",function(e){return p.smoothclosed(e,r)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}function c(e,t,n,r){var i="clip"+n.trace.uid,o=t.plot.selectAll("defs").data([0]);o.enter().append("defs");var a=o.selectAll("#"+i).data(n.trace.connectgaps?[]:[0]);if(a.enter().append("clipPath").attr("id",i),a.exit().remove(),!1===n.trace.connectgaps){var s={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.xaxis,yaxis:t.yaxis,x:n.x,y:n.y,z:f(n),smoothing:0};v([s]),g([s]);var u=l(s,r),c=a.selectAll("path").data([0]);c.enter().append("path"),c.attr("d",u)}else i=null;e.call(p.setClipUrl,i),t.plot.selectAll(".hm"+n.trace.uid).call(p.setClipUrl,i)}function f(e){var t,n,r=e.trace._emptypoints,i=[],o=e.z.length,a=e.z[0].length,s=[];for(t=0;t<a;t++)s.push(1);for(t=0;t<o;t++)i.push(s.slice());for(t=0;t<r.length;t++)n=r[t],i[n[0]][n[1]]=0;return e.zmask=i,i}var h=n(2),d=n(0),p=n(12),m=n(342),v=n(603),g=n(601),y=n(336);e.exports=function(e,t,n){for(var i=0;i<n.length;i++)r(e,t,n[i])}},function(e,t,n){"use strict";var r=n(2),i=n(12),o=n(234),a=n(337);e.exports=function(e){var t=r.select(e).selectAll("g.contour");t.style("opacity",function(e){return e.trace.opacity}),t.each(function(e){var t=r.select(this),n=e.trace,o=n.contours,s=n.line,l=o.size||1,u=o.start,c=a(n);t.selectAll("g.contourlevel").each(function(e){r.select(this).selectAll("path").call(i.lineGroupStyle,s.width,"lines"===o.coloring?c(e.level):s.color,s.dash)});var f;t.selectAll("g.contourfill path").style("fill",function(e){return void 0===f&&(f=e.level),c(e.level+.5*l)}),void 0===f&&(f=u),t.selectAll("g.contourbg path").style("fill",c(f-.5*l))}),o(e)}},function(e,t,n){"use strict";var r=n(127),i=n(34),o=n(56),a=n(32),s=n(8).extendFlat,l=i.line,u=n(607);e.exports=s({},{carpet:{valType:"string",role:"info",description:["The `carpet` of the carpet axes on which this contour trace lies"].join(" ")},z:r.z,a:r.x,a0:r.x0,da:r.dx,b:r.y,b0:r.y0,db:r.dy,text:r.text,transpose:r.transpose,atype:r.xtype,btype:r.ytype,mode:{valType:"flaglist",flags:["lines","fill"],extras:["none"],role:"info",description:["The mode."].join(" ")},connectgaps:r.connectgaps,fillcolor:{valType:"color",role:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},autocontour:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the contour level attributes are","picked by an algorithm.","If *true*, the number of contour levels can be set in `ncontours`.","If *false*, set the contour level attributes in `contours`."].join(" ")},ncontours:{valType:"integer",dflt:15,min:1,role:"style",description:["Sets the maximum number of contour levels. The actual number","of contours will be chosen automatically to be less than or","equal to the value of `ncontours`.","Has an effect only if `autocontour` is *true* or if","`contours.size` is missing."].join(" ")},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",role:"info",description:["If `levels`, the data is represented as a contour plot with multiple","levels displayed. If `constraint`, the data is represented as constraints","with the invalid region shaded as specified by the `operation` and","`value` parameters."].join(" ")},start:{valType:"number",dflt:null,role:"style",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,role:"style",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,role:"style",description:["Sets the step between each contour level.","Must be positive."].join(" ")},coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",role:"style",description:["Determines the coloring method showing the contour values.","If *fill*, coloring is done evenly between each contour level","If *lines*, coloring is done on the contour lines.","If *none*, no coloring is applied on this trace."].join(" ")},showlines:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the contour lines are drawn.","Has only an effect if `contours.coloring` is set to *fill*."].join(" ")},operation:{valType:"enumerated",values:[].concat(u.INEQUALITY_OPS).concat(u.INTERVAL_OPS).concat(u.SET_OPS),role:"info",dflt:"=",description:["Sets the filter operation.","*=* keeps items equal to `value`","*<* keeps items less than `value`","*<=* keeps items less than or equal to `value`","*>* keeps items greater than `value`","*>=* keeps items greater than or equal to `value`","*[]* keeps items inside `value[0]` to value[1]` including both bounds`","*()* keeps items inside `value[0]` to value[1]` excluding both bounds`","*[)* keeps items inside `value[0]` to value[1]` including `value[0]` but excluding `value[1]","*(]* keeps items inside `value[0]` to value[1]` excluding `value[0]` but including `value[1]","*][* keeps items outside `value[0]` to value[1]` and equal to both bounds`","*)(* keeps items outside `value[0]` to value[1]`","*](* keeps items outside `value[0]` to value[1]` and equal to `value[0]`","*)[* keeps items outside `value[0]` to value[1]` and equal to `value[1]`"].join(" ")},value:{valType:"any",dflt:0,role:"info",description:["Sets the value or values by which to filter by.","Values are expected to be in the same type as the data linked","to *target*.","When `operation` is set to one of the inequality values","("+u.INEQUALITY_OPS+")","*value* is expected to be a number or a string.","When `operation` is set to one of the interval value","("+u.INTERVAL_OPS+")","*value* is expected to be 2-item array where the first item","is the lower bound and the second item is the upper bound.","When `operation`, is set to one of the set value","("+u.SET_OPS+")","*value* is expected to be an array with as many items as","the desired set elements."].join(" ")}},line:{color:s({},l.color,{description:["Sets the color of the contour level.","Has no if `contours.coloring` is set to *lines*."].join(" ")}),width:l.width,dash:l.dash,smoothing:s({},l.smoothing,{description:["Sets the amount of smoothing for the contour lines,","where *0* corresponds to no smoothing."].join(" ")})}},o,{autocolorscale:s({},o.autocolorscale,{dflt:!1})},{colorbar:a})},function(e,t,n){"use strict";e.exports={INEQUALITY_OPS:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"]}},function(e,t,n){"use strict";var r=n(0),i=n(343),o=n(606),a=n(338),s=n(101),l=n(69),u=n(1478),c=n(3).addOpacity;e.exports=function(e,t,n,f){function h(n,i){return r.coerce(e,t,o,n,i)}if(h("carpet"),e.a&&e.b){var d,p,m,v,g;if(!i(e,t,h,f,"a","b"))return void(t.visible=!1);h("text"),h("contours.type");var y=t.contours;if("constraint"===y.type){h("contours.operation"),u(h,y),r.coerce(e,t,l,"showlegend",!0),h("contours.coloring","="===y.operation?"lines":"fill"),h("contours.showlines",!0),"="===y.operation&&(y.coloring="lines"),s(e,t,n,h);var b=t.fillcolor?c(t.fillcolor,1):n;a(e,t,h,f,b,2),"="===y.operation&&(h("line.color",n),"fill"===y.coloring&&(y.coloring="lines"),"lines"===y.coloring&&delete t.fillcolor),delete t.showscale,delete t.autocontour,delete t.autocolorscale,delete t.colorscale,delete t.ncontours,delete t.colorbar,t.line&&(delete t.line.autocolorscale,delete t.line.colorscale,delete t.line.mincolor,delete t.line.maxcolor)}else r.coerce(e,t,l,"showlegend",!1),p=r.coerce2(e,t,o,"contours.start"),m=r.coerce2(e,t,o,"contours.end"),d=h("contours.size"),h("contours.coloring"),v=!1===p||!1===m,g=v?t.autocontour=!0:h("autocontour",!1),!g&&d||h("ncontours"),a(e,t,h,f),delete t.value,delete t.operation}else t._defaultColor=n}},function(e,t,n){"use strict";var r=n(0),i=n(172),o=n(343),a=n(65),s=n(127);e.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,s,n,i)}if(!o(e,t,u,l))return void(t.visible=!1);u("text"),!1===u("zsmooth")&&(u("xgap"),u("ygap")),u("connectgaps",i(t)&&!1!==t.zsmooth),a(e,t,l,u,{prefix:"",cLetter:"z"})}},function(e,t,n){"use strict";var r=n(233);e.exports=function(e){var t,n,i,o,a,s,l,u,c=[],f={},h=[],d=e[0],p=[],m=[0,0,0],v=r(e);for(n=0;n<e.length;n++)for(t=p,p=d,d=e[n+1]||[],i=0;i<v;i++)void 0===p[i]&&(s=(void 0!==p[i-1]?1:0)+(void 0!==p[i+1]?1:0)+(void 0!==t[i]?1:0)+(void 0!==d[i]?1:0),s?(0===n&&s++,0===i&&s++,n===e.length-1&&s++,i===p.length-1&&s++,s<4&&(f[[n,i]]=[n,i,s]),c.push([n,i,s])):h.push([n,i]));for(;h.length;){for(l={},u=!1,a=h.length-1;a>=0;a--)o=h[a],n=o[0],i=o[1],(s=((f[[n-1,i]]||m)[2]+(f[[n+1,i]]||m)[2]+(f[[n,i-1]]||m)[2]+(f[[n,i+1]]||m)[2])/20)&&(l[o]=[n,i,s],h.splice(a,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(o in l)f[o]=l[o],c.push(l[o])}return c.sort(function(e,t){return t[2]-e[2]})}},function(e,t,n){"use strict";function r(e){return.5-.25*Math.min(1,.5*e)}function i(e,t,n){var r,i,o,s,l,u,c,f,h,d,p,m,v,g=0;for(s=0;s<t.length;s++){for(r=t[s],i=r[0],o=r[1],p=e[i][o],d=0,h=0,l=0;l<4;l++)u=a[l],(c=e[i+u[0]])&&void 0!==(f=c[o+u[1]])&&(0===d?m=v=f:(m=Math.min(m,f),v=Math.max(v,f)),h++,d+=f);if(0===h)throw"iterateInterp2d order is wrong: no defined neighbors";e[i][o]=d/h,void 0===p?h<4&&(g=1):(e[i][o]=(1+n)*e[i][o]-n*p,v>m&&(g=Math.max(g,Math.abs(e[i][o]-p)/(v-m))))}return g}var o=n(0),a=[[-1,0],[1,0],[0,-1],[0,1]];e.exports=function(e,t,n){var a,s,l=1;if(Array.isArray(n))for(a=0;a<t.length;a++)s=t[a],e[s[0]][s[1]]=n[s[0]][s[1]];else i(e,t);for(a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&l>.01;a++)l=i(e,t,r(l));return l>.01&&o.log("interp2d didn't converge quickly",l),e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n,i,o,a){var s,l,u,c=[],f=r.traceIs(e,"contour"),h=r.traceIs(e,"histogram"),d=r.traceIs(e,"gl2d");if(Array.isArray(t)&&t.length>1&&!h&&"category"!==a.type){var p=t.length;if(!(p<=o))return f?t.slice(0,o):t.slice(0,o+1);if(f||d)c=t.slice(0,o);else if(1===o)c=[t[0]-.5,t[0]+.5];else{for(c=[1.5*t[0]-.5*t[1]],u=1;u<p;u++)c.push(.5*(t[u-1]+t[u]));c.push(1.5*t[p-1]-.5*t[p-2])}if(p<o){var m=c[c.length-1],v=m-c[c.length-2];for(u=p;u<o;u++)m+=v,c.push(m)}}else{l=i||1;var g=e[a._id.charAt(0)+"calendar"];for(s=h||"category"===a.type?a.r2c(n,0,g)||0:Array.isArray(t)&&1===t.length?t[0]:void 0===n?0:a.d2c(n,0,g),u=f||d?0:-.5;u<o;u++)c.push(s+l*u)}return c}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=e.length,r=0,i=0;i<n;i++)t[i]?(e[i]/=t[i],r+=e[i]):e[i]=null;return r}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return n("histnorm"),r.forEach(function(e){n(e+"bins.start"),n(e+"bins.end"),n(e+"bins.size"),n("autobin"+e),n("nbins"+e)}),t}},function(e,t,n){"use strict";var r=n(4);e.exports={count:function(e,t,n){return n[e]++,1},sum:function(e,t,n,i){var o=i[t];return r(o)?(o=Number(o),n[e]+=o,o):0},avg:function(e,t,n,i,o){var a=i[t];return r(a)&&(a=Number(a),n[e]+=a,o[e]++),0},min:function(e,t,n,i){var o=i[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]>o){var a=o-n[e];return n[e]=o,a}}return 0},max:function(e,t,n,i){var o=i[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]<o){var a=o-n[e];return n[e]=o,a}}return 0}}},function(e,t,n){"use strict";var r=n(4),i=n(0).cleanDate,o=n(27),a=o.ONEDAY,s=o.BADNUM;e.exports=function(e,t,n){var o=t.type,l=n+"bins",u=e[l];u||(u=e[l]={});var c="date"===o?function(e){return e||0===e?i(e,s,u.calendar):null}:function(e){return r(e)?Number(e):null};u.start=c(u.start),u.end=c(u.end);var f="date"===o?a:1,h=u.size;if(r(h))u.size=h>0?Number(h):f;else if("string"!==typeof h)u.size=f;else{var d=h.charAt(0),p=h.substr(1);p=r(p)?Number(p):0,(p<=0||"date"!==o||"M"!==d||p!==Math.round(p))&&(u.size=f)}var m="autobin"+n;"boolean"!==typeof e[m]&&(e[m]=!((u.start||0===u.start)&&(u.end||0===u.end))),e[m]||delete e["nbins"+n]}},function(e,t,n){"use strict";e.exports={percent:function(e,t){for(var n=e.length,r=100/t,i=0;i<n;i++)e[i]*=r},probability:function(e,t){for(var n=e.length,r=0;r<n;r++)e[r]/=t},density:function(e,t,n,r){var i=e.length;r=r||1;for(var o=0;o<i;o++)e[o]*=n[o]*r},"probability density":function(e,t,n,r){var i=e.length;r&&(t/=r);for(var o=0;o<i;o++)e[o]*=n[o]/t}}},function(e,t,n){"use strict";var r=n(6),i=n(614);e.exports=function(e,t,n,o){var a=n("x"),s=n("y");if(!(a&&a.length&&s&&s.length))return void(t.visible=!1);r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],o),(n("z")||n("marker.color"))&&n("histfunc"),i(e,t,n,["x","y"])}},function(e,t,n){"use strict";var r=n(345),i=n(231),o=n(56),a=n(32),s=n(8).extendFlat;e.exports=s({},{x:r.x,y:r.y,z:r.z,marker:r.marker,histnorm:r.histnorm,histfunc:r.histfunc,autobinx:r.autobinx,nbinsx:r.nbinsx,xbins:r.xbins,autobiny:r.autobiny,nbinsy:r.nbinsy,ybins:r.ybins,autocontour:i.autocontour,ncontours:i.ncontours,contours:i.contours,line:i.line},o,{colorbar:a})},function(e,t,n){"use strict";var r=n(56),i=n(32),o=n(356),a=n(8).extendFlat;e.exports={x:{valType:"data_array",description:["Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},y:{valType:"data_array",description:["Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},z:{valType:"data_array",description:["Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},i:{valType:"data_array",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a","point in space, which is the first vertex of a triangle."].join(" ")},j:{valType:"data_array",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}` ","together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a","point in space, which is the second vertex of a triangle."].join(" ")},k:{valType:"data_array",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet ","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a","point in space, which is the third vertex of a triangle."].join(" ")},delaunayaxis:{valType:"enumerated",role:"info",values:["x","y","z"],dflt:"z",description:["Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the","Delaunay triangulation.","It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate","Delaunay triangulation."].join(" ")},alphahull:{valType:"number",role:"style",dflt:-1,description:["Determines how the mesh surface triangles are derived from the set of","vertices (points) represented by the `x`, `y` and `z` arrays, if","the `i`, `j`, `k` arrays are not supplied.","For general use of `mesh3d` it is preferred that `i`, `j`, `k` are","supplied.","If *-1*, Delaunay triangulation is used, which is mainly suitable if the","mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`.","In case the `delaunayaxis` intersects the mesh surface at more than one point","it will result triangles that are very long in the dimension of `delaunayaxis`.","If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value","signals the use of the alpha-shape algorithm, _and_ its value","acts as the parameter for the mesh fitting.","If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies","or if the intention is to enclose the `x`, `y` and `z` point set into a convex","hull."].join(" ")},intensity:{valType:"data_array",description:["Sets the vertex intensity values,","used for plotting fields on meshes"].join(" ")},color:{valType:"color",role:"style",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",role:"style",description:["Sets the color of each vertex","Overrides *color*."].join(" ")},facecolor:{valType:"data_array",role:"style",description:["Sets the color of each face","Overrides *color* and *vertexcolor*."].join(" ")},opacity:a({},o.opacity),flatshading:{valType:"boolean",role:"style",dflt:!1,description:["Determines whether or not normal smoothing is applied to the meshes,","creating meshes with an angular, low-poly look via flat reflections."].join(" ")},contour:{show:a({},o.contours.x.show,{description:["Sets whether or not dynamic contours are shown on hover"].join(" ")}),color:a({},o.contours.x.color),width:a({},o.contours.x.width)},colorscale:r.colorscale,reversescale:r.reversescale,showscale:r.showscale,colorbar:i,lightposition:{x:a({},o.lightposition.x,{dflt:1e5}),y:a({},o.lightposition.y,{dflt:1e5}),z:a({},o.lightposition.z,{dflt:0})},lighting:a({},{vertexnormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1e-12,description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1e-6,description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."}},o.lighting)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){n(r+".showlegend"),!1===e.showlegend&&(t[r].showlegend=!1),n(r+".name",t.name+" - "+r)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n,i){var o,a=n("x"),s=n("open"),l=n("high"),u=n("low"),c=n("close");return r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x"],i),o=Math.min(s.length,l.length,u.length,c.length),a&&(o=Math.min(o,a.length))<a.length&&(t.x=a.slice(0,o)),o<s.length&&(t.open=s.slice(0,o)),o<l.length&&(t.high=l.slice(0,o)),o<u.length&&(t.low=u.slice(0,o)),o<c.length&&(t.close=c.slice(0,o)),o}},function(e,t,n){"use strict";var r=n(89),i=n(32),o=n(91),a=n(57),s=n(8).extendDeep,l=n(8).extendFlat;e.exports={domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this `parcoords` trace","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this `parcoords` trace","(in plot fraction)."].join(" ")}},dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",role:"info",description:"The shown name of the dimension."},tickvals:a.tickvals,ticktext:a.ticktext,tickformat:{valType:"string",dflt:"3s",role:"style",description:["Sets the tick label formatting rule using d3 formatting mini-language","which is similar to those of Python. See","https://github.com/d3/d3-format/blob/master/README.md#locale_format"].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."},range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["The domain range that represents the full, shown axis extent. Defaults to the `values` extent.","Must be an array of `[fromValue, toValue]` with finite numbers as elements."].join(" ")},constraintrange:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["The domain range to which the filter on the dimension is constrained. Must be an array","of `[fromValue, toValue]` with finite numbers as elements."].join(" ")},values:{valType:"data_array",role:"info",dflt:[],description:["Dimension values. `values[n]` represents the value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated). Each value must be a finite number."].join(" ")},description:"The dimensions (variables) of the parallel coordinates chart. 2..60 dimensions are supported."},line:l({},s({},r("line"),{colorscale:s({},r("line").colorscale,{dflt:o.Viridis}),autocolorscale:s({},r("line").autocolorscale,{dflt:!1,description:["Has an effect only if line.color` is set to a numerical array.","Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by `line.colorscale`.","In case `colorscale` is unspecified or `autocolorscale` is true, the default ","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed.","The default value is false, so that `parcoords` colorscale can default to `Viridis`."].join(" ")})}),{showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `line.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:i})}},function(e,t,n){"use strict";var r=n(1510);e.exports=function(e,t){var n=e._fullLayout,i=n._paper,o=n._paperdiv,a={},s={},l=n._size;t.forEach(function(t,n){a[n]=e.data[n].dimensions,s[n]=e.data[n].dimensions.slice()});var u=function(t,n,r){var i=s[t][n],o=i.constraintrange;o&&2===o.length||(o=i.constraintrange=[]),o[0]=r[0],o[1]=r[1],e.emit("plotly_restyle")},c=function(t){e.emit("plotly_hover",t)},f=function(t){e.emit("plotly_unhover",t)},h=function(t,n){function r(e){return!("visible"in e)||e.visible}function i(e,t,n){var r=t.indexOf(n),i=e.indexOf(r);return-1===i&&(i+=t.length),i}var o=function(e){return function(t,r){return i(n,e,t)-i(n,e,r)}}(s[t].filter(r));a[t].sort(o),s[t].filter(function(e){return!r(e)}).sort(function(e){return s[t].indexOf(e)}).forEach(function(e){a[t].splice(a[t].indexOf(e),1),a[t].splice(s[t].indexOf(e),0,e)}),e.emit("plotly_restyle")};r(o,i,t,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:u,hover:c,unhover:f,axesMoved:h})}},function(e,t,n){"use strict";var r=n(31),i=n(45),o=n(69),a=n(8).extendFlat;e.exports={labels:{valType:"data_array",description:"Sets the sector labels."},label0:{valType:"number",role:"info",dflt:0,description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",description:"Sets the values of the sectors of this pie chart."},marker:{colors:{valType:"data_array",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:r.defaultLine,arrayOk:!0,description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,description:["Sets the width (in px) of the line enclosing each sector."].join(" ")}}},text:{valType:"data_array",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:a({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,description:["Specifies the location of the `textinfo`."].join(" ")},textfont:a({},i,{description:"Sets the font used for `textinfo`."}),insidetextfont:a({},i,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:a({},i,{description:"Sets the font used for `textinfo` lying outside the pie."}),domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this pie trace","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this pie trace","(in plot fraction)."].join(" ")}},hole:{valType:"number",role:"style",min:0,max:1,dflt:0,description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}},function(e,t,n){"use strict";var r=n(0);t.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},t.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)}},function(e,t,n){"use strict";e.exports={hiddenlabels:{valType:"data_array"}}},function(e,t,n){"use strict";var r=n(355);e.exports={x:r.x,y:r.y,xy:{valType:"data_array",description:["Faster alternative to specifying `x` and `y` separately.","If supplied, it must be a typed `Float32Array` array that","represents points such that `xy[i * 2] = x[i]` and `xy[i * 2 + 1] = y[i]`"].join(" ")},indices:{valType:"data_array",description:["A sequential value, 0..n, supply it to avoid creating this array inside plotting.","If specified, it must be a typed `Int32Array` array.","Its length must be equal to or greater than the number of points.","For the best performance and memory use, create one large `indices` typed array","that is guaranteed to be at least as long as the largest number of points during","use, and reuse it on each `Plotly.restyle()` call."].join(" ")},xbounds:{valType:"data_array",description:["Specify `xbounds` in the shape of `[xMin, xMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `ybounds` for the performance benefits."].join(" ")},ybounds:{valType:"data_array",description:["Specify `ybounds` in the shape of `[yMin, yMax] to avoid looping through","the `xy` typed array. Use it in conjunction with `xy` and `xbounds` for the performance benefits."].join(" ")},text:r.text,marker:{color:{valType:"color",arrayOk:!1,role:"style",description:["Sets the marker fill color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join("")},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,role:"style",description:["Sets the marker opacity. The default value is `1` (fully opaque).","If the markers are not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning.","Opacity fades the color even if `blend` is left on `false` even if there","is no translucency effect in that case."].join(" ")},blend:{valType:"boolean",dflt:null,role:"style",description:["Determines if colors are blended together for a translucency effect","in case `opacity` is specified as a value less then `1`.","Setting `blend` to `true` reduces zoom/pan","speed if used with large numbers of points."].join(" ")},sizemin:{valType:"number",min:.1,max:2,dflt:.5,role:"style",description:["Sets the minimum size (in px) of the rendered marker points, effective when","the `pointcloud` shows a million or more points."].join(" ")},sizemax:{valType:"number",min:.1,dflt:20,role:"style",description:["Sets the maximum size (in px) of the rendered marker points.","Effective when the `pointcloud` shows only few points."].join(" ")},border:{color:{valType:"color",arrayOk:!1,role:"style",description:["Sets the stroke color. It accepts a specific color.","If the color is not fully opaque and there are hundreds of thousands","of points, it may cause slower zooming and panning."].join(" ")},arearatio:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Specifies what fraction of the marker area is covered with the","border."].join(" ")}}}}},function(e,t,n){"use strict";var r={},i=n(21);r.hasLines=i.hasLines,r.hasMarkers=i.hasMarkers,r.hasText=i.hasText,r.isBubble=i.isBubble,r.attributes=n(34),r.supplyDefaults=n(1523),r.cleanData=n(1522),r.calc=n(1521),r.arraysToCalcdata=n(173),r.plot=n(350),r.colorbar=n(80),r.style=n(352),r.hoverPoints=n(348),r.selectPoints=n(351),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=n(44),r.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],r.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e){return{show:{valType:"boolean",role:"info",dflt:!1,description:["Sets whether or not projections are shown along the",e,"axis."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",role:"style",min:0,max:10,dflt:2/3,description:["Sets the scale factor determining the size of the","projection marker points."].join(" ")}}}var i=n(34),o=n(89),a=n(164),s=n(553),l=n(165),u=n(8).extendFlat,c=i.line,f=i.marker,h=f.line;e.exports={x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},z:{valType:"data_array",description:"Sets the z coordinates."},text:u({},i.text,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),hovertext:u({},i.hovertext,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),mode:u({},i.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",role:"info",values:[-1,0,1,2],dflt:-1,description:["If *-1*, the scatter points are not fill with a surface","If *0*, *1*, *2*, the scatter points are filled with","a Delaunay surface about the x, y, z respectively."].join(" ")},surfacecolor:{valType:"color",role:"style",description:"Sets the surface fill color."},projection:{x:r("x"),y:r("y"),z:r("z")},connectgaps:i.connectgaps,line:u({},{width:c.width,dash:{valType:"enumerated",values:Object.keys(s),dflt:"solid",role:"style",description:"Sets the dash style of the lines."},showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `line.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")}},o("line")),marker:u({},{symbol:{valType:"enumerated",values:Object.keys(l),role:"style",dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:u({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:u({},f.opacity,{arrayOk:!1,description:["Sets the marker opacity.","Note that the marker opacity for scatter3d traces","must be a scalar value for performance reasons.","To set a blending opacity value","(i.e. which is not transparent), set *marker.color*","to an rgba color and use its alpha channel."].join(" ")}),showscale:f.showscale,colorbar:f.colorbar,line:u({},{width:u({},h.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:u({},i.textposition,{dflt:"top center"}),textfont:i.textfont,error_x:a,error_y:a,error_z:a}},function(e,t,n){"use strict";var r=n(34),i=n(69),o=n(89),a=n(32),s=n(8).extendFlat,l=r.marker,u=r.line,c=l.line;e.exports={carpet:{valType:"string",role:"info",description:["An identifier for this carpet, so that `scattercarpet` and","`scattercontour` traces can specify a carpet plot on which","they lie"].join(" ")},a:{valType:"data_array",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},b:{valType:"data_array",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},sum:{valType:"number",role:"info",dflt:0,min:0,description:["The number each triplet should sum to,","if only two of `a`, `b`, and `c` are provided.","This overrides `ternary<i>.sum` to normalize this specific","trace, but does not affect the values displayed on the axes.","0 (or missing) means to use ternary<i>.sum"].join(" ")},mode:s({},r.mode,{dflt:"markers"}),text:s({},r.text,{description:["Sets text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c)."].join(" ")}),line:{color:u.color,width:u.width,dash:u.dash,shape:s({},u.shape,{values:["linear","spline"]}),smoothing:u.smoothing},connectgaps:r.connectgaps,fill:s({},r.fill,{values:["none","toself","tonext"],description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterternary has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:r.fillcolor,marker:s({},{symbol:l.symbol,opacity:l.opacity,maxdisplayed:l.maxdisplayed,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:s({},{width:c.width},o("marker".line))},o("marker"),{showscale:l.showscale,colorbar:a}),textfont:r.textfont,textposition:r.textposition,hoverinfo:s({},i.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:r.hoveron}},function(e,t,n){"use strict";var r=n(4),i=n(27).BADNUM,o=n(174),a=n(173);e.exports=function(e,t){for(var n=Array.isArray(t.locations),s=n?t.locations.length:t.lon.length,l=new Array(s),u=0;u<s;u++){var c=l[u]={};if(n){var f=t.locations[u];c.loc="string"===typeof f?f:null}else{var h=t.lon[u],d=t.lat[u];r(h)&&r(d)?c.lonlat=[+h,+d]:c.lonlat=[i,i]}}return a(l,t),o(t),l}},function(e,t,n){"use strict";var r=n(177),i=n(34),o=n(228),a=n(69),s=n(32),l=n(8).extendFlat,u=r.line,c=r.marker;e.exports={lon:r.lon,lat:r.lat,mode:l({},i.mode,{dflt:"markers",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover."].join(" ")}),text:l({},i.text,{description:["Sets text elements associated with each (lon,lat) pair","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),hovertext:l({},i.hovertext,{description:["Sets hover text elements associated with each (lon,lat) pair","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (lon,lat) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),line:{color:u.color,width:u.width},connectgaps:i.connectgaps,marker:{symbol:{valType:"string",dflt:"circle",role:"style",arrayOk:!0,description:["Sets the marker symbol.","Full list: https://www.mapbox.com/maki-icons/","Note that the array `marker.color` and `marker.size`","are only available for *circle* symbols."].join(" ")},opacity:l({},c.opacity,{arrayOk:!1}),size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,color:c.color,colorscale:c.colorscale,cauto:c.cauto,cmax:c.cmax,cmin:c.cmin,autocolorscale:c.autocolorscale,reversescale:c.reversescale,showscale:c.showscale,colorbar:s},fill:r.fill,fillcolor:i.fillcolor,textfont:o.layers.symbol.textfont,textposition:o.layers.symbol.textposition,hoverinfo:l({},a.hoverinfo,{flags:["lon","lat","text","name"]})}},function(e,t,n){"use strict";var r=n(34),i=n(69),o=n(89),a=n(32),s=n(99).dash,l=n(8).extendFlat,u=r.marker,c=r.line,f=u.line;e.exports={a:{valType:"data_array",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},b:{valType:"data_array",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},c:{valType:"data_array",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},sum:{valType:"number",role:"info",dflt:0,min:0,description:["The number each triplet should sum to,","if only two of `a`, `b`, and `c` are provided.","This overrides `ternary<i>.sum` to normalize this specific","trace, but does not affect the values displayed on the axes.","0 (or missing) means to use ternary<i>.sum"].join(" ")},mode:l({},r.mode,{dflt:"markers"}),text:l({},r.text,{description:["Sets text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),hovertext:l({},r.hovertext,{description:["Sets hover text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),line:{color:c.color,width:c.width,dash:s,shape:l({},c.shape,{values:["linear","spline"]}),smoothing:c.smoothing},connectgaps:r.connectgaps,fill:l({},r.fill,{values:["none","toself","tonext"],description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterternary has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:r.fillcolor,marker:l({},{symbol:u.symbol,opacity:u.opacity,maxdisplayed:u.maxdisplayed,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,line:l({},{width:f.width},o("marker".line))},o("marker"),{showscale:u.showscale,colorbar:a}),textfont:r.textfont,textposition:r.textposition,hoverinfo:l({},i.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:r.hoveron}},function(e,t,n){"use strict";var r=n(1569);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(149);e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(18),o=n(104),a=(n(10),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&i("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(a)},function(e,t,n){"use strict";function r(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(s.test(e)?(u[e]=!0,!0):(l[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var o=n(130),a=(n(28),n(58),n(1639)),s=(n(15),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";var r={hasCachedChildNodes:1};e.exports=r},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=l.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(r,this),n}var a=n(11),s=n(363),l=n(28),u=n(70),c=(n(15),!1),f={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,e.exports=o},function(e,t,n){"use strict";var r={logTopLevelRenders:!1};e.exports=r},function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function i(e){return new l(e)}function o(e){return e instanceof l}var a=n(18),s=(n(10),null),l=null,u={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){l=e}},c={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:u};e.exports=c},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(1599),o=n(936),a=n(449),s=n(450),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(O)||""}function a(e,t,n,r,i){var o;if(_.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;o="React mount: "+("string"===typeof s?s:s.displayName||s.name),console.time(o)}var l=k.mountComponent(e,n,null,b(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var i=S.ReactReconcileTransaction.getPooled(!n&&x.useCreateElement);i.perform(a,null,e,t,i,n,r),S.ReactReconcileTransaction.release(i)}function l(e,t,n){for(k.unmountComponent(e,n),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=i(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==L&&e.nodeType!==I&&e.nodeType!==N)}function f(e){var t=i(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function h(e){var t=f(e);return t?t._hostContainerInfo._topLevelWrapper:null}var d=n(18),p=n(129),m=n(130),v=n(132),g=n(238),y=(n(82),n(28)),b=n(1593),x=n(1595),_=n(644),w=n(181),M=(n(58),n(1609)),k=n(131),E=n(366),S=n(70),T=n(148),A=n(654),C=(n(10),n(242)),D=n(372),O=(n(15),m.ID_ATTRIBUTE_NAME),P=m.ROOT_ATTRIBUTE_NAME,L=1,I=9,N=11,R={},j=1,z=function(){this.rootID=j++};z.prototype.isReactComponent={},z.prototype.render=function(){return this.props.child},z.isReactTopLevelWrapper=!0;var F={TopLevelWrapper:z,_instancesByReactRootID:R,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return F.scrollMonitor(r,function(){E.enqueueElementInternal(e,t,n),i&&E.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||d("37"),g.ensureScrollValueMonitoring();var i=A(e,!1);S.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return R[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&w.has(e)||d("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){E.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||d("39","string"===typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"===typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(z,{child:t});if(e){var l=w.get(e);a=l._processChildContext(l._context)}else a=T;var c=h(n);if(c){var f=c._currentElement,p=f.props.child;if(D(p,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return F._updateRootComponent(c,s,a,n,g),m}F.unmountComponentAtNode(n)}var y=i(n),b=y&&!!o(y),x=u(n),_=b&&!c&&!x,M=F._renderNewRootComponent(s,n,_,a)._renderedComponent.getPublicInstance();return r&&r.call(M),M},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||d("40");var t=h(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(P);return!1}return delete R[t._instance.rootID],S.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(c(t)||d("41"),o){var s=i(t);if(M.canReuseMarkup(e,s))return void y.precacheNode(n,s);var l=s.getAttribute(M.CHECKSUM_ATTR_NAME);s.removeAttribute(M.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(M.CHECKSUM_ATTR_NAME,l);var f=e,h=r(f,u),m=" (client) "+f.substring(h-20,h+20)+"\n (server) "+u.substring(h-20,h+20);t.nodeType===I&&d("42",m)}if(t.nodeType===I&&d("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);p.insertTreeBefore(t,e,null)}else C(t,e),y.precacheNode(n,t.firstChild)}};e.exports=F},function(e,t,n){"use strict";var r=n(18),i=n(132),o=(n(10),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:i.isValidElement(e)?"function"===typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";function r(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(18);n(10);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(648);e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(42),o=null;e.exports=r},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"===typeof e&&"undefined"!==typeof e.prototype&&"function"===typeof e.prototype.mountComponent&&"function"===typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||!1===e)n=u.create(o);else if("object"===typeof e){var s=e,l=s.type;if("function"!==typeof l&&"string"!==typeof l){var h="";h+=r(s._owner),a("130",null==l?l:typeof l,h)}"string"===typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"===typeof e||"number"===typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(18),s=n(11),l=n(1590),u=n(643),c=n(645),f=(n(1660),n(10),n(15),function(e){this.construct(e)});s(f.prototype,l,{_instantiateReactComponent:o}),e.exports=o},function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},function(e,t,n){"use strict";var r=n(42),i=n(241),o=n(242),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);o(e,i(t))})),e.exports=a},function(e,t,n){"use strict";function r(e,t){return e&&"object"===typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||"object"===h&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,p,m=0,v=""===t?c:t+f;if(Array.isArray(e))for(var g=0;g<e.length;g++)d=e[g],p=v+r(d,g),m+=i(d,p,n,o);else{var y=l(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var _=0;!(b=x.next()).done;)d=b.value,p=v+r(d,_++),m+=i(d,p,n,o);else for(;!(b=x.next()).done;){var w=b.value;w&&(d=w[1],p=v+u.escape(w[0])+f+r(d,0),m+=i(d,p,n,o))}}else if("object"===h){var M="",k=String(e);a("31","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,M)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(18),s=(n(82),n(1605)),l=n(1636),u=(n(10),n(362)),c=(n(15),"."),f=":";e.exports=o},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function i(e){var t=u(e);if(t){var n=t.childIDs;c(e),n.forEach(i)}}function o(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function a(e){return null==e?"#empty":"string"===typeof e||"number"===typeof e?"#text":"string"===typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=E.getDisplayName(e),r=E.getElement(e),i=E.getOwnerID(e);return i&&(t=E.getDisplayName(i)),o(n,r&&r._source,t)}var l,u,c,f,h,d,p,m=n(134),v=n(82),g=(n(10),n(15),"function"===typeof Array.from&&"function"===typeof Map&&r(Map)&&null!=Map.prototype&&"function"===typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"===typeof Set&&r(Set)&&null!=Set.prototype&&"function"===typeof Set.prototype.keys&&r(Set.prototype.keys));if(g){var y=new Map,b=new Set;l=function(e,t){y.set(e,t)},u=function(e){return y.get(e)},c=function(e){y.delete(e)},f=function(){return Array.from(y.keys())},h=function(e){b.add(e)},d=function(e){b.delete(e)},p=function(){return Array.from(b.keys())}}else{var x={},_={},w=function(e){return"."+e},M=function(e){return parseInt(e.substr(1),10)};l=function(e,t){var n=w(e);x[n]=t},u=function(e){var t=w(e);return x[t]},c=function(e){var t=w(e);delete x[t]},f=function(){return Object.keys(x).map(M)},h=function(e){var t=w(e);_[t]=!0},d=function(e){var t=w(e);delete _[t]},p=function(){return Object.keys(_).map(M)}}var k=[],E={onSetChildren:function(e,t){var n=u(e);n||m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=u(i);o||m("140"),null==o.childIDs&&"object"===typeof o.element&&null!=o.element&&m("141"),o.isMounted||m("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e&&m("142",i,o.parentID,e)}},onBeforeMountComponent:function(e,t,n){l(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=u(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=u(e);t||m("144"),t.isMounted=!0,0===t.parentID&&h(e)},onUpdateComponent:function(e){var t=u(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=u(e);if(t){t.isMounted=!1;0===t.parentID&&d(e)}k.push(e)},purgeUnmountedComponents:function(){if(!E._preventPurging){for(var e=0;e<k.length;e++){i(k[e])}k.length=0}},isMounted:function(e){var t=u(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=a(e),r=e._owner;t+=o(n,e._source,r&&r.getName())}var i=v.current,s=i&&i._debugID;return t+=E.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=E.getParentID(e);return t},getChildIDs:function(e){var t=u(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=E.getElement(e);return t?a(t):null},getElement:function(e){var t=u(e);return t?t.element:null},getOwnerID:function(e){var t=E.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=u(e);return t?t.parentID:null},getSource:function(e){var t=u(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=E.getElement(e);return"string"===typeof t?t:"number"===typeof t?""+t:null},getUpdateCount:function(e){var t=u(e);return t?t.updateCount:0},getRootIDs:p,getRegisteredIDs:f};e.exports=E},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(t,n(29))},function(e,t,n){"use strict";function r(e){for(var t="robustLinearSolve"+e+"d",n=["function ",t,"(A,b){return ["],r=0;r<e;++r){n.push("det([");for(var i=0;i<e;++i){i>0&&n.push(","),n.push("[");for(var o=0;o<e;++o)o>0&&n.push(","),o===r?n.push("+b[",i,"]"):n.push("+A[",i,"][",o,"]");n.push("]")}n.push("]),")}n.push("det(A)]}return ",t);var s=new Function("det",n.join(""));return s(e<6?a[e]:a)}function i(){return[0]}function o(e,t){return[[t[0]],[e[0][0]]]}var a=n(1669),s=6,l=[i,o];!function(){for(;l.length<s;)l.push(r(l.length));for(var t=[],n=["function dispatchLinearSolve(A,b){switch(A.length){"],i=0;i<s;++i)t.push("s"+i),n.push("case ",i,":return s",i,"(A,b);");n.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),t.push("CACHE","g",n.join(""));var o=Function.apply(void 0,t);e.exports=o.apply(void 0,l.concat([l,r]));for(var i=0;i<s;++i)e.exports[i]=l[i]}()},function(e,t,n){"use strict";function r(e,t){var n=e+t,r=n-e,i=n-r,o=t-r,a=e-i,s=a+o;return s?[s,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],-t[0]);var o,a,s=n+i,l=new Array(s),u=0,c=0,f=0,h=Math.abs,d=e[c],p=h(d),m=-t[f],v=h(m);p<v?(a=d,(c+=1)<n&&(d=e[c],p=h(d))):(a=m,(f+=1)<i&&(m=-t[f],v=h(m))),c<n&&p<v||f>=i?(o=d,(c+=1)<n&&(d=e[c],p=h(d))):(o=m,(f+=1)<i&&(m=-t[f],v=h(m)));for(var g,y,b,x,_,w=o+a,M=w-o,k=a-M,E=k,S=w;c<n&&f<i;)p<v?(o=d,(c+=1)<n&&(d=e[c],p=h(d))):(o=m,(f+=1)<i&&(m=-t[f],v=h(m))),a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g;for(;c<n;)o=d,a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g,(c+=1)<n&&(d=e[c]);for(;f<i;)o=m,a=E,w=o+a,M=w-o,k=a-M,k&&(l[u++]=k),g=S+w,y=g-S,b=g-y,x=w-y,_=S-b,E=_+x,S=g,(f+=1)<i&&(m=-t[f]);return E&&(l[u++]=E),S&&(l[u++]=S),u||(l[u++]=0),l.length=u,l}e.exports=i},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){function e(e,t,n){n=n||{},this.w=e||64,this.h=t||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(e){this.stats[e]=1+(0|this.stats[e])}}function t(e,t,n){this.x=0,this.y=e,this.w=this.free=t,this.h=n}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var n,r,i,o=[],a=0;a<e.length;a++)if(n=e[a].w||e[a].width,r=e[a].h||e[a].height,n&&r){if(!(i=this.packOne(n,r)))continue;t.inPlace&&(e[a].x=i.x,e[a].y=i.y),o.push(i)}if(this.shelves.length>0){for(var s=0,l=0,u=0;u<this.shelves.length;u++){var c=this.shelves[u];l+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,l)}return o},e.prototype.packOne=function(e,n){for(var r,i,o=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(r=this.shelves[s],o+=r.h,n===r.h&&e<=r.free)return this.count(n),r.alloc(e,n);n>r.h||e>r.free||n<r.h&&e<=r.free&&(i=r.h-n)<a.waste&&(a.waste=i,a.shelf=s)}if(-1!==a.shelf)return r=this.shelves[a.shelf],this.count(n),r.alloc(e,n);if(n<=this.h-o&&e<=this.w)return r=new t(o,this.w,n),this.shelves.push(r),this.count(n),r.alloc(e,n);if(this.autoResize){var l,u,c,f;return l=u=this.h,c=f=this.w,(c<=l||e>c)&&(f=2*Math.max(e,c)),(l<c||n>l)&&(u=2*Math.max(n,l)),this.resize(f,u),this.packOne(e,n)}return null},e.prototype.clear=function(){this.shelves=[],this.stats={}},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(e);return!0},t.prototype.alloc=function(e,t){if(e>this.free||t>this.h)return null;var n=this.x;return this.x+=e,this.free-=e,{x:n,y:this.y,w:e,h:t,width:e,height:t}},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e})},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){for(var l=n,u=n;u<r;++u){var c=e[2*u],f=e[2*u+1],h=t[u];i<=c&&c<=a&&o<=f&&f<=s&&(u===l?l+=1:(e[2*u]=e[2*l],e[2*u+1]=e[2*l+1],t[u]=t[l],e[2*l]=c,e[2*l+1]=f,t[l]=h,l+=1))}return l}function i(e,t,n){this.pixelSize=e,this.offset=t,this.count=n}function o(e,t,n,o){function l(i,o,a,s,u,c){var f=.5*a,h=s+1,d=u-s;n[_]=d,x[_++]=c;for(var p=0;p<2;++p)for(var m=0;m<2;++m){var v=i+p*f,g=o+m*f,y=r(e,t,h,u,v,g,v+f,g+f);if(y!==h){if(y-h>=Math.max(.9*d,32)){var b=u+s>>>1;l(v,g,f,h,b,c+1),h=b}l(v,g,f,h,y,c+1),h=y}}}var u=e.length>>>1;if(u<1)return[];for(var c=1/0,f=1/0,h=-1/0,d=-1/0,p=0;p<u;++p){var m=e[2*p],v=e[2*p+1];c=Math.min(c,m),h=Math.max(h,m),f=Math.min(f,v),d=Math.max(d,v),t[p]=p}c===h&&(h+=1+Math.abs(h)),f===d&&(d+=1+Math.abs(h));var g=1/(h-c),y=1/(d-f),b=Math.max(h-c,d-f);o=o||[0,0,0,0],o[0]=c,o[1]=f,o[2]=h,o[3]=d;var x=a.mallocInt32(u),_=0;l(c,f,b,0,u,0),s(x,e,t,n,u);for(var w=[],M=0,k=u,_=u-1;_>=0;--_){e[2*_]=(e[2*_]-c)*g,e[2*_+1]=(e[2*_+1]-f)*y;var E=x[_];E!==M&&(w.push(new i(b*Math.pow(.5,E),_+1,k-(_+1))),k=_+1,M=E)}return w.push(new i(b*Math.pow(.5,E+1),0,k)),a.free(x),w}var a=n(23),s=n(1684);e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=u(l(e,t),[t[t.length-1]]);return n[n.length-1]}function i(e,t,n,r){var i=r-t,o=-t/i;o<0?o=0:o>1&&(o=1);for(var a=1-o,s=e.length,l=new Array(s),u=0;u<s;++u)l[u]=o*e[u]+a*n[u];return l}function o(e,t){for(var n=[],o=[],a=r(e[e.length-1],t),s=e[e.length-1],l=e[0],u=0;u<e.length;++u,s=l){l=e[u];var c=r(l,t);if(a<0&&c>0||a>0&&c<0){var f=i(s,c,l,a);n.push(f),o.push(f.slice())}c<0?o.push(l.slice()):c>0?n.push(l.slice()):(n.push(l.slice()),o.push(l.slice())),a=c}return{positive:n,negative:o}}function a(e,t){for(var n=[],o=r(e[e.length-1],t),a=e[e.length-1],s=e[0],l=0;l<e.length;++l,a=s){s=e[l];var u=r(s,t);(o<0&&u>0||o>0&&u<0)&&n.push(i(a,u,s,o)),u>=0&&n.push(s.slice()),o=u}return n}function s(e,t){for(var n=[],o=r(e[e.length-1],t),a=e[e.length-1],s=e[0],l=0;l<e.length;++l,a=s){s=e[l];var u=r(s,t);(o<0&&u>0||o>0&&u<0)&&n.push(i(a,u,s,o)),u<=0&&n.push(s.slice()),o=u}return n}var l=n(1670),u=n(93);e.exports=o,e.exports.positive=a,e.exports.negative=s},function(e,t,n){"use strict";function r(e,t){var n=e.length,r=["'use strict';"],i="surfaceNets"+e.join("_")+"d"+t;r.push("var contour=genContour({","order:[",e.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===t&&r.push("getters:[0],");for(var o=[],l=[],u=0;u<n;++u)o.push("d"+u),l.push("d"+u);for(var u=0;u<1<<n;++u)o.push("v"+u),l.push("v"+u);for(var u=0;u<1<<n;++u)o.push("p"+u),l.push("p"+u);o.push("a","b","c"),l.push("a","c"),r.push("vertex:function vertexFunc(",o.join(),"){");for(var c=[],u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");r.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var f=[],h=[];1<<(1<<n)<=128?(r.push("switch(m){"),h=r):r.push("switch(m>>>7){");for(var u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128===0){f.length>0&&h.push("}}");var d="vExtra"+f.length;r.push("case ",u>>>7,":",d,"(m&0x7f,",l.join(),");break;"),h=["function ",d,"(m,",l.join(),"){switch(m){"],f.push(h)}h.push("case ",127&u,":");for(var p=new Array(n),m=new Array(n),v=new Array(n),g=new Array(n),y=0,b=0;b<n;++b)p[b]=[],m[b]=[],v[b]=0,g[b]=0;for(var b=0;b<1<<n;++b)for(var x=0;x<n;++x){var _=b^1<<x;if(!(_>b)&&!(u&1<<_)!==!(u&1<<b)){var w=1;u&1<<_?m[x].push("v"+_+"-v"+b):(m[x].push("v"+b+"-v"+_),w=-w),w<0?(p[x].push("-v"+b+"-v"+_),v[x]+=2):(p[x].push("v"+b+"+v"+_),v[x]-=2),y+=1;for(var M=0;M<n;++M)M!==x&&(_&1<<M?g[M]+=1:g[M]-=1)}}for(var k=[],x=0;x<n;++x)if(0===p[x].length)k.push("d"+x+"-0.5");else{var E="";v[x]<0?E=v[x]+"*c":v[x]>0&&(E="+"+v[x]+"*c");var S=p[x].length/y*.5,T=.5+g[x]/y*.5;k.push("d"+x+"-"+T+"-"+S+"*("+p[x].join("+")+E+")/("+m[x].join("+")+")")}h.push("a.push([",k.join(),"]);","break;")}r.push("}},"),f.length>0&&h.push("}}");for(var A=[],u=0;u<1<<n-1;++u)A.push("v"+u);A.push("c0","c1","p0","p1","a","b","c"),r.push("cell:function cellFunc(",A.join(),"){");var C=s(n-1);r.push("if(p0){b.push(",C.map(function(e){return"["+e.map(function(e){return"v"+e})+"]"}).join(),")}else{b.push(",C.map(function(e){var t=e.slice();return t.reverse(),"["+t.map(function(e){return"v"+e})+"]"}).join(),")}}});function ",i,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",i,";");for(var u=0;u<f.length;++u)r.push(f[u].join(""));return new Function("genContour",r.join(""))(a)}function i(e,t){for(var n=l(e,t),r=n.length,i=new Array(r),o=new Array(r),a=0;a<r;++a)i[a]=[n[a]],o[a]=[a];return{positions:i,cells:o}}function o(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(1===e.dimension)return i(e,t);var n=e.order.join()+"-"+e.dtype,o=u[n],t=+t||0;return o||(o=u[n]=r(e.order,e.dtype)),o(e,t)}e.exports=o;var a=n(1262),s=n(1698),l=n(1728),u={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(669);n.d(t,"bbox",function(){return r.a});var i=n(376);n.d(t,"feature",function(){return i.a});var o=n(1693);n.d(t,"mesh",function(){return o.a}),n.d(t,"meshArcs",function(){return o.b});var a=n(1692);n.d(t,"merge",function(){return a.a}),n.d(t,"mergeArcs",function(){return a.b});var s=n(1694);n.d(t,"neighbors",function(){return s.a});var l=n(1695);n.d(t,"quantize",function(){return l.a});var u=n(377);n.d(t,"transform",function(){return u.a});var c=n(1697);n.d(t,"untransform",function(){return c.a})},function(e,t,n){"use strict";var r=n(377);t.a=function(e){function t(e){u[0]=e[0],u[1]=e[1],l(u),u[0]<c&&(c=u[0]),u[0]>h&&(h=u[0]),u[1]<f&&(f=u[1]),u[1]>d&&(d=u[1])}function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var o=e.bbox;if(!o){var a,s,l=n.i(r.a)(e),u=new Array(2),c=1/0,f=c,h=-c,d=-c;e.arcs.forEach(function(e){for(var t=-1,n=e.length;++t<n;)a=e[t],u[0]=a[0],u[1]=a[1],l(u,t),u[0]<c&&(c=u[0]),u[0]>h&&(h=u[0]),u[1]<f&&(f=u[1]),u[1]>d&&(d=u[1])});for(s in e.objects)i(e.objects[s]);o=e.bbox=[c,f,h,d]}return o}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),s.push(r)}}var i={},o={},a={},s=[],l=-1;return t.forEach(function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++l],t[l]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),s=i[0],l=i[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=l,r=o[l]){delete o[r.start];var u=r===t?t:t.concat(r);o[u.start=t.start]=a[u.end=r.end]=u}else o[t.start]=a[t.end]=t;else if(t=o[l])if(delete o[t.start],t.unshift(e),t.start=s,r=a[s]){delete a[r.end];var c=r===t?t:r.concat(t);o[c.start=r.start]=a[c.end=t.end]=c}else o[t.start]=a[t.end]=t;else t=[e],o[t.start=s]=a[t.end=l]=t}),r(a,o),r(o,a),t.forEach(function(e){i[e<0?~e:e]||s.push([e])}),s}},function(e,t,n){"use strict";function r(e,t,n){var r=e+t,i=r-e,o=r-i,a=t-i,s=e-o;return n?(n[0]=s+a,n[1]=r,n):[s+a,r]}e.exports=r},function(e,t,n){"use strict";"use restrict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}e.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},i.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},i.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function a(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=s(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function s(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var l=n(22);e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(!i){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new l(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(!r){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/l;e[t]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,n),u=this.extent*e,c=this.extent*t,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var d=[];for(o=0;o<f.length;o++)d[o]=f[o][0];f=d,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var p={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(p.id=this.id),p}},function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var a=n(674);e.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,n){var r=n(957);e.exports=function(e){return r("webgl",e)}},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.createClass({displayName:"PercentPieChart",getData:function(){var e=this.props.percentages,t=this.props.colors;e||(e=[]);var n={};return n.datasets=[],e.length>0&&(n.datasets=[{data:e,backgroundColor:t,borderWidth:t.map(function(){return 2.5})}]),n},render:function(){return i.default.createElement("div",{style:{width:this.props.width,height:this.props.height}},i.default.createElement("canvas",{ref:"chartCanvas",width:this.props.width,height:this.props.height}))}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(13),o=r(i),a=n(178),s=r(a),l=n(637),u=o.default.createClass({displayName:"Popover",mixins:[l],componentDidMount:function(){var e=this;this.props.hoverAndClick?$(s.default.findDOMNode(this)).popover({trigger:"manual",html:"true",content:function(){return $(s.default.findDOMNode(e.hidden)).html()},container:"body"}).on("mouseenter",function(){var e=this;$(this).popover("show"),$(".popover").on("mouseleave",function(){$(e).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||$(e).popover("hide")},300)}):$(s.default.findDOMNode(this)).popover({trigger:this.props.trigger||"hover",html:"true",content:function(){return $(s.default.findDOMNode(e.hidden)).html()},container:"body"})},render:function(){var e=this,t=this.props.position||"top";return o.default.createElement("a",{href:"#!",onClick:function(e){return e.preventDefault()},className:"popover-container","data-original-title":this.props.title,title:this.props.popoverTitle,"data-placement":t,style:this.props.style},this.props.children,o.default.createElement("div",{ref:function(t){e.hidden=t},style:{display:"none"}},o.default.createElement("div",{style:{color:"black"}},this.props.content)))}});e.exports=u},function(e,t,n){"use strict";var r=n(13),i=r.createClass({displayName:"Tag",render:function(){var e="";return this.props.handleClose&&(e=r.createElement(o,{handleClose:this.props.handleClose})),r.createElement("span",{className:"tag label "+(this.props.labelType?" label-"+this.props.labelType:" label-default")},r.createElement("span",{className:"tag-inner"+(this.props.clickHandler?" clickable":""),onClick:this.props.clickHandler},this.props.iconName?r.createElement("i",{className:"fa fa-"+this.props.iconName}):null,this.props.name),e)}}),o=r.createClass({displayName:"CloseButton",render:function(){return r.createElement("a",{onClick:this.props.handleClose,className:"tag-close"},r.createElement("i",{className:"fa fa-times"}))}});e.exports=i},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(764).enable(),window.Promise=n(763)),n(880),Object.assign=n(20)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n.n(r),o=n(187),a=n.n(o),s=n(704),l=(n.n(s),n(699));a.a.render(i.a.createElement(l.a,null),document.getElementById("root"))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(701),u=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getButtonClass=n.getButtonClass.bind(n),n.state={buttonState:"empty"},n}return o(t,e),u(t,[{key:"setButtonState",value:function(e){this.setState({buttonState:e.target.value})}},{key:"getButtonClass",value:function(){var e="";switch(this.state.buttonState){case"empty":e="btn-default";break;case"saveable":case"saving":e="btn-primary";break;case"success":e="btn-success";break;case"error":e="btn-trans btn-danger";break;default:e="btn-default"}return e}},{key:"checkDisabled",value:function(){var e=this.state.buttonState;return"empty"===e||"error"===e||"saving"===e}},{key:"getIcon",value:function(){var e=this.state.buttonState;return"saving"===e?"fa-circle-o-notch fa-spin":"success"===e?"fa-check":void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"block-flat"},s.a.createElement("div",{className:"content"},s.a.createElement("select",{className:"form-control",onChange:function(t){return e.setButtonState(t)}},s.a.createElement("option",{value:"empty"},"Empty"),s.a.createElement("option",{value:"saveable"},"Saveable"),s.a.createElement("option",{value:"saving"},"Saving"),s.a.createElement("option",{value:"success"},"Success"),s.a.createElement("option",{value:"error"},"Error")),"error"===this.state.buttonState?s.a.createElement("p",{className:"error"},"This is what an error message should look like."):null,s.a.createElement("div",{style:{marginTop:20}},s.a.createElement("a",{href:"#no-changes",className:"btn "+this.getButtonClass(),disabled:this.checkDisabled()},s.a.createElement(f,{icon:this.getIcon()}),this.state.buttonState)))))}}]),t}(a.Component);t.a=c;var f=function(e){var t=e.icon;return s.a.createElement("span",null,t?s.a.createElement("i",{className:"fa "+t,style:{marginRight:5}}):null)}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(105),a=n(692),s=n(137),l=n(106);n.n(l);t.a=function(){return i.a.createElement("div",{className:"wrapper"},i.a.createElement(o.a,{activeName:"browse"}),i.a.createElement(a.a,{events:s.a,urlPrefix:"/events/",isAdmin:!0}))}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(105),a=n(111),s=n.n(a),l=n(401),u=n.n(l),c=n(106);n.n(c);t.a=function(){return i.a.createElement("div",{className:"wrapper wrapper--narrow"},i.a.createElement(o.a,null),i.a.createElement("div",{className:"block-flat"},i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-calendar circle-icon pulse-blue"})," ",i.a.createElement("strong",null," Details")),i.a.createElement("form",null,i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Event Name"),i.a.createElement("input",{className:"form-control",placeholder:"Event Name"})),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Description"),i.a.createElement("textarea",{className:"form-control",placeholder:"Event Description"})),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Leaders"),i.a.createElement("input",{className:"form-control",placeholder:"Event Leaders"})),i.a.createElement("hr",null),i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-map-marker circle-icon purple"})," ",i.a.createElement("strong",null," Time & Location")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Date"),i.a.createElement(u.a,{selected:s()(),onChange:function(){console.log("I changed")},className:"form-control"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",null,"Start Time"),i.a.createElement("input",{className:"form-control",placeholder:"Start Time"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",null,"End Time"),i.a.createElement("input",{className:"form-control",placeholder:"End Time"})))),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Location"),i.a.createElement("input",{className:"form-control",placeholder:"Event Location"})),i.a.createElement("hr",null),i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-info circle-icon red"})," ",i.a.createElement("strong",null,"Meta Data")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("span",null,"LIST TABLE")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("span",null,"LIST TABLE")),i.a.createElement("fieldset",{className:"text-center form-group"},i.a.createElement("a",{href:"#submitted",className:"btn btn-success"},i.a.createElement("i",{className:"fa fa-check"})," Save and Publish Event"),i.a.createElement("a",{href:"#invited",className:"btn btn-primary"},i.a.createElement("i",{className:"fa fa-envelope"})," Invite People")))))}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(105),a=n(111),s=n.n(a),l=n(401),u=n.n(l),c=n(106);n.n(c);t.a=function(){return i.a.createElement("div",{className:"wrapper wrapper--narrow"},i.a.createElement(o.a,null),i.a.createElement("div",{className:"block-flat"},i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-calendar circle-icon pulse-blue"})," ",i.a.createElement("strong",null," Details")),i.a.createElement("form",null,i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Event Name"),i.a.createElement("input",{className:"form-control",value:"Blended Learning Workshop"})),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Description"),i.a.createElement("textarea",{className:"form-control",placeholder:"Event Description"},"A giddy ATM's sheet comes with it the thought that the mislaid queen is a tray. Unfortunately, that is wrong; on the contrary, a dropping collision is a pantry of the mind. Waxes are enthralled cars. The scooters could be said to resemble cleanly scenes.")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Leaders"),i.a.createElement("input",{className:"form-control",value:"Bella Smith"})),i.a.createElement("hr",null),i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-map-marker circle-icon purple"})," ",i.a.createElement("strong",null," Time & Location")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Date"),i.a.createElement(u.a,{selected:s()(),onChange:function(){console.log("I changed")},className:"form-control"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",null,"Start Time"),i.a.createElement("input",{className:"form-control",value:"2:30 PM"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",null,"End Time"),i.a.createElement("input",{className:"form-control",value:"4:00 PM"})))),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("label",null,"Location"),i.a.createElement("input",{className:"form-control",value:"East High School Auditorium"})),i.a.createElement("hr",null),i.a.createElement("h3",null,i.a.createElement("i",{className:"fa fa-info circle-icon red"})," ",i.a.createElement("strong",null,"Meta Data")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("span",null,"LIST TABLE")),i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("span",null,"LIST TABLE")),i.a.createElement("fieldset",{className:"text-center form-group"},i.a.createElement("a",{href:"#submitted",className:"btn btn-success"},i.a.createElement("i",{className:"fa fa-check"})," Save and Publish Event"),i.a.createElement("a",{href:"#invited",className:"btn btn-primary"},i.a.createElement("i",{className:"fa fa-envelope"})," Invite People")))))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(110),u=n.n(l),c=n(105),f=n(184),h=n(137),d=n(106),p=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getEvent=n.getEvent.bind(n),n}return o(t,e),p(t,[{key:"getEvent",value:function(){var e=this;return u.a.find(h.a,function(t){return t.id===Number(e.props.match.params.id)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(c.a,{activeName:"browse"}),s.a.createElement(f.a,{sampleEvent:this.getEvent(),showAction:!0,isAttending:!1,actionLink:"/events/edit",actionTitle:"Sign Up",isAdmin:!0}))}}]),t}(a.Component);t.a=m},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(105),a=n(690),s=n(689),l=n(137),u=n(106);n.n(u);t.a=function(){return i.a.createElement("div",{className:"wrapper"},i.a.createElement(o.a,{activeName:"manage"}),i.a.createElement("div",{className:"row",style:{marginTop:0}},i.a.createElement("div",{className:"col-md-12",style:{marginBottom:20}},i.a.createElement("h5",{className:"event-list-title",style:{background:"#007DA0"}},i.a.createElement("i",{className:"fa fa-calendar-check-o circle-icon--medium pulse-blue"})," ",i.a.createElement("strong",null,"Approve Submitted Events")),i.a.createElement(s.a,{events:l.a})),i.a.createElement("div",{className:"col-md-12"},i.a.createElement("h5",{className:"event-list-title",style:{background:"#8B698E"}},i.a.createElement("i",{className:"fa fa-check circle-icon--medium purple color-text"})," ",i.a.createElement("strong",null,"Attendance Log")),i.a.createElement(a.a,{events:l.a}))))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(105),u=n(693),c=n(691),f=n(137),h=n(106),d=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(l.a,{activeName:"home"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h5",{className:"event-list-title",style:{background:"#007DA0"}},s.a.createElement("i",{className:"fa fa-calendar circle-icon--medium pulse-blue color-text"})," ",s.a.createElement("strong",null,"Welcome!")),s.a.createElement("div",{className:"block-flat"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(c.a,{events:f.a}))))),s.a.createElement("div",{className:"row",style:{marginTop:0}},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("h5",{className:"event-list-title",style:{background:"rgb(31, 175, 132)"}},s.a.createElement("i",{className:"fa fa-calendar-check-o circle-icon--medium green color-text"})," ",s.a.createElement("strong",null,"Upcoming Events")),s.a.createElement(u.a,{index:4,events:f.a,url:"",linkText:"Browse All Upcoming Events"})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("h5",{className:"event-list-title",style:{background:"#8B698E"}},s.a.createElement("i",{className:"fa fa-check circle-icon--medium purple color-text"})," ",s.a.createElement("strong",null,"Recent Events")),s.a.createElement(u.a,{index:1,events:f.a.slice(0,2),url:"",linkText:"Browse All Recent Events"}))))))}}]),t}(a.Component);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(695),s=n(111),l=n.n(s),u=n(7),c=n.n(u),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("thead",{className:"no-border"},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement("strong",null,"Date Submitted")),c.a.createElement("th",null,c.a.createElement("strong",null,"Submitted By")),c.a.createElement("th",null,c.a.createElement("strong",null,"Event Title")),c.a.createElement("th",{className:"text-center"},c.a.createElement("strong",null,"Action")))),c.a.createElement("tbody",{className:"no-border-y"},a.a.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,l()(e.date).format("MMMM Do, YYYY")),c.a.createElement("td",null,e.attendees[0].name),c.a.createElement("td",null,e.name),c.a.createElement("td",{className:"text-center"},c.a.createElement("a",{className:"btn btn-trans btn-primary btn-sm"},c.a.createElement("i",{className:"fa fa-info"})," See Details"),c.a.createElement("a",{className:"btn btn-trans btn-success btn-sm"},c.a.createElement("i",{className:"fa fa-check"})," Approve")))}))))}}]),t}(u.Component);t.a=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return h.a.chain(e).flatMap("attendees").uniqBy("name").value()}var l=n(7),u=n.n(l),c=n(752),f=(n.n(c),n(110)),h=n.n(f),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setWidth=n.setWidth.bind(n),n.setHeight=n.setHeight.bind(n),n.setHeightAndWidth=n.setHeightAndWidth.bind(n),n.state={width:0,height:0},n}return a(t,e),d(t,[{key:"componentDidMount",value:function(){this.setHeightAndWidth(),window.addEventListener("resize",this.setHeightAndWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setHeightAndWidth)}},{key:"setHeightAndWidth",value:function(){this.setWidth(),this.setHeight()}},{key:"setWidth",value:function(){this.setState({width:this.wrapper.offsetWidth})}},{key:"setHeight",value:function(){var e=55*s(this.props.events).length+57,t=.9*window.innerHeight;this.setState({height:e<t?e:t})}},{key:"render",value:function(){var e=this,t=this.props.events,n=s(t);return u.a.createElement("div",{ref:function(t){e.wrapper=t}},u.a.createElement(c.Table,{rowHeight:55,rowsCount:n.length,headerHeight:55,width:this.state.width,height:this.state.height},u.a.createElement(c.Column,{flexGrow:4,header:u.a.createElement(c.Cell,null,"Name"),allowCellsRecycling:!0,cell:function(e){var t=e.rowIndex,i=r(e,["rowIndex"]);return u.a.createElement(c.Cell,i,u.a.createElement("strong",null,n[t].name))},width:150}),u.a.createElement(c.Column,{flexGrow:4,header:u.a.createElement(c.Cell,null,"School"),allowCellsRecycling:!0,cell:function(e){var t=(e.rowIndex,r(e,["rowIndex"]));return u.a.createElement(c.Cell,t,u.a.createElement("strong",null,"East High School"))},width:150}),u.a.createElement(c.Column,{flexGrow:4,header:u.a.createElement(c.Cell,null,"Grade"),allowCellsRecycling:!0,cell:function(e){var t=(e.rowIndex,r(e,["rowIndex"]));return u.a.createElement(c.Cell,t,u.a.createElement("strong",null,"12"))},width:150}),u.a.createElement(c.Column,{flexGrow:4,header:u.a.createElement(c.Cell,null,"Role"),allowCellsRecycling:!0,cell:function(e){var t=(e.rowIndex,r(e,["rowIndex"]));return u.a.createElement(c.Cell,t,u.a.createElement("strong",null,"English Teacher"))},width:150}),u.a.createElement(c.Column,{header:u.a.createElement(c.Cell,null,"In Organization"),allowCellsRecycling:!0,cell:function(e){var t=e.rowIndex,i=r(e,["rowIndex"]);return u.a.createElement(c.Cell,i,u.a.createElement("div",{className:"text-center"},u.a.createElement("strong",null,n[t].name.length)))},width:100}),u.a.createElement(c.Column,{header:u.a.createElement(c.Cell,null,"Out of Organization"),allowCellsRecycling:!0,cell:function(e){var t=e.rowIndex,i=r(e,["rowIndex"]);return u.a.createElement(c.Cell,i,u.a.createElement("div",{className:"text-center"},u.a.createElement("strong",null,n[t].name.length+10)))},width:100}),u.a.createElement(c.Column,{header:u.a.createElement(c.Cell,null,"Total Hours"),allowCellsRecycling:!0,cell:function(e){var t=e.rowIndex,i=r(e,["rowIndex"]);return u.a.createElement(c.Cell,i,u.a.createElement("div",{className:"text-center"},u.a.createElement("strong",null,n[t].name.length+n[t].name.length+10)))},width:100})))}}]),t}(l.Component);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(110),u=n.n(l),c=n(402),f=(n.n(c),n(381)),h=(n.n(f),n(184)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e,t){return u.a.filter(t,function(t){return!(!new Date(e)||!c.DateUtils.isSameDay(new Date(e),new Date(t.date)))||new RegExp(e,"ig").test(JSON.stringify(t))})},m=function(e){return u.a.includes(u.a.map(e.attendees,"id",1))},v=function(e){return s.a.createElement(h.b,{sampleEvent:e,isAttending:m(e),showAction:!1,eventLink:"/events/event.html#"+e.id})},g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(f.Search,{filterMethod:p,items:this.props.events,renderResultMethod:v,placeholder:"Search for any event"}))}}]),t}(a.Component);t.a=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(110),u=n.n(l),c=n(111),f=n.n(c),h=n(402),d=n.n(h),p=n(184),m=n(381),v=(n.n(m),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSearch=n.onSearch.bind(n),n.filterEvent=n.filterEvent.bind(n),n.onDayClick=n.onDayClick.bind(n),n.state={searchQuery:"",selectedDay:null},n}return o(t,e),g(t,[{key:"onDayClick",value:function(e,t){var n=t.selected;this.setState({selectedDay:n?void 0:e})}},{key:"onSearch",value:function(e){var t=e.target.value;this.setState({searchQuery:t})}},{key:"getEventsByDate",value:function(e){var t=this;return u()(e).filter(function(e){return t.filterEvent(e)}).groupBy("date").toPairs().value()}},{key:"filterEvent",value:function(e){return!(this.state.selectedDay&&!h.DateUtils.isSameDay(this.state.selectedDay,new Date(e.date)))&&(!this.state.searchQuery||new RegExp(this.state.searchQuery,"ig").test(JSON.stringify(e)))}},{key:"render",value:function(){var e=this.getEventsByDate(this.props.events),t=this.props.colors||n.i(m.colors)(5),r=this.props.urlPrefix||"/events/",i=this.props.isAdmin;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h5",{className:"event-list-title",style:{background:"#1FAF84"}},s.a.createElement("i",{className:"fa fa-calendar circle-icon--medium green"})," ",s.a.createElement("strong",null,"Search Events")),s.a.createElement("div",{className:"block-flat"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"row",style:{marginTop:0}},s.a.createElement("div",{className:"col-md-10"},s.a.createElement(m.SearchWithFilters,{onChange:this.onSearch})),s.a.createElement("div",{className:"col-md-2"},s.a.createElement("div",{className:"text-center"},s.a.createElement("a",{className:"btn btn-default btn-block","data-toggle":"collapse","data-target":"#filtersDropdown"},"Advanced ",s.a.createElement("i",{className:"fa fa-caret-down"})))),s.a.createElement("div",{className:"col-md-12",style:{position:"relative",marginTop:10}},s.a.createElement("div",{className:"collapse",style:{position:"relative"},id:"filtersDropdown"},s.a.createElement("div",{className:"col-md-8"},"Filters"),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(d.a,{onDayClick:this.onDayClick,selectedDays:[this.state.selectedDay]})))))))),s.a.createElement("div",{className:"col-md-12"},u.a.map(e,function(e,n){var o=v(e,2),a=o[0],l=o[1];return s.a.createElement(x,{isAdmin:i,key:n,date:a,events:l,color:t[n%5],urlPrefix:r})})))}}]),t}(a.Component),b=function(e){return 1===e},x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.events,r=e.color,i=e.urlPrefix,o=e.isAdmin;return s.a.createElement("div",null,s.a.createElement("p",{style:{marginTop:20,marginBottom:0,borderBottom:"3px solid "+r,paddingBottom:5}},s.a.createElement("strong",null,f()(t).format("dddd MMMM Do, YYYY"))),n.map(function(e){return s.a.createElement(p.a,{isList:!0,isAdmin:o,showAction:!0,sampleEvent:e,actionLink:i+"event.html#"+e.id,actionTitle:"See Details",eventLink:i+"event.html#"+e.id,isAttending:b(e.id)})}))}}]),t}(a.Component);t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(110),u=n.n(l),c=n(137),f=n(184),h=n(381),d=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"isAttending",value:function(e){return!!this.props.teacher&&u.a.includes(u.a.map(e,"id"),this.props.teacher.id)}},{key:"render",value:function(){var e=this,t=n.i(h.colors)(5)[this.props.index||0],r=this.props.events||c.a;return s.a.createElement("div",null,s.a.createElement("div",{style:{borderBottom:"3px solid "+t}},r.map(function(t){return s.a.createElement(f.b,{sampleEvent:t,isAttending:e.isAttending(t.attendees),showAction:e.props.showAction||!1,actionLink:"#register",actionTitle:"Sign Up",eventLink:"/events/teacher/event.html#"+t.id})})),s.a.createElement("a",{className:"btn btn-block btn-default",href:this.props.url,style:{marginTop:10,marginLeft:0}},this.props.linkText))}}]),t}(a.Component);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(193),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkActive=n.checkActive.bind(n),n}return o(t,e),u(t,[{key:"checkActive",value:function(e){if(e===this.props.activeName)return"active"}},{key:"render",value:function(){return s.a.createElement("ul",{className:"nav nav-links transparent",style:{marginTop:20,paddingLeft:0}},s.a.createElement("li",{className:this.checkActive("home")},s.a.createElement(l.c,{to:"/events/admin/",className:"nav-link"},s.a.createElement("span",null,"Home"))),s.a.createElement("li",{className:this.checkActive("browse")},s.a.createElement(l.c,{to:"/events/admin/browse-upcoming/",className:"nav-link"},s.a.createElement("span",null,"Browse Events"))),s.a.createElement("li",{className:this.checkActive("manage")},s.a.createElement(l.c,{to:"/events/admin/manage/",className:"nav-link"},s.a.createElement("span",null,"Manage"))),s.a.createElement(l.c,{to:"/events/admin/create",className:"btn btn-primary"},"Add Event"))}}]),t}(a.Component);t.a=c},function(e,t,n){"use strict";var r=[{id:11,name:"Blended Learning Technical Audit Workshop",date:"2017-05-06T14:30:00",startTime:"2:30 PM",endTime:"4:00 PM",hours:1.5,location:"Stockton University",leaders:"NJEA",description:"A giddy ATM's sheet comes with it the thought that the mislaid queen is a tray. Unfortunately, that is wrong; on the contrary, a dropping collision is a pantry of the mind. Waxes are enthralled cars. The scooters could be said to resemble cleanly scenes.",meta:[{type:"category",name:"Workshop"}],attendees:[{id:1,name:"Joel Smith",confirmed:!1}],approved:!1},{id:12,name:"Blended Learning United Front Workshop",date:"2017-05-12T13:30:00",startTime:"1:30 PM",endTime:"2:00 PM",hours:.5,location:"Camden County Community College",leaders:"Inspire Educational Consultancy, LLC",description:"In recent years, the beans could be said to resemble carefree antelopes. The first dollish smash is, in its own way, a puppy. The lyric is a lip. A karate is a book's meter.",meta:[{type:"category",name:"Workshop"}],attendees:[{id:3,name:"Bella Smith",confirmed:!0}],approved:!0}];t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"text-center"},"Homesian.")}}]),t}(a.Component);t.a=u},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(702);n.n(o);t.a=function(){return i.a.createElement("div",{className:"report-builder"},i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",null,i.a.createElement("div",{className:"circle-icon yellow",style:{display:"inline-block",fontSize:22,fontWeight:700}},"4"),i.a.createElement("h3",{className:"report-builder-section-title",style:{display:"inline-block",marginLeft:10,fontWeight:700}},"Configure Report Content")),i.a.createElement("div",{className:"section-builder"},i.a.createElement("div",{className:"section-builder-editor"},i.a.createElement("span",{className:"section-builder-editor-initial-content"},"Drag and drop a new section to get started.")),i.a.createElement("div",{className:"section-builder-toolbar"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon section"}),i.a.createElement("span",{className:"section-builder-new-title"},"New Section")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"meta text-center"},"Available Widgets"),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon successes-and-needs"}),i.a.createElement("span",{className:"section-builder-new-title"},"Successes and Needs")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon possible-leaders"}),i.a.createElement("span",{className:"section-builder-new-title"},"Possible Leaders")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon heatmap"}),i.a.createElement("span",{className:"section-builder-new-title"},"Heatmap")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon comparison-chart"}),i.a.createElement("span",{className:"section-builder-new-title"},"Comparison Chart")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon interests"}),i.a.createElement("span",{className:"section-builder-new-title"},"Interests")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon open-responses"}),i.a.createElement("span",{className:"section-builder-new-title"},"Open Responses")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon multiple-choice"}),i.a.createElement("span",{className:"section-builder-new-title"},"Multiple Choice")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon all-table"}),i.a.createElement("span",{className:"section-builder-new-title"},"All Table"))))),i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",null,i.a.createElement("div",{className:"circle-icon yellow",style:{display:"inline-block",fontSize:22,fontWeight:700}},"4"),i.a.createElement("h3",{className:"report-builder-section-title",style:{display:"inline-block",marginLeft:10,fontWeight:700}},"Configure Report Content")),i.a.createElement("div",{className:"section-builder"},i.a.createElement("div",{className:"section-builder-editor"},i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",{className:"input-group"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control"})),i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-widget-area-drop-zone"},i.a.createElement("span",{className:"section-builder-editor-initial-content"},"Drag and drop a widget to get started."))))),i.a.createElement("div",{className:"section-builder-toolbar"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon section"}),i.a.createElement("span",{className:"section-builder-new-title"},"New Section")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"meta text-center"},"Available Widgets"),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon successes-and-needs"}),i.a.createElement("span",{className:"section-builder-new-title"},"Successes and Needs")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon possible-leaders"}),i.a.createElement("span",{className:"section-builder-new-title"},"Possible Leaders")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon heatmap"}),i.a.createElement("span",{className:"section-builder-new-title"},"Heatmap")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon comparison-chart"}),i.a.createElement("span",{className:"section-builder-new-title"},"Comparison Chart")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon interests"}),i.a.createElement("span",{className:"section-builder-new-title"},"Interests")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon open-responses"}),i.a.createElement("span",{className:"section-builder-new-title"},"Open Responses")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon multiple-choice"}),i.a.createElement("span",{className:"section-builder-new-title"},"Multiple Choice")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon all-table"}),i.a.createElement("span",{className:"section-builder-new-title"},"All Table"))))),i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",null,i.a.createElement("div",{className:"circle-icon yellow",style:{display:"inline-block",fontSize:22,fontWeight:700}},"4"),i.a.createElement("h3",{className:"report-builder-section-title",style:{display:"inline-block",marginLeft:10,fontWeight:700}},"Configure Report Content")),i.a.createElement("div",{className:"section-builder"},i.a.createElement("div",{className:"section-builder-editor"},i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",{className:"input-group"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:"I'm populated."})),i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap")))))),i.a.createElement("div",{className:"section-builder-toolbar"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon section"}),i.a.createElement("span",{className:"section-builder-new-title"},"New Section")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"meta text-center"},"Available Widgets"),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon successes-and-needs"}),i.a.createElement("span",{className:"section-builder-new-title"},"Successes and Needs")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon possible-leaders"}),i.a.createElement("span",{className:"section-builder-new-title"},"Possible Leaders")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon heatmap"}),i.a.createElement("span",{className:"section-builder-new-title"},"Heatmap")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon comparison-chart"}),i.a.createElement("span",{className:"section-builder-new-title"},"Comparison Chart")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon interests"}),i.a.createElement("span",{className:"section-builder-new-title"},"Interests")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon open-responses"}),i.a.createElement("span",{className:"section-builder-new-title"},"Open Responses")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon multiple-choice"}),i.a.createElement("span",{className:"section-builder-new-title"},"Multiple Choice")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon all-table"}),i.a.createElement("span",{className:"section-builder-new-title"},"All Table"))))),i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",null,i.a.createElement("div",{className:"circle-icon yellow",style:{display:"inline-block",fontWize:22,fontWeight:700}},"4"),i.a.createElement("h3",{className:"report-builder-section-title",style:{display:"inline-block",marginLeft:10,fontWeight:700}},"Configure Report Content")),i.a.createElement("div",{className:"section-builder"},i.a.createElement("div",{className:"section-builder-editor"},i.a.createElement("div",{className:"block-flat closed",draggable:"true"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"actions"},i.a.createElement("a",{href:"#sample",className:"minimize"},i.a.createElement("i",{className:"fa fa-chevron-down"})),i.a.createElement("a",{href:"#sample",className:"close-down"},i.a.createElement("i",{className:"fa fa-times"}))),i.a.createElement("div",{className:"input-group text-left"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:"I'm the first section."}))),i.a.createElement("div",{className:"content",style:{display:"none"}},i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap")))))),i.a.createElement("div",{className:"block-flat",draggable:"true"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"actions"},i.a.createElement("a",{href:"#sample",className:"minimize"},i.a.createElement("i",{className:"fa fa-chevron-down"})),i.a.createElement("a",{href:"#sample",className:"close-down"},i.a.createElement("i",{className:"fa fa-times"}))),i.a.createElement("div",{className:"input-group text-left"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:"I'm the second section."}))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))))))),i.a.createElement("div",{className:"section-builder-toolbar"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon section"}),i.a.createElement("span",{className:"section-builder-new-title"},"New Section")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"meta text-center"},"Available Widgets"),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon successes-and-needs"}),i.a.createElement("span",{className:"section-builder-new-title"},"Successes and Needs")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon possible-leaders"}),i.a.createElement("span",{className:"section-builder-new-title"},"Possible Leaders")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon heatmap"}),i.a.createElement("span",{className:"section-builder-new-title"},"Heatmap")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon comparison-chart"}),i.a.createElement("span",{className:"section-builder-new-title"},"Comparison Chart")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon interests"}),i.a.createElement("span",{className:"section-builder-new-title"},"Interests")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon open-responses"}),i.a.createElement("span",{className:"section-builder-new-title"},"Open Responses")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon multiple-choice"}),i.a.createElement("span",{className:"section-builder-new-title"},"Multiple Choice")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon all-table"}),i.a.createElement("span",{className:"section-builder-new-title"},"All Table"))))),i.a.createElement("div",{className:"block-flat"},i.a.createElement("div",null,i.a.createElement("div",{className:"circle-icon yellow",style:{display:"inline-block",fontSize:22,fontWeight:700}},"4"),i.a.createElement("h3",{className:"report-builder-section-title",style:{display:"inline-block",marginLeft:10,fontWeight:700}},"Configure Report Content")),i.a.createElement("div",{className:"section-builder"},i.a.createElement("div",{className:"section-builder-editor"},i.a.createElement("div",{className:"block-flat closed",draggable:"true"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"actions"},i.a.createElement("a",{href:"#sample",className:"minimize"},i.a.createElement("i",{className:"fa fa-chevron-down"})),i.a.createElement("a",{href:"#sample",className:"close-down"},i.a.createElement("i",{className:"fa fa-times"}))),i.a.createElement("div",{className:"input-group text-left"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:"I'm the first section."}))),i.a.createElement("div",{className:"content",style:{display:"none"}},i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap")))))),i.a.createElement("div",{className:"block-flat",draggable:"true"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"actions"},i.a.createElement("a",{href:"#sample",className:"minimize"},i.a.createElement("i",{className:"fa fa-chevron-down"})),i.a.createElement("a",{href:"#sample",className:"close-down"},i.a.createElement("i",{className:"fa fa-times"}))),i.a.createElement("div",{className:"input-group text-left"},i.a.createElement("label",null,"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:"I'm the second section."}))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"section-builder-widget-area"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"),i.a.createElement("a",{className:"section-builder-widget-btn","data-toggle":"collapse","data-target":"#next-config"},i.a.createElement("i",{className:"fa fa-gear"}))),i.a.createElement("div",{id:"next-config",className:"collapse section-builder-widget-config"},i.a.createElement("div",{className:"input-group"},i.a.createElement("label",null,"Widget Name"),i.a.createElement("input",{className:"form-control",type:"text"})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",null,i.a.createElement("input",{className:"form-control",type:"checkbox"}),"Sort topics alphabetically?")),i.a.createElement("a",{"data-toggle":"modal","data-target":"#attributes",type:"button",className:"btn btn-default"},i.a.createElement("i",{className:"fa fa-filter"})," Set Data Filters"))),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-header"},i.a.createElement("div",{className:"section-builder-widget-icon"}),i.a.createElement("span",{className:"section-builder-widget-title"},"Heatmap"))))))),i.a.createElement("div",{className:"section-builder-toolbar"},i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon section"}),i.a.createElement("span",{className:"section-builder-new-title"},"New Section")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"meta text-center"},"Available Widgets"),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon successes-and-needs"}),i.a.createElement("span",{className:"section-builder-new-title"},"Successes and Needs")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon possible-leaders"}),i.a.createElement("span",{className:"section-builder-new-title"},"Possible Leaders")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon heatmap"}),i.a.createElement("span",{className:"section-builder-new-title"},"Heatmap")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon comparison-chart"}),i.a.createElement("span",{className:"section-builder-new-title"},"Comparison Chart")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon interests"}),i.a.createElement("span",{className:"section-builder-new-title"},"Interests")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon open-responses"}),i.a.createElement("span",{className:"section-builder-new-title"},"Open Responses")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon multiple-choice"}),i.a.createElement("span",{className:"section-builder-new-title"},"Multiple Choice")),i.a.createElement("div",{className:"section-builder-new",draggable:"true"},i.a.createElement("div",{className:"section-builder-new-icon all-table"}),i.a.createElement("span",{className:"section-builder-new-title"},"All Table"))))),i.a.createElement("div",{className:"modal fade",id:"attributes",tabindex:"-1",role:"dialog","aria-hidden":"true"},i.a.createElement("div",{className:"modal-dialog full-width"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button ",className:"close","data-dismiss":"modal","aria-hidden":"true"},"×")),i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"text-center"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"list-table-wrapper report-builder-table-checklist",style:{marginBottom:20}},i.a.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},i.a.createElement("thead",{className:"no-border"},i.a.createElement("tr",{className:"list-table-header0"},i.a.createElement("th",null,i.a.createElement("div",null,"Available Data Sources")))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"list-table-content"},i.a.createElement("td",{className:"list-table-content-column"},i.a.createElement("div",{className:"list-table-column-wrapper constrained"},i.a.createElement("table",{className:"list-table-column"},i.a.createElement("tbody",{className:"no-border-x no-border-y"},i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Belton Classroom Observation")),i.a.createElement("td",null)),i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Belton Learning Walk")),i.a.createElement("td",null))))))))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"list-table-wrapper report-builder-table-checklist"},i.a.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},i.a.createElement("thead",{className:"no-border"},i.a.createElement("tr",{className:"list-table-header report-builder-table-header-checkbox"},i.a.createElement("th",null,i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-check-square blue",style:{paddingLeft:8,paddingRight:16}}),"Schools")))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"list-table-content"},i.a.createElement("td",{className:"list-table-content-column"},i.a.createElement("div",{className:"list-table-column-wrapper constrained"},i.a.createElement("table",{className:"list-table-column"},i.a.createElement("tbody",{className:"no-border-x no-border-y"},i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Belton MS/Freshman Center")))))))))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"list-table-wrapper report-builder-table-checklist"},i.a.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},i.a.createElement("thead",{className:"no-border"},i.a.createElement("tr",{className:"list-table-header report-builder-table-header-checkbox"},i.a.createElement("th",null,i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-check-square blue",style:{paddingLeft:8,paddingRight:16}}),"Other Attribute")))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"list-table-content"},i.a.createElement("td",{className:"list-table-content-column"},i.a.createElement("div",{className:"list-table-column-wrapper constrained"},i.a.createElement("table",{className:"list-table-column"},i.a.createElement("tbody",{className:"no-border-x no-border-y"},i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"BOSCO"))),i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Belton HS")))))))))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"list-table-wrapper report-builder-table-checklist"},i.a.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},i.a.createElement("thead",{className:"no-border"},i.a.createElement("tr",{className:"list-table-header report-builder-table-header-checkbox"},i.a.createElement("th",null,i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-check-square blue",style:{paddingLeft:8,paddingRight:16}}),"Another Attribute")))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"list-table-content"},i.a.createElement("td",{className:"list-table-content-column"},i.a.createElement("div",{className:"list-table-column-wrapper constrained"},i.a.createElement("table",{className:"list-table-column"},i.a.createElement("tbody",{className:"no-border-x no-border-y"},i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Cambridge ES"))),i.a.createElement("tr",{className:"report-builder-table-checklist-row"},i.a.createElement("td",null,i.a.createElement("i",{className:"fa fa-square-o"})),i.a.createElement("td",null,i.a.createElement("strong",{style:{fontSize:14}},"Gladden ES"))))))))))))))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-default btn-flat","data-dismiss":"modal"},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-success btn-flat","data-dismiss":"modal"},"Proceed"))))))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(700),u=n(1729),c=n.n(u),f=n(703),h=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleOpen=n.toggleOpen.bind(n),n.checkScroll=n.checkScroll.bind(n),n.state={open:!1,fixed:!0,lastScroll:0},n}return o(t,e),h(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.checkScroll.bind(this))}},{key:"componentWillUnmount",value:function(){window.addEventListener("scroll",this.checkScroll.bind(this))}},{key:"checkScroll",value:function(e){var t=e.target.scrollingElement.scrollTop,n=this.state.lastScroll;t<72?this.setFixed(t):n>t?this.setFixed(t):n<t&&this.setUnfixed(t)}},{key:"toggleOpen",value:function(){this.setState({open:!this.state.open})}},{key:"setFixed",value:function(e){this.setState({fixed:!0,lastScroll:e})}},{key:"setUnfixed",value:function(e){this.setState({fixed:!1,lastScroll:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fixed,r=t.open;return s.a.createElement("div",{className:"cl-wrapper"},s.a.createElement("header",{className:"ku-header "+(n||r?"fixed":null)},s.a.createElement("div",{className:"ku-header-toggle"},s.a.createElement("a",{onClick:function(){return e.toggleOpen()}},"Menu ",s.a.createElement("i",{className:"fa fa-bars"}))),s.a.createElement("div",{className:"ku-header-logo text-center"}),s.a.createElement("div",{className:"ku-header-profile"},s.a.createElement("img",{src:c.a,alt:"Sample Avatar",className:"ku-header-profile-image"}),s.a.createElement("div",{className:"ku-header-profile-name"},s.a.createElement("h4",null,"Joel Sumner Smith"),s.a.createElement("h6",{className:"meta meta-soft"},"Irving ISD")))),s.a.createElement(l.a,{open:r,toggle:this.toggleOpen}))}}]),t}(a.Component);t.a=d},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(698),a=n(382),s=n(193);t.a=function(){return i.a.createElement("div",null,i.a.createElement(s.a,null,i.a.createElement("div",null,i.a.createElement(o.a,null),i.a.createElement("div",{className:""},a.a.map(function(e){return i.a.createElement(s.b,Object.assign({},e,{key:"route-"+e.path}))})))))}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(193),a=n(382);t.a=function(e){var t=e.open,n=e.toggle,r=void 0===n?function(){}:n;return i.a.createElement("nav",{className:(t?"active":"")+" ku-navigation cl-sidebar text-left"},i.a.createElement("div",{className:"cl-navblock"},i.a.createElement("ul",{className:"cl-vnavigation"},a.a.filter(function(e){return e.linkName}).map(function(e){return i.a.createElement("li",{onClick:r,key:e.linkName},i.a.createElement(o.c,{to:e.path},e.linkName))}))))}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"static/media/calendar-icon.f7631018.svg"},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;l<a.length;){var e=l;if(l+=1,a[e].call(),l>u){for(var t=0,n=a.length-l;t<n;t++)a[t]=a[t+l];a.length-=l,l=0}}a.length=0,l=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,l=0,u=1024,c="undefined"!==typeof t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(29))},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s,l=e.length;a=r(e),s=new f(3*l/4-a),i=a>0?l-4:l;var u=0;for(t=0,n=0;t<i;t+=4,n+=3)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[u++]=o>>16&255,s[u++]=o>>8&255,s[u++]=255&o;return 2===a?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[u++]=255&o):1===a&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[u++]=o>>8&255,s[u++]=255&o),s}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,l=n-r;a<l;a+=16383)o.push(s(e,a,a+16383>l?l:a+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=l;for(var u=[],c=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)u[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=y.hasOwnProperty(t)?y[t]:null;_.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){s("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(l)&&b.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==l){var u=n[a],c=r.hasOwnProperty(a);if(i(c,a),b.hasOwnProperty(a))b[a](e,u);else{var f=y.hasOwnProperty(a),p="function"===typeof u,m=p&&!f&&!c&&!1!==n.autobind;if(m)o.push(a,u),r[a]=u;else if(c){var v=y[a];s(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,a),"DEFINE_MANY_MERGED"===v?r[a]=h(r[a],u):"DEFINE_MANY"===v&&(r[a]=d(r[a],u))}else r[a]=u}}}else;}function c(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;s(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function f(e,t){s(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=p(e,i)}}function v(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"===typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],g.forEach(u.bind(null,t)),u(t,x),u(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in y)t.prototype[i]||(t.prototype[i]=null);return t}var g=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},x={componentDidMount:function(){this.__isMounted=!0},componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return o(w.prototype,e.prototype,_),v}var o=n(20),a=n(107),s=n(9),l="mixins";e.exports=i},function(e,t,n){"use strict";var r=n(7),i=n(709),o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(711),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(721);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&a(!1),"number"!==typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"===typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(9);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u||l(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t||l(!1),a(f).forEach(t));for(var h=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(41),a=n(714),s=n(716),l=n(9),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return a||o(!1),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var i=n(41),o=n(9),a=i.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){h[e]=f,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(718),o=/^ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(720);e.exports=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=r},function(e,t,n){"use strict";var r=n(394),i={hasCSSAnimations:function(){return!!r("animationName")},hasCSSTransforms:function(){return!!r("transform")},hasCSS3DTransforms:function(){return!!r("perspective")},hasCSSTransitions:function(){return!!r("transition")}};e.exports=i},function(e,t,n){"use strict";var r=n(108),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(35),o=i.Children,a=n(19),s=n(733),l=n(731),u=n(730),c=n(729),f={},h=i.createClass({displayName:"TransitionTable",propTypes:{width:a.number.isRequired,height:a.number,maxHeight:a.number,ownerHeight:a.number,overflowX:a.oneOf(["hidden","auto"]),overflowY:a.oneOf(["hidden","auto"]),rowsCount:a.number.isRequired,rowHeight:a.number.isRequired,rowHeightGetter:a.func,rowGetter:a.func,rowClassNameGetter:a.func,groupHeaderHeight:a.number,headerHeight:a.number.isRequired,headerDataGetter:a.func,footerHeight:a.number,footerData:a.oneOfType([a.object,a.array]),footerDataGetter:a.func,scrollLeft:a.number,scrollToColumn:a.number,scrollTop:a.number,scrollToRow:a.number,onScrollStart:a.func,onScrollEnd:a.func,onContentHeightChange:a.func,onRowClick:a.func,onRowDoubleClick:a.func,onRowMouseDown:a.func,onRowMouseEnter:a.func,onRowMouseLeave:a.func,onColumnResizeEndCallback:a.func,isColumnResizing:a.bool},getInitialState:function(){var e={};return e.needsMigration=this._checkDeprecations(),e},_checkDeprecations:function(){var e=!1;return this.props.rowGetter&&(e=!0),this.props.headerDataGetter,this.props.footerData,this.props.footerDataGetter,o.forEach(this.props.children,function(e){if(e&&e.props){var t=e.props;t.label,t.dataKey,t.cellRenderer,t.headerRenderer,t.columnData,t.groupHeaderRenderer,t.groupHeaderData}}),e},_onRowAction:function(e,t){if(t)return function(n,r){t(n,r,e.rowGetter&&e.rowGetter(r)||f)}},_transformColumn:function(e,t,n){var o=e.props;if(e.type.__TableColumn__)return i.createElement(l,r({key:"column_"+n},o,{header:i.createElement(c,{isHeaderCell:!0,label:o.label,width:o.width,dataKey:o.dataKey,className:o.headerClassName,columnData:o.columnData||f,cellRenderer:o.headerRenderer,headerDataGetter:t.headerDataGetter}),columnKey:o.dataKey,cell:i.createElement(c,{dataKey:o.dataKey,className:o.cellClassName,rowGetter:t.rowGetter,width:o.width,columnData:o.columnData||f,cellDataGetter:o.cellDataGetter,cellRenderer:o.cellRenderer}),footer:i.createElement(c,{isFooterCell:!0,className:o.footerClassName,dataKey:o.dataKey,cellRenderer:o.footerRenderer,footerDataGetter:t.footerDataGetter,footerData:t.footerData||f})}))},_transformColumnGroup:function(e,t,n,a){var s=this,l=e.props,h=0,d=o.map(l.children,function(e){return h++,s._transformColumn(e,t,n+"_"+h)});return i.createElement(u,r({},l,{key:"group_"+n,header:i.createElement(c,{isHeaderCell:!0,label:e.props.label,dataKey:n,groupHeaderRenderer:l.groupHeaderRenderer,groupHeaderLabels:a,groupHeaderData:l.columnGroupData||f})}),d)},_convertedColumns:function(e){var t=this;if(!e)return o.map(this.props.children,function(e){return e?e.type.__TableColumn__?i.createElement(l,e.props):e.type.__TableColumnGroup__?i.createElement(u,e.props):void 0:null});var n=this.props,r=0;return o.map(this.props.children,function(e){if(!e)return null;if(e.type.__TableColumn__&&(e=t._transformColumn(e,n,r)),e.type.__TableColumnGroup__){var i=[];o.forEach(t.props.children,function(e){i.push(e.props.label)}),e=t._transformColumnGroup(e,n,r,i)}return r++,e})},render:function(){var e=this.props;return i.createElement(s,r({},e,{onRowMouseDown:this._onRowAction(e,e.onRowMouseDown),onRowClick:this._onRowAction(e,e.onRowClick),onRowDoubleClick:this._onRowAction(e,e.onRowDoubleClick),onRowMouseEnter:this._onRowAction(e,e.onRowMouseEnter),onRowMouseLeave:this._onRowAction(e,e.onRowMouseLeave)}),this._convertedColumns(this.state.needsMigration))}});e.exports=h},function(e,t,n){"use strict";var r=n(35),i=n(735),o=n(391),a=n(71),s=n(108),l=n(109),u=n(139),c=n(19),f=r.createClass({displayName:"FixedDataTableBufferedRows",propTypes:{isScrolling:c.bool,defaultRowHeight:c.number.isRequired,firstRowIndex:c.number.isRequired,firstRowOffset:c.number.isRequired,fixedColumns:c.array.isRequired,height:c.number.isRequired,offsetTop:c.number.isRequired,onRowClick:c.func,onRowDoubleClick:c.func,onRowMouseDown:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,rowClassNameGetter:c.func,rowsCount:c.number.isRequired,rowHeightGetter:c.func,rowPositionGetter:c.func.isRequired,scrollLeft:c.number.isRequired,scrollableColumns:c.array.isRequired,showLastRowBorder:c.bool,width:c.number.isRequired},getInitialState:function(){return this._rowBuffer=new i(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(e){e.rowsCount===this.props.rowsCount&&e.defaultRowHeight===this.props.defaultRowHeight&&e.height===this.props.height||(this._rowBuffer=new i(e.rowsCount,e.defaultRowHeight,e.height,this._getRowHeight)),this.props.isScrolling&&!e.isScrolling?this._updateBuffer():this.setState({rowsToRender:this._rowBuffer.getRows(e.firstRowIndex,e.firstRowOffset)})},_updateBuffer:function(){this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var e=this.props,t=e.rowClassNameGetter||s,n=e.rowPositionGetter,i=this.state.rowsToRender;this._staticRowArray.length=i.length;for(var c=0;c<i.length;++c){var f=i[c],h=this._getRowHeight(f),d=n(f),p=f===e.rowsCount-1&&e.showLastRowBorder;this._staticRowArray[c]=r.createElement(o,{key:c,isScrolling:e.isScrolling,index:f,width:e.width,height:h,scrollLeft:Math.round(e.scrollLeft),offsetTop:Math.round(d),fixedColumns:e.fixedColumns,scrollableColumns:e.scrollableColumns,onClick:e.onRowClick,onDoubleClick:e.onRowDoubleClick,onMouseDown:e.onRowMouseDown,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,className:l(t(f),a("public/fixedDataTable/bodyRow"),a({"fixedDataTableLayout/hasBottomBorder":p,"public/fixedDataTable/hasBottomBorder":p}))})}var m=e.rowPositionGetter(e.firstRowIndex),v={position:"absolute",pointerEvents:e.isScrolling?"none":"auto"};return u(v,0,e.firstRowOffset-m+e.offsetTop),r.createElement("div",{style:v},this._staticRowArray)},_getRowHeight:function(e){return this.props.rowHeightGetter?this.props.rowHeightGetter(e):this.props.defaultRowHeight}});e.exports=f},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(249),o=n(390),a=n(35),s=n(71),l=n(109),u=o.DIR_SIGN,c=n(19),f={align:"left",highlighted:!1},h=a.createClass({displayName:"FixedDataTableCell",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,align:c.oneOf(["left","center","right"]),className:c.string,highlighted:c.bool,width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,height:c.number.isRequired,cell:c.oneOfType([c.string,c.element,c.func]),columnKey:c.oneOfType([c.string,c.number]),rowIndex:c.number.isRequired,onColumnResize:c.func,left:c.number},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex},getDefaultProps:function(){return f},render:function(){var e=this.props,t=e.height,n=e.width,o=e.columnKey,c=r(e,["height","width","columnKey"]),f={height:t,width:n};1===u?f.left=c.left:f.right=c.left;var h,d=l(s({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":c.lastChild,"fixedDataTableCellLayout/alignRight":"right"===c.align,"fixedDataTableCellLayout/alignCenter":"center"===c.align,"public/fixedDataTableCell/alignRight":"right"===c.align,"public/fixedDataTableCell/highlighted":c.highlighted,"public/fixedDataTableCell/main":!0}),c.className);if(c.onColumnResize){var p={height:t};h=a.createElement("div",{className:s("fixedDataTableCellLayout/columnResizerContainer"),style:p,onMouseDown:this._onColumnResizerMouseDown},a.createElement("div",{className:l(s("fixedDataTableCellLayout/columnResizerKnob"),s("public/fixedDataTableCell/columnResizerKnob")),style:p}))}var m={columnKey:o,height:t,width:n};c.rowIndex>=0&&(m.rowIndex=c.rowIndex);var v;return v=a.isValidElement(c.cell)?a.cloneElement(c.cell,m):"function"===typeof c.cell?c.cell(m):a.createElement(i,m,c.cell),a.createElement("div",{className:d,style:f},h,v)},_onColumnResizerMouseDown:function(e){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.columnKey,e)}});e.exports=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(390),a=n(35),s=n(727),l=n(71),u=n(139),c=n(19),f=o.DIR_SIGN,h=a.createClass({displayName:"FixedDataTableCellGroupImpl",propTypes_DISABLED_FOR_PERFORMANCE:{columns:c.array.isRequired,isScrolling:c.bool,left:c.number,onColumnResize:c.func,rowHeight:c.number.isRequired,rowIndex:c.number.isRequired,width:c.number.isRequired,zIndex:c.number.isRequired},render:function(){for(var e=this.props,t=e.columns,n=new Array(t.length),r=0,i=0,o=t.length;i<o;i++){var s=t[i].props;if(!s.allowCellsRecycling||r-e.left<=e.width&&r-e.left+s.width>=0){var c="cell_"+i;n[i]=this._renderCell(e.rowIndex,e.rowHeight,s,r,c)}r+=s.width}var h=this._getColumnsWidth(t),d={height:e.height,position:"absolute",width:h,zIndex:e.zIndex};return u(d,-1*f*e.left,0),a.createElement("div",{className:l("fixedDataTableCellGroupLayout/cellGroup"),style:d},n)},_renderCell:function(e,t,n,r,i){var o=n.isResizable&&this.props.onColumnResize,l=o?this.props.onColumnResize:null,u=n.cellClassName;return a.createElement(s,{isScrolling:this.props.isScrolling,align:n.align,className:u,height:t,key:i,maxWidth:n.maxWidth,minWidth:n.minWidth,onColumnResize:l,rowIndex:e,columnKey:n.columnKey,width:n.width,left:r,cell:n.cell})},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}}),d=a.createClass({displayName:"FixedDataTableCellGroup",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,height:c.number.isRequired,offsetLeft:c.number,left:c.number,zIndex:c.number.isRequired},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex||this.props.left!==e.left},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var e=this.props,t=e.offsetLeft,n=r(e,["offsetLeft"]),o={height:n.height};1===f?o.left=t:o.right=t;var s=n.onColumnResize?this._onColumnResize:null;return a.createElement("div",{style:o,className:l("fixedDataTableCellGroupLayout/cellGroupWrapper")},a.createElement(h,i({},n,{onColumnResize:s})))},_onColumnResize:function(e,t,n,r,i,o){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,e-this.props.left+t,t,n,r,i,o)}});e.exports=d},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(35),o=n(19),a=n(71),s=n(109),l=n(396),u=n(249),c=i.createClass({displayName:"TransitionCell",propTypes:{label:o.string,className:o.string,rowIndex:o.number,rowGetter:o.func,dataKey:o.oneOfType([o.string,o.number]),cellRenderer:o.func,cellDataGetter:o.func,footerDataGetter:o.func,footerData:o.any,columnData:o.any,width:o.number,height:o.number,isHeaderCell:o.bool,isFooterCell:o.bool},shouldComponentUpdate:function(e){var t,n=!1;e.rowGetter&&(t=e.rowGetter(e.rowIndex),this._rowData!==t&&(n=!0));var r;return null!=e.dataKey&&(e.cellDataGetter&&(r=e.cellDataGetter(e.dataKey,t)),!r&&t&&(r=t[e.dataKey])),this._cellData!==r&&(n=!0),this._rowData=t,this._cellData=r,n||!l(e,this.props)},_getCellData:function(e){var t=e.dataKey;if(null==t)return null;var n;return e.rowGetter&&(n=e.rowGetter(e.rowIndex)),e.cellDataGetter?e.cellDataGetter(t,n):n?n[t]:e.footerDataGetter?e.footerDataGetter()[t]:e.footerData?e.footerData[t]:e.headerDataGetter?e.headerDataGetter[t]:void 0},_getRowData:function(e){return e.rowGetter?e.rowGetter(e.rowIndex)||{}:e.footerDataGetter?e.footerDataGetter()||{}:e.footerData?e.footerData||{}:{}},render:function(){var e=this.props,t=this._getCellData(e),n=t,o=this._getRowData(e),l=!(!e.cellRenderer&&!e.groupHeaderRenderer);(e.isHeaderCell||e.isFooterCell)&&(n=n||e.label),e.cellRenderer&&(n=e.isHeaderCell||e.isFooterCell?e.cellRenderer(e.label,e.dataKey,e.columnData,o,e.width)||e.label:e.cellRenderer(t,e.dataKey,o,e.rowIndex,e.columnData,e.width)),e.groupHeaderRenderer&&(n=e.groupHeaderRenderer(e.label,e.dataKey,e.groupHeaderData,e.groupHeaderLabels,e.width)||n);var c=a("public/fixedDataTableCell/cellContent");if(!i.isValidElement(n)||!l)return i.createElement(u,e,n);n=i.cloneElement(n,{className:s(n.props.className,c)});var f=r({height:e.height,width:e.width},e.style);return i.createElement("div",r({},this.props,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),this.props.className),style:f}),i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},n)))}});e.exports=c},function(e,t,n){"use strict";var r=n(35),i=n(19),o=r.createClass({displayName:"FixedDataTableColumnGroup",statics:{__TableColumnGroup__:!0},propTypes:{align:i.oneOf(["left","center","right"]),fixed:i.bool,header:i.oneOfType([i.node,i.func])},getDefaultProps:function(){return{fixed:!1}},render:function(){return null}});e.exports=o},function(e,t,n){"use strict";var r=n(35),i=n(19),o=r.createClass({displayName:"FixedDataTableColumn",statics:{__TableColumn__:!0},propTypes:{align:i.oneOf(["left","center","right"]),fixed:i.bool,header:i.oneOfType([i.node,i.func]),cell:i.oneOfType([i.node,i.func]),footer:i.oneOfType([i.node,i.func]),columnKey:i.oneOfType([i.string,i.number]),width:i.number.isRequired,minWidth:i.number,maxWidth:i.number,flexGrow:i.number,isResizable:i.bool,allowCellsRecycling:i.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){return null}});e.exports=o},function(e,t,n){"use strict";var r=n(386),i=n(392),o=n(35),a=n(250),s=n(251),l=n(71),u=n(19),c=o.createClass({displayName:"FixedDataTableColumnResizeHandle",mixins:[a],propTypes:{visible:u.bool.isRequired,height:u.number.isRequired,leftOffset:u.number.isRequired,knobHeight:u.number.isRequired,initialWidth:u.number,minWidth:u.number,maxWidth:u.number,initialEvent:u.object,onColumnResizeEnd:u.func,columnKey:u.oneOfType([u.string,u.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(e){e.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(e.initialEvent),this.setState({width:e.initialWidth,cursorDelta:e.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var e={width:this.state.width,height:this.props.height};return i.isRTL()?e.right=this.props.leftOffset:e.left=this.props.leftOffset,o.createElement("div",{className:l({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:e},o.createElement("div",{className:l("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(e){i.isRTL()&&(e=-e);var t=this.state.cursorDelta+e,n=s(t,this.props.minWidth,this.props.maxWidth);this.setState({width:n,cursorDelta:t})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});e.exports=c},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(35),o=n(250),a=n(393),s=n(743),l=n(726),u=n(732),c=n(391),f=n(736),h=n(737),d=n(71),p=n(748),m=n(108),v=n(138),g=n(109),y=n(396),b=n(139),x=n(19),_=i.Children,w={},M=i.createClass({displayName:"FixedDataTable",propTypes:{width:x.number.isRequired,height:x.number,maxHeight:x.number,ownerHeight:x.number,overflowX:x.oneOf(["hidden","auto"]),overflowY:x.oneOf(["hidden","auto"]),rowsCount:x.number.isRequired,rowHeight:x.number.isRequired,rowHeightGetter:x.func,rowClassNameGetter:x.func,groupHeaderHeight:x.number,headerHeight:x.number.isRequired,footerHeight:x.number,scrollLeft:x.number,scrollToColumn:x.number,scrollTop:x.number,scrollToRow:x.number,onScrollStart:x.func,onScrollEnd:x.func,onContentHeightChange:x.func,onRowClick:x.func,onRowDoubleClick:x.func,onRowMouseDown:x.func,onRowMouseEnter:x.func,onRowMouseLeave:x.func,onColumnResizeEndCallback:x.func,isColumnResizing:x.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var e=this.props,t=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);return this._scrollHelper=new f(e.rowsCount,e.rowHeight,t,e.rowHeightGetter),e.scrollTop&&this._scrollHelper.scrollTo(e.scrollTop),this._didScrollStop=p(this._didScrollStop,200,this),this._calculateState(this.props)},componentWillMount:function(){var e=this.props.scrollToRow;void 0!==e&&null!==e&&(this._rowToScrollTo=e);var t=this.props.scrollToColumn;void 0!==t&&null!==t&&(this._columnToScrollTo=t),this._wheelHandler=new a(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(e){return"hidden"!==this.props.overflowX&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollX>0||e>=0&&this.state.scrollX<this.state.maxScrollX))},_shouldHandleWheelY:function(e){return"hidden"!==this.props.overflowY&&0!==e&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollY>0||e>=0&&this.state.scrollY<this.state.maxScrollY))},_reportContentHeight:function(){var e,t=this.state.scrollContentHeight,n=this.state.reservedHeight,r=t+n;e=void 0===this.props.height&&this.props.maxHeight>r?r:this.state.height>r&&this.props.ownerHeight?Math.max(r,this.props.ownerHeight):this.state.height+this.state.maxScrollY,e!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(e),this._contentHeight=e},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(e){var t=e.scrollToRow;void 0!==t&&null!==t&&(this._rowToScrollTo=t);var n=e.scrollToColumn;void 0!==n&&null!==n&&(this._columnToScrollTo=n);var r=e.overflowX,i=e.overflowY;r===this.props.overflowX&&i===this.props.overflowY||(this._wheelHandler=new a(this._onWheel,"hidden"!==r,"hidden"!==i)),this.props.ownerHeight===e.ownerHeight&&this.props.scrollTop===e.scrollTop||this._didScrollStart(),this._didScrollStop(),this.setState(this._calculateState(e,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var e,t=this.state,n=this.props;t.useGroupHeader&&(e=i.createElement(c,{key:"group_header",isScrolling:this._isScrolling,className:g(d("fixedDataTableLayout/header"),d("public/fixedDataTable/header")),width:t.width,height:t.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:t.scrollX,fixedColumns:t.groupHeaderFixedColumns,scrollableColumns:t.groupHeaderScrollableColumns,onColumnResize:this._onColumnResize}));var r=this.state.maxScrollY,o=t.maxScrollX>0&&"hidden"!==t.overflowX,a=r>0&&"hidden"!==t.overflowY,l=o?s.SIZE:0,f=t.height-l-2-t.footerHeight,h=t.useGroupHeader?t.groupHeaderHeight:0,p=h+t.headerHeight;f-=p;var m=0,v=null!=n.maxHeight?p+t.bodyHeight:p+f,y=v+t.footerHeight;void 0!==n.ownerHeight&&n.ownerHeight<t.height&&(m=n.ownerHeight-t.height,v=Math.min(v,n.ownerHeight-t.footerHeight-l),f=Math.max(0,v-p));var b;a&&(b=i.createElement(s,{size:f,contentSize:f+r,onScroll:this._onVerticalScroll,verticalTop:p,position:t.scrollY}));var x;if(o){var _=t.width;x=i.createElement(k,{contentSize:_+t.maxScrollX,offset:m,onScroll:this._onHorizontalScroll,position:t.scrollX,size:_})}var w=i.createElement(u,{height:t.height,initialWidth:t.columnResizingData.width||0,minWidth:t.columnResizingData.minWidth||0,maxWidth:t.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!t.isColumnResizing,leftOffset:t.columnResizingData.left||0,knobHeight:t.headerHeight,initialEvent:t.columnResizingData.initialEvent,onColumnResizeEnd:n.onColumnResizeEndCallback,columnKey:t.columnResizingData.key}),M=null;t.footerHeight&&(M=i.createElement(c,{key:"footer",isScrolling:this._isScrolling,className:g(d("fixedDataTableLayout/footer"),d("public/fixedDataTable/footer")),width:t.width,height:t.footerHeight,index:-1,zIndex:1,offsetTop:v,fixedColumns:t.footFixedColumns,scrollableColumns:t.footScrollableColumns,scrollLeft:t.scrollX}));var E,S,T=this._renderRows(p),A=i.createElement(c,{key:"header",isScrolling:this._isScrolling,className:g(d("fixedDataTableLayout/header"),d("public/fixedDataTable/header")),width:t.width,height:t.headerHeight,index:-1,zIndex:1,offsetTop:h,scrollLeft:t.scrollX,fixedColumns:t.headFixedColumns,scrollableColumns:t.headScrollableColumns,onColumnResize:this._onColumnResize});return t.scrollY&&(E=i.createElement("div",{className:g(d("fixedDataTableLayout/topShadow"),d("public/fixedDataTable/topShadow")),style:{top:p}})),(null!=t.ownerHeight&&t.ownerHeight<t.height&&t.scrollContentHeight+t.reservedHeight>t.ownerHeight||t.scrollY<r)&&(S=i.createElement("div",{className:g(d("fixedDataTableLayout/bottomShadow"),d("public/fixedDataTable/bottomShadow")),style:{top:v}})),i.createElement("div",{className:g(d("fixedDataTableLayout/main"),d("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:t.height,width:t.width}},i.createElement("div",{className:d("fixedDataTableLayout/rowsContainer"),style:{height:y,width:t.width}},w,e,A,T,M,E,S),b,x)},_renderRows:function(e){var t=this.state;return i.createElement(l,{isScrolling:this._isScrolling,defaultRowHeight:t.rowHeight,firstRowIndex:t.firstRowIndex,firstRowOffset:t.firstRowOffset,fixedColumns:t.bodyFixedColumns,height:t.bodyHeight,offsetTop:e,onRowClick:t.onRowClick,onRowDoubleClick:t.onRowDoubleClick,onRowMouseDown:t.onRowMouseDown,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,rowClassNameGetter:t.rowClassNameGetter,rowsCount:t.rowsCount,rowGetter:t.rowGetter,rowHeightGetter:t.rowHeightGetter,scrollLeft:t.scrollX,scrollableColumns:t.bodyScrollableColumns,showLastRowBorder:!0,width:t.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(e,t,n,r,i,o,a){this.setState({isColumnResizing:!0,columnResizingData:{left:t+e-n,width:n,minWidth:r,maxWidth:i,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:m},key:o}})},_areColumnSettingsIdentical:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!y(e[n].props,t[n].props))return!1;return!0},_populateColumnsAndColumnData:function(e,t,n){var r=!1,i=!1;n&&n.columns&&(r=this._areColumnSettingsIdentical(e,n.columns)),n&&n.columnGroups&&t&&(i=this._areColumnSettingsIdentical(t,n.columnGroups));var o={};if(r)o.bodyFixedColumns=n.bodyFixedColumns,o.bodyScrollableColumns=n.bodyScrollableColumns,o.headFixedColumns=n.headFixedColumns,o.headScrollableColumns=n.headScrollableColumns,o.footFixedColumns=n.footFixedColumns,o.footScrollableColumns=n.footScrollableColumns;else{var a=this._splitColumnTypes(e);o.bodyFixedColumns=a.fixed,o.bodyScrollableColumns=a.scrollable;var s=this._splitColumnTypes(this._selectColumnElement("header",e));o.headFixedColumns=s.fixed,o.headScrollableColumns=s.scrollable;var l=this._splitColumnTypes(this._selectColumnElement("footer",e));o.footFixedColumns=l.fixed,o.footScrollableColumns=l.scrollable}if(i)o.groupHeaderFixedColumns=n.groupHeaderFixedColumns,o.groupHeaderScrollableColumns=n.groupHeaderScrollableColumns;else if(t){var u=this._splitColumnTypes(this._selectColumnElement("header",t));o.groupHeaderFixedColumns=u.fixed,o.groupHeaderScrollableColumns=u.scrollable}return o},_calculateState:function(e,t){v(void 0!==e.height||void 0!==e.maxHeight,"You must set either a height or a maxHeight");var n=[];_.forEach(e.children,function(e,t){null!=e&&(v(e.type.__TableColumnGroup__||e.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),n.push(e))});var i=!1;n.length&&n[0].type.__TableColumnGroup__&&(i=!0);var o,a,l=t&&t.firstRowIndex||0,u=t&&t.firstRowOffset||0;o=t&&"hidden"!==e.overflowX?t.scrollX:e.scrollLeft,t&&"hidden"!==e.overflowY?a=t.scrollY:(p=this._scrollHelper.scrollTo(e.scrollTop),l=p.index,u=p.offset,a=p.position),void 0!==this._rowToScrollTo&&(p=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo),l=p.index,u=p.offset,a=p.position,delete this._rowToScrollTo);var c=i?e.groupHeaderHeight:0;if(t&&e.rowsCount!==t.rowsCount){var d=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);this._scrollHelper=new f(e.rowsCount,e.rowHeight,d,e.rowHeightGetter);var p=this._scrollHelper.scrollToRow(l,u);l=p.index,u=p.offset,a=p.position}else t&&e.rowHeightGetter!==t.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(e.rowHeightGetter);var m;m=e.isColumnResizing?t&&t.columnResizingData:w;var g,y;if(i){var b=h.adjustColumnGroupWidths(n,e.width);g=b.columns,y=b.columnGroups}else g=h.adjustColumnWidths(n,e.width);var x=this._populateColumnsAndColumnData(g,y,t);if(void 0!==this._columnToScrollTo){var M=x.bodyFixedColumns.length;if(this._columnToScrollTo>=M){var k,E,S=0;for(k=0;k<x.bodyFixedColumns.length;++k)E=x.bodyFixedColumns[k],S+=E.props.width;var T=Math.min(this._columnToScrollTo-M,x.bodyScrollableColumns.length-1),A=0;for(k=0;k<T;++k)E=x.bodyScrollableColumns[k],A+=E.props.width;var C=e.width-S,D=x.bodyScrollableColumns[T].props.width,O=A+D-C;o<O&&(o=O),o>A&&(o=A)}delete this._columnToScrollTo}var P=void 0===e.height,L=Math.round(P?e.maxHeight:e.height),I=e.footerHeight+e.headerHeight+c+2,N=L-I,R=this._scrollHelper.getContentHeight(),j=R+I,z=h.getTotalWidth(g),F=z>e.width&&"hidden"!==e.overflowX;F&&(N-=s.SIZE,j+=s.SIZE,I+=s.SIZE);var B=Math.max(0,z-e.width),U=Math.max(0,R-N);return o=Math.min(o,B),a=Math.min(a,U),U||(P&&(L=j),N=j-I),this._scrollHelper.setViewportHeight(N),r({isColumnResizing:t&&t.isColumnResizing},x,e,{columns:g,columnGroups:y,columnResizingData:m,firstRowIndex:l,firstRowOffset:u,horizontalScrollbarVisible:F,maxScrollX:B,maxScrollY:U,reservedHeight:I,scrollContentHeight:R,scrollX:o,scrollY:a,bodyHeight:N,height:L,groupHeaderHeight:c,useGroupHeader:i})},_selectColumnElement:function(e,t){for(var n=[],r=0;r<t.length;++r){var o=t[r];n.push(i.cloneElement(o,{cell:e?o.props[e]:o.props.cell}))}return n},_splitColumnTypes:function(e){for(var t=[],n=[],r=0;r<e.length;++r)e[r].props.fixed?t.push(e[r]):n.push(e[r]);return{fixed:t,scrollable:n}},_onWheel:function(e,t){if(this.isMounted()){this._isScrolling||this._didScrollStart();var n=this.state.scrollX;if(Math.abs(t)>Math.abs(e)&&"hidden"!==this.props.overflowY){var r=this._scrollHelper.scrollBy(Math.round(t)),i=Math.max(0,r.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:r.index,firstRowOffset:r.offset,scrollY:r.position,scrollContentHeight:r.contentHeight,maxScrollY:i})}else e&&"hidden"!==this.props.overflowX&&(n+=e,n=n<0?0:n,n=n>this.state.maxScrollX?this.state.maxScrollX:n,this.setState({scrollX:n}));this._didScrollStop()}},_onHorizontalScroll:function(e){this.isMounted()&&e!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:e}),this._didScrollStop())},_onVerticalScroll:function(e){if(this.isMounted()&&e!==this.state.scrollY){this._isScrolling||this._didScrollStart();var t=this._scrollHelper.scrollTo(Math.round(e));this.setState({firstRowIndex:t.index,firstRowOffset:t.offset,scrollY:t.position,scrollContentHeight:t.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.setState({redraw:!0}),this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),k=i.createClass({displayName:"HorizontalScrollbar",mixins:[o],propTypes:{contentSize:x.number.isRequired,offset:x.number.isRequired,onScroll:x.func.isRequired,position:x.number.isRequired,size:x.number.isRequired},render:function(){var e={height:s.SIZE,width:this.props.size},t={height:s.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return b(t,0,this.props.offset),i.createElement("div",{className:g(d("fixedDataTableLayout/horizontalScrollbar"),d("public/fixedDataTable/horizontalScrollbar")),style:e},i.createElement("div",{style:t},i.createElement(s,r({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});e.exports=M},function(e,t,n){"use strict";var r=n(725),i=n(249),o=n(388),a=n(389),s={Cell:i,Column:o,ColumnGroup:a,Table:r};s.version="0.6.4",e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(739),a=n(251),s=n(138),l=3,u=6,c=function(){function e(t,n,i,c){r(this,e),s(0!==n,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new o,this._defaultRowHeight=n,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(i/n)+1,this._bufferRowsCount=a(Math.floor(this._maxVisibleRowCount/2),l,u),this._rowsCount=t,this._rowHeightGetter=c,this._rows=[],this._viewportHeight=i,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return i(e,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var e=2*this._bufferRowsCount,t=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);t<this._viewportRowsBegin;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;for(t=this._viewportRowsEnd;t<this._rowsCount&&e>0;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;return this._rows}},{key:"getRows",value:function(e,t){var n=t,r=n,i=e,o=Math.min(e+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=e;i<o||r<this._viewportHeight&&i<this._rowsCount;)this._addRowToBuffer(i,e,o-1),r+=this._rowHeightGetter(i),++i,this._viewportRowsEnd=i;return this._rows}},{key:"_addRowToBuffer",value:function(e,t,n){var r=this._bufferSet.getValuePosition(e),i=n-t+1,o=i+2*this._bufferRowsCount;null===r&&this._bufferSet.getSize()>=o&&(r=this._bufferSet.replaceFurthestValuePosition(t,n,e)),null===r?(r=this._bufferSet.getNewPositionForValue(e),this._rows[r]=e):this._rows[r]=e}}]),e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(741),a=n(251),s={index:0,offset:0,position:0,contentHeight:0},l=function(){function e(t,n,i,a){r(this,e),this._rowOffsets=o.uniform(t,n),this._storedHeights=new Array(t);for(var s=0;s<t;++s)this._storedHeights[s]=n;this._rowCount=t,this._position=0,this._contentHeight=t*n,this._defaultRowHeight=n,this._rowHeightGetter=a||function(){return n},this._viewportHeight=i,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return i(e,[{key:"setRowHeightGetter",value:function(e){this._rowHeightGetter=e}},{key:"setViewportHeight",value:function(e){this._viewportHeight=e}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(e,t){for(var n=t,r=e;n<=this._viewportHeight&&r<this._rowCount;)this._updateRowHeight(r),n+=this._storedHeights[r],r++}},{key:"_updateHeightsAboveViewport",value:function(e){for(var t=e-1;t>=0&&t>=e-5;){var n=this._updateRowHeight(t);this._position+=n,t--}}},{key:"_updateRowHeight",value:function(e){if(e<0||e>=this._rowCount)return 0;var t=this._rowHeightGetter(e);if(t!==this._storedHeights[e]){var n=t-this._storedHeights[e];return this._rowOffsets.set(e,t),this._storedHeights[e]=t,this._contentHeight+=n,n}return 0}},{key:"getRowPosition",value:function(e){return this._updateRowHeight(e),this._rowOffsets.sumUntil(e)}},{key:"scrollBy",value:function(e){if(0===this._rowCount)return s;var t=this._rowOffsets.greatestLowerBound(this._position);t=a(t,0,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(t),r=t,i=this._position,o=this._updateRowHeight(r);0!==n&&(i+=o);var l=this._storedHeights[r]-(i-n);if(e>=0)for(;e>0&&r<this._rowCount;)e<l?(i+=e,e=0):(e-=l,i+=l,r++),r<this._rowCount&&(this._updateRowHeight(r),l=this._storedHeights[r]);else if(e<0){e=-e;for(var u=this._storedHeights[r]-l;e>0&&r>=0;)if(e<u?(i-=e,e=0):(i-=u,e-=u,r--),r>=0){var c=this._updateRowHeight(r);u=this._storedHeights[r],i+=c}}var f=this._contentHeight-this._viewportHeight;i=a(i,0,f),this._position=i;var h=this._rowOffsets.greatestLowerBound(i);h=a(h,0,Math.max(this._rowCount-1,0)),n=this._rowOffsets.sumUntil(h);var d=n-i;return this._updateHeightsInViewport(h,d),this._updateHeightsAboveViewport(h),{index:h,offset:d,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(e){this._updateRowHeight(e);for(var t=e,n=this._storedHeights[t];n<this._viewportHeight&&t>=0;)--t>=0&&(this._updateRowHeight(t),n+=this._storedHeights[t]);var r=this._rowOffsets.sumTo(e)-this._viewportHeight;return r<0&&(r=0),r}},{key:"scrollTo",value:function(e){if(0===this._rowCount)return s;if(e<=0)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(e>=this._contentHeight-this._viewportHeight){var t=this._rowCount-1;e=this._getRowAtEndPosition(t)}this._position=e;var n=this._rowOffsets.greatestLowerBound(e);n=a(n,0,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(n),i=r-e;return this._updateHeightsInViewport(n,i),this._updateHeightsAboveViewport(n),{index:n,offset:i,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(e,t){e=a(e,0,Math.max(this._rowCount-1,0)),t=a(t,-this._storedHeights[e],0);var n=this._rowOffsets.sumUntil(e);return this.scrollTo(n-t)}},{key:"scrollRowIntoView",value:function(e){e=a(e,0,Math.max(this._rowCount-1,0));var t=this._rowOffsets.sumUntil(e),n=t+this._storedHeights[e];if(t<this._position)return this.scrollTo(t);if(this._position+this._viewportHeight<n){var r=this._getRowAtEndPosition(e);return this.scrollTo(r)}return this.scrollTo(this._position)}}]),e}();e.exports=l},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.flexGrow||0;return t}function o(e,t){if(t<=0)return{columns:e,width:r(e)};for(var n=i(e),o=t,a=[],s=0,u=0;u<e.length;++u){var c=e[u];if(c.props.flexGrow){var f=Math.floor(c.props.flexGrow/n*o),h=Math.floor(c.props.width+f);s+=h,n-=c.props.flexGrow,o-=f,a.push(l.cloneElement(c,{width:h}))}else s+=c.props.width,a.push(c)}return{columns:a,width:s}}function a(e,t){var n,a=[];for(n=0;n<e.length;++n)l.Children.forEach(e[n].props.children,function(e){a.push(e)});var s=r(a),u=i(a),c=Math.max(t-s,0),f=[],h=[];for(n=0;n<e.length;++n){var d=e[n],p=[];l.Children.forEach(d.props.children,function(e){p.push(e)});var m=i(p),v=Math.floor(m/u*c),g=o(p,v);u-=m,c-=v;for(var y=0;y<g.columns.length;++y)f.push(g.columns[y]);h.push(l.cloneElement(d,{width:g.width}))}return{columns:f,columnGroups:h}}function s(e,t){var n=r(e);return n<t?o(e,t-n).columns:e}var l=n(35),u={getTotalWidth:r,getTotalFlexGrow:i,distributeFlexWidth:o,adjustColumnWidths:s,adjustColumnGroupWidths:a};e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e<t}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this._items=t||[],this._size=this._items.length,this._comparator=n||i,this._heapify()}return o(e,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var e=this._items[0],t=this._items.pop();return this._size--,this._size>0&&(this._items[0]=t,this._sinkDown(0)),e}}},{key:"push",value:function(e){this._items[this._size++]=e,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){if(0!==this._size)return this._items[0]}},{key:"_heapify",value:function(){for(var e=Math.floor((this._size+1)/2);e>=0;e--)this._sinkDown(e)}},{key:"_bubbleUp",value:function(e){for(var t=this._items[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this._items[n];if(this._comparator(r,t))return;this._items[n]=t,this._items[e]=r,e=n}}},{key:"_sinkDown",value:function(e){for(var t=this._items[e];;){var n=2*(e+1)-1,r=2*(e+1),i=-1;if(n<this._size){var o=this._items[n];this._comparator(o,t)&&(i=n)}if(r<this._size){var a=this._items[r];this._comparator(a,t)&&(-1===i||this._comparator(a,this._items[i]))&&(i=r)}if(-1===i)return;this._items[e]=this._items[i],this._items[i]=t,e=i}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(738),a=n(138),s=function(){function e(){r(this,e),this._valueToPositionMap={},this._size=0,this._smallValues=new o([],this._smallerComparator),this._largeValues=new o([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return i(e,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(e){return void 0===this._valueToPositionMap[e]?null:this._valueToPositionMap[e]}},{key:"getNewPositionForValue",value:function(e){a(void 0===this._valueToPositionMap[e],"Shouldn't try to find new position for value already stored in BufferSet");var t=this._size;return this._size++,this._pushToHeaps(t,e),this._valueToPositionMap[e]=t,t}},{key:"replaceFurthestValuePosition",value:function(e,t,n){if(a(void 0===this._valueToPositionMap[n],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var r=this._smallValues.peek().value,i=this._largeValues.peek().value;if(r>=e&&i<=t)return null;var o;e-r>i-t?(o=r,this._smallValues.pop()):(o=i,this._largeValues.pop());var s=this._valueToPositionMap[o];return delete this._valueToPositionMap[o],this._valueToPositionMap[n]=s,this._pushToHeaps(s,n),s}},{key:"_pushToHeaps",value:function(e,t){var n={position:e,value:t};this._smallValues.push(n),this._largeValues.push(n)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var e=Math.min(this._smallValues.size(),this._largeValues.size());Math.max(this._smallValues.size(),this._largeValues.size())>10*e&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var e=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,t=new o([],this._smallerComparator),n=new o([],this._greaterComparator);!e.empty();){var r=e.pop();void 0!==this._valueToPositionMap[r.value]&&(t.push(r),n.push(r))}this._smallValues=t,this._largeValues=n}},{key:"_cleanHeap",value:function(e){for(;!e.empty()&&void 0===this._valueToPositionMap[e.peek().value];)e.pop()}},{key:"_smallerComparator",value:function(e,t){return e.value<t.value}},{key:"_greaterComparator",value:function(e,t){return e.value>t.value}}]),e}();e.exports=s},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=1;t<e;)t*=2;return t}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(138),s=function(e){return Math.floor(e/2)},l=t.Int32Array||function(e){for(var t=[],n=e-1;n>=0;--n)t[n]=0;return t},u=function(){function e(t){r(this,e),this._size=t.length,this._half=i(this._size),this._heap=new l(2*this._half);var n;for(n=0;n<this._size;++n)this._heap[this._half+n]=t[n];for(n=this._half-1;n>0;--n)this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}return o(e,[{key:"set",value:function(e,t){a(0<=e&&e<this._size,"Index out of range %s",e);var n=this._half+e;for(this._heap[n]=t,n=s(n);0!==n;n=s(n))this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}},{key:"get",value:function(e){a(0<=e&&e<this._size,"Index out of range %s",e);var t=this._half+e;return this._heap[t]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(e){if(a(0<=e&&e<this._size+1,"Index out of range %s",e),0===e)return 0;for(var t=this._half+e-1,n=this._heap[t];1!==t;t=s(t))t%2===1&&(n+=this._heap[t-1]);return n}},{key:"sumTo",value:function(e){return a(0<=e&&e<this._size,"Index out of range %s",e),this.sumUntil(e+1)}},{key:"sum",value:function(e,t){return a(e<=t,"Begin must precede end"),this.sumUntil(t)-this.sumUntil(e)}},{key:"greatestLowerBound",value:function(e){if(e<0)return-1;var t=1;if(this._heap[t]<=e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"greatestStrictLowerBound",value:function(e){if(e<=0)return-1;var t=1;if(this._heap[t]<e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<=n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"leastUpperBound",value:function(e){return this.greatestStrictLowerBound(e)+1}},{key:"leastStrictUpperBound",value:function(e){return this.greatestLowerBound(e)+1}}],[{key:"uniform",value:function(t,n){for(var r=[],i=t-1;i>=0;--i)r[i]=n;return new e(r)}},{key:"empty",value:function(t){return e.uniform(t,0)}}]),e}();e.exports=u}).call(t,n(29))},function(e,t,n){"use strict";e.exports=n(187)},function(e,t,n){"use strict";var r=n(386),i=n(740),o=n(35),a=n(742),s=n(250),l=n(393),u=n(747),c=n(71),f=n(108),h=n(139),d=n(19),p={position:0,scrollable:!1},m=parseInt(u("scrollbar-face-margin"),10),v=2*m,g=null,y=o.createClass({displayName:"Scrollbar",mixins:[s],propTypes:{contentSize:d.number.isRequired,defaultPosition:d.number,isOpaque:d.bool,orientation:d.oneOf(["vertical","horizontal"]),onScroll:d.func,position:d.number,size:d.number.isRequired,trackColor:d.oneOf(["gray"]),zIndex:d.number,verticalTop:d.number},getInitialState:function(){var e=this.props;return this._calculateState(e.position||e.defaultPosition||0,e.size,e.contentSize,e.orientation)},componentWillReceiveProps:function(e){var t=e.position;void 0===t?this._setNextState(this._calculateState(this.state.position,e.size,e.contentSize,e.orientation)):this._setNextState(this._calculateState(t,e.size,e.contentSize,e.orientation),e)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:f,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var e,t,n=this.props.size,r=this.state.isHorizontal,i=!r,a=this.state.focused||this.state.isDragging,s=this.state.faceSize,l=this.props.isOpaque,f=this.props.verticalTop||0,d=c({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":i,"ScrollbarLayout/mainHorizontal":r,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":l,"public/Scrollbar/mainActive":a}),p=c({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":r,"ScrollbarLayout/faceVertical":i,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),g=this.state.position*this.state.scale+m;return r?(e={width:n},t={width:s-v},h(t,g,0)):(e={top:f,height:n},t={height:s-v},h(t,0,g)),e.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(e.backgroundColor=u("fbui-desktop-background-light")),o.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:d,style:e,tabIndex:0},o.createElement("div",{ref:"face",className:p,style:t}))},componentWillMount:function(){var e="horizontal"===this.props.orientation,t=e?this._onWheelX:this._onWheelY;this._wheelHandler=new l(t,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),g===this&&(g=null),delete this._mouseMoveTracker},scrollBy:function(e){this._onWheel(e)},_shouldHandleX:function(e){return"horizontal"===this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleY:function(e){return"horizontal"!==this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleChange:function(e){return this._calculateState(this.state.position+e,this.props.size,this.props.contentSize,this.props.orientation).position!==this.state.position},_calculateState:function(e,t,n,r){if(t<1||n<=t)return p;var i=e+"_"+t+"_"+n+"_"+r;if(this._stateKey===i)return this._stateForKey;var o="horizontal"===r,a=t/n,s=t*a;s<30&&(a=(t-30)/(n-t),s=30);var l=n-t;e<0?e=0:e>l&&(e=l);var u=!!this._mouseMoveTracker&&this._mouseMoveTracker.isDragging(),c={faceSize:s,isDragging:u,isHorizontal:o,position:e,scale:a,scrollable:!0};return this._stateKey=i,this._stateForKey=c,c},_onWheelY:function(e,t){this._onWheel(t)},_onWheelX:function(e,t){this._onWheel(e)},_onWheel:function(e){var t=this.props;this._setNextState(this._calculateState(this.state.position+e,t.size,t.contentSize,t.orientation))},_onMouseDown:function(e){var t;if(e.target!==a.findDOMNode(this.refs.face)){var n=e.nativeEvent,r=this.state.isHorizontal?n.offsetX||n.layerX:n.offsetY||n.layerY,i=this.props;r/=this.state.scale,t=this._calculateState(r-.5*this.state.faceSize/this.state.scale,i.size,i.contentSize,i.orientation)}else t={};t.focused=!0,this._setNextState(t),this._mouseMoveTracker.captureMouseMoves(e),a.findDOMNode(this).focus()},_onMouseMove:function(e,t){var n=this.props,r=this.state.isHorizontal?e:t;r/=this.state.scale,this._setNextState(this._calculateState(this.state.position+r,n.size,n.contentSize,n.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(e){var t=e.keyCode;if(t!==i.TAB){var n=40,r=0;if(this.state.isHorizontal)switch(t){case i.HOME:r=-1,n=this.props.contentSize;break;case i.LEFT:r=-1;break;case i.RIGHT:r=1;break;default:return}if(!this.state.isHorizontal)switch(t){case i.SPACE:r=e.shiftKey?-1:1;break;case i.HOME:r=-1,n=this.props.contentSize;break;case i.UP:r=-1;break;case i.DOWN:r=1;break;case i.PAGE_UP:r=-1,n=this.props.size;break;case i.PAGE_DOWN:r=1,n=this.props.size;break;default:return}e.preventDefault();var o=this.props;this._setNextState(this._calculateState(this.state.position+n*r,o.size,o.contentSize,o.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),a.findDOMNode(this).blur()}catch(e){}},_setNextState:function(e,t){t=t||this.props;var n=t.position,r=this.state.position!==e.position;if(void 0===n){var i=r?this._didScroll:void 0;this.setState(e,i)}else{if(n!==e.position)return void(void 0!==e.position&&e.position!==this.state.position&&this.props.onScroll(e.position));this.setState(e)}r&&g!==this&&(g&&g._blur(),g=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});y.KEYBOARD_SCROLL_AMOUNT=40,y.SIZE=parseInt(u("scrollbar-size"),10),e.exports=y},function(e,t,n){"use strict";function r(){if(!b){b=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(m=/\b(iPhone|iP[ao]d)/.exec(e),v=/\b(iP[ao]d)/.exec(e),d=/Android/i.exec(e),g=/FBAN\/\w+;/i.exec(e),y=/Mobile/i.exec(e),p=!!/Win64/.exec(e),t){i=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);u=r?parseFloat(r[1])+4:i,o=t[2]?parseFloat(t[2]):NaN,a=t[3]?parseFloat(t[3]):NaN,s=t[4]?parseFloat(t[4]):NaN,s?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),l=t&&t[1]?parseFloat(t[1]):NaN):l=NaN}else i=o=a=l=s=NaN;if(n){if(n[1]){var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!x||parseFloat(x[1].replace("_","."))}else c=!1;f=!!n[2],h=!!n[3]}else c=f=h=!1}}var i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,b=!1,x={ie:function(){return r()||i},ieCompatibilityMode:function(){return r()||u>i},ie64:function(){return x.ie()&&p},firefox:function(){return r()||o},opera:function(){return r()||a},webkit:function(){return r()||s},safari:function(){return x.webkit()},chrome:function(){return r()||l},windows:function(){return r()||f},osx:function(){return r()||c},linux:function(){return r()||h},iphone:function(){return r()||m},mobile:function(){return r()||m||v||d||y},nativeApp:function(){return r()||g},android:function(){return r()||d},ipad:function(){return r()||v}};e.exports=x},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=r},function(e,t,n){"use strict";(function(t){var n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout;e.exports=n}).call(t,n(29))},function(e,t,n){"use strict";function r(e){if(i.hasOwnProperty(e))return i[e];throw new Error('cssVar("'+e+'"): Unexpected class transformation.')}var i={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};r.CSS_VARS=i,e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){function o(){for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];o.reset();var u=function(){e.apply(n,s)};u.__SMmeta=e.__SMmeta,a=r(u,t)}r=r||setTimeout,i=i||clearTimeout;var a;return o.reset=function(){i(a)},o}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"===typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(387);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=r},function(e,t,n){"use strict";(function(t){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame;e.exports=n}).call(t,n(29))},function(e,t,n){"use strict";function r(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*a,i=n*a,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=s,i*=s):(r*=l,i*=l)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}var i=n(744),o=n(749),a=10,s=40,l=800;r.getEventType=function(){return i.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=r},function(e,t,n){e.exports=n(734)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(95),s=r(a),l=n(186),u=r(l),c=n(252),f=n(140),h=n(253),d=r(h),p=n(397),m=function(){try{return window.history.state||{}}catch(e){return{}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(p.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,p.supportsHistory)(),r=!(0,p.supportsPopStateOnHashChange)(),a=e.forceRefresh,l=void 0!==a&&a,h=e.getUserConfirmation,v=void 0===h?p.getConfirmation:h,g=e.keyLength,y=void 0===g?6:g,b=e.basename?(0,f.stripTrailingSlash)((0,f.addLeadingSlash)(e.basename)):"",x=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname,s=i.search,l=i.hash,u=a+s+l;return b&&(u=(0,f.stripPrefix)(u,b)),o({},(0,f.parsePath)(u),{state:r,key:n})},_=function(){return Math.random().toString(36).substr(2,y)},w=(0,d.default)(),M=function(e){o(V,e),V.length=t.length,w.notifyListeners(V.location,V.action)},k=function(e){(0,p.isExtraneousPopstateEvent)(e)||T(x(e.state))},E=function(){T(x(m()))},S=!1,T=function(e){if(S)S=!1,M();else{w.confirmTransitionTo(e,"POP",v,function(t){t?M({action:"POP",location:e}):A(e)})}},A=function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(S=!0,I(i))},C=x(m()),D=[C.key],O=function(e){return b+(0,f.createPath)(e)},P=function(e,r){(0,s.default)(!("object"===("undefined"===typeof e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,c.createLocation)(e,r,_(),V.location);w.confirmTransitionTo(o,"PUSH",v,function(e){if(e){var r=O(o),i=o.key,a=o.state;if(n)if(t.pushState({key:i,state:a},null,r),l)window.location.href=r;else{var u=D.indexOf(V.location.key),c=D.slice(0,-1===u?0:u+1);c.push(o.key),D=c,M({action:"PUSH",location:o})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},L=function(e,r){(0,s.default)(!("object"===("undefined"===typeof e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,c.createLocation)(e,r,_(),V.location);w.confirmTransitionTo(o,"REPLACE",v,function(e){if(e){var r=O(o),i=o.key,a=o.state;if(n)if(t.replaceState({key:i,state:a},null,r),l)window.location.replace(r);else{var u=D.indexOf(V.location.key);-1!==u&&(D[u]=o.key),M({action:"REPLACE",location:o})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},I=function(e){t.go(e)},N=function(){return I(-1)},R=function(){return I(1)},j=0,z=function(e){j+=e,1===j?((0,p.addEventListener)(window,"popstate",k),r&&(0,p.addEventListener)(window,"hashchange",E)):0===j&&((0,p.removeEventListener)(window,"popstate",k),r&&(0,p.removeEventListener)(window,"hashchange",E))},F=!1,B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=w.setPrompt(e);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),t()}},U=function(e){var t=w.appendListener(e);return z(1),function(){z(-1),t()}},V={length:t.length,action:"POP",location:C,createHref:O,push:P,replace:L,go:I,goBack:N,goForward:R,block:B,listen:U};return V};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(95),a=r(o),s=n(186),l=r(s),u=n(252),c=n(140),f=n(253),h=r(f),d=n(397),p={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,c.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:c.stripLeadingSlash,decodePath:c.addLeadingSlash},slash:{encodePath:c.addLeadingSlash,decodePath:c.addLeadingSlash}},m=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},v=function(e){return window.location.hash=e},g=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(d.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,d.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,o=void 0===r?d.getConfirmation:r,s=e.hashType,f=void 0===s?"slash":s,y=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",b=p[f],x=b.encodePath,_=b.decodePath,w=function(){var e=_(m());return y&&(e=(0,c.stripPrefix)(e,y)),(0,c.parsePath)(e)},M=(0,h.default)(),k=function(e){i(W,e),W.length=t.length,M.notifyListeners(W.location,W.action)},E=!1,S=null,T=function(){var e=m(),t=x(e);if(e!==t)g(t);else{var n=w(),r=W.location;if(!E&&(0,u.locationsAreEqual)(r,n))return;if(S===(0,c.createPath)(n))return;S=null,A(n)}},A=function(e){if(E)E=!1,k();else{M.confirmTransitionTo(e,"POP",o,function(t){t?k({action:"POP",location:e}):C(e)})}},C=function(e){var t=W.location,n=L.lastIndexOf((0,c.createPath)(t));-1===n&&(n=0);var r=L.lastIndexOf((0,c.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(E=!0,j(i))},D=m(),O=x(D);D!==O&&g(O);var P=w(),L=[(0,c.createPath)(P)],I=function(e){return"#"+x(y+(0,c.createPath)(e))},N=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,u.createLocation)(e,void 0,void 0,W.location);M.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=(0,c.createPath)(n),r=x(y+t);if(m()!==r){S=t,v(r);var i=L.lastIndexOf((0,c.createPath)(W.location)),o=L.slice(0,-1===i?0:i+1);o.push(t),L=o,k({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),k()}})},R=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,u.createLocation)(e,void 0,void 0,W.location);M.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=(0,c.createPath)(n),r=x(y+t);m()!==r&&(S=t,g(r));var i=L.indexOf((0,c.createPath)(W.location));-1!==i&&(L[i]=t),k({action:"REPLACE",location:n})}})},j=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},z=function(){return j(-1)},F=function(){return j(1)},B=0,U=function(e){B+=e,1===B?(0,d.addEventListener)(window,"hashchange",T):0===B&&(0,d.removeEventListener)(window,"hashchange",T)},V=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=M.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},Y=function(e){var t=M.appendListener(e);return U(1),function(){U(-1),t()}},W={length:t.length,action:"POP",location:P,createHref:I,push:N,replace:R,go:j,goBack:z,goForward:F,block:H,listen:Y};return W};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(95),s=r(a),l=n(140),u=n(252),c=n(253),f=r(c),h=function(e,t,n){return Math.min(Math.max(e,t),n)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,c=void 0===a?0:a,d=e.keyLength,p=void 0===d?6:d,m=(0,f.default)(),v=function(e){o(C,e),C.length=C.entries.length,m.notifyListeners(C.location,C.action)},g=function(){return Math.random().toString(36).substr(2,p)},y=h(c,0,r.length-1),b=r.map(function(e){return"string"===typeof e?(0,u.createLocation)(e,void 0,g()):(0,u.createLocation)(e,void 0,e.key||g())}),x=l.createPath,_=function(e,n){(0,s.default)(!("object"===("undefined"===typeof e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(e,n,g(),C.location);m.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=C.index,n=t+1,i=C.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),v({action:"PUSH",location:r,index:n,entries:i})}})},w=function(e,n){(0,s.default)(!("object"===("undefined"===typeof e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(e,n,g(),C.location);m.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(C.entries[C.index]=r,v({action:"REPLACE",location:r}))})},M=function(e){var n=h(C.index+e,0,C.entries.length-1),r=C.entries[n];m.confirmTransitionTo(r,"POP",t,function(e){e?v({action:"POP",location:r,index:n}):v()})},k=function(){return M(-1)},E=function(){return M(1)},S=function(e){var t=C.index+e;return t>=0&&t<C.entries.length},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},A=function(e){return m.appendListener(e)},C={length:b.length,action:"POP",location:b[y],index:y,entries:b,createHref:x,push:_,replace:w,go:M,goBack:k,goForward:E,canGo:S,block:T,listen:A};return C};t.default=d},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"===typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!==typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!r[a[s]]&&!i[a[s]]&&(!n||!n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number",default:14},buffer:{type:"number",default:64},tolerance:{type:"number",default:3},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean",default:!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_fill:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_circle:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["point","line"],default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"viewport",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!1,values:["none","both","width","height"],default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image","icon-text-fit","text-field"]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"viewport",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["left","center","right"],default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["none","uppercase","lowercase"],default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_raster:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none","has","!has"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},function:{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:["exponential","interval","categorical"],default:"exponential"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,"property-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},function(e,t){e.exports={name:"mapbox-gl",description:"A WebGL interactive maps library",version:"0.22.1",main:"js/mapbox-gl.js",license:"BSD-3-Clause",repository:{type:"git",url:"git://github.com/mapbox/mapbox-gl-js.git"},engines:{node:">=4.0.0"},dependencies:{csscolorparser:"^1.0.2",earcut:"^2.0.3","feature-filter":"^2.2.0","geojson-rewind":"^0.1.0","geojson-vt":"^2.4.0","gl-matrix":"^2.3.1","grid-index":"^1.0.0","mapbox-gl-function":"^1.2.1","mapbox-gl-shaders":"mapbox/mapbox-gl-shaders#de2ab007455aa2587c552694c68583f94c9f2747","mapbox-gl-style-spec":"mapbox/mapbox-gl-style-spec#83b1a3e5837d785af582efd5ed1a212f2df6a4ae","mapbox-gl-supported":"^1.2.0",pbf:"^1.3.2",pngjs:"^2.2.0","point-geometry":"^0.0.0",quickselect:"^1.0.0",request:"^2.39.0","resolve-url":"^0.2.1","shelf-pack":"^1.0.0",supercluster:"^2.0.1",unassertify:"^2.0.0",unitbezier:"^0.0.0","vector-tile":"^1.3.0","vt-pbf":"^2.0.2",webworkify:"^1.3.0","whoots-js":"^2.0.0"},devDependencies:{"babel-preset-react":"^6.11.1",babelify:"^7.3.0",benchmark:"~2.1.0",browserify:"^13.0.0",clipboard:"^1.5.12","concat-stream":"1.5.1",coveralls:"^2.11.8",doctrine:"^1.2.1",documentation:"https://github.com/documentationjs/documentation/archive/bb41619c734e59ef3fbc3648610032efcfdaaace.tar.gz","documentation-theme-utils":"3.0.0",envify:"^3.4.0",eslint:"^2.5.3","eslint-config-mourner":"^2.0.0","eslint-plugin-html":"^1.5.1",gl:"^4.0.1",handlebars:"4.0.5","highlight.js":"9.3.0",istanbul:"^0.4.2","json-loader":"^0.5.4",lodash:"^4.13.1","mapbox-gl-test-suite":"mapbox/mapbox-gl-test-suite#7babab52fb02788ebbc38384139bf350e8e38552","memory-fs":"^0.3.0",minifyify:"^7.0.1","npm-run-all":"^3.0.0",nyc:"6.4.0",proxyquire:"^1.7.9",remark:"4.2.2","remark-html":"3.0.0",sinon:"^1.15.4",st:"^1.2.0",tap:"^5.7.0","transform-loader":"^0.2.3","unist-util-visit":"1.1.0",vinyl:"1.1.1","vinyl-fs":"2.4.3",watchify:"^3.7.0",webpack:"^1.13.1","webworkify-webpack":"^1.1.3"},browser:{"./js/util/ajax.js":"./js/util/browser/ajax.js","./js/util/browser.js":"./js/util/browser/browser.js","./js/util/canvas.js":"./js/util/browser/canvas.js","./js/util/dom.js":"./js/util/browser/dom.js","./js/util/web_worker.js":"./js/util/browser/web_worker.js"},scripts:{"build-dev":"browserify js/mapbox-gl.js --debug --standalone mapboxgl > dist/mapbox-gl-dev.js && tap --no-coverage test/build/dev.test.js","watch-dev":"watchify js/mapbox-gl.js --debug --standalone mapboxgl -o dist/mapbox-gl-dev.js -v","build-min":"browserify js/mapbox-gl.js --debug -t unassertify --plugin [minifyify --map mapbox-gl.js.map --output dist/mapbox-gl.js.map] --standalone mapboxgl > dist/mapbox-gl.js && tap --no-coverage test/build/min.test.js","build-token":"browserify debug/access-token-src.js --debug -t envify > debug/access-token.js","watch-bench":"node bench/download-data.js && watchify bench/index.js --plugin [minifyify --no-map] -t [babelify --presets react] -t unassertify -t envify -o bench/bench.js -v","start-server":"st --no-cache --localhost --port 9966 --index index.html .",start:"run-p build-token watch-dev watch-bench start-server","start-debug":"run-p build-token watch-dev start-server","start-bench":"run-p build-token watch-bench start-server","build-docs":"documentation build --github --format html -c documentation.yml --theme ./docs/_theme --output docs/api/",build:"npm run build-docs # invoked by publisher when publishing docs on the mb-pages branch","start-docs":"npm run build-min && npm run build-docs && jekyll serve -w",lint:"eslint  --ignore-path .gitignore js test bench docs/_posts/examples/*.html","open-changed-examples":"git diff --name-only mb-pages HEAD -- docs/_posts/examples/*.html | awk '{print \"http://127.0.0.1:4000/mapbox-gl-js/example/\" substr($0,33,length($0)-37)}' | xargs open","test-suite":"node test/render.test.js && node test/query.test.js",test:"npm run lint && tap --reporter dot test/js/*/*.js test/build/webpack.test.js"}}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(72))},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=y.exec(e));){var c=n[0],f=n[1],h=n.index;if(a+=e.slice(o,h),o=h+c.length,f)a+=f[1];else{var d=e[o],p=n[2],m=n[3],v=n[4],g=n[5],b=n[6],x=n[7];a&&(r.push(a),a="");var _=null!=p&&null!=d&&d!==p,w="+"===b||"*"===b,M="?"===b||"*"===b,k=n[2]||s,E=v||g;r.push({name:m||i++,prefix:p||"",delimiter:k,optional:M,repeat:w,partial:_,asterisk:!!x,pattern:E?u(E):x?".*":"[^"+l(k)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},l=r||{},u=l.pretty?o:encodeURIComponent,c=0;c<e.length;c++){var f=e[c];if("string"!==typeof f){var h,d=s[f.name];if(null==d){if(f.optional){f.partial&&(i+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(g(d)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=u(d[p]),!t[c].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===p?f.prefix:f.delimiter)+h}}else{if(h=f.asterisk?a(d):u(d),!t[c].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');i+=f.prefix+h}}else i+=f}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}function d(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(v(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}function p(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){g(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)o+=l(s);else{var u=l(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+u+h+")*"),h=s.optional?s.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")",o+=h}}var d=l(n.delimiter||"/"),p=o.slice(-d.length)===d;return r||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+d+"|$)",c(new RegExp("^"+o,f(n)),t)}function v(e,t,n){return g(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):g(e)?d(e,t,n):p(e,t,n)}var g=n(758);e.exports=v,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=n(398);e.exports=i;var o=r(!0),a=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return l;if(!0===e)return o;if(!1===e)return a;if(0===e)return u;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var l=s.then;if("function"===typeof l){return void new i(l.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){u=!1,s._10=null,s._97=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||l))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&r(),u=!0;var i=0,c=0,f={};s._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},s._97=function(e,n){0===e._45&&(e._72=i++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,l)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(398),l=[ReferenceError,TypeError,RangeError],u=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";var r=n(47),i=n(9),o=n(400);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(47),i=n(9),o=n(14),a=n(400),s=n(765);e.exports=function(e,t){function n(e){var t=e&&(k&&e[k]||e[E]);if("function"===typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function n(n,r,o,s,l,c,f){if(s=s||S,c=c||o,f!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[o]?n?new u(null===r[o]?"The "+l+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+l+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,o,s,l,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(e){function t(t,n,r,i,o,a){var s=t[n];if(x(s)!==e)return new u("Invalid "+i+" `"+o+"` of type `"+_(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function h(e){function t(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new u("Invalid "+i+" `"+o+"` of type `"+x(s)+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<s.length;l++){var c=e(s,l,r,i,o+"["+l+"]",a);if(c instanceof Error)return c}return null}return c(t)}function d(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||S;return new u("Invalid "+i+" `"+o+"` of type `"+M(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function p(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):r.thatReturnsNull}function m(e){function t(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=x(s);if("object"!==l)return new u("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,o+"."+c,a);if(f instanceof Error)return f}return null}return c(t)}function v(e){function t(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!==typeof i)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(i),n),r.thatReturnsNull}return c(t)}function g(e){function t(t,n,r,i,o){var s=t[n],l=x(s);if("object"!==l)return new u("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var h=f(s,c,r,i,o+"."+c,a);if(h)return h}}return null}return c(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!y(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}function x(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function _(e){if("undefined"===typeof e||null===e)return""+e;var t=x(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function M(e){return e.constructor&&e.constructor.name?e.constructor.name:S}var k="function"===typeof Symbol&&Symbol.iterator,E="@@iterator",S="<<anonymous>>",T={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:h,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new u("Invalid "+i+" `"+o+"` of type `"+x(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}(),instanceOf:d,node:function(){function e(e,t,n,r,i){return y(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:p,oneOfType:v,shape:g};return u.prototype=Error.prototype,T.checkPropTypes=s,T.PropTypes=T,T}},function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(P[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(O,"."),r+s(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?I(e/E):e>>1,e+=I(e/t);e>L*M>>1;r+=_)e=I(e/L);return I(r+(L+1)*e/(e+k))}function p(e){var t,n,r,i,o,s,l,u,h,p,m=[],v=e.length,g=0,y=T,b=S;for(n=e.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=g,s=1,l=_;i>=v&&a("invalid-input"),u=f(e.charCodeAt(i++)),(u>=_||u>I((x-g)/s))&&a("overflow"),g+=u*s,h=l<=b?w:l>=b+M?M:l-b,!(u<h);l+=_)p=_-h,s>I(x/p)&&a("overflow"),s*=p;t=m.length+1,b=d(g-o,t,0==o),I(g/t)>x-y&&a("overflow"),y+=I(g/t),g%=t,m.splice(g++,0,y)}return c(m)}function m(e){var t,n,r,i,o,s,l,c,f,p,m,v,g,y,b,k=[];for(e=u(e),v=e.length,t=T,n=0,o=S,s=0;s<v;++s)(m=e[s])<128&&k.push(N(m));for(r=i=k.length,i&&k.push(A);r<v;){for(l=x,s=0;s<v;++s)(m=e[s])>=t&&m<l&&(l=m);for(g=r+1,l-t>I((x-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;s<v;++s)if(m=e[s],m<t&&++n>x&&a("overflow"),m==t){for(c=n,f=_;p=f<=o?w:f>=o+M?M:f-o,!(c<p);f+=_)b=c-p,y=_-p,k.push(N(h(p+b%y,0))),c=I(b/y);k.push(N(h(c,0))),o=d(n,g,r==i),n=0,++r}++n,++t}return k.join("")}function v(e){return l(e,function(e){return C.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return D.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var b,x=2147483647,_=36,w=1,M=26,k=38,E=700,S=72,T=128,A="-",C=/^xn--/,D=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=_-w,I=Math.floor,N=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:u,encode:c},decode:p,encode:m,toASCII:g,toUnicode:v},void 0!==(i=function(){return b}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(61)(e),n(29))},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,h,d,p,m=e[c].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),h=m.substr(v+1)):(f=m,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";t.decode=t.parse=n(769),t.encode=t.stringify=n(770)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classNames,n=e.date,r=e.months,i=e.locale,o=e.localeUtils,s=e.onClick;return a.default.createElement("div",{className:t.caption,onClick:s,role:"heading"},r?r[n.getMonth()]+" "+n.getFullYear():o.formatMonthTitle(n,i))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(7),a=r(o),s=n(84),l=r(s);i.propTypes={date:l.default.instanceOf(Date),months:l.default.arrayOf(l.default.string),locale:l.default.string,localeUtils:l.default.localeUtils,onClick:l.default.func,classNames:l.default.shape({caption:l.default.string.isRequired}).isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(e)return function(r){r.persist(),e(t,n,r)}}function o(e){var t=e.classNames,n=e.modifiersStyles,r=e.day,o=e.tabIndex,a=e.empty,l=e.modifiers,c=e.onMouseEnter,f=e.onMouseLeave,h=e.onClick,d=e.onKeyDown,p=e.onTouchStart,m=e.onTouchEnd,v=e.onFocus,g=e.ariaLabel,y=e.ariaDisabled,b=e.ariaSelected,x=e.children,_=t.day;t!==u.default?_+=" "+Object.keys(l).join(" "):_+=Object.keys(l).map(function(e){return" "+_+"--"+e}).join("");var w=void 0;return n&&Object.keys(l).filter(function(e){return!!n[e]}).forEach(function(e){w=Object.assign({},w,n[e])}),a?s.default.createElement("div",{role:"gridcell","aria-disabled":!0,className:_,style:w}):s.default.createElement("div",{className:_,tabIndex:o||0,style:w,role:"gridcell","aria-label":g,"aria-disabled":y.toString(),"aria-selected":b.toString(),onClick:i(h,r,l),onKeyDown:i(d,r,l),onMouseEnter:i(c,r,l),onMouseLeave:i(f,r,l),onTouchEnd:i(m,r,l),onTouchStart:i(p,r,l),onFocus:i(v,r,l)},x)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(7),s=r(a),l=n(256),u=r(l),c=n(84),f=r(c);o.propTypes={classNames:f.default.shape({day:f.default.string.isRequired}).isRequired,day:f.default.instanceOf(Date).isRequired,children:f.default.node.isRequired,ariaDisabled:f.default.bool,ariaLabel:f.default.string,ariaSelected:f.default.bool,empty:f.default.bool,modifiers:f.default.object,modifiersStyles:f.default.object,onClick:f.default.func,onKeyDown:f.default.func,onMouseEnter:f.default.func,onMouseLeave:f.default.func,onTouchEnd:f.default.func,onTouchStart:f.default.func,onFocus:f.default.func,tabIndex:f.default.number},o.defaultProps={modifiers:{},empty:!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(7),d=i(h),p=n(772),m=i(p),v=n(404),g=i(v),y=n(775),b=i(y),x=n(773),_=i(x),w=n(405),M=i(w),k=n(254),E=r(k),S=n(141),T=r(S),A=n(255),C=r(A),D=n(403),O=r(D),P=n(256),L=i(P),I=n(777),N=i(I),R=n(84),j=i(R),z=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return F.call(n),n.renderDayInMonth=n.renderDayInMonth.bind(n),n.showNextMonth=n.showNextMonth.bind(n),n.showPreviousMonth=n.showPreviousMonth.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleDayClick=n.handleDayClick.bind(n),n.handleDayKeyDown=n.handleDayKeyDown.bind(n),n.state=n.getStateFromProps(e),n}return u(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){this.props.month!==e.month&&this.setState(this.getStateFromProps(e))}},{key:"getDayNodes",value:function(){var e=void 0;e=this.props.classNames===L.default?this.props.classNames.day+"--"+this.props.classNames.outside:""+this.props.classNames.outside;var t=this.props.classNames.day.replace(/ /g,"."),n=e.replace(/ /g,"."),r="."+t+":not(."+n+")";return this.dayPicker.querySelectorAll(r)}},{key:"getNextNavigableMonth",value:function(){return T.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return T.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=T.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=T.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,n=t.fromMonth,r=t.toMonth;return!(!t.canChangeMonth||n&&E.getMonthsDiff(n,e)<0||r&&E.getMonthsDiff(r,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:E.startOfMonth(e)},function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)})}},{key:"showNextMonth",value:function(e){if(this.allowNextMonth()){var t=this.props.pagedNavigation?this.props.numberOfMonths:1,n=T.addMonths(this.state.currentMonth,t);this.showMonth(n,e)}}},{key:"showPreviousMonth",value:function(e){if(this.allowPreviousMonth()){var t=this.props.pagedNavigation?this.props.numberOfMonths:1,n=T.addMonths(this.state.currentMonth,-t);this.showMonth(n,e)}}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=T.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=T.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focusFirstDayOfMonth",value:function(){this.getDayNodes()[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=this.getDayNodes();e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,n=this.getDayNodes(),r=[].concat(a(n)).indexOf(e);0===r?this.showPreviousMonth(function(){return t.focusLastDayOfMonth()}):n[r-1].focus()}},{key:"focusNextDay",value:function(e){var t=this,n=this.getDayNodes(),r=[].concat(a(n)).indexOf(e);r===n.length-1?this.showNextMonth(function(){return t.focusFirstDayOfMonth()}):n[r+1].focus()}},{key:"focusNextWeek",value:function(e){var t=this,n=this.getDayNodes(),r=[].concat(a(n)).indexOf(e);r>n.length-8?this.showNextMonth(function(){var e=n.length-r,i=7-e;t.getDayNodes()[i].focus()}):n[r+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,n=this.getDayNodes(),r=[].concat(a(n)).indexOf(e);r<=6?this.showPreviousMonth(function(){var e=t.getDayNodes();e[e.length-7+r].focus()}):n[r-7].focus()}},{key:"handleKeyDown",value:function(e){switch(e.persist(),e.keyCode){case N.default.LEFT:this.showPreviousMonth();break;case N.default.RIGHT:this.showNextMonth();break;case N.default.UP:this.showPreviousYear();break;case N.default.DOWN:this.showNextYear()}this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"handleDayKeyDown",value:function(e,t,n){switch(n.persist(),n.keyCode){case N.default.LEFT:E.cancelEvent(n),this.focusPreviousDay(n.target);break;case N.default.RIGHT:E.cancelEvent(n),this.focusNextDay(n.target);break;case N.default.UP:E.cancelEvent(n),this.focusPreviousWeek(n.target);break;case N.default.DOWN:E.cancelEvent(n),this.focusNextWeek(n.target);break;case N.default.ENTER:case N.default.SPACE:E.cancelEvent(n),this.props.onDayClick&&this.handleDayClick(e,t,n)}this.props.onDayKeyDown&&this.props.onDayKeyDown(e,t,n)}},{key:"handleDayClick",value:function(e,t,n){n.persist(),t.outside&&this.handleOutsideDayClick(e),this.props.onDayClick(e,t,n)}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,r=E.getMonthsDiff(t,e);r>0&&r>=n?this.showNextMonth():r<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,n=e.locale,r=e.localeUtils,i=e.canChangeMonth,a=e.navbarElement,s=o(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!i)return null;var l={classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:s.dir,labels:t,locale:n,localeUtils:r};return d.default.isValidElement(a)?d.default.cloneElement(a,l):d.default.createElement(a,l)}},{key:"renderDayInMonth",value:function(e,t){var n=E.getModifiersFromProps(this.props),r=O.getModifiersForDay(e,n);T.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,this.props.classNames.today)&&r.push(this.props.classNames.today),e.getMonth()!==t.getMonth()&&r.push(this.props.classNames.outside);var i=e.getMonth()!==t.getMonth(),o=null;this.props.onDayClick&&!i&&(o=-1,1===e.getDate()&&(o=this.props.tabIndex));var a=""+e.getFullYear()+e.getMonth()+e.getDate(),s={};return r.forEach(function(e){s[e]=!0}),d.default.createElement(_.default,{key:(i?"outside-":"")+a,classNames:this.props.classNames,day:e,modifiers:s,modifiersStyles:this.props.modifiersStyles,empty:i&&!this.props.enableOutsideDays&&!this.props.fixedWeeks,tabIndex:o,ariaLabel:this.props.localeUtils.formatDay(e,this.props.locale),ariaDisabled:i||r.indexOf("disabled")>-1,ariaSelected:r.indexOf("selected")>-1,onMouseEnter:this.props.onDayMouseEnter,onMouseLeave:this.props.onDayMouseLeave,onKeyDown:this.handleDayKeyDown,onTouchStart:this.props.onDayTouchStart,onTouchEnd:this.props.onDayTouchEnd,onFocus:this.props.onDayFocus,onClick:this.props.onDayClick?this.handleDayClick:void 0},this.props.renderDay(e,s))}},{key:"renderMonths",value:function(){for(var e=[],t=E.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var r=T.addMonths(this.state.currentMonth,n);e.push(d.default.createElement(b.default,{key:n,classNames:this.props.classNames,month:r,months:this.props.months,weekdayElement:this.props.weekdayElement,captionElement:this.props.captionElement,fixedWeeks:this.props.fixedWeeks,weekdaysShort:this.props.weekdaysShort,weekdaysLong:this.props.weekdaysLong,locale:this.props.locale,localeUtils:this.props.localeUtils,firstDayOfWeek:t,footer:this.props.todayButton&&this.renderTodayButton(),showWeekNumbers:this.props.showWeekNumbers,onCaptionClick:this.props.onCaptionClick,onWeekClick:this.props.onWeekClick},this.renderDayInMonth))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderTodayButton",value:function(){return d.default.createElement("button",{tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),d.default.createElement("div",c({},this.props.containerProps,{className:t,ref:function(t){e.dayPicker=t},role:"application",lang:this.props.locale,tabIndex:this.props.canChangeMonth&&this.props.tabIndex,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur}),this.renderNavbar(),this.renderMonths())}}]),t}(h.Component);z.VERSION="5.5.3",z.propTypes={initialMonth:j.default.instanceOf(Date),month:j.default.instanceOf(Date),numberOfMonths:j.default.number,fromMonth:j.default.instanceOf(Date),toMonth:j.default.instanceOf(Date),canChangeMonth:j.default.bool,reverseMonths:j.default.bool,pagedNavigation:j.default.bool,todayButton:j.default.string,showWeekNumbers:j.default.bool,selectedDays:j.default.oneOfType([R.ModifierPropType,j.default.arrayOf(R.ModifierPropType)]),disabledDays:j.default.oneOfType([R.ModifierPropType,j.default.arrayOf(R.ModifierPropType)]),modifiers:j.default.object,modifiersStyles:j.default.object,dir:j.default.string,firstDayOfWeek:j.default.oneOf([0,1,2,3,4,5,6]),labels:j.default.shape({nextMonth:j.default.string.isRequired,previousMonth:j.default.string.isRequired}).isRequired,locale:j.default.string,localeUtils:j.default.localeUtils,months:j.default.arrayOf(j.default.string),weekdaysLong:j.default.arrayOf(j.default.string),weekdaysShort:j.default.arrayOf(j.default.string),enableOutsideDays:j.default.bool,fixedWeeks:j.default.bool,classNames:j.default.shape({body:j.default.string,container:j.default.string,day:j.default.string.isRequired,disabled:j.default.string.isRequired,footer:j.default.string,interactionDisabled:j.default.string,month:j.default.string,navBar:j.default.string,outside:j.default.string.isRequired,selected:j.default.string.isRequired,today:j.default.string.isRequired,todayButton:j.default.string,week:j.default.string}),className:j.default.string,containerProps:j.default.object,tabIndex:j.default.number,renderDay:j.default.func,weekdayElement:j.default.oneOfType([j.default.element,j.default.func,j.default.instanceOf(h.Component)]),navbarElement:j.default.oneOfType([j.default.element,j.default.func,j.default.instanceOf(h.Component)]),captionElement:j.default.oneOfType([j.default.element,j.default.func,j.default.instanceOf(h.Component)]),onBlur:j.default.func,onFocus:j.default.func,onKeyDown:j.default.func,onDayClick:j.default.func,onDayKeyDown:j.default.func,onDayMouseEnter:j.default.func,onDayMouseLeave:j.default.func,onDayTouchStart:j.default.func,onDayTouchEnd:j.default.func,onDayFocus:j.default.func,onMonthChange:j.default.func,onCaptionClick:j.default.func,onWeekClick:j.default.func},z.defaultProps={classNames:L.default,tabIndex:0,initialMonth:new Date,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:C,enableOutsideDays:!1,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,renderDay:function(e){return e.getDate()},weekdayElement:d.default.createElement(M.default,null),navbarElement:d.default.createElement(g.default,{classNames:L.default}),captionElement:d.default.createElement(m.default,{classNames:L.default})};var F=function(){var e=this;this.getStateFromProps=function(e){var t=E.startOfMonth(e.month||e.initialMonth),n=t;if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var r=E.getMonthsDiff(e.fromMonth,n);n=T.addMonths(e.fromMonth,Math.floor(r/e.numberOfMonths)*e.numberOfMonths)}return{currentMonth:n}},this.dayPicker=null,this.handleTodayButtonClick=function(t){e.showMonth(new Date),t.target.blur()}};t.default=z},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.classNames,n=e.month,r=e.months,i=e.fixedWeeks,o=e.captionElement,s=e.weekdayElement,l=e.locale,u=e.localeUtils,d=e.weekdaysLong,p=e.weekdaysShort,m=e.firstDayOfWeek,v=e.onCaptionClick,g=e.children,y=e.footer,b=e.showWeekNumbers,x=e.onWeekClick,_={date:n,classNames:t,months:r,localeUtils:u,locale:l,onClick:v?function(e){return v(n,e)}:void 0},w=a.default.isValidElement(o)?a.default.cloneElement(o,_):a.default.createElement(o,_),M=(0,f.getWeekArray)(n,m,i);return a.default.createElement("div",{className:t.month,role:"grid"},w,a.default.createElement(c.default,{classNames:t,weekdaysShort:p,weekdaysLong:d,firstDayOfWeek:m,showWeekNumbers:b,locale:l,localeUtils:u,weekdayElement:s}),a.default.createElement("div",{className:t.body,role:"rowgroup"},M.map(function(e){var r=void 0;return b&&(r=(0,h.getWeekNumber)(e[0])),a.default.createElement("div",{key:e[0].getTime(),className:t.week,role:"row"},b&&a.default.createElement("div",{className:t.weekNumber,tabIndex:0,role:"gridcell",onClick:function(t){return x(r,e,t)}},r),e.map(function(e){return g(e,n)}))})),y&&a.default.createElement("div",{className:t.footer},y))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(7),a=r(o),s=n(84),l=r(s),u=n(776),c=r(u),f=n(254),h=n(141);i.propTypes={classNames:l.default.shape({month:l.default.string.isRequired,body:l.default.string.isRequired,week:l.default.string.isRequired}).isRequired,month:l.default.instanceOf(Date).isRequired,months:l.default.arrayOf(l.default.string),fixedWeeks:l.default.bool,captionElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(a.default.Component)]).isRequired,weekdayElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(a.default.Component)]),footer:l.default.node,showWeekNumbers:l.default.bool,onWeekClick:l.default.func,locale:l.default.string.isRequired,localeUtils:l.default.localeUtils.isRequired,weekdaysLong:l.default.arrayOf(l.default.string),weekdaysShort:l.default.arrayOf(l.default.string),firstDayOfWeek:l.default.number.isRequired,onCaptionClick:l.default.func,children:l.default.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=e.classNames,n=e.firstDayOfWeek,r=e.showWeekNumbers,i=e.weekdaysLong,o=e.weekdaysShort,s=e.locale,l=e.localeUtils,u=e.weekdayElement,c=[],f=0;f<7;f+=1){var h=(f+n)%7,d={key:f,className:t.weekday,weekday:h,weekdaysLong:i,weekdaysShort:o,localeUtils:l,locale:s},p=a.default.isValidElement(u)?a.default.cloneElement(u,d):a.default.createElement(u,d);c.push(p)}return a.default.createElement("div",{className:t.weekdays,role:"rowgroup"},a.default.createElement("div",{className:t.weekdaysRow,role:"row"},r&&a.default.createElement("div",{className:t.weekday}),c))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(7),a=r(o),s=n(84),l=r(s);i.propTypes={classNames:l.default.shape({weekday:l.default.string.isRequired,weekdays:l.default.string.isRequired,weekdaysRow:l.default.string.isRequired}).isRequired,firstDayOfWeek:l.default.number.isRequired,weekdaysLong:l.default.arrayOf(l.default.string),weekdaysShort:l.default.arrayOf(l.default.string),showWeekNumbers:l.default.bool,locale:l.default.string.isRequired,localeUtils:l.default.localeUtils.isRequired,weekdayElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(a.default.Component)])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,ESC:27}},function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=r},function(e,t,n){"use strict";var r=n(26),i=n(384),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case"topCompositionStart":return E.compositionStart;case"topCompositionEnd":return E.compositionEnd;case"topCompositionUpdate":return E.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==g.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"===typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var l,u;if(b?l=i(e):T?a(e,n)&&(l=E.compositionEnd):o(e,n)&&(l=E.compositionStart),!l)return null;w&&(T||l!==E.compositionStart?l===E.compositionEnd&&T&&(u=T.getData()):T=p.getPooled(r));var c=m.getPooled(l,t,n,r);if(u)c.data=u;else{var f=s(n);null!==f&&(c.data=f)}return h.accumulateTwoPhaseDispatches(c),c}function u(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==M?null:(S=!0,k);case"topTextInput":var n=t.data;return n===k&&S?null:n;default:return null}}function c(e,t){if(T){if("topCompositionEnd"===e||!b&&a(e,t)){var n=T.getData();return p.release(T),T=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return w?null:t.data;default:return null}}function f(e,t,n,r){var i;if(!(i=_?u(e,n):c(e,n)))return null;var o=v.getPooled(E.beforeInput,t,n,r);return o.data=i,h.accumulateTwoPhaseDispatches(o),o}var h=n(143),d=n(41),p=n(786),m=n(823),v=n(826),g=[9,13,27,32],y=229,b=d.canUseDOM&&"CompositionEvent"in window,x=null;d.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var _=d.canUseDOM&&"TextEvent"in window&&!x&&!function(){var e=window.opera;return"object"===typeof e&&"function"===typeof e.version&&parseInt(e.version(),10)<=12}(),w=d.canUseDOM&&(!b||x&&x>8&&x<=11),M=32,k=String.fromCharCode(M),E={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},S=!1,T=null,A={eventTypes:E,extractEvents:function(e,t,n,r){return[l(e,t,n,r),f(e,t,n,r)]}};e.exports=A},function(e,t,n){"use strict";var r=n(406),i=n(41),o=(n(54),n(712),n(832)),a=n(719),s=n(722),l=(n(14),s(function(e){return a(e)})),u=!1,c="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=l(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var l=u&&r.shorthandPropertyExpansions[a];if(l)for(var f in l)i[f]="";else i[a]=""}}}};e.exports=h},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=k.getPooled(A.change,D,e,E(e));x.accumulateTwoPhaseDispatches(t),M.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){C=e,D=t,C.attachEvent("onchange",i)}function s(){C&&(C.detachEvent("onchange",i),C=null,D=null)}function l(e,t){if("topChange"===e)return t}function u(e,t,n){"topFocus"===e?(s(),a(t,n)):"topBlur"===e&&s()}function c(e,t){C=e,D=t,O=e.value,P=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(C,"value",N),C.attachEvent?C.attachEvent("onpropertychange",h):C.addEventListener("propertychange",h,!1)}function f(){C&&(delete C.value,C.detachEvent?C.detachEvent("onpropertychange",h):C.removeEventListener("propertychange",h,!1),C=null,D=null,O=null,P=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,i(e))}}function d(e,t){if("topInput"===e)return t}function p(e,t,n){"topFocus"===e?(f(),c(t,n)):"topBlur"===e&&f()}function m(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&C&&C.value!==O)return O=C.value,D}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if("topClick"===e)return t}function y(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=n(142),x=n(143),_=n(41),w=n(26),M=n(60),k=n(73),E=n(269),S=n(270),T=n(423),A={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},C=null,D=null,O=null,P=null,L=!1;_.canUseDOM&&(L=S("change")&&(!document.documentMode||document.documentMode>8));var I=!1;_.canUseDOM&&(I=S("input")&&(!document.documentMode||document.documentMode>11));var N={get:function(){return P.get.call(this)},set:function(e){O=""+e,P.set.call(this,e)}},R={eventTypes:A,extractEvents:function(e,t,n,i){var o,a,s=t?w.getNodeFromInstance(t):window;if(r(s)?L?o=l:a=u:T(s)?I?o=d:(o=m,a=p):v(s)&&(o=g),o){var c=o(e,t);if(c){var f=k.getPooled(A.change,c,n,i);return f.type="change",x.accumulateTwoPhaseDispatches(f),f}}a&&a(e,s,t),"topBlur"===e&&y(t,s)}};e.exports=R},function(e,t,n){"use strict";var r=n(17),i=n(112),o=n(41),a=n(715),s=n(47),l=(n(9),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"===typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=r},function(e,t,n){"use strict";var r=n(143),i=n(26),o=n(189),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(s.window===s)l=s;else{var u=s.ownerDocument;l=u?u.defaultView||u.parentWindow:window}var c,f;if("topMouseOut"===e){c=t;var h=n.relatedTarget||n.toElement;f=h?i.getClosestInstanceFromNode(h):null}else c=null,f=t;if(c===f)return null;var d=null==c?l:i.getNodeFromInstance(c),p=null==f?l:i.getNodeFromInstance(f),m=o.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=d,m.relatedTarget=p;var v=o.getPooled(a.mouseEnter,f,n,s);return v.type="mouseenter",v.target=p,v.relatedTarget=d,r.accumulateEnterLeaveDispatches(m,v,c,f),[m,v]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(20),o=n(94),a=n(421);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(113),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=u},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(114),o=n(422),a=(n(261),n(271)),s=n(425);n(14);"undefined"!==typeof t&&n.i({NODE_ENV:"production",PUBLIC_URL:"."});var l={instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,l,u,c,f){if(t||e){var h,d;for(h in t)if(t.hasOwnProperty(h)){d=e&&e[h];var p=d&&d._currentElement,m=t[h];if(null!=d&&a(p,m))i.receiveComponent(d,m,s,c),t[h]=d;else{d&&(r[h]=i.getHostNode(d),i.unmountComponent(d,!1));var v=o(m,!0);t[h]=v;var g=i.mountComponent(v,s,l,u,c,f);n.push(g)}}for(h in e)!e.hasOwnProperty(h)||t&&t.hasOwnProperty(h)||(d=e[h],r[h]=i.getHostNode(d),i.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};e.exports=l}).call(t,n(72))},function(e,t,n){"use strict";var r=n(257),i=n(796),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";function r(e){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=n(17),s=n(20),l=n(115),u=n(263),c=n(74),f=n(264),h=n(144),d=(n(54),n(416)),p=n(114),m=n(107),v=(n(9),n(248)),g=n(271),y=(n(14),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var b=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var u,c=this._currentElement.props,f=this._processContext(s),d=this._currentElement.type,p=e.getUpdateQueue(),v=i(d),g=this._constructComponent(v,c,f,p);v||null!=g&&null!=g.render?o(d)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(u=g,null===g||!1===g||l.isValidElement(g)||a("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=y.StatelessFunctional);g.props=c,g.context=f,g.refs=m,g.updater=p,this._instance=g,h.set(g,this);var x=g.state;void 0===x&&(g.state=x=null),("object"!==typeof x||Array.isArray(x))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var _;return _=g.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,s):this.performInitialMount(u,t,n,e,s),g.componentDidMount&&e.getReactMountReady().enqueue(g.componentDidMount,g),_},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var s=d.getType(e);this._renderedNodeType=s;var l=this._instantiateReactComponent(e,s!==d.EMPTY);this._renderedComponent=l;var u=p.mountComponent(l,r,t,n,this._processChildContext(i),a);return u},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(p.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!==typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var i in t)i in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",i);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?p.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o&&a("136",this.getName()||"ReactCompositeComponent");var s,l=!1;this._context===i?s=o.context:(s=this._processContext(i),l=!0);var u=t.props,c=n.props;t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,s);var f=this._processPendingState(c,s),h=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?h=o.shouldComponentUpdate(c,f,s):this._compositeType===y.PureClass&&(h=!v(u,c)||!v(o.state,f))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,s,e,i)):(this._currentElement=n,this._context=i,o.props=c,o.state=f,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var l=r[a];s(o,"function"===typeof l?l.call(n,o,e,t):l)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(g(r,i))p.receiveComponent(n,i,e,this._processChildContext(t));else{var a=p.getHostNode(n);p.unmountComponent(n,!1);var s=d.getType(i);this._renderedNodeType=s;var l=this._instantiateReactComponent(i,s!==d.EMPTY);this._renderedComponent=l;var u=p.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(a,u,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;return e.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||l.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=x},function(e,t,n){"use strict";var r=n(26),i=n(804),o=n(415),a=n(114),s=n(60),l=n(817),u=n(833),c=n(420),f=n(840);n(14);i.inject();var h={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=h},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(G[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&m("60"),"object"===typeof t.dangerouslySetInnerHTML&&U in t.dangerouslySetInnerHTML||m("61")),null!=t.style&&"object"!==typeof t.style&&m("62",r(e)))}function o(e,t,n,r){if(!(r instanceof L)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===H,s=o?i._node:i._ownerDocument;z(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;M.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;A.postMountWrapper(e)}function l(){var e=this;O.postMountWrapper(e)}function u(){var e=this;C.postMountWrapper(e)}function c(){var e=this;e._rootNodeID||m("63");var t=j(e);switch(t||m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(n,Y[n],t));break;case"source":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t),E.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent("topReset","reset",t),E.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent("topInvalid","invalid",t)]}}function f(){D.postUpdateWrapper(this)}function h(e){K.call(Z,e)||(X.test(e)||m("65",e),Z[e]=!0)}function d(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;h(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(17),v=n(20),g=n(779),y=n(781),b=n(112),x=n(258),_=n(113),w=n(408),M=n(142),k=n(259),E=n(188),S=n(409),T=n(26),A=n(797),C=n(798),D=n(410),O=n(801),P=(n(54),n(810)),L=n(815),I=(n(47),n(191)),N=(n(9),n(270),n(248),n(272),n(14),S),R=M.deleteListener,j=T.getNodeFromInstance,z=E.listenTo,F=k.registrationNameModules,B={string:!0,number:!0},U="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},q={listing:!0,pre:!0,textarea:!0},G=v({menuitem:!0},W),X=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Z={},K={}.hasOwnProperty,$=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=$++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"input":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":C.mountWrapper(this,o,t),o=C.getHostProps(this,o);break;case"select":D.mountWrapper(this,o,t),o=D.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":O.mountWrapper(this,o,t),o=O.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}i(this,o);var a,f;null!=t?(a=t._namespaceURI,f=t._tag):n._tag&&(a=n._namespaceURI,f=n._tag),(null==a||a===x.svg&&"foreignobject"===f)&&(a=x.html),a===x.html&&("svg"===this._tag?a=x.svg:"math"===this._tag&&(a=x.mathml)),this._namespaceURI=a;var h;if(e.useCreateElement){var d,p=n._ownerDocument;if(a===x.html)if("script"===this._tag){var m=p.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",d=m.removeChild(m.firstChild)}else d=o.is?p.createElement(this._currentElement.type,o.is):p.createElement(this._currentElement.type);else d=p.createElementNS(a,this._currentElement.type);T.precacheNode(this,d),this._flags|=N.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(d),this._updateDOMProperties(null,o,e);var y=b(d);this._createInitialChildren(e,o,r,y),h=y}else{var _=this._createOpenTagMarkupAndPutListeners(e,o),M=this._createContentMarkup(e,o,r);h=!M&&W[this._tag]?_+"/>":_+">"+M+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":case"button":o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return h},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(F.hasOwnProperty(r))i&&o(this,r,i,e);else{"style"===r&&(i&&(i=this._previousStyleCopy=v({},t.style)),i=y.createMarkupForStyles(i,this));var a=null;null!=this._tag&&d(this._tag,t)?V.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,i)):a=w.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=I(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)b.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"input":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"option":o=C.getHostProps(this,o),a=C.getHostProps(this,a);break;case"select":o=D.getHostProps(this,o),a=D.getHostProps(this,a);break;case"textarea":o=O.getHostProps(this,o),a=O.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(f,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else F.hasOwnProperty(r)?e[r]&&R(this,r):d(this._tag,e)?V.hasOwnProperty(r)||w.deleteValueForAttribute(j(this),r):(_.properties[r]||_.isCustomAttribute(r))&&w.deleteValueForProperty(j(this),r);for(r in t){var l=t[r],u="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&l!==u&&(null!=l||null!=u))if("style"===r)if(l?l=this._previousStyleCopy=v({},l):this._previousStyleCopy=null,u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(a=a||{},a[i]=l[i])}else a=l;else if(F.hasOwnProperty(r))l?o(this,r,l,n):u&&R(this,r);else if(d(this._tag,t))V.hasOwnProperty(r)||w.setValueForAttribute(j(this),r,l);else if(_.properties[r]||_.isCustomAttribute(r)){var c=j(this);null!=l?w.setValueForProperty(c,r,l):w.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(j(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,o=B[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,u=null!=o?null:t.children,c=null!=i||null!=a,f=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return j(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),T.uncacheNode(this),M.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return j(this)}},v(p.prototype,p.Mixin,P.Mixin),e.exports=p},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(272),9);e.exports=r},function(e,t,n){"use strict";var r=n(20),i=n(112),o=n(26),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};e.exports=r},function(e,t,n){"use strict";var r=n(257),i=n(26),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);f.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=c.getNodeFromInstance(this),s=o;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),h=0;h<l.length;h++){var d=l[h];if(d!==o&&d.form===o.form){var p=c.getInstanceFromNode(d);p||a("90"),f.asap(r,p)}}}return n}var a=n(17),s=n(20),l=n(408),u=n(262),c=n(26),f=n(60),h=(n(9),n(14),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=u.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var o=parseFloat(r.value,10)||0;i!=o&&(r.value=""+i)}else i!=r.value&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=h},function(e,t,n){"use strict";function r(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"===typeof e||"number"===typeof e?t+=e:l||(l=!0))}),t}var i=n(20),o=n(115),a=n(26),s=n(410),l=(n(14),!1),u={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var l;if(l=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var u=0;u<i.length;u++)if(""+i[u]===l){a=!0;break}}else a=""+i===l}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){a.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length;return{start:o,end:o+r}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var f=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=f?0:c.toString().length,d=h+u,p=document.createRange();p.setStart(n,i),p.setEnd(o,a);var m=p.collapsed;return{start:m?d:h,end:m?h:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(e,i),l=u(e,o);if(s&&l){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}var l=n(41),u=n(837),c=n(421),f=l.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:f?i:o,setOffsets:f?a:s};e.exports=h},function(e,t,n){"use strict";var r=n(17),i=n(20),o=n(257),a=n(112),s=n(26),l=n(191),u=(n(9),n(272),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var u=n._ownerDocument,c=u.createComment(o),f=u.createComment(" /react-text "),h=a(u.createDocumentFragment());return a.queueChild(h,a(c)),this._stringText&&a.queueChild(h,a(u.createTextNode(this._stringText))),a.queueChild(h,a(f)),s.precacheNode(this,c),this._closingComment=f,h}var d=l(this._stringText);return e.renderToStaticMarkup?d:"\x3c!--"+o+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=u},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return u.asap(r,this),n}var o=n(17),a=n(20),s=n(262),l=n(26),u=n(60),c=(n(9),n(14),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,l=t.children;null!=l&&(null!=a&&o("92"),Array.isArray(l)&&(l.length<=1||o("93"),l=l[0]),a=""+l),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||l("33"),"_hostNode"in t||l("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e||l("35"),"_hostNode"in t||l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e||l("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==a;)l.push(t),t=t._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],"bubbled",i);for(u=l.length;u-- >0;)n(l[u],"captured",o)}var l=n(17);n(9);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(20),o=n(60),a=n(190),s=n(47),l={initialize:s,close:function(){h.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];i(r.prototype,a,{getTransactionWrappers:function(){return c}});var f=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=h.isBatchingUpdates;return h.isBatchingUpdates=!0,a?e(t,n,r,i,o):f.perform(e,null,t,n,r,i,o)}};e.exports=h},function(e,t,n){"use strict";function r(){M||(M=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(h),y.EventPluginUtils.injectTreeTraversal(p),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:l,ChangeEventPlugin:a,SelectEventPlugin:_,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(f),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(i),y.DOMProperty.injectDOMPropertyConfig(u),y.DOMProperty.injectDOMPropertyConfig(x),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),y.Updates.injectReconcileTransaction(b),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var i=n(778),o=n(780),a=n(782),s=n(784),l=n(785),u=n(787),c=n(789),f=n(792),h=n(26),d=n(794),p=n(802),m=n(800),v=n(803),g=n(807),y=n(808),b=n(813),x=n(818),_=n(819),w=n(820),M=!1;e.exports={inject:r}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(142),o={handleTopLevel:function(e,t,n,o){r(i.extractEvents(e,t,n,o))}};e.exports=o},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=f.getNodeFromInstance(e),n=t.parentNode;return f.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=d(e.nativeEvent),n=f.getClosestInstanceFromNode(t),i=n;do{e.ancestors.push(i),i=i&&r(i)}while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,d(e.nativeEvent))}function a(e){e(p(window))}var s=n(20),l=n(383),u=n(41),c=n(94),f=n(26),h=n(60),d=n(269),p=n(717);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?l.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?l.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(113),i=n(142),o=n(260),a=n(263),s=n(411),l=n(188),u=n(413),c=n(60),f={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};e.exports=f},function(e,t,n){"use strict";var r=n(831),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){f.processChildrenUpdates(e,t)}var c=n(17),f=n(263),h=(n(144),n(54),n(74),n(114)),d=n(788),p=(n(47),n(834)),m=(n(9),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=p(t,s),d.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=0,u=h.mountComponent(s,t,this,this._hostContainerInfo,n,l);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,c=null,f=0,d=0,p=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=l(c,this.moveChild(v,m,f,d)),d=Math.max(v._mountIndex,d),v._mountIndex=f):(v&&(d=Math.max(v._mountIndex,d)),c=l(c,this._mountChildAtIndex(g,o[p],m,f,t,n)),p++),f++,m=h.getHostNode(g)}for(s in i)i.hasOwnProperty(s)&&(c=l(c,this._unmountChild(r[s],i[s])));c&&u(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;d.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";function r(e){return!(!e||"function"!==typeof e.attachRef||"function"!==typeof e.detachRef)}var i=n(17),o=(n(9),{addComponentAsRefTo:function(e,t,n){r(n)||i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||i("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(20),o=n(407),a=n(94),s=n(188),l=n(414),u=(n(54),n(190)),c=n(265),f={initialize:l.getSelectionInformation,close:l.restoreSelection},h={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[f,h,d],m={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,u,m),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"===typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"===typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(811),a={};a.attachRefs=function(e,t){if(null!==t&&"object"===typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"===typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"===typeof t&&(i=t.ref,o=t._owner),n!==i||"string"===typeof i&&o!==r},a.detachRefs=function(e,t){if(null!==t&&"object"===typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(20),o=n(94),a=n(190),s=(n(54),n(816)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a,c),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(265),o=(n(14),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&i.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&i.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&i.enqueueSetState(e,t)},e}());e.exports=o},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),e.exports=o},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!h(g,n)){g=n;var i=u.getPooled(p.select,v,e,t);return i.type="select",i.target=m,o.accumulateTwoPhaseDispatches(i),i}return null}var o=n(143),a=n(41),s=n(26),l=n(414),u=n(73),c=n(385),f=n(423),h=n(248),d=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,b=!1,x={eventTypes:p,extractEvents:function(e,t,n,r){if(!b)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(f(o)||"true"===o.contentEditable)&&(m=o,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,i(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(b=!0)}};e.exports=x},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var o=n(17),a=n(383),s=n(143),l=n(26),u=n(821),c=n(822),f=n(73),h=n(825),d=n(827),p=n(189),m=n(824),v=n(828),g=n(829),y=n(145),b=n(830),x=n(47),_=n(267),w=(n(9),{}),M={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};w[e]=i,M[r]=i});var k={},E={eventTypes:w,extractEvents:function(e,t,n,r){var i=M[e];if(!i)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=f;break;case"topKeyPress":if(0===_(n))return null;case"topKeyDown":case"topKeyUp":a=d;break;case"topBlur":case"topFocus":a=h;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=u;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=b;break;case"topCopy":case"topCut":case"topPaste":a=c}a||o("86",e);var l=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var o=r(e),s=l.getNodeFromInstance(e);k[o]||(k[o]=a.listen(s,"click",x))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);k[n].remove(),delete k[n]}}};e.exports=E},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(189),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(145),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(145),o=n(267),a=n(835),s=n(268),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(145),o=n(268),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(73),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(189),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;r<o;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(null==t||"boolean"===typeof t||""===t)return"";if(isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"===typeof t){t=t.trim()}return t+"px"}var i=n(406),o=(n(14),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?o.getNodeFromInstance(t):null;"function"===typeof e.render?i("44"):i("45",Object.keys(e))}var i=n(17),o=(n(74),n(26)),a=n(144),s=n(420);n(9),n(14);e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){if(e&&"object"===typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(261),n(425));n(14);"undefined"!==typeof t&&n.i({NODE_ENV:"production",PUBLIC_URL:"."}),e.exports=i}).call(t,n(72))},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(267),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"===typeof t)return t}var i="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var o=n(41),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(191);e.exports=r},function(e,t,n){"use strict";var r=n(415);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){var r,i;!function(o){function a(e,t,n,r){return function(e,i){var o=r({statics:{getClass:function(){return e.getClass?e.getClass():e}},getInstance:function(){return e.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},getDefaultProps:function(){return{excludeScrollbar:i&&i.excludeScrollbar}},componentDidMount:function(){if("undefined"!==typeof document&&document.createElement){var e,r=this.getInstance();if(i&&"function"===typeof i.handleClickOutside){if("function"!==typeof(e=i.handleClickOutside(r)))throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"===typeof r.handleClickOutside)e=t.Component.prototype.isPrototypeOf(r)?r.handleClickOutside.bind(r):r.handleClickOutside;else{if("function"!==typeof r.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");e=r.props.handleClickOutside}var o=n.findDOMNode(r);null===o&&(console.warn("Antipattern warning: there was no DOM node associated with the component that is being wrapped by outsideClick."),console.warn(["This is typically caused by having a component that starts life with a render function that","returns `null` (due to a state or props value), so that the component 'exist' in the React","chain of components, but not in the DOM.\n\nInstead, you need to refactor your code so that the","decision of whether or not to show your component is handled by the parent, in their render()","function.\n\nIn code, rather than:\n\n  A{render(){return check? <.../> : null;}\n  B{render(){<A check=... />}\n\nmake sure that you","use:\n\n  A{render(){return <.../>}\n  B{render(){return <...>{ check ? <A/> : null }<...>}}\n\nThat is:","the parent is always responsible for deciding whether or not to render any of its children.","It is not the child's responsibility to decide whether a render instruction from above should","get ignored or not by returning `null`.\n\nWhen any component gets its render() function called,","that is the signal that it should be rendering its part of the UI. It may in turn decide not to","render all of *its* children, but it should never return `null` for itself. It is not responsible","for that decision."].join(" ")));var a=this.__outsideClickHandler=p(o,r,e,this.props.outsideClickIgnoreClass||u,this.props.excludeScrollbar,this.props.preventDefault||!1,this.props.stopPropagation||!1),c=s.length;s.push(this),l[c]=a,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=s.indexOf(this);e>-1&&(l[e]&&l.splice(e,1),s.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!==typeof document){var t=this.props.eventTypes||c;t.forEach||(t=[t]),t.forEach(function(t){document.addEventListener(t,e)})}},disableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!==typeof document){var t=this.props.eventTypes||c;t.forEach||(t=[t]),t.forEach(function(t){document.removeEventListener(t,e)})}},render:function(){var n=this.props,r={};return Object.keys(this.props).forEach(function(e){"excludeScrollbar"!==e&&(r[e]=n[e])}),e.prototype.isReactComponent&&(r.ref="instance"),r.disableOnClickOutside=this.disableOnClickOutside,r.enableOnClickOutside=this.enableOnClickOutside,t.createElement(e,r)}});return function(e,t){var n=e.displayName||e.name||"Component";t.displayName="OnClickOutside("+n+")"}(e,o),o}}var s=[],l=[],u="ignore-react-onclickoutside",c=["mousedown","touchstart"],f=function(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))},h=function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(f(e,t,n))return!0;e=e.parentNode}return e},d=function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY},p=function(e,t,n,r,i,o,a){return function(t){o&&t.preventDefault(),a&&t.stopPropagation();var s=t.target;i&&d(t)||h(s,e,r)!==document||n(t)}};!function(o,a){r=[n(7),n(187),n(710)],void 0!==(i=function(e,t,n){return n||(n=e.createClass),a(o,e,t,n)}.apply(t,r))&&(e.exports=i)}(o,a)}(this)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=n(753),f=n.n(c),h=n(48),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.history=f()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.b,{history:this.history,children:this.props.children})},t}(s.a.Component);d.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=n(754),f=n.n(c),h=n(48),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.history=f()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.b,{history:this.history,children:this.props.children})},t}(s.a.Component);d.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node},t.a=d},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(7),o=n.n(i),a=n(19),s=n.n(a),l=n(48),u=n(426),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e){var t=e.to,n=e.exact,i=e.strict,a=e.location,s=e.activeClassName,h=e.className,d=e.activeStyle,p=e.style,m=e.isActive,v=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive"]);return o.a.createElement(l.a,{path:"object"===("undefined"===typeof t?"undefined":f(t))?t.pathname:t,exact:n,strict:i,location:a,children:function(e){var n=e.location,r=e.match,i=!!(m?m(r,n):r);return o.a.createElement(u.a,c({to:t,className:i?[s,h].filter(function(e){return e}).join(" "):h,style:i?c({},p,d):p},v))}})};h.propTypes={to:u.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func},h.defaultProps={activeClassName:"active"}},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";var r=n(48);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";n(48)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=n(755),f=n.n(c),h=n(273),d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(l))),o.history=f()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.a,{history:this.history,children:this.props.children})},t}(s.a.Component);d.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);c.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},c.defaultProps={when:!0},c.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(s.a.Component);c.propTypes={push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object])},c.defaultProps={push:!1},c.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(186),l=n.n(s),u=n(7),c=n.n(u),f=n(19),h=n.n(f),d=n(140),p=(n.n(d),n(273)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}},g=function(e,t){return e?m({},t,{pathname:n.i(d.addLeadingSlash)(e)+t.pathname}):t},y=function(e,t){if(!e)return t;var r=n.i(d.addLeadingSlash)(e);return 0!==t.pathname.indexOf(r)?t:m({},t,{pathname:t.pathname.substr(r.length)})},b=function(e){return"string"===typeof e?n.i(d.parsePath)(e):v(e)},x=function(e){return"string"===typeof e?e:n.i(d.createPath)(e)},_=function(e){return function(){l()(!1,"You cannot %s with <StaticRouter>",e)}},w=function(){},M=function(e){function t(){var r,a,s;i(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return r=a=o(this,e.call.apply(e,[this].concat(u))),a.createHref=function(e){return n.i(d.addLeadingSlash)(a.props.basename+x(e))},a.handlePush=function(e){var t=a.props,n=t.basename,r=t.context;r.action="PUSH",r.location=g(n,b(e)),r.url=x(r.location)},a.handleReplace=function(e){var t=a.props,n=t.basename,r=t.context;r.action="REPLACE",r.location=g(n,b(e)),r.url=x(r.location)},a.handleListen=function(){return w},a.handleBlock=function(){return w},s=r,o(a,s)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),i=r(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:y(t,b(n)),push:this.handlePush,replace:this.handleReplace,go:_("go"),goBack:_("goBack"),goForward:_("goForward"),listen:this.handleListen,block:this.handleBlock};return c.a.createElement(p.a,m({},i,{history:o}))},t}(c.a.Component);M.propTypes={basename:h.a.string,context:h.a.object.isRequired,location:h.a.oneOfType([h.a.string,h.a.object])},M.defaultProps={basename:"",location:"/"},M.childContextTypes={router:h.a.object.isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n.n(a),l=n(19),u=n.n(l),c=n(95),f=n.n(c),h=n(274),d=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillReceiveProps=function(e){f()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,r=this.props.location||e.location,i=void 0,o=void 0;return s.a.Children.forEach(t,function(t){if(s.a.isValidElement(t)){var a=t.props,l=a.path,u=a.exact,c=a.strict,f=a.from,d=l||f;null==i&&(o=t,i=d?n.i(h.a)(r.pathname,{path:d,exact:u,strict:c}):e.match)}}),i?s.a.cloneElement(o,{location:r,computedMatch:i}):null},t}(s.a.Component);d.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},d.propTypes={children:u.a.node,location:u.a.object}},function(e,t,n){"use strict";var r=n(7),i=(n.n(r),n(19)),o=(n.n(i),n(756));n.n(o),n(427),Object.assign},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";var r=n(117),i=(n(9),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},f={addPoolingTo:c,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=f},function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);g(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,i,n,v.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,o+(!l.key||t&&t.key===l.key?"":r(l.key)+"/")+n)),i.push(l))}function u(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,i,o);g(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function f(e,t,n){return null}function h(e,t){return g(e,f,null)}function d(e){var t=[];return u(e,t,null,v.thatReturnsArgument),t}var p=n(861),m=n(116),v=n(47),g=n(872),y=p.twoArgumentPooler,b=p.fourArgumentPooler,x=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,b);var _={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:h,toArray:d};e.exports=_},function(e,t,n){"use strict";function r(e){return e}function i(e,t){var n=x.hasOwnProperty(t)?x[t]:null;w.hasOwnProperty(t)&&"OVERRIDE_BASE"!==n&&h("73",t),e&&"DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n&&h("74",t)}function o(e,t){if(t){"function"===typeof t&&h("75"),m.isValidElement(t)&&h("76");var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(y)&&_.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==y){var a=t[o],s=n.hasOwnProperty(o);if(i(s,o),_.hasOwnProperty(o))_[o](e,a);else{var c=x.hasOwnProperty(o),f="function"===typeof a,d=f&&!c&&!s&&!1!==t.autobind;if(d)r.push(o,a),n[o]=a;else if(s){var p=x[o];(!c||"DEFINE_MANY_MERGED"!==p&&"DEFINE_MANY"!==p)&&h("77",p,o),"DEFINE_MANY_MERGED"===p?n[o]=l(n[o],a):"DEFINE_MANY"===p&&(n[o]=u(n[o],a))}else n[o]=a}}}else;}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in _;i&&h("78",n);var o=n in e;o&&h("79",n),e[n]=r}}}function s(e,t){e&&t&&"object"===typeof e&&"object"===typeof t||h("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]&&h("81",n),e[n]=t[n]);return e}function l(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function f(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=c(e,i)}}var h=n(117),d=n(20),p=n(275),m=n(116),v=(n(865),n(276)),g=n(107),y=(n(9),n(14),"mixins"),b=[],x={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=l(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},M=function(){};d(M.prototype,p.prototype,w);var k={createClass:function(e){var t=r(function(e,n,r){this.__reactAutoBindPairs.length&&f(this),this.props=e,this.context=n,this.refs=g,this.updater=r||v,this.state=null;var i=this.getInitialState?this.getInitialState():null;("object"!==typeof i||Array.isArray(i))&&h("82",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new M,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],b.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render||h("83");for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){b.push(e)}}};e.exports=k},function(e,t,n){"use strict";var r=n(116),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(116),i=r.isValidElement,o=n(399);e.exports=o(i)},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||s}function i(){}var o=n(20),a=n(275),s=n(276),l=n(107);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"===typeof t)return t}var i="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(){return i++}var i=1;e.exports=r},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)||i("143"),e}var i=n(117),o=n(116);n(9);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"===typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||"object"===h&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,p,m=0,v=""===t?c:t+f;if(Array.isArray(e))for(var g=0;g<e.length;g++)d=e[g],p=v+r(d,g),m+=i(d,p,n,o);else{var y=l(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var _=0;!(b=x.next()).done;)d=b.value,p=v+r(d,_++),m+=i(d,p,n,o);else for(;!(b=x.next()).done;){var w=b.value;w&&(d=w[1],p=v+u.escape(w[0])+f+r(d,0),m+=i(d,p,n,o))}}else if("object"===h){var M="",k=String(e);a("31","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,M)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(117),s=(n(74),n(429)),l=n(869),u=(n(9),n(860)),c=(n(14),"."),f=":";e.exports=o},function(e,t,n){"use strict";var r=function(e){return"/"===e.charAt(0)},i=function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),l=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var u=void 0;if(o.length){var c=o[o.length-1];u="."===c||".."===c||""===c}else u=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),f++):f&&(i(o,h),f--)}if(!l)for(;f--;f)o.unshift("..");!l||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return u&&"/"!==p.substr(-1)&&(p+="/"),p};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.side,i=void 0===r?"end":r,o=n.ellipsis,a=void 0===o?"...":o;if(e.length>t)switch(i){case"start":return a+e.slice(-(t-a.length));case"end":default:return e.slice(0,t-a.length)+a}return e}t.__esModule=!0,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var l=n(768),u=n(876);t.parse=i,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(p),v=["%","/","?",";","#"].concat(m),g=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=n(771);r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?M.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=c.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===s.substr(0,2);!k||d&&_[d]||(s=s.substr(2),this.slashes=!0)}if(!_[d]&&(k||d&&!w[d])){for(var E=-1,S=0;S<g.length;S++){var T=s.indexOf(g[S]);-1!==T&&(-1===E||T<E)&&(E=T)}var A,C;C=-1===E?s.lastIndexOf("@"):s.lastIndexOf("@",E),-1!==C&&(A=s.slice(0,C),s=s.slice(C+1),this.auth=decodeURIComponent(A)),E=-1;for(var S=0;S<v.length;S++){var T=s.indexOf(v[S]);-1!==T&&(-1===E||T<E)&&(E=T)}-1===E&&(E=s.length),this.host=s.slice(0,E),s=s.slice(E),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var O=this.hostname.split(/\./),S=0,P=O.length;S<P;S++){var L=O[S];if(L&&!L.match(y)){for(var I="",N=0,R=L.length;N<R;N++)L.charCodeAt(N)>127?I+="x":I+=L[N];if(!I.match(y)){var j=O.slice(0,S),z=O.slice(S+1),F=L.match(b);F&&(j.push(F[1]),z.unshift(F[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=l.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[p])for(var S=0,P=m.length;S<P;S++){var V=m[S];if(-1!==s.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),s=s.split(V).join(H)}}var Y=s.indexOf("#");-1!==Y&&(this.hash=s.substr(Y),s=s.slice(0,Y));var W=s.indexOf("?");if(-1!==W?(this.search=s.substr(W),this.query=s.substr(W+1),t&&(this.query=M.parse(this.query)),s=s.slice(0,W)):t&&(this.search="",this.query={}),s&&(this.pathname=s),w[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",q=this.search||"";this.path=B+q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=M.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!w[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||g||n.host&&e.pathname,x=b,M=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],k=n.protocol&&!w[n.protocol];if(k&&(n.hostname="",n.port=null,n.host&&(""===M[0]?M[0]=n.host:M.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===M[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,M=p;else if(p.length)M||(M=[]),M.pop(),M=M.concat(p),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(k){n.hostname=n.host=M.shift();var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!M.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=M.slice(-1)[0],T=(n.host||e.host||M.length>1)&&("."===S||".."===S)||""===S,A=0,C=M.length;C>=0;C--)S=M[C],"."===S?M.splice(C,1):".."===S?(M.splice(C,1),A++):A&&(M.splice(C,1),A--);if(!b&&!x)for(;A--;A)M.unshift("..");!b||""===M[0]||M[0]&&"/"===M[0].charAt(0)||M.unshift(""),T&&"/"!==M.join("/").substr(-1)&&M.push("");var D=""===M[0]||M[0]&&"/"===M[0].charAt(0);if(k){n.hostname=n.host=D?"":M.length?M.shift():"";var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return b=b||n.host&&M.length,b&&!D&&M.unshift(""),M.length?n.pathname=M.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var i="undefined"===typeof t?"undefined":r(t);if(i!==("undefined"===typeof n?"undefined":r(n)))return!1;if("object"===i){var o=t.valueOf(),a=n.valueOf();if(o!==t||a!==n)return e(o,a);var s=Object.keys(t),l=Object.keys(n);return s.length===l.length&&s.every(function(r){return e(t[r],n[r])})}return!1};t.default=i},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new v(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";function r(e,t){function n(t,n,r,o){var a=1/e.clientHeight,s=a*(n-m),l=a*(r-v),c=p.flipX?1:-1,h=p.flipY?1:-1,d=Math.PI*p.rotateSpeed,y=i();if(1&t)o.shift?u.rotate(y,0,0,-s*d):u.rotate(y,c*d*s,-h*d*l,0);else if(2&t)u.pan(y,-p.translateSpeed*s*f,p.translateSpeed*l*f,0);else if(4&t){var b=p.zoomSpeed*l/window.innerHeight*(y-u.lastT())*50;u.pan(y,0,0,f*(Math.exp(b)-1))}m=n,v=r,g=o}e=e||document.body,t=t||{};var r=[.01,1/0];"distanceLimits"in t&&(r[0]=t.distanceLimits[0],r[1]=t.distanceLimits[1]),"zoomMin"in t&&(r[0]=t.zoomMin),"zoomMax"in t&&(r[1]=t.zoomMax);var u=o({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:r}),c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,h=e.clientWidth,d=e.clientHeight,p={view:u,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:u.modes,tick:function(){var t=i(),n=this.delay;u.idle(t-n),u.flush(t-(100+2*n));var r=t-2*n;u.recalcMatrix(r);for(var o=!0,a=u.computedMatrix,s=0;s<16;++s)o=o&&c[s]===a[s],c[s]=a[s];var l=e.clientWidth===h&&e.clientHeight===d;return h=e.clientWidth,d=e.clientHeight,o?!l:(f=Math.exp(u.computedRadius[0]),!0)},lookAt:function(e,t,n){u.lookAt(u.lastT(),e,t,n)},rotate:function(e,t,n){u.rotate(u.lastT(),e,t,n)},pan:function(e,t,n){u.pan(u.lastT(),e,t,n)},translate:function(e,t,n){u.translate(u.lastT(),e,t,n)}};Object.defineProperties(p,{matrix:{get:function(){return u.computedMatrix},set:function(e){return u.setMatrix(u.lastT(),e),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(e){return u.setMode(e),u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(e){return u.lookAt(u.lastT(),e),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(e){return u.lookAt(u.lastT(),null,e),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(e){return u.lookAt(u.lastT(),null,null,e),u.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(e){return u.setDistance(u.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(r)},set:function(e){return u.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",function(e){return e.preventDefault(),!1});var m=0,v=0,g={shift:!1,control:!1,alt:!1,meta:!1};return a(e,n),e.addEventListener("touchstart",function(t){var r=l(t.changedTouches[0],e);n(0,r[0],r[1],g),n(1,r[0],r[1],g)}),e.addEventListener("touchmove",function(t){var r=l(t.changedTouches[0],e);n(1,r[0],r[1],g)}),e.addEventListener("touchend",function(t){l(t.changedTouches[0],e);n(0,m,v,g)}),s(e,function(e,t,n){var r=p.flipX?1:-1,o=p.flipY?1:-1,a=i();if(Math.abs(e)>Math.abs(t))u.rotate(a,0,0,-e*r*Math.PI*p.rotateSpeed/window.innerWidth);else{var s=p.zoomSpeed*o*t/window.innerHeight*(a-u.lastT())/100;u.pan(a,0,0,f*(Math.exp(s)-1))}},!0),p}e.exports=r;var i=n(661),o=n(432),a=n(218),s=n(300),l=n(1260)},function(e,t,n){"use strict";function r(e){var t=s.get(e),n=t&&(t._triangleBuffer.handle||t._triangleBuffer.buffer);if(!n||!e.isBuffer(n)){var r=o(e,new Float32Array([-1,-1,-1,4,4,-1]));t=a(e,[{buffer:r,type:e.FLOAT,size:2}]),t._triangleBuffer=r,s.set(e,t)}t.bind(),e.drawArrays(e.TRIANGLES,0,3),t.unbind()}var i="undefined"===typeof WeakMap?n(1706):WeakMap,o=n(24),a=n(62),s=new i;e.exports=r},function(e,t,n){function r(e,t,n){t="number"===typeof t?t:1,n=n||": ";var r=e.split(/\r?\n/),o=String(r.length+t-1).length;return r.map(function(e,r){var a=r+t,s=String(a).length;return i(a,o-s)+n+e}).join("\n")}var i=n(1276);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(t+1),r=0;r<e.length;++r)n[r]=e[r];for(var r=0;r<=e.length;++r){for(var i=e.length;i<=t;++i){for(var a=new Array(t),s=0;s<t;++s)a[s]=Math.pow(i+1-r,s);n[i]=a}if(o.apply(void 0,n))return!0}return!1}function i(e){var t=e.length;if(0===t)return[];if(1===t)return[0];for(var n=e[0].length,i=[e[0]],o=[0],a=1;a<t;++a)if(i.push(e[a]),r(i,n)){if(o.push(a),o.length===n+1)return o}else i.pop();return o}e.exports=i;var o=n(59)},function(e,t,n){"use strict";function r(e,t){return i(t).filter(function(n){for(var r=new Array(n.length),i=0;i<n.length;++i)r[i]=t[n[i]];return o(r)*e<1})}e.exports=r;var i=n(281),o=n(910)},function(e,t,n){function r(e,t){return o(i(e,t))}e.exports=r;var i=n(885),o=n(1674)},function(e,t,n){"use strict";e.exports=function(){function e(e){return!Array.isArray(e)&&null!==e&&"object"===typeof e}function t(e,t,n){for(var r=(t-e)/Math.max(n-1,1),i=[],o=0;o<n;o++)i.push(e+o*r);return i}function n(){for(var e=[].slice.call(arguments),t=e.map(function(e){return e.length}),n=Math.min.apply(null,t),r=[],i=0;i<n;i++){r[i]=[];for(var o=0;o<e.length;++o)r[i][o]=e[o][i]}return r}function r(e,t,n){for(var r=Math.min.apply(null,[e.length,t.length,n.length]),i=[],o=0;o<r;o++)i.push([e[o],t[o],n[o]]);return i}function i(e){function t(e){for(var r=0;r<e.length;r++)Array.isArray(e[r])?t(e[r],n):n+=e[r]}var n=0;return t(e,n),n}function o(e){for(var t=[],n=0;n<e.length;++n){t[n]=[];for(var r=0;r<e[n].length;++r)t[n][r]=e[n][r]}return t}function a(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n];return t}function s(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}function l(e,t){var n,r;if("string"!==typeof e)return e;if(n=[],"#"===e[0]?(e=e.substr(1),3===e.length&&(e+=e),r=parseInt(e,16),n[0]=r>>16&255,n[1]=r>>8&255,n[2]=255&r):f.test(e)&&(r=e.match(h),n[0]=parseInt(r[1]),n[1]=parseInt(r[2]),n[2]=parseInt(r[3])),!t)for(var i=0;i<3;++i)n[i]=n[i]/255;return n}function u(e,t){var n,r;if("string"!==typeof e)return e;if(n=[],"#"===e[0]?(e=e.substr(1),3===e.length&&(e+=e),r=parseInt(e,16),n[0]=r>>16&255,n[1]=r>>8&255,n[2]=255&r):f.test(e)&&(r=e.match(h),n[0]=parseInt(r[1]),n[1]=parseInt(r[2]),n[2]=parseInt(r[3]),r[4]?n[3]=parseFloat(r[4]):n[3]=1),!t)for(var i=0;i<3;++i)n[i]=n[i]/255;return n}var c={},f=/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,.*)?\)$/,h=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?\s*(.*)?\)$/;return c.isPlainObject=e,c.linspace=t,c.zip3=r,c.sum=i,c.zip=n,c.isEqual=s,c.copy2D=o,c.copy1D=a,c.str2RgbArray=l,c.str2RgbaArray=u,c}()},function(e,t){e.exports=function(e){return atob(e)}},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return t}function i(e,t){for(var n=t.length,i=new Array(n+1),a=0;a<n;++a){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=e[l][a];i[a]=s}i[n]=new Array(n+1);for(var a=0;a<=n;++a)i[n][a]=1;for(var u=new Array(n+1),a=0;a<n;++a)u[a]=t[a];u[n]=1;var c=o(i,u),f=r(c[n+1]);0===f&&(f=1);for(var h=new Array(n+1),a=0;a<=n;++a)h[a]=r(c[a])/f;return h}e.exports=i;var o=n(662)},function(e,t,n){"use strict";function r(e,t){return i(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}var i=n(146);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}e.exports=r},function(e,t,n){"use strict";function r(e){return Array.isArray(e)&&2===e.length&&i(e[0])&&i(e[1])}var i=n(434);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length,n=e.words,r=0;if(1===t)r=n[0];else if(2===t)r=n[0]+67108864*n[1];else for(var o=0;o<t;o++){var a=n[o];r+=a*Math.pow(67108864,o)}return i(e)*r}var i=n(278);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o(i.lo(e));if(t<32)return t;var n=o(i.hi(e));return n>20?52:n+32}var i=n(282),o=n(85).countTrailingZeros;e.exports=r},function(e,t,n){"use strict";function r(e){return new i(e)}var i=n(194);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e[0])*i(e[1])}var i=n(278);e.exports=r},function(e,t){e.exports=function(e){var t={},n=arguments[1];if("string"===typeof n){n={};for(var r=1;r<arguments.length;r++)n[arguments[r]]=!0}for(var i in e)n[i]||(t[i]=e[i]);return t}},function(e,t,n){"use strict";function r(e){var t,n,r,i=e.length,o=0;for(t=0;t<i;++t)o+=e[t].length;var a=new Array(o),s=0;for(t=0;t<i;++t){var l=e[t],u=l.length;for(n=0;n<u;++n){var c=a[s++]=new Array(u-1),f=0;for(r=0;r<u;++r)r!==n&&(c[f++]=l[r]);if(1&n){var h=c[1];c[1]=c[0],c[0]=h}}}return a}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function i(e,t,n,i){for(var o=0,a=0,s=0,l=e.length;s<l;++s){var u=e[s];if(!r(t,u)){for(var c=0;c<2*t;++c)n[o++]=u[c];i[a++]=s}}return a}function o(e,t,n,r){var o=e.length,a=t.length;if(!(o<=0||a<=0)){var s=e[0].length>>>1;if(!(s<=0)){var l,u=f.mallocDouble(2*s*o),c=f.mallocInt32(o);if((o=i(e,s,u,c))>0){if(1===s&&r)h.init(o),l=h.sweepComplete(s,n,0,o,u,c,0,o,u,c);else{var p=f.mallocDouble(2*s*a),m=f.mallocInt32(a);a=i(t,s,p,m),a>0&&(h.init(o+a),l=1===s?h.sweepBipartite(s,n,0,o,u,c,0,a,p,m):d(s,n,r,o,u,c,a,p,m),f.free(p),f.free(m))}f.free(u),f.free(c)}return l}}}function a(e,t){c.push([e,t])}function s(e){return c=[],o(e,e,a,!0),c}function l(e,t){return c=[],o(e,t,a,!1),c}function u(e,t,n){switch(arguments.length){case 1:return s(e);case 2:return"function"===typeof t?o(e,e,t,!0):l(e,t);case 3:return o(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}e.exports=u;var c,f=n(23),h=n(440),d=n(901)},function(e,t,n){"use strict";function r(e,t,n){var r="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),i=["function ",r,"(",w.join(),"){","var ",u,"=2*",o,";"],l="for(var i="+c+","+p+"="+u+"*"+c+";i<"+f+";++i,"+p+"+="+u+"){var x0="+h+"["+a+"+"+p+"],x1="+h+"["+a+"+"+p+"+"+o+"],xi="+d+"[i];",M="for(var j="+m+","+b+"="+u+"*"+m+";j<"+v+";++j,"+b+"+="+u+"){var y0="+g+"["+a+"+"+b+"],"+(n?"y1="+g+"["+a+"+"+b+"+"+o+"],":"")+"yi="+y+"[j];";return e?i.push(l,_,":",M):i.push(M,_,":",l),n?i.push("if(y1<x0||x1<y0)continue;"):t?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+a+"+1;k<"+o+";++k){var r0="+h+"[k+"+p+"],r1="+h+"[k+"+o+"+"+p+"],b0="+g+"[k+"+b+"],b1="+g+"[k+"+o+"+"+b+"];if(r1<b0||b1<r0)continue "+_+";}var "+x+"="+s+"("),t?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+x+"!==void 0)return "+x+";}}}"),{name:r,code:i.join("")}}function i(e){function t(t,n){var o=r(t,n,e);i.push(o.code),a.push("return "+o.name+"("+w.join()+");")}var n="bruteForce"+(e?"Full":"Partial"),i=[],o=w.slice();e||o.splice(3,0,l);var a=["function "+n+"("+o.join()+"){"];a.push("if("+f+"-"+c+">"+v+"-"+m+"){"),e?(t(!0,!1),a.push("}else{"),t(!1,!1)):(a.push("if("+l+"){"),t(!0,!0),a.push("}else{"),t(!0,!1),a.push("}}else{if("+l+"){"),t(!1,!0),a.push("}else{"),t(!1,!1),a.push("}")),a.push("}}return "+n);var s=i.join("")+a.join("");return new Function(s)()}var o="d",a="ax",s="vv",l="fp",u="es",c="rs",f="re",h="rb",d="ri",p="rp",m="bs",v="be",g="bb",y="bi",b="bp",x="rv",_="Q",w=[o,a,s,c,f,h,d,m,v,g,y];t.partial=i(!1),t.full=i(!0)},function(e,t,n){"use strict";function r(e,t){var n=8*u.log2(t+1)*(e+1)|0,r=u.nextPow2(E*n);T.length<r&&(l.free(T),T=l.mallocInt32(r));var i=u.nextPow2(S*n);A<i&&(l.free(A),A=l.mallocDouble(i))}function i(e,t,n,r,i,o,a,s,l){var u=E*e;T[u]=t,T[u+1]=n,T[u+2]=r,T[u+3]=i,T[u+4]=o,T[u+5]=a;var c=S*e;A[c]=s,A[c+1]=l}function o(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,h=l*f,d=u[h+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var v=a[m+t],g=a[m+t+e];if(!(d<v||g<d)&&(!r||d!==v)){for(var y=s[p],b=t+1;b<e;++b){var v=a[m+b],g=a[m+b+e],x=u[h+b],_=u[h+b+e];if(g<x||_<v)continue e}var w;if(void 0!==(w=r?n(c,y):n(y,c)))return w}}}function a(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,h=l[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var v=o[p+t],g=o[p+t+e];if(!(h<v||g<h)){for(var y=t+1;y<e;++y){var v=o[p+y],g=o[p+y+e],b=l[f+y],x=l[f+y+e];if(g<b||x<v)continue e}var _=n(m,u);if(void 0!==_)return _}}}}function s(e,t,n,s,l,u,c,m,C){r(e,s+c);var D,O=0,P=2*e;for(i(O++,0,0,s,0,c,n?16:0,-1/0,1/0),n||i(O++,0,0,c,0,s,1,-1/0,1/0);O>0;){O-=1;var L=O*E,I=T[L],N=T[L+1],R=T[L+2],j=T[L+3],z=T[L+4],F=T[L+5],B=O*S,U=A[B],V=A[B+1],H=1&F,Y=!!(16&F),W=l,q=u,G=m,X=C;if(H&&(W=m,q=C,G=l,X=u),!(2&F&&(R=_(e,I,N,R,W,q,V),N>=R))&&!(4&F&&(N=w(e,I,N,R,W,q,U))>=R)){var Z=R-N,K=z-j;if(Y){if(e*Z*(Z+K)<y){if(void 0!==(D=d.scanComplete(e,I,t,N,R,W,q,j,z,G,X)))return D;continue}}else{if(e*Math.min(Z,K)<v){if(void 0!==(D=f(e,I,t,H,N,R,W,q,j,z,G,X)))return D;continue}if(e*Z*K<g){if(void 0!==(D=d.scanBipartite(e,I,t,H,N,R,W,q,j,z,G,X)))return D;continue}}var $=b(e,I,N,R,W,q,U,V);if(N<$)if(e*($-N)<v){if(void 0!==(D=h(e,I+1,t,N,$,W,q,j,z,G,X)))return D}else if(I===e-2){if(void 0!==(D=H?d.sweepBipartite(e,t,j,z,G,X,N,$,W,q):d.sweepBipartite(e,t,N,$,W,q,j,z,G,X)))return D}else i(O++,I+1,N,$,j,z,H,-1/0,1/0),i(O++,I+1,j,z,N,$,1^H,-1/0,1/0);if($<R){var J=p(e,I,j,z,G,X),Q=G[P*J+I],ee=x(e,I,J,z,G,X,Q);if(ee<z&&i(O++,I,$,R,ee,z,(4|H)+(Y?16:0),Q,V),j<J&&i(O++,I,$,R,j,J,(2|H)+(Y?16:0),U,Q),J+1===ee){if(void 0!==(D=Y?a(e,I,t,$,R,W,q,J,G,X[J]):o(e,I,t,H,$,R,W,q,J,G,X[J])))return D}else if(J<ee){var te;if(Y){if(te=M(e,I,$,R,W,q,Q),$<te){var ne=x(e,I,$,te,W,q,Q);if(I===e-2){if($<ne&&void 0!==(D=d.sweepComplete(e,t,$,ne,W,q,J,ee,G,X)))return D;if(ne<te&&void 0!==(D=d.sweepBipartite(e,t,ne,te,W,q,J,ee,G,X)))return D}else $<ne&&i(O++,I+1,$,ne,J,ee,16,-1/0,1/0),ne<te&&(i(O++,I+1,ne,te,J,ee,0,-1/0,1/0),i(O++,I+1,J,ee,ne,te,1,-1/0,1/0))}}else te=H?k(e,I,$,R,W,q,Q):M(e,I,$,R,W,q,Q),$<te&&(I===e-2?D=H?d.sweepBipartite(e,t,J,ee,G,X,$,te,W,q):d.sweepBipartite(e,t,$,te,W,q,J,ee,G,X):(i(O++,I+1,$,te,J,ee,H,-1/0,1/0),i(O++,I+1,J,ee,$,te,1^H,-1/0,1/0)))}}}}}e.exports=s;var l=n(23),u=n(85),c=n(900),f=c.partial,h=c.full,d=n(440),p=n(902),m=n(439),v=128,g=1<<22,y=1<<22,b=m("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),x=m("lo===p0",["p0"]),_=m("lo<p0",["p0"]),w=m("hi<=p0",["p0"]),M=m("lo<=p0&&p0<=hi",["p0"]),k=m("lo<p0&&p0<=hi",["p0"]),E=6,S=2,T=l.mallocInt32(1024),A=l.mallocDouble(1024)},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var m=i[h];i[h]=i[d],i[d]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}function i(e,t,n,i,o,l){if(i<=n+1)return n;for(var u=n,c=i,f=i+n>>>1,h=2*e,d=f,p=o[h*f+t];u<c;){if(c-u<s){r(e,t,u,c,o,l),p=o[h*f+t];break}var m=c-u,v=Math.random()*m+u|0,g=o[h*v+t],y=Math.random()*m+u|0,b=o[h*y+t],x=Math.random()*m+u|0,_=o[h*x+t];g<=b?_>=b?(d=y,p=b):g>=_?(d=v,p=g):(d=x,p=_):b>=_?(d=y,p=b):_>=g?(d=v,p=g):(d=x,p=_);for(var w=h*(c-1),M=h*d,k=0;k<h;++k,++w,++M){var E=o[w];o[w]=o[M],o[M]=E}var S=l[c-1];l[c-1]=l[d],l[d]=S,d=a(e,t,u,c-1,o,l,p);for(var w=h*(c-1),M=h*d,k=0;k<h;++k,++w,++M){var E=o[w];o[w]=o[M],o[M]=E}var S=l[c-1];if(l[c-1]=l[d],l[d]=S,f<d){for(c=d-1;u<c&&o[h*(c-1)+t]===p;)c-=1;c+=1}else{if(!(d<f))break;for(u=d+1;u<c&&o[h*u+t]===p;)u+=1}}return a(e,t,n,f,o,l,o[h*f+t])}e.exports=i;var o=n(439),a=o("lo<p0",["p0"]),s=8},function(e,t,n){"use strict";function r(e,t){t<=4*h?i(0,t-1,e):f(0,t-1,e)}function i(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function o(e,t,n){e*=2,t*=2;var r=n[e],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function a(e,t,n){e*=2,t*=2,n[e]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){e*=2,t*=2,n*=2;var i=r[e],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function l(e,t,n,r,i){e*=2,t*=2,i[e]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function u(e,t,n){e*=2,t*=2;var r=n[e],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function c(e,t,n,r){e*=2;var i=r[e];return i<t||i===t&&r[e+1]<n}function f(e,t,n){var r=(t-e+1)/6|0,d=e+r,p=t-r,m=e+t>>1,v=m-r,g=m+r,y=d,b=v,x=m,_=g,w=p,M=e+1,k=t-1,E=0;u(y,b,n)&&(E=y,y=b,b=E),u(_,w,n)&&(E=_,_=w,w=E),u(y,x,n)&&(E=y,y=x,x=E),u(b,x,n)&&(E=b,b=x,x=E),u(y,_,n)&&(E=y,y=_,_=E),u(x,_,n)&&(E=x,x=_,_=E),u(b,w,n)&&(E=b,b=w,w=E),u(b,x,n)&&(E=b,b=x,x=E),u(_,w,n)&&(E=_,_=w,w=E);for(var S=n[2*b],T=n[2*b+1],A=n[2*_],C=n[2*_+1],D=2*y,O=2*x,P=2*w,L=2*d,I=2*m,N=2*p,R=0;R<2;++R){var j=n[D+R],z=n[O+R],F=n[P+R];n[L+R]=j,n[I+R]=z,n[N+R]=F}a(v,e,n),a(g,t,n);for(var B=M;B<=k;++B)if(c(B,S,T,n))B!==M&&o(B,M,n),++M;else if(!c(B,A,C,n))for(;;){if(c(k,A,C,n)){c(k,S,T,n)?(s(B,M,k,n),++M,--k):(o(B,k,n),--k);break}if(--k<B)break}l(e,M-1,S,T,n),l(t,k+1,A,C,n),M-2-e<=h?i(e,M-2,n):f(e,M-2,n),t-(k+2)<=h?i(k+2,t,n):f(k+2,t,n),k-M<=h?i(M,k,n):f(M,k,n)}e.exports=r;var h=32},function(e,t,n){"use strict";function r(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function i(e,t){return e[0]-t[0]||e[1]-t[1]}function o(e){return e.map(r).sort(i)}function a(e,t,n){return t in e?e[t]:n}function s(e,t,n){Array.isArray(t)?(n=n||{},t=t||[]):(n=t||{},t=[]);var r=!!a(n,"delaunay",!0),i=!!a(n,"interior",!0),s=!!a(n,"exterior",!0),h=!!a(n,"infinity",!1);if(!i&&!s||0===e.length)return[];var d=l(e,t);if(r||i!==s||h){for(var p=u(e.length,o(t)),m=0;m<d.length;++m){var v=d[m];p.addTriangle(v[0],v[1],v[2])}return r&&c(e,p),s?i?h?f(p,0,h):p.cells():f(p,1,h):f(p,-1)}return d}var l=n(907),u=n(908),c=n(905),f=n(906);e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r,i,a){var s=t.opposite(r,i);if(!(s<0)){if(i<r){var l=r;r=i,i=l,l=a,a=s,s=l}t.isConstraint(r,i)||o(e[r],e[i],e[a],e[s])<0&&n.push(r,i)}}function i(e,t){for(var n=[],i=e.length,a=t.stars,s=0;s<i;++s)for(var l=a[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s)&&!t.isConstraint(s,c)){for(var f=l[u-1],h=-1,d=1;d<l.length;d+=2)if(l[d-1]===c){h=l[d];break}h<0||o(e[s],e[c],e[f],e[h])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),f=-1,h=-1,l=a[s],p=1;p<l.length;p+=2){var m=l[p-1],v=l[p];m===c?h=v:v===c&&(f=m)}f<0||h<0||(o(e[s],e[c],e[f],e[h])>=0||(t.flip(s,c),r(e,t,n,f,s,h),r(e,t,n,s,h,f),r(e,t,n,h,c,f),r(e,t,n,c,f,h)))}}var o=n(1671)[4];n(195);e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function i(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}function o(e,t){for(var n=e.cells(),o=n.length,a=0;a<o;++a){var s=n[a],l=s[0],u=s[1],c=s[2];u<c?u<l&&(s[0]=u,s[1]=c,s[2]=l):c<l&&(s[0]=c,s[1]=l,s[2]=u)}n.sort(i);for(var f=new Array(o),a=0;a<f.length;++a)f[a]=0;var h=[],d=[],p=new Array(3*o),m=new Array(3*o),v=null;t&&(v=[]);for(var g=new r(n,p,m,f,h,d,v),a=0;a<o;++a)for(var s=n[a],y=0;y<3;++y){var l=s[y],u=s[(y+1)%3],b=p[3*a+y]=g.locate(u,l,e.opposite(u,l)),x=m[3*a+y]=e.isConstraint(l,u);b<0&&(x?d.push(a):(h.push(a),f[a]=1),t&&v.push([u,l,-1]))}return g}function a(e,t,n){for(var r=0,i=0;i<e.length;++i)t[i]===n&&(e[r++]=e[i]);return e.length=r,e}function s(e,t,n){var r=o(e,n);if(0===t)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,s=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,h=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var d=s.pop();if(u[d]!==-i){u[d]=i;for(var p=(c[d],0);p<3;++p){var m=h[3*d+p];m>=0&&0===u[m]&&(f[3*d+p]?l.push(m):(s.push(m),u[m]=i))}}}var v=l;l=s,s=v,l.length=0,i=-i}var g=a(c,u,t);return n?g.concat(r.boundary):g}var l=n(195);e.exports=s,r.prototype.locate=function(){var e=[0,0,0];return function(t,n,r){var o=t,a=n,s=r;return n<r?n<t&&(o=n,a=r,s=t):r<t&&(o=r,a=t,s=n),o<0?-1:(e[0]=o,e[1]=a,e[2]=s,l.eq(this.cells,e,i))}}()},function(e,t,n){"use strict";function r(e,t,n,r,i){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=i}function i(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function o(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||(e.type!==p&&(n=d(e.a,e.b,t.b))?n:e.idx-t.idx)}function a(e,t){return d(e.a,e.b,t)}function s(e,t,n,r,i){for(var o=h.lt(t,r,a),s=h.gt(t,r,a),l=o;l<s;++l){for(var u=t[l],c=u.lowerIds,f=c.length;f>1&&d(n[c[f-2]],n[c[f-1]],r)>0;)e.push([c[f-1],c[f-2],i]),f-=1;c.length=f,c.push(i);for(var p=u.upperIds,f=p.length;f>1&&d(n[p[f-2]],n[p[f-1]],r)<0;)e.push([p[f-2],p[f-1],i]),f-=1;p.length=f,p.push(i)}}function l(e,t){var n;return(n=e.a[0]<t.a[0]?d(e.a,e.b,t.a):d(t.b,t.a,e.a))?n:(n=t.b[0]<e.b[0]?d(e.a,e.b,t.b):d(t.b,t.a,e.b))||e.idx-t.idx}function u(e,t,n){var i=h.le(e,n,l),o=e[i],a=o.upperIds,s=a[a.length-1];o.upperIds=[s],e.splice(i+1,0,new r(n.a,n.b,n.idx,[s],a))}function c(e,t,n){var r=n.a;n.a=n.b,n.b=r;var i=h.eq(e,n,l),o=e[i];e[i-1].upperIds=o.upperIds,e.splice(i,1)}function f(e,t){for(var n=e.length,a=t.length,l=[],f=0;f<n;++f)l.push(new i(e[f],null,p,f));for(var f=0;f<a;++f){var h=t[f],d=e[h[0]],g=e[h[1]];d[0]<g[0]?l.push(new i(d,g,v,f),new i(g,d,m,f)):d[0]>g[0]&&l.push(new i(g,d,v,f),new i(d,g,m,f))}l.sort(o);for(var y=l[0].a[0]-(1+Math.abs(l[0].a[0]))*Math.pow(2,-52),b=[new r([y,1],[y,0],-1,[],[],[],[])],x=[],f=0,_=l.length;f<_;++f){var w=l[f],M=w.type;M===p?s(x,b,e,w.a,w.idx):M===v?u(b,e,w):c(b,e,w)}return x}var h=n(195),d=n(59)[3],p=0,m=1,v=2;e.exports=f},function(e,t,n){"use strict";function r(e,t){this.stars=e,this.edges=t}function i(e,t,n){for(var r=1,i=e.length;r<i;r+=2)if(e[r-1]===t&&e[r]===n)return e[r-1]=e[i-2],e[r]=e[i-1],void(e.length=i-2)}function o(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=[];return new r(n,t)}var a=n(195);e.exports=o;var s=r.prototype;s.isConstraint=function(){function e(e,t){return e[0]-t[0]||e[1]-t[1]}var t=[0,0];return function(n,r){return t[0]=Math.min(n,r),t[1]=Math.max(n,r),a.eq(this.edges,t,e)>=0}}(),s.removeTriangle=function(e,t,n){var r=this.stars;i(r[e],t,n),i(r[t],n,e),i(r[n],e,t)},s.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},s.opposite=function(e,t){for(var n=this.stars[t],r=1,i=n.length;r<i;r+=2)if(n[r]===e)return n[r-1];return-1},s.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},s.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;o+=2)t.push([i[o],i[o+1]]);return t},s.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];n<Math.min(s,l)&&t.push([n,s,l])}return t}},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length,i=0;i<r;++i)n+=e[i]*t[i];return n}function i(e){var t=e.length;if(0===t)return[];var n=(e[0].length,a([e.length+1,e.length+1],1)),i=a([e.length+1],1);n[t][t]=0;for(var o=0;o<t;++o){for(var l=0;l<=o;++l)n[l][o]=n[o][l]=2*r(e[o],e[l]);i[o]=r(e[o],e[o])}for(var u=s(n,i),c=0,f=u[t+1],o=0;o<f.length;++o)c+=f[o];for(var h=new Array(t),o=0;o<t;++o){for(var f=u[o],d=0,l=0;l<f.length;++l)d+=f[l];h[o]=d/c}return h}function o(e){if(0===e.length)return[];for(var t=e[0].length,n=a([t]),r=i(e),o=0;o<e.length;++o)for(var s=0;s<t;++s)n[s]+=e[o][s]*r[o];return n}var a=n(283),s=n(662);o.barycenetric=i,e.exports=o},function(e,t,n){function r(e){for(var t=i(e),n=0,r=0;r<e.length;++r)for(var o=e[r],a=0;a<t.length;++a)n+=Math.pow(o[a]-t[a],2);return Math.sqrt(n/e.length)}e.exports=r;var i=n(909)},function(e,t,n){"use strict";function r(e){var t=x(e),n=b(y(t),e);return n<0?[t,w(t,1/0)]:n>0?[w(t,-1/0),t]:[t,t]}function i(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r){var i=t[r],o=e[i[0]],a=e[i[1]];n[r]=[Math.min(o[0],a[0]),Math.min(o[1],a[1]),Math.max(o[0],a[0]),Math.max(o[1],a[1])]}return n}function o(e){for(var t=new Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[r[0],r[1],r[0],r[1]]}return t}function a(e,t,n){var r=[];return v(n,function(n,i){var o=t[n],a=t[i];if(o[0]!==a[0]&&o[0]!==a[1]&&o[1]!==a[0]&&o[1]!==a[1]){var s=e[o[0]],l=e[o[1]],u=e[a[0]],c=e[a[1]];g(s,l,u,c)&&r.push([n,i])}}),r}function s(e,t,n,r){var i=[];return v(n,r,function(n,r){var o=t[n];if(o[0]!==r&&o[1]!==r){var a=e[r],s=e[o[0]],l=e[o[1]];g(s,l,a,a)&&i.push([n,r])}}),i}function l(e,t,n,r,i){function o(t){if(t>=e.length)return a[t-e.length];var n=e[t];return[y(n[0]),y(n[1])]}for(var a=[],s=0;s<n.length;++s){var l=n[s],u=l[0],c=l[1],f=t[u],h=t[c],d=M(_(e[f[0]]),_(e[f[1]]),_(e[h[0]]),_(e[h[1]]));if(d){var p=a.length+e.length;a.push(d),r.push([u,p],[c,p])}}r.sort(function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=o(e[1]),r=o(t[1]);return b(n[0],r[0])||b(n[1],r[1])});for(var s=r.length-1;s>=0;--s){var m=r[s],u=m[0],v=t[u],g=v[0],x=v[1],w=e[g],k=e[x];if((w[0]-k[0]||w[1]-k[1])<0){var E=g;g=x,x=E}v[0]=g;var S,T=v[1]=m[1];for(i&&(S=v[2]);s>0&&r[s-1][0]===u;){var m=r[--s],A=m[1];i?t.push([T,A,S]):t.push([T,A]),T=A}i?t.push([T,x,S]):t.push([T,x])}return a}function u(e,t,n){for(var i=e.length+t.length,o=new m(i),a=n,s=0;s<t.length;++s){var l=t[s],u=r(l[0]),c=r(l[1]);a.push([u[0],c[0],u[1],c[1]]),e.push([x(l[0]),x(l[1])])}v(a,function(e,t){o.link(e,t)});for(var f=0,h=!0,d=new Array(i),s=0;s<i;++s){o.find(s)===s?(d[s]=f,e[f++]=e[s]):(h=!1,d[s]=-1)}if(e.length=f,h)return null;for(var s=0;s<i;++s)d[s]<0&&(d[s]=d[o.find(s)]);return d}function c(e,t){return e[0]-t[0]||e[1]-t[1]}function f(e,t){var n=e[0]-t[0]||e[1]-t[1];return n||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function h(e,t,n){if(0!==e.length){if(t)for(var r=0;r<e.length;++r){var i=e[r],o=t[i[0]],a=t[i[1]];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}else for(var r=0;r<e.length;++r){var i=e[r],o=i[0],a=i[1];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}n?e.sort(f):e.sort(c);for(var s=1,r=1;r<e.length;++r){var l=e[r-1],u=e[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(e[s++]=u)}e.length=s}}function d(e,t,n){var r=i(e,t),c=a(e,t,r),f=o(e),d=s(e,t,r,f),p=l(e,t,c,d,n),m=u(e,p,f);return h(t,m,n),!!m||(c.length>0||d.length>0)}function p(e,t,n){var r,i=!1;if(n){r=t;for(var o=new Array(t.length),a=0;a<t.length;++a){var s=t[a];o[a]=[s[0],s[1],n[a]]}t=o}for(;d(e,t,!!n);)i=!0;if(n&&i){r.length=0,n.length=0;for(var a=0;a<t.length;++a){var s=t[a];r.push([s[0],s[1]]),n.push(s[2])}}return i}e.exports=p;var m=n(673),v=n(899),g=(n(280),n(1673)),y=n(277),b=n(891),x=n(438),_=n(1573),w=n(1272),M=n(912)},function(e,t,n){"use strict";function r(e,t){return s(o(e[0],t[1]),o(e[1],t[0]))}function i(e,t,n,i){var o=u(t,e),s=u(i,n),h=r(o,s);if(0===l(h))return null;var d=u(e,n),p=r(s,d),m=a(p,h);return c(e,f(o,m))}e.exports=i;var o=n(436),a=n(433),s=n(437),l=n(896),u=n(1575),c=n(1572),f=n(1574);n(438)},function(e,t,n){(function(t){var n=function(){"use strict";function e(n,r,i,o){function s(n,i){if(null===n)return null;if(0==i)return n;var f,h;if("object"!=typeof n)return n;if(e.__isArray(n))f=[];else if(e.__isRegExp(n))f=new RegExp(n.source,a(n)),n.lastIndex&&(f.lastIndex=n.lastIndex);else if(e.__isDate(n))f=new Date(n.getTime());else{if(c&&t.isBuffer(n))return f=new t(n.length),n.copy(f),f;"undefined"==typeof o?(h=Object.getPrototypeOf(n),f=Object.create(h)):(f=Object.create(o),h=o)}if(r){var d=l.indexOf(n);if(-1!=d)return u[d];l.push(n),u.push(f)}for(var p in n){var m;h&&(m=Object.getOwnPropertyDescriptor(h,p)),m&&null==m.set||(f[p]=s(n[p],i-1))}return f}"object"===typeof r&&(i=r.depth,o=r.prototype,r.filter,r=r.circular);var l=[],u=[],c="undefined"!=typeof t;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),s(n,i)}function n(e){return Object.prototype.toString.call(e)}function r(e){return"object"===typeof e&&"[object Date]"===n(e)}function i(e){return"object"===typeof e&&"[object Array]"===n(e)}function o(e){return"object"===typeof e&&"[object RegExp]"===n(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=n,e.__isDate=r,e.__isArray=i,e.__isRegExp=o,e.__getRegExpFlags=a,e}();"object"===typeof e&&e.exports&&(e.exports=n)}).call(t,n(185).Buffer)},function(e,t,n){"use strict";function r(e,t){null==t&&(t=!0);var n=e[0],r=e[1],o=e[2],a=e[3];return null==a&&(a=t?1:255),t&&(n*=255,r*=255,o*=255,a*=255),n=255&i(n,0,255),r=255&i(r,0,255),o=255&i(o,0,255),a=255&i(a,0,255),16777216*n+(r<<16)+(o<<8)+a}var i=n(279);e.exports=r},function(e,t){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";function r(e){var t,n,r=[],s=1;if("string"===typeof e)if(i[e])r=i[e].slice(),n="rgb";else if("transparent"===e)s=0,n="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var l=e.slice(1),u=l.length,c=u<=4;s=1,c?(r=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===u&&(s=parseInt(l[3]+l[3],16)/255)):(r=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===u&&(s=parseInt(l[6]+l[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var f=t[1],l=f.replace(/a$/,"");n=l;var u="cmyk"===l?4:"gray"===l?1:3;r=t[2].trim().split(/\s*,\s*/).map(function(e,t){if(/%$/.test(e))return t===u?parseFloat(e)/100:"rgb"===l?255*parseFloat(e)/100:parseFloat(e);if("h"===l[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==a[e])return a[e]}return parseFloat(e)}),f===l&&r.push(1),s=void 0===r[u]?1:r[u],r=r.slice(0,u)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(r=e.match(/([0-9]+)/g).map(function(e){return parseFloat(e)}),n=e.match(/([a-z])/gi).join("").toLowerCase());else"number"===typeof e?(n="rgb",r=[e>>>16,(65280&e)>>>8,255&e]):o(e)?(null!=e.r?(r=[e.r,e.g,e.b],n="rgb"):null!=e.red?(r=[e.red,e.green,e.blue],n="rgb"):null!=e.h?(r=[e.h,e.s,e.l],n="hsl"):null!=e.hue&&(r=[e.hue,e.saturation,e.lightness],n="hsl"),null!=e.a?s=e.a:null!=e.alpha?s=e.alpha:null!=e.opacity&&(s=e.opacity/100)):(Array.isArray(e)||ArrayBuffer.isView(e))&&(r=[e[0],e[1],e[2]],n="rgb",s=4===e.length?e[3]:1);return{space:n,values:r,alpha:s}}e.exports=r;var i=n(915),o=n(1065),a={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},function(e,t,n){"use strict";var r=n(918);e.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return o=255*l,[o,o,o];n=l<.5?l*(1+s):l+s-l*s,t=2*l-n,i=[0,0,0];for(var u=0;u<3;u++)r=a+1/3*-(u-1),r<0?r++:r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*o;return i}},r.hsl=function(e){var t,n,r,i=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s;return l===s?t=0:i===l?t=(o-a)/u:o===l?t=2+(a-i)/u:a===l&&(t=4+(i-o)/u),t=Math.min(60*t,360),t<0&&(t+=360),r=(s+l)/2,n=l===s?0:r<=.5?u/(l+s):u/(2-l-s),[t,100*n,100*r]}},function(e,t,n){"use strict";e.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},function(e,t){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:0,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},function(e,t,n){"use strict";function r(e,t,n){var r=s(e[0],-t[0]),i=s(e[1],-t[1]),o=s(n[0],-t[0]),a=s(n[1],-t[1]),c=u(l(r,o),l(i,a));return c[c.length-1]>=0}function i(e,t,n,i){var s=o(t,n,i);if(0===s){var l=a(o(e,t,n)),u=a(o(e,t,i));if(l===u){if(0===l){var c=r(e,t,n);return c===r(e,t,i)?0:c?1:-1}return 0}return 0===u?l>0?-1:r(e,t,i)?-1:1:0===l?u>0?1:r(e,t,n)?1:-1:a(u-l)}var f=o(e,t,n);return f>0?s>0&&o(e,t,i)>0?1:-1:f<0?s>0||o(e,t,i)>0?1:-1:o(e,t,i)>0?1:r(e,t,n)?1:-1}e.exports=i;var o=n(59),a=n(921),s=n(672),l=n(1672),u=n(93)},function(e,t,n){"use strict";e.exports=function(e){return e<0?-1:e>0?1:0}},function(e,t,n){"use strict";function r(e,t){return i(e,t)||o(e)-o(t)}var i=n(280),o=n(441);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=0,n=0,r=1;r<e.length;++r)e[r][0]<e[t][0]&&(t=r),e[r][0]>e[n][0]&&(n=r);return t<n?[[t],[n]]:t>n?[[n],[t]]:[[t]]}e.exports=r},function(e,t,n){"use strict";function r(e){var t=i(e),n=t.length;if(n<=2)return[];for(var r=new Array(n),o=t[n-1],a=0;a<n;++a){var s=t[a];r[a]=[o,s],o=s}return r}e.exports=r;var i=n(1259)},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=new Array(n),i=0;i<t.length;++i)r[i]=e[t[i]];for(var o=t.length,i=0;i<n;++i)t.indexOf(i)<0&&(r[o++]=e[i]);return r}function i(e,t){for(var n=e.length,r=t.length,i=0;i<n;++i)for(var o=e[i],a=0;a<o.length;++a){var s=o[a];if(s<r)o[a]=t[s];else{s-=r;for(var l=0;l<r;++l)s>=t[l]&&(s+=1);o[a]=s}}return e}function o(e,t){try{return a(e,!0)}catch(u){var n=s(e);if(n.length<=t)return[];var o=r(e,n),l=a(o,!0);return i(l,n)}}e.exports=o;var a=n(481),s=n(884)},function(e,t){e.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,u=3*i*i-2*i;if(e.length){o||(o=new Array(e.length));for(var c=e.length-1;c>=0;--c)o[c]=a*e[c]+s*t[c]+l*n[c]+u*r[c];return o}return a*e+s*t+l*n[c]+u*r}function i(e,t,n,r,i,o){var a=i-1,s=i*i,l=a*a,u=(1+2*i)*l,c=i*l,f=s*(3-2*i),h=s*a;if(e.length){o||(o=new Array(e.length));for(var d=e.length-1;d>=0;--d)o[d]=u*e[d]+c*t[d]+f*n[d]+h*r[d];return o}return u*e+c*t+f*n+h*r}e.exports=i,e.exports.derivative=r},function(e,t,n){"use strict";function r(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<o;++r)u.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=c,c=e[r],0===r?u.push(["d",i,"s",r,"=t",i,"p",c].join("")):u.push(["d",i,"s",r,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(l.push("var "+u.join(",")),r=o-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(f=c,c=e[r],i=0;i<a;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function i(e,t,n,i){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=e;c<o;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(var c=0;c<a;++c){for(var f=["offset"+c],h=e;h<o;++h)f.push(["j",h,"*t",c,"p",t[h]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}u.push(r(t,n,i));for(var c=e;c<o;++c)u.push("}");return u.join("\n")}function o(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}function a(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var f=t.offsetArgIndex.indexOf(a);c=t.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var h="l"+a,d="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),o.push([d,".set(",u,",",h,")"].join(""))):r=r.replace(l,[d,".get(",u,")"].join("")):r=r.replace(l,[d,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&o.push([d,".set(",u,",",h,")"].join(""))):(i.push(["var ",h,"=",d,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&o.push([d,"[",u,"]=",h].join("")));else{for(var p=[s.name],m=[u],v=0;v<Math.abs(t.arrayBlockIndices[c]);v++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(p.join(""),"g"),u=m.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[d,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}function l(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),c=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)c[f]=t[2*f],l[f]=t[2*f+1];for(var h=[],d=[],p=[],m=[],v=[],f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(p.push(0),m.push(n),h.push(n),d.push(n+e.arrayBlockIndices[f])):(p.push(e.arrayBlockIndices[f]),m.push(e.arrayBlockIndices[f]+n),h.push(0),d.push(e.arrayBlockIndices[f]));for(var g=[],y=0;y<l[f].length;y++)p[f]<=l[f][y]&&l[f][y]<m[f]&&g.push(l[f][y]-p[f]);v.push(g)}for(var b=["SS"],x=["'use strict'"],_=[],y=0;y<n;++y)_.push(["s",y,"=SS[",y,"]"].join(""));for(var f=0;f<e.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var y=0;y<n;++y)_.push(["t",f,"p",y,"=t",f,"[",p[f]+y,"]"].join(""));for(var y=0;y<Math.abs(e.arrayBlockIndices[f]);++y)_.push(["t",f,"b",y,"=t",f,"[",h[f]+y,"]"].join(""))}for(var f=0;f<e.scalarArgs.length;++f)b.push("Y"+f);if(e.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var w=new Array(n),f=0;f<n;++f)w[f]="0";_.push(["index=[",w.join(","),"]"].join(""))}for(var f=0;f<e.offsetArgs.length;++f){for(var M=e.offsetArgs[f],k=[],y=0;y<M.offset.length;++y)0!==M.offset[y]&&(1===M.offset[y]?k.push(["t",M.array,"p",y].join("")):k.push([M.offset[y],"*t",M.array,"p",y].join("")));0===k.length?_.push("q"+f+"=0"):_.push(["q",f,"=",k.join("+")].join(""))}var E=u([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));_=_.concat(E),x.push("var "+_.join(","));for(var f=0;f<e.arrayArgs.length;++f)x.push("p"+f+"|=0");e.pre.body.length>3&&x.push(a(e.pre,e,c));var S=a(e.body,e,c),T=o(v);T<n?x.push(i(T,v[0],e,S)):x.push(r(v[0],e,S)),e.post.body.length>3&&x.push(a(e.post,e,c)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+x.join("\n")+"\n----------");var A=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",T,s(c)].join("");return new Function(["function ",A,"(",b.join(","),"){",x.join("\n"),"} return ",A].join(""))()}var u=n(245);e.exports=l},function(e,t,n){"use strict";function r(e){var t=["'use strict'","var CACHED={}"],n=[],r=e.funcName+"_cwise_thunk";t.push(["return function ",r,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(i.bind(void 0,e))}var i=n(928);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r=t&&t.length,o=r?t[0]*n:e.length,s=i(e,0,o,n,!0),l=[];if(!s)return l;var u,c,h,d,p,m,v;if(r&&(s=f(e,t,s,n)),e.length>80*n){u=h=e[0],c=d=e[1];for(var g=n;g<o;g+=n)p=e[g],m=e[g+1],p<u&&(u=p),m<c&&(c=m),p>h&&(h=p),m>d&&(d=m);v=Math.max(h-u,d-c)}return a(s,l,n,u,c,v),l}function i(e,t,n,r,i){var o,a;if(i===O(e,t,n,r)>0)for(o=t;o<n;o+=r)a=A(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=A(o,e[o],e[o+1],a);return a&&w(a,a.next)&&(C(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(C(r),(r=t=r.prev)===r.next)return null;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,f,h){if(e){!h&&f&&m(e,r,i,f);for(var d,p,v=e;e.prev!==e.next;)if(d=e.prev,p=e.next,f?l(e,r,i,f):s(e))t.push(d.i/n),t.push(e.i/n),t.push(p.i/n),C(e),e=p.next,v=p.next;else if((e=p)===v){h?1===h?(e=u(e,t,n),a(e,t,n,r,i,f,2)):2===h&&c(e,t,n,r,i,f):a(o(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(_(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(b(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(e,t,n,r){var i=e.prev,o=e,a=e.next;if(_(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=g(s,l,t,n,r),h=g(u,c,t,n,r),d=e.nextZ;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!w(i,o)&&M(i,r,r.next,o)&&E(i,o)&&E(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),C(r),C(r.next),r=e=o),r=r.next}while(r!==e);return r}function c(e,t,n,r,i,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&x(l,u)){var c=T(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,t,n,r,i,s),void a(c,t,n,r,i,s)}u=u.next}l=l.next}while(l!==e)}function f(e,t,n,r){var a,s,l,u,c,f=[];for(a=0,s=t.length;a<s;a++)l=t[a]*r,u=a<s-1?t[a+1]*r:e.length,c=i(e,l,u,r,!1),c===c.next&&(c.steiner=!0),f.push(y(c));for(f.sort(h),a=0;a<f.length;a++)d(f[a],n),n=o(n,n.next);return n}function h(e,t){return e.x-t.x}function d(e,t){if(t=p(e,t)){var n=T(t,e);o(n,n.next)}}function p(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&b(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&E(r,e)&&(n=r,h=l),r=r.next;return n}function m(e,t,n,r){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0===s?(i=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function g(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function y(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function b(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!k(e,t)&&E(e,t)&&E(t,e)&&S(e,t)}function _(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function M(e,t,n,r){return!!(w(e,t)&&w(n,r)||w(e,r)&&w(n,t))||_(e,t,n)>0!==_(e,t,r)>0&&_(n,r,e)>0!==_(n,r,t)>0}function k(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&M(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function E(e,t){return _(e.prev,e,e.next)<0?_(e,t,e.next)>=0&&_(e,e.prev,t)>=0:_(e,t,e.prev)<0||_(e,e.next,t)<0}function S(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function T(e,t){var n=new D(e.i,e.x,e.y),r=new D(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function A(e,t,n,r){var i=new D(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function D(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(O(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(O(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"===typeof e||"object"===typeof e&&null!==e}function i(e){return"function"===typeof e}function o(e){W=e}function a(e){q=e}function s(){return function(){Y(u)}}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<H;e+=2){(0,J[e])(J[e+1]),J[e]=void 0,J[e+1]=void 0}H=0}function c(e,t){var n=arguments,r=this,i=new this.constructor(h);void 0===i[ee]&&O(i);var o=r._state;return o?function(){var e=n[o-1];q(function(){return A(o,i,e,r._result)})}():k(r,i,e,t),i}function f(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(h);return x(n,e),n}function h(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ie.error=e,ie}}function v(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function g(e,t,n){q(function(e){var r=!1,i=v(n,t,function(n){r||(r=!0,t!==n?x(e,n):w(e,n))},function(t){r||(r=!0,M(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,M(e,i))},e)}function y(e,t){t._state===ne?w(e,t._result):t._state===re?M(e,t._result):k(t,void 0,function(t){return x(e,t)},function(t){return M(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===f?y(e,t):n===ie?M(e,ie.error):void 0===n?w(e,t):i(n)?g(e,t,n):w(e,t)}function x(t,n){t===n?M(t,d()):e(n)?b(t,n,m(n)):w(t,n)}function _(e){e._onerror&&e._onerror(e._result),E(e)}function w(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&q(E,e))}function M(e,t){e._state===te&&(e._state=re,e._result=t,q(_,e))}function k(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&q(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?A(n,r,i,o):i(o);e._subscribers.length=0}}function S(){this.error=null}function T(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function A(e,t,n,r){var o=i(n),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if(a=T(n,r),a===oe?(u=!0,s=a.error,a=null):l=!0,t===a)return void M(t,p())}else a=r,l=!0;t._state!==te||(o&&l?x(t,a):u?M(t,s):e===ne?w(t,a):e===re&&M(t,a))}function C(e,t){try{t(function(t){x(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}}function D(){return ae++}function O(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[ee]||O(this.promise),V(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):M(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function I(e){return new P(this,e).promise}function N(e){var t=this;return new t(V(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,n=new t(h);return M(n,e),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ee]=D(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!==typeof e&&j(),this instanceof F?C(this,e):z())}function B(){var e=void 0;if("undefined"!==typeof r)e=r;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var U=void 0;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var V=U,H=0,Y=void 0,W=void 0,q=function(e,t){J[H]=e,J[H+1]=t,2===(H+=2)&&(W?W(u):Q())},G="undefined"!==typeof window?window:void 0,X=G||{},Z=X.MutationObserver||X.WebKitMutationObserver,K="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),$="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,J=new Array(1e3),Q=void 0;Q=K?function(){return function(){return t.nextTick(u)}}():Z?function(){var e=0,t=new Z(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():$?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===G?function(){try{var e=n(1755);return Y=e.runOnLoop||e.runOnContext,s()}catch(e){return l()}}():l();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new S,oe=new S,ae=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===te&&n<e;n++)this._eachEntry(t[n],n)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=m(e);if(i===c&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(n===F){var o=new n(h);b(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?M(r,n):this._result[t]=n),0===this._remaining&&w(r,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},F.all=I,F.race=N,F.resolve=f,F.reject=R,F._setScheduler=o,F._setAsap=a,F._asap=q,F.prototype={constructor:F,then:c,catch:function(e){return this.then(null,e)}},B(),F.polyfill=B,F.Promise=F,F})}).call(t,n(72),n(29))},function(e,t,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},function(e,t,n){"use strict";function r(e,t,n){var r=t||0,i=n||1;return[[e[12]+e[0],e[13]+e[1],e[14]+e[2],e[15]+e[3]],[e[12]-e[0],e[13]-e[1],e[14]-e[2],e[15]-e[3]],[e[12]+e[4],e[13]+e[5],e[14]+e[6],e[15]+e[7]],[e[12]-e[4],e[13]-e[5],e[14]-e[6],e[15]-e[7]],[r*e[12]+e[8],r*e[13]+e[9],r*e[14]+e[10],r*e[15]+e[11]],[i*e[12]-e[8],i*e[13]-e[9],i*e[14]-e[10],i*e[15]-e[11]]]}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(934),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(944);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&a(!1),"number"!==typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"===typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(10);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u||l(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t||l(!1),a(f).forEach(t));for(var h=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(42),a=n(937),s=n(939),l=n(10),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return a||o(!1),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var i=n(42),o=n(10),a=i.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){h[e]=f,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(941),o=/^ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(943);e.exports=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=r},function(e,t,n){"use strict";function r(e){e=e||{};var t,n,r=e.canvas||document.createElement("canvas"),o=e.family||"monospace",a=e.shape||[512,512],s=e.step||[32,32],l=e.size||16,u=e.chars||[32,126],c=Math.floor((s[0]-l)/2),f=e.radius||1.5*c,h=new i(l,c,f,0,o),d=e.align||!0;if("number"===typeof l&&(l+="px"),Array.isArray(u)){if(2===u.length&&"number"===typeof u[0]&&"number"===typeof u[1]){var p=[];for(t=u[0],n=0;t<=u[1];t++)p[n++]=String.fromCharCode(t);u=p}}else u=String(u).split("");a=a.slice(),r.width=a[0],r.height=a[1];var m=r.getContext("2d");m.fillStyle="#000",m.fillRect(0,0,r.width,r.height),m.font=l+" "+o,m.textBaseline="middle";var v=0,g=0,y=Math.min(u.length,Math.floor(a[0]/s[0])*Math.ceil(a[1]/s[1])),b=h.ctx.textAlign,x=h.buffer;for(h.ctx.textAlign="center",h.buffer=h.size/2,t=0;t<y;t++){var _=h.draw(u[t]),w=0;d&&(w=function(e){var t,n,r,i=e.data,o=e.width,a=e.height,s=0,l=0;for(n=0;n<a;n++){for(r=n*o*4,t=0;t<o;t++)if(i[r+4*t]>0){s=n;break}if(s)break}for(n=a;n--;){for(r=n*o*4,t=0;t<o;t++)if(i[r+4*t]>0){l=n;break}if(l)break}return s-.5*(s+(a-l))}(_)),m.putImageData(_,v,g-w),v+=s[0],v>a[0]-s[0]&&(v=0,g+=s[1])}return h.ctx.textAlign=b,h.buffer=x,r}var i=n(1689);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=o}function i(e){return new r(e._color,e.key,e.value,e.left,e.right,e._count)}function o(e,t){return new r(e,t.key,t.value,t.left,t.right,t._count)}function a(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function s(e,t){this._compare=e,this.root=t}function l(e,t){if(t.left){var n=l(e,t.left);if(n)return n}var n=e(t.key,t.value);return n||(t.right?l(e,t.right):void 0)}function u(e,t,n,r){if(t(e,r.key)<=0){if(r.left){var i=u(e,t,n,r.left);if(i)return i}var i=n(r.key,r.value);if(i)return i}if(r.right)return u(e,t,n,r.right)}function c(e,t,n,r,i){var o,a=n(e,i.key),s=n(t,i.key);if(a<=0){if(i.left&&(o=c(e,t,n,r,i.left)))return o;if(s>0&&(o=r(i.key,i.value)))return o}if(s>0&&i.right)return c(e,t,n,r,i.right)}function f(e,t){this.tree=e,this._stack=t}function h(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function d(e){for(var t,n,r,s,l=e.length-1;l>=0;--l){if(t=e[l],0===l)return void(t._color=g);if(n=e[l-1],n.left===t){if(r=n.right,r.right&&r.right._color===v){if(r=n.right=i(r),s=r.right=i(r.right),n.right=r.left,r.left=n,r.right=s,r._color=n._color,t._color=g,n._color=g,s._color=g,a(n),a(r),l>1){var u=e[l-2];u.left===n?u.left=r:u.right=r}return void(e[l-1]=r)}if(r.left&&r.left._color===v){if(r=n.right=i(r),s=r.left=i(r.left),n.right=s.left,r.left=s.right,s.left=n,s.right=r,s._color=n._color,n._color=g,r._color=g,t._color=g,a(n),a(r),a(s),l>1){var u=e[l-2];u.left===n?u.left=s:u.right=s}return void(e[l-1]=s)}if(r._color===g){if(n._color===v)return n._color=g,void(n.right=o(v,r));n.right=o(v,r);continue}if(r=i(r),n.right=r.left,r.left=n,r._color=n._color,n._color=v,a(n),a(r),l>1){var u=e[l-2];u.left===n?u.left=r:u.right=r}e[l-1]=r,e[l]=n,l+1<e.length?e[l+1]=t:e.push(t),l+=2}else{if(r=n.left,r.left&&r.left._color===v){if(r=n.left=i(r),s=r.left=i(r.left),n.left=r.right,r.right=n,r.left=s,r._color=n._color,t._color=g,n._color=g,s._color=g,a(n),a(r),l>1){var u=e[l-2];u.right===n?u.right=r:u.left=r}return void(e[l-1]=r)}if(r.right&&r.right._color===v){if(r=n.left=i(r),s=r.right=i(r.right),n.left=s.right,r.right=s.left,s.right=n,s.left=r,s._color=n._color,n._color=g,r._color=g,t._color=g,a(n),a(r),a(s),l>1){var u=e[l-2];u.right===n?u.right=s:u.left=s}return void(e[l-1]=s)}if(r._color===g){if(n._color===v)return n._color=g,void(n.left=o(v,r));n.left=o(v,r);continue}if(r=i(r),n.left=r.right,r.right=n,r._color=n._color,n._color=v,a(n),a(r),l>1){var u=e[l-2];u.right===n?u.right=r:u.left=r}e[l-1]=r,e[l]=n,l+1<e.length?e[l+1]=t:e.push(t),l+=2}}}function p(e,t){return e<t?-1:e>t?1:0}function m(e){return new s(e||p,null)}e.exports=m;var v=0,g=1,y=s.prototype;Object.defineProperty(y,"keys",{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(y,"values",{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(y,"length",{get:function(){return this.root?this.root._count:0}}),y.insert=function(e,t){for(var n=this._compare,i=this.root,l=[],u=[];i;){var c=n(e,i.key);l.push(i),u.push(c),i=c<=0?i.left:i.right}l.push(new r(v,e,t,null,null,1));for(var f=l.length-2;f>=0;--f){var i=l[f];u[f]<=0?l[f]=new r(i._color,i.key,i.value,l[f+1],i.right,i._count+1):l[f]=new r(i._color,i.key,i.value,i.left,l[f+1],i._count+1)}for(var f=l.length-1;f>1;--f){var h=l[f-1],i=l[f];if(h._color===g||i._color===g)break;var d=l[f-2];if(d.left===h)if(h.left===i){var p=d.right;if(!p||p._color!==v){if(d._color=v,d.left=h.right,h._color=g,h.right=d,l[f-2]=h,l[f-1]=i,a(d),a(h),f>=3){var m=l[f-3];m.left===d?m.left=h:m.right=h}break}h._color=g,d.right=o(g,p),d._color=v,f-=1}else{var p=d.right;if(!p||p._color!==v){if(h.right=i.left,d._color=v,d.left=i.right,i._color=g,i.left=h,i.right=d,l[f-2]=i,l[f-1]=h,a(d),a(h),a(i),f>=3){var m=l[f-3];m.left===d?m.left=i:m.right=i}break}h._color=g,d.right=o(g,p),d._color=v,f-=1}else if(h.right===i){var p=d.left;if(!p||p._color!==v){if(d._color=v,d.right=h.left,h._color=g,h.left=d,l[f-2]=h,l[f-1]=i,a(d),a(h),f>=3){var m=l[f-3];m.right===d?m.right=h:m.left=h}break}h._color=g,d.left=o(g,p),d._color=v,f-=1}else{var p=d.left;if(!p||p._color!==v){if(h.left=i.right,d._color=v,d.right=i.left,i._color=g,i.right=h,i.left=d,l[f-2]=i,l[f-1]=h,a(d),a(h),a(i),f>=3){var m=l[f-3];m.right===d?m.right=i:m.left=i}break}h._color=g,d.left=o(g,p),d._color=v,f-=1}}return l[0]._color=g,new s(n,l[0])},y.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return l(e,this.root);case 2:return u(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return c(t,n,this._compare,e,this.root)}},Object.defineProperty(y,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new f(this,e)}}),Object.defineProperty(y,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new f(this,e)}}),y.at=function(e){if(e<0)return new f(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new f(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new f(this,[])},y.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new f(this,r)},y.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new f(this,r)},y.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new f(this,r)},y.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new f(this,r)},y.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new f(this,r);n=i<=0?n.left:n.right}return new f(this,[])},y.remove=function(e){var t=this.find(e);return t?t.remove():this},y.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var b=f.prototype;Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new f(this.tree,this._stack.slice())},b.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var i=e.length-2;i>=0;--i){var n=e[i];n.left===e[i+1]?t[i]=new r(n._color,n.key,n.value,t[i+1],n.right,n._count):t[i]=new r(n._color,n.key,n.value,n.left,t[i+1],n._count)}if(n=t[t.length-1],n.left&&n.right){var o=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var a=t[o-1];t.push(new r(n._color,a.key,a.value,n.left,n.right,n._count)),t[o-1].key=n.key,t[o-1].value=n.value;for(var i=t.length-2;i>=o;--i)n=t[i],t[i]=new r(n._color,n.key,n.value,n.left,t[i+1],n._count);t[o-1].left=t[o]}if(n=t[t.length-1],n._color===v){var l=t[t.length-2];l.left===n?l.left=null:l.right===n&&(l.right=null),t.pop();for(var i=0;i<t.length;++i)t[i]._count--;return new s(this.tree._compare,t[0])}if(n.left||n.right){n.left?h(n,n.left):n.right&&h(n,n.right),n._color=g;for(var i=0;i<t.length-1;++i)t[i]._count--;return new s(this.tree._compare,t[0])}if(1===t.length)return new s(this.tree._compare,null);for(var i=0;i<t.length;++i)t[i]._count--;var u=t[t.length-2];return d(t),u.left===n?u.left=null:u.right=null,new s(this.tree._compare,t[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),b.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),b.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),i=t[t.length-1];n[n.length-1]=new r(i._color,i.key,e,i.left,i.right,i._count);for(var o=t.length-2;o>=0;--o)i=t[o],i.left===t[o+1]?n[o]=new r(i._color,i.key,i.value,n[o+1],i.right,i._count):n[o]=new r(i._color,i.key,i.value,i.left,n[o+1],i._count);return new s(this.tree._compare,n[0])},b.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},function(e,t){function n(e){if(e<0)return Number("0/0");for(var t=o[0],n=o.length-1;n>0;--n)t+=o[n]/(e+n);var r=e+i+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(r)-r+Math.log(t)-Math.log(e)}var r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=607/128,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(n(t));t-=1;for(var i=r[0],o=1;o<9;o++)i+=r[o]/(t+o);var a=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,t+.5)*Math.exp(-a)*i},e.exports.log=n},function(e,t,n){function r(e){if("Polygon"===e.type)return i(e.coordinates);if("MultiPolygon"===e.type){for(var t=0,n=0;n<e.coordinates.length;n++)t+=i(e.coordinates[n]);return t}return null}function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var t=0;if(e.length>2){for(var n,r,i=0;i<e.length-1;i++)n=e[i],r=e[i+1],t+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));t=t*s.RADIUS*s.RADIUS/2}return t}function a(e){return e*Math.PI/180}var s=n(1710);e.exports.geometry=r,e.exports.ring=o},function(e,t,n){function r(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(i(r,t)),e;case"Feature":return e.geometry=r(e.geometry,t),e;case"Polygon":case"MultiPolygon":return o(e,t);default:return e}}function i(e,t){return function(n){return e(n,t)}}function o(e,t){return"Polygon"===e.type?e.coordinates=a(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(i(a,t))),e}function a(e,t){t=!!t,e[0]=s(e[0],!t);for(var n=1;n<e.length;n++)e[n]=s(e[n],t);return e}function s(e,t){return l(e)===t?e:e.reverse()}function l(e){return u.ring(e)>=0}var u=n(949);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)i(n,e.features[r],t);else"Feature"===e.type?i(n,e,t):i(n,{geometry:e},t);return n}function i(e,t,n){if(null!==t.geometry){var r,s,l,c,f=t.geometry,h=f.type,d=f.coordinates,p=t.properties,m=t.id;if("Point"===h)e.push(u(p,1,[a(d)],m));else if("MultiPoint"===h)e.push(u(p,1,o(d),m));else if("LineString"===h)e.push(u(p,2,[o(d,n)],m));else if("MultiLineString"===h||"Polygon"===h){for(l=[],r=0;r<d.length;r++)c=o(d[r],n),"Polygon"===h&&(c.outer=0===r),l.push(c);e.push(u(p,"Polygon"===h?3:2,l,m))}else if("MultiPolygon"===h){for(l=[],r=0;r<d.length;r++)for(s=0;s<d[r].length;s++)c=o(d[r][s],n),c.outer=0===s,l.push(c);e.push(u(p,3,l,m))}else{if("GeometryCollection"!==h)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)i(e,{geometry:f.geometries[r],properties:p},n)}}}function o(e,t){for(var n=[],r=0;r<e.length;r++)n.push(a(e[r]));return t&&(l(n,t),s(n)),n}function a(e){var t=Math.sin(e[1]*Math.PI/180),n=e[0]/360+.5,r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(e){for(var t,n,r=0,i=0,o=0;o<e.length-1;o++)t=n||e[o],n=e[o+1],r+=t[0]*n[1]-n[0]*t[1],i+=Math.abs(n[0]-t[0])+Math.abs(n[1]-t[1]);e.area=Math.abs(r/2),e.dist=i}e.exports=r;var l=n(953),u=n(285)},function(e,t,n){"use strict";function r(e,t){return new i(e,t)}function i(e,t){t=this.options=l(Object.create(this.options),t);var n=t.debug;n&&console.time("preprocess data");var r=1<<t.maxZoom,i=c(e,t.tolerance/(r*t.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=d(i,t.buffer/t.extent,a),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(e,t,n){return 32*((1<<e)*n+t)+e}function a(e,t,n){return[n,(n-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function s(e,t,n){return[(n-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],n,1]}function l(e,t){for(var n in t)e[n]=t[n];return e}function u(e,t,n){var r=e.source;if(1!==r.length)return!1;var i=r[0];if(3!==i.type||i.geometry.length>1)return!1;var o=i.geometry[0].length;if(5!==o)return!1;for(var a=0;a<o;a++){var s=f.point(i.geometry[0][a],t,e.z2,e.x,e.y);if(s[0]!==-n&&s[0]!==t+n||s[1]!==-n&&s[1]!==t+n)return!1}return!0}e.exports=r;var c=n(951),f=n(955),h=n(452),d=n(956),p=n(954);i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(e,t,n,r,i,l,c){for(var f=[e,t,n,r],d=this.options,m=d.debug,v=null;f.length;){r=f.pop(),n=f.pop(),t=f.pop(),e=f.pop();var g=1<<t,y=o(t,n,r),b=this.tiles[y],x=t===d.maxZoom?0:d.tolerance/(g*d.extent);if(!b&&(m>1&&console.time("creation"),b=this.tiles[y]=p(e,g,n,r,x,t===d.maxZoom),this.tileCoords.push({z:t,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var _="z"+t;this.stats[_]=(this.stats[_]||0)+1,this.total++}if(b.source=e,i){if(t===d.maxZoom||t===i)continue;var w=1<<i-t;if(n!==Math.floor(l/w)||r!==Math.floor(c/w))continue}else if(t===d.indexMaxZoom||b.numPoints<=d.indexMaxPoints)continue;if(d.solidChildren||!u(b,d.extent,d.buffer)){b.source=null,m>1&&console.time("clipping");var M,k,E,S,T,A,C=.5*d.buffer/d.extent,D=.5-C,O=.5+C,P=1+C;M=k=E=S=null,T=h(e,g,n-C,n+O,0,a,b.min[0],b.max[0]),A=h(e,g,n+D,n+P,0,a,b.min[0],b.max[0]),T&&(M=h(T,g,r-C,r+O,1,s,b.min[1],b.max[1]),k=h(T,g,r+D,r+P,1,s,b.min[1],b.max[1])),A&&(E=h(A,g,r-C,r+O,1,s,b.min[1],b.max[1]),S=h(A,g,r+D,r+P,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd("clipping"),e.length&&(f.push(M||[],t+1,2*n,2*r),f.push(k||[],t+1,2*n,2*r+1),f.push(E||[],t+1,2*n+1,2*r),f.push(S||[],t+1,2*n+1,2*r+1))}else i&&(v=t)}return v},i.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug,s=1<<e;t=(t%s+s)%s;var l=o(e,t,n);if(this.tiles[l])return f.tile(this.tiles[l],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var c,h=e,d=t,p=n;!c&&h>0;)h--,d=Math.floor(d/2),p=Math.floor(p/2),c=this.tiles[o(h,d,p)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",h,d,p),u(c,i,r.buffer))return f.tile(c,i);a>1&&console.time("drilling down");var m=this.splitTile(c.source,h,d,p,e,t,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var v=1<<e-m;l=o(m,Math.floor(t/v),Math.floor(n/v))}return this.tiles[l]?f.tile(this.tiles[l],i):null}},function(e,t,n){"use strict";function r(e,t){var n,r,o,a,s=t*t,l=e.length,u=0,c=l-1,f=[];for(e[u][2]=1,e[c][2]=1;c;){for(r=0,n=u+1;n<c;n++)(o=i(e[n],e[u],e[c]))>r&&(a=n,r=o);r>s?(e[a][2]=r,f.push(u),f.push(a),u=a):(c=f.pop(),u=f.pop())}}function i(e,t,n){var r=t[0],i=t[1],o=n[0],a=n[1],s=e[0],l=e[1],u=o-r,c=a-i;if(0!==u||0!==c){var f=((s-r)*u+(l-i)*c)/(u*u+c*c);f>1?(r=o,i=a):f>0&&(r+=u*f,i+=c*f)}return u=s-r,c=l-i,u*u+c*c}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:t,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<e.length;l++){s.numFeatures++,i(s,e[l],o,a);var u=e[l].min,c=e[l].max;u[0]<s.min[0]&&(s.min[0]=u[0]),u[1]<s.min[1]&&(s.min[1]=u[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function i(e,t,n,r){var i,a,s,l,u=t.geometry,c=t.type,f=[],h=n*n;if(1===c)for(i=0;i<u.length;i++)f.push(u[i]),e.numPoints++,e.numSimplified++;else for(i=0;i<u.length;i++)if(s=u[i],r||!(2===c&&s.dist<n||3===c&&s.area<h)){var d=[];for(a=0;a<s.length;a++)l=s[a],(r||l[2]>h)&&(d.push(l),e.numSimplified++),e.numPoints++;3===c&&o(d,s.outer),f.push(d)}else e.numPoints+=s.length;if(f.length){var p={geometry:f,type:c,tags:t.tags||null};null!==t.id&&(p.id=t.id),e.features.push(p)}}function o(e,t){a(e)<0===t&&e.reverse()}function a(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n[0]-t[0])*(t[1]+n[1]);return r}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e.transformed)return e;var n,r,o,a=e.z2,s=e.x,l=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],c=u.geometry;if(1===u.type)for(r=0;r<c.length;r++)c[r]=i(c[r],t,a,s,l);else for(r=0;r<c.length;r++){var f=c[r];for(o=0;o<f.length;o++)f[o]=i(f[o],t,a,s,l)}}return e.transformed=!0,e}function i(e,t,n,r,i){return[Math.round(t*(e[0]*n-r)),Math.round(t*(e[1]*n-i))]}t.tile=r,t.point=i},function(e,t,n){"use strict";function r(e,t,n){var r=e,o=a(e,1,-1-t,t,0,n,-1,2),s=a(e,1,1-t,2+t,0,n,-1,2);return(o||s)&&(r=a(e,1,-t,1+t,0,n,-1,2)||[],o&&(r=i(o,1).concat(r)),s&&(r=r.concat(i(s,-1)))),r}function i(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],l=a.type;if(1===l)i=o(a.geometry,t);else{i=[];for(var u=0;u<a.geometry.length;u++)i.push(o(a.geometry[u],t))}n.push(s(a.tags,l,i,a.id))}return n}function o(e,t){var n=[];n.area=e.area,n.dist=e.dist;for(var r=0;r<e.length;r++)n.push([e[r][0]+t,e[r][1],e[r][2]]);return n}var a=n(452),s=n(285);e.exports=r},function(e,t){function n(e,t){if("string"!==typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"===typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"===typeof t.width&&(n.width=t.width),"number"===typeof t.height&&(n.height=t.height);var r,i=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var a=0;a<o.length;a++)if(r=n.getContext(o[a],i))return r}catch(e){r=null}return r||null}e.exports=n},function(e,t,n){"use strict";function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(e){this.gl=e,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=c(e)}function o(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}function a(e,t,n,r,i){for(var o=e.primalOffset,a=e.primalMinor,s=e.mirrorOffset,l=e.mirrorMinor,u=r[t],c=0;c<3;++c)if(t!==c){var f=o,h=s,d=a,p=l;u&1<<c&&(f=s,h=o,d=l,p=a),f[c]=n[0][c],h[c]=n[1][c],i[c]>0?(d[c]=-1,p[c]=0):(d[c]=0,p[c]=1)}}function s(e,t){var n=new i(e);return n.update(t),n}e.exports=s;var l=n(961),u=n(960),c=n(959),f=n(453),h=n(962),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=i.prototype;p.update=function(e){function t(t,n,r){if(r in e){var i,o=e[r],a=this[r];(t?Array.isArray(o)&&Array.isArray(o[0]):Array.isArray(o))?this[r]=i=[n(o[0]),n(o[1]),n(o[2])]:this[r]=i=[n(o),n(o),n(o)];for(var s=0;s<3;++s)if(i[s]!==a[s])return!0}return!1}e=e||{};var n,r=t.bind(this,!1,Number),i=t.bind(this,!1,Boolean),o=t.bind(this,!1,String),a=t.bind(this,!0,function(e){if(Array.isArray(e)){if(3===e.length)return[+e[0],+e[1],+e[2],1];if(4===e.length)return[+e[0],+e[1],+e[2],+e[3]]}return[0,0,0,1]}),s=!1,c=!1;if("bounds"in e)for(var f=e.bounds,d=0;d<2;++d)for(var p=0;p<3;++p)f[d][p]!==this.bounds[d][p]&&(c=!0),this.bounds[d][p]=f[d][p];if("ticks"in e){n=e.ticks,s=!0,this.autoTicks=!1;for(var d=0;d<3;++d)this.tickSpacing[d]=0}else r("tickSpacing")&&(this.autoTicks=!0,c=!0);if(this._firstInit&&("ticks"in e||"tickSpacing"in e||(this.autoTicks=!0),c=!0,s=!0,this._firstInit=!1),c&&this.autoTicks&&(n=h.create(this.bounds,this.tickSpacing),s=!0),s){for(var d=0;d<3;++d)n[d].sort(function(e,t){return e.x-t.x});h.equal(n,this.ticks)?s=!1:this.ticks=n}i("tickEnable"),o("tickFont")&&(s=!0),r("tickSize"),r("tickAngle"),r("tickPad"),a("tickColor");var m=o("labels");o("labelFont")&&(m=!0),i("labelEnable"),r("labelSize"),r("labelPad"),a("labelColor"),i("lineEnable"),i("lineMirror"),r("lineWidth"),a("lineColor"),i("lineTickEnable"),i("lineTickMirror"),r("lineTickLength"),r("lineTickWidth"),a("lineTickColor"),i("gridEnable"),r("gridWidth"),a("gridColor"),i("zeroEnable"),a("zeroLineColor"),r("zeroLineWidth"),i("backgroundEnable"),a("backgroundColor"),this._text?this._text&&(m||s)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=l(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&s&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};var m=[new o,new o,new o],v=[0,0,0],g={model:d,view:d,projection:d};p.isOpaque=function(){return!0},p.isTransparent=function(){return!1},p.drawTransparent=function(e){};var y=[0,0,0],b=[0,0,0],x=[0,0,0];p.draw=function(e){e=e||g;for(var t=this.gl,n=e.model||d,i=e.view||d,o=e.projection||d,s=this.bounds,l=f(n,i,o,s),u=l.cubeEdges,c=l.axis,h=i[12],p=i[13],_=i[14],w=i[15],M=this.pixelRatio*(o[3]*h+o[7]*p+o[11]*_+o[15]*w)/t.drawingBufferHeight,k=0;k<3;++k)this.lastCubeProps.cubeEdges[k]=u[k],this.lastCubeProps.axis[k]=c[k];for(var E=m,k=0;k<3;++k)a(m[k],k,this.bounds,u,c);for(var t=this.gl,S=v,k=0;k<3;++k)this.backgroundEnable[k]?S[k]=c[k]:S[k]=0;this._background.draw(n,i,o,s,S,this.backgroundColor),this._lines.bind(n,i,o,this);for(var k=0;k<3;++k){var T=[0,0,0];c[k]>0?T[k]=s[1][k]:T[k]=s[0][k];for(var A=0;A<2;++A){var C=(k+1+A)%3,D=(k+1+(1^A))%3;this.gridEnable[C]&&this._lines.drawGrid(C,D,this.bounds,T,this.gridColor[C],this.gridWidth[C]*this.pixelRatio)}for(var A=0;A<2;++A){var C=(k+1+A)%3,D=(k+1+(1^A))%3;this.zeroEnable[D]&&s[0][D]<=0&&s[1][D]>=0&&this._lines.drawZero(C,D,this.bounds,T,this.zeroLineColor[D],this.zeroLineWidth[D]*this.pixelRatio)}}for(var k=0;k<3;++k){this.lineEnable[k]&&this._lines.drawAxisLine(k,this.bounds,E[k].primalOffset,this.lineColor[k],this.lineWidth[k]*this.pixelRatio),this.lineMirror[k]&&this._lines.drawAxisLine(k,this.bounds,E[k].mirrorOffset,this.lineColor[k],this.lineWidth[k]*this.pixelRatio);for(var O=r(y,E[k].primalMinor),P=r(b,E[k].mirrorMinor),L=this.lineTickLength,A=0;A<3;++A){var I=M/n[5*A];O[A]*=L[A]*I,P[A]*=L[A]*I}this.lineTickEnable[k]&&this._lines.drawAxisTicks(k,E[k].primalOffset,O,this.lineTickColor[k],this.lineTickWidth[k]*this.pixelRatio),this.lineTickMirror[k]&&this._lines.drawAxisTicks(k,E[k].mirrorOffset,P,this.lineTickColor[k],this.lineTickWidth[k]*this.pixelRatio)}this._text.bind(n,i,o,this.pixelRatio);for(var k=0;k<3;++k){for(var N=E[k].primalMinor,R=r(x,E[k].primalOffset),A=0;A<3;++A)this.lineTickEnable[k]&&(R[A]+=M*N[A]*Math.max(this.lineTickLength[A],0)/n[5*A]);if(this.tickEnable[k]){for(var A=0;A<3;++A)R[A]+=M*N[A]*this.tickPad[A]/n[5*A];this._text.drawTicks(k,this.tickSize[k],this.tickAngle[k],R,this.tickColor[k])}if(this.labelEnable[k]){for(var A=0;A<3;++A)R[A]+=M*N[A]*this.labelPad[A]/n[5*A];R[k]+=.5*(s[0][k]+s[1][k]),this._text.drawLabel(k,this.labelSize[k],this.labelAngle[k],R,this.labelColor[k])}}},p.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},function(e,t,n){"use strict";function r(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r}function i(e){for(var t=[],n=[],i=0,l=0;l<3;++l)for(var u=(l+1)%3,c=(l+2)%3,f=[0,0,0],h=[0,0,0],d=-1;d<=1;d+=2){n.push(i,i+2,i+1,i+1,i+2,i+3),f[l]=d,h[l]=d;for(var p=-1;p<=1;p+=2){f[u]=p;for(var m=-1;m<=1;m+=2)f[c]=m,t.push(f[0],f[1],f[2],h[0],h[1],h[2]),i+=1}var v=u;u=c,c=v}var g=o(e,new Float32Array(t)),y=o(e,new Uint16Array(n),e.ELEMENT_ARRAY_BUFFER),b=a(e,[{buffer:g,type:e.FLOAT,size:3,offset:0,stride:24},{buffer:g,type:e.FLOAT,size:3,offset:12,stride:24}],y),x=s(e);return x.attributes.position.location=0,x.attributes.normal.location=1,new r(e,g,b,x)}e.exports=i;var o=n(24),a=n(62),s=n(286).bg,l=r.prototype;l.draw=function(e,t,n,r,i,o){for(var a=!1,s=0;s<3;++s)a=a||i[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:e,view:t,projection:n,bounds:r,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),l.disable(l.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(e,t,n){"use strict";function r(e){return e[0]=e[1]=e[2]=0,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(e,t,n,r,i,o,a,s){this.gl=e,this.vertBuffer=t,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}function a(e,t,n){var r=[],i=[0,0,0],a=[0,0,0],c=[0,0,0],f=[0,0,0];r.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var h=0;h<3;++h){for(var d=r.length/3|0,p=0;p<n[h].length;++p){var m=+n[h][p].x;r.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var v=r.length/3|0;i[h]=d,a[h]=v-d;for(var d=r.length/3|0,g=0;g<n[h].length;++g){var m=+n[h][g].x;r.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var v=r.length/3|0;c[h]=d,f[h]=v-d}var y=s(e,new Float32Array(r)),b=l(e,[{buffer:y,type:e.FLOAT,size:3,stride:0,offset:0}]),x=u(e);return x.attributes.position.location=0,new o(e,y,b,x,a,i,f,c)}e.exports=a;var s=n(24),l=n(62),u=n(286).line,c=[0,0,0],f=[0,0,0],h=[0,0,0],d=[0,0,0],p=[1,1],m=o.prototype;m.bind=function(e,t,n){this.shader.bind(),this.shader.uniforms.model=e,this.shader.uniforms.view=t,this.shader.uniforms.projection=n,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=p,this.vao.bind()},m.drawAxisLine=function(e,t,n,o,a){var s=r(f);this.shader.uniforms.majorAxis=f,s[e]=t[1][e]-t[0][e],this.shader.uniforms.minorAxis=s;var l=i(d,n);l[e]+=t[0][e],this.shader.uniforms.offset=l,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=o;var u=r(h);u[(e+2)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6);var u=r(h);u[(e+1)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(e,t,n,i,o){if(this.tickCount[e]){var a=r(c);a[e]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=t,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=i,this.shader.uniforms.lineWidth=o;var s=r(h);s[e]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e])}},m.drawGrid=function(e,t,n,o,a,s){if(this.gridCount[e]){var l=r(f);l[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=l;var u=i(d,o);u[t]+=n[0][t],this.shader.uniforms.offset=u;var p=r(c);p[e]=1,this.shader.uniforms.majorAxis=p;var m=r(h);m[e]=1,this.shader.uniforms.screenAxis=m,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,this.gridCount[e],this.gridOffset[e])}},m.drawZero=function(e,t,n,o,a,s){var l=r(f);this.shader.uniforms.majorAxis=l,l[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=l;var u=i(d,o);u[e]+=n[0][e],this.shader.uniforms.offset=u;var c=r(h);c[t]=1,this.shader.uniforms.screenAxis=c,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){this.gl=e,this.shader=t,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}function i(e,t){try{return l(e,t)}catch(e){return console.warn("error vectorizing text:",e),{cells:[],positions:[]}}}function o(e,t,n,i,o,l){var c=a(e),f=s(e,[{buffer:c,size:3}]),h=u(e);h.attributes.position.location=0;var d=new r(e,h,c,f);return d.update(t,n,i,o,l),d}e.exports=o;var a=n(24),s=n(62),l=n(378),u=n(286).text,c=window||t.global||{},f=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var h=r.prototype,d=[0,0];h.bind=function(e,t,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=e,i.view=t,i.projection=n,i.pixelScale=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},h.update=function(e,t,n,r,o){function a(e,t,n,r){var o=f[n];o||(o=f[n]={});var a=o[t];a||(a=o[t]=i(t,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle"}));for(var l=(r||12)/12,u=a.positions,c=a.cells,h=0,d=c.length;h<d;++h)for(var p=c[h],m=2;m>=0;--m){var v=u[p[m]];s.push(l*v[0],-l*v[1],e)}}for(var s=(this.gl,[]),l=[0,0,0],u=[0,0,0],c=[0,0,0],h=[0,0,0],d=0;d<3;++d){c[d]=s.length/3|0,a(.5*(e[0][d]+e[1][d]),t[d],n),h[d]=(s.length/3|0)-c[d],l[d]=s.length/3|0;for(var p=0;p<r[d].length;++p)r[d][p].text&&a(r[d][p].x,r[d][p].text,r[d][p].font||o,r[d][p].fontSize||12);u[d]=(s.length/3|0)-l[d]}this.buffer.update(s),this.tickOffset=l,this.tickCount=u,this.labelOffset=c,this.labelCount=h};var p=[0,0,0];h.drawTicks=function(e,t,n,r,i){if(this.tickCount[e]){var o=p;o[0]=o[1]=o[2]=0,o[e]=1,this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e])}};var m=[0,0,0];h.drawLabel=function(e,t,n,r,i){this.labelCount[e]&&(this.shader.uniforms.axis=m,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.vao.draw(this.gl.TRIANGLES,this.labelCount[e],this.labelOffset[e]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(t,n(72))},function(e,t,n){"use strict";function r(e,t){var n=e+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var o=Math.pow(10,i),a=Math.round(e*t*o),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/o,u=a%o;a<0?(l=0|-Math.ceil(l),u=0|-u):(l=0|Math.floor(l),u|=0);var c=""+l;if(a<0&&(c="-"+c),i){for(var f=""+u;f.length<i;)f="0"+f;return c+"."+f}return c}function i(e,t){for(var n=[],i=0;i<3;++i){for(var o=[],a=(e[0][i],e[1][i],0);a*t[i]<=e[1][i];++a)o.push({x:a*t[i],text:r(t[i],a)});for(var a=-1;a*t[i]>=e[0][i];--a)o.push({x:a*t[i],text:r(t[i],a)});n.push(o)}return n}function o(e,t){for(var n=0;n<3;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;++r){var i=e[n][r],o=t[n][r];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}t.create=i,t.equal=o},function(e,t,n){"use strict";function r(e,t,n){this.lo=e,this.hi=t,this.pixelsPerDataUnit=n}function i(e,t,n,r,i){for(var o=0;o<3;++o){for(var a=p,s=m,l=0;l<3;++l)s[l]=a[l]=n[l];s[3]=a[3]=1,s[o]+=1,f(s,s,t),s[3]<0&&(e[o]=1/0),a[o]-=1,f(a,a,t),a[3]<0&&(e[o]=1/0);var u=(a[0]/a[3]-s[0]/s[3])*r,c=(a[1]/a[3]-s[1]/s[3])*i;e[o]=.25*Math.sqrt(u*u+c*c)}return e}function o(e,t,n,r,o){var f=t.model||h,p=t.view||h,m=t.projection||h,y=e.bounds,o=o||l(f,p,m,y),b=o.axis;o.edges;u(d,p,f),u(d,m,d);for(var x=v,_=0;_<3;++_)x[_].lo=1/0,x[_].hi=-1/0,x[_].pixelsPerDataUnit=1/0;var w=a(c(d,d));c(d,d);for(var M=0;M<3;++M){var k=(M+1)%3,E=(M+2)%3,S=g;e:for(var _=0;_<2;++_){var T=[];if(b[M]<0!==!!_){S[M]=y[_][M];for(var A=0;A<2;++A){S[k]=y[A^_][k];for(var C=0;C<2;++C)S[E]=y[C^A^_][E],T.push(S.slice())}for(var A=0;A<w.length;++A){if(0===T.length)continue e;T=s.positive(T,w[A])}for(var A=0;A<T.length;++A)for(var E=T[A],D=i(g,d,E,n,r),C=0;C<3;++C)x[C].lo=Math.min(x[C].lo,E[C]),x[C].hi=Math.max(x[C].hi,E[C]),C!==M&&(x[C].pixelsPerDataUnit=Math.min(x[C].pixelsPerDataUnit,Math.abs(D[C])))}}}return x}e.exports=o;var a=n(933),s=n(666),l=n(453),u=n(120),c=n(462),f=n(1052),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=new Float32Array(16),p=[0,0,0,1],m=[0,0,0,1],v=[new r(1/0,-1/0,1/0),new r(1/0,-1/0,1/0),new r(1/0,-1/0,1/0)],g=[0,0,0]},function(e,t){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(e,t,n){var r=n(964);e.exports=function(e){return r[e]}},function(e,t,n){"use strict";function r(e,t,n,r){this.plot=e,this.shader=t,this.bufferHi=n,this.bufferLo=r,this.bounds=[1/0,1/0,-1/0,-1/0],this.numPoints=0,this.color=[0,0,0,1]}function i(e,t){var n=o(e.gl,l.vertex,l.fragment),i=a(e.gl),s=a(e.gl),u=new r(e,n,i,s);return u.update(t),e.addObject(u),u}var o=n(55),a=n(24),s=n(23),l=n(967);e.exports=i;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]],c=r.prototype;c.draw=function(){var e=new Float32Array([0,0]),t=new Float32Array([0,0]),n=new Float32Array([0,0]),r=new Float32Array([0,0]),i=[1,1];return function(){var o=this.plot,a=this.shader,s=this.bounds,l=this.numPoints;if(l){var c=o.gl,f=o.dataBox,h=o.viewBox,d=o.pixelRatio,p=s[2]-s[0],m=s[3]-s[1],v=f[2]-f[0],g=f[3]-f[1],y=2*p/v,b=2*m/g,x=(s[0]-f[0]-.5*v)/p,_=(s[1]-f[1]-.5*g)/m;e[0]=y,e[1]=b,t[0]=y-e[0],t[1]=b-e[1],n[0]=x,n[1]=_,r[0]=x-n[0],r[1]=_-n[1];var w=h[2]-h[0],M=h[3]-h[1];i[0]=2*d/w,i[1]=2*d/M,a.bind(),a.uniforms.scaleHi=e,a.uniforms.scaleLo=t,a.uniforms.translateHi=n,a.uniforms.translateLo=r,a.uniforms.pixelScale=i,a.uniforms.color=this.color,this.bufferLo.bind(),a.attributes.positionLo.pointer(c.FLOAT,!1,16,0),this.bufferHi.bind(),a.attributes.positionHi.pointer(c.FLOAT,!1,16,0),a.attributes.pixelOffset.pointer(c.FLOAT,!1,16,8),c.drawArrays(c.TRIANGLES,0,l*u.length)}}}(),c.drawPick=function(e){return e},c.pick=function(){return null},c.update=function(e){e=e||{};var t,n,r,i=e.positions||[],o=e.errors||[],a=1;"lineWidth"in e&&(a=+e.lineWidth);var l=5;"capSize"in e&&(l=+e.capSize),this.color=(e.color||[0,0,0,1]).slice();var c=this.bounds=[1/0,1/0,-1/0,-1/0],f=this.numPoints=i.length>>1;for(t=0;t<f;++t)n=i[2*t],r=i[2*t+1],c[0]=Math.min(n,c[0]),c[1]=Math.min(r,c[1]),c[2]=Math.max(n,c[2]),c[3]=Math.max(r,c[3]);c[2]===c[0]&&(c[2]+=1),c[3]===c[1]&&(c[3]+=1);var h=1/(c[2]-c[0]),d=1/(c[3]-c[1]),p=c[0],m=c[1],v=s.mallocFloat64(f*u.length*4),g=s.mallocFloat32(f*u.length*4),y=s.mallocFloat32(f*u.length*4),b=0;for(t=0;t<f;++t){n=i[2*t],r=i[2*t+1];for(var x=o[4*t],_=o[4*t+1],w=o[4*t+2],M=o[4*t+3],k=0;k<u.length;++k){var E=u[k],S=E[0],T=E[1];S<0?S*=x:S>0&&(S*=_),T<0?T*=w:T>0&&(T*=M),v[b++]=h*(n-p+S),v[b++]=d*(r-m+T),v[b++]=a*E[2]+(l+a)*E[4],v[b++]=a*E[3]+(l+a)*E[5]}}for(t=0;t<v.length;t++)g[t]=v[t],y[t]=v[t]-g[t];this.bufferHi.update(g),this.bufferLo.update(y),s.free(v)},c.dispose=function(){this.plot.removeObject(this),this.shader.dispose(),this.bufferHi.dispose(),this.bufferLo.dispose()}},function(e,t){e.exports={vertex:"precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi;\nattribute vec2 positionLo;\nattribute vec2 pixelOffset;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo, pixelScale;\n\nvec2 project(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\nvoid main() {\n  vec3 scrPosition = vec3(\n         project(scaleHi, translateHi, scaleLo, translateLo, positionHi, positionLo),\n         1);\n  gl_Position = vec4(\n    scrPosition.xy + scrPosition.z * pixelScale * pixelOffset,\n    0,\n    scrPosition.z);\n}\n",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"}},function(e,t,n){"use strict";function r(e,t,n,r){this.gl=e,this.shader=r,this.buffer=t,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1}function i(e,t){for(var n=0;n<3;++n)e[0][n]=Math.min(e[0][n],t[n]),e[1][n]=Math.max(e[1][n],t[n])}function o(e,t,n,r){for(var i=h[r],o=0;o<i.length;++o){var a=i[o];e.push(t[0],t[1],t[2],n[0],n[1],n[2],n[3],a[0],a[1],a[2])}return i.length}function a(e){var t=e.gl,n=s(t),i=l(t,[{buffer:n,type:t.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:t.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:t.FLOAT,size:3,offset:28,stride:40}]),o=u(t);o.attributes.position.location=0,o.attributes.color.location=1,o.attributes.offset.location=2;var a=new r(t,n,i,o);return a.update(e),a}e.exports=a;var s=n(24),l=n(62),u=n(969),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f=r.prototype;f.isOpaque=function(){return this.opacity>=1},f.isTransparent=function(){return this.opacity<1},f.drawTransparent=f.draw=function(e){var t=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=e.view||c,i=n.projection=e.projection||c;n.model=e.model||c,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var o=r[12],a=r[13],s=r[14],l=r[15],u=this.pixelRatio*(i[3]*o+i[7]*a+i[11]*s+i[15]*l)/t.drawingBufferHeight;this.vao.bind();for(var f=0;f<3;++f)t.lineWidth(this.lineWidth[f]),n.capSize=this.capSize[f]*u,t.drawArrays(t.LINES,this.lineOffset[f],this.lineCount[f]);this.vao.unbind()};var h=function(){for(var e=new Array(3),t=0;t<3;++t){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var o=(r+t)%3,a=[0,0,0];a[o]=i,n.push(a)}e[t]=n}return e}();f.update=function(e){e=e||{},"lineWidth"in e&&(this.lineWidth=e.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in e&&(this.capSize=e.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),"opacity"in e&&(this.opacity=e.opacity);var t=e.color||[[0,0,0],[0,0,0],[0,0,0]],n=e.position,r=e.error;if(Array.isArray(t[0])||(t=[t,t,t]),n&&r){var a=[],s=n.length,l=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var u=0;u<3;++u){this.lineOffset[u]=l;e:for(var c=0;c<s;++c){for(var f=n[c],h=0;h<3;++h)if(isNaN(f[h])||!isFinite(f[h]))continue e;var d=r[c],p=t[u];if(Array.isArray(p[0])&&(p=t[c]),3===p.length&&(p=[p[0],p[1],p[2],1]),!isNaN(d[0][u])&&!isNaN(d[1][u])){if(d[0][u]<0){var m=f.slice();m[u]+=d[0][u],a.push(f[0],f[1],f[2],p[0],p[1],p[2],p[3],0,0,0,m[0],m[1],m[2],p[0],p[1],p[2],p[3],0,0,0),i(this.bounds,m),l+=2+o(a,m,p,u)}if(d[1][u]>0){var m=f.slice();m[u]+=d[1][u],a.push(f[0],f[1],f[2],p[0],p[1],p[2],p[3],0,0,0,m[0],m[1],m[2],p[0],p[1],p[2],p[3],0,0,0),i(this.bounds,m),l+=2+o(a,m,p,u)}}}this.lineCount[u]=l-this.lineOffset[u]}this.buffer.update(a)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e){return r(e,"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}","precision mediump float;\n#define GLSLIFY 1\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(fragPosition, clipBounds[0])) || any(greaterThan(fragPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = opacity * fragColor;\n}",null,[{name:"position",type:"vec3"},{name:"offset",type:"vec3"},{name:"color",type:"vec4"}])}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.plot=e,this.shader=t,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=i,this.colorBuffer=o,this.idBuffer=a,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}function i(e,t){var n=e.gl,i=l(n,c.vertex,c.fragment),o=l(n,c.pickVertex,c.pickFragment),a=u(n),s=u(n),f=u(n),h=u(n),d=new r(e,i,o,a,s,f,h);return d.update(t),e.addObject(d),d}e.exports=i;var o=n(972),a=n(482),s=n(23),l=n(55),u=n(24),c=n(971),f=r.prototype,h=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var e=[1,0,0,0,1,0,0,0,1];return function(){var t=this.plot,n=this.shader,r=this.bounds,i=this.numVertices;if(!(i<=0)){var o=t.gl,a=t.dataBox,s=r[2]-r[0],l=r[3]-r[1],u=a[2]-a[0],c=a[3]-a[1];e[0]=2*s/u,e[4]=2*l/c,e[6]=2*(r[0]-a[0])/u-1,e[7]=2*(r[1]-a[1])/c-1,n.bind();var f=n.uniforms;f.viewTransform=e,f.shape=this.shape;var h=n.attributes;this.positionBuffer.bind(),h.position.pointer(),this.weightBuffer.bind(),h.weight.pointer(o.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),h.color.pointer(o.UNSIGNED_BYTE,!0),o.drawArrays(o.TRIANGLES,0,i)}}}(),f.drawPick=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=this.plot,i=this.pickShader,o=this.bounds,a=this.numVertices;if(!(a<=0)){var s=r.gl,l=r.dataBox,u=o[2]-o[0],c=o[3]-o[1],f=l[2]-l[0],h=l[3]-l[1];e[0]=2*u/f,e[4]=2*c/h,e[6]=2*(o[0]-l[0])/f-1,e[7]=2*(o[1]-l[1])/h-1;for(var d=0;d<4;++d)t[d]=n>>8*d&255;this.pickOffset=n,i.bind();var p=i.uniforms;p.viewTransform=e,p.pickOffset=t,p.shape=this.shape;var m=i.attributes;return this.positionBuffer.bind(),m.position.pointer(),this.weightBuffer.bind(),m.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),m.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,a),n+this.shape[0]*this.shape[1]}}}(),f.pick=function(e,t,n){var r=this.pickOffset,i=this.shape[0]*this.shape[1];if(n<r||n>=r+i)return null;var o=n-r,a=this.xData,s=this.yData;return{object:this,pointId:o,dataCoord:[a[o%this.shape[0]],s[o/this.shape[0]|0]]}},f.update=function(e){e=e||{};var t=e.shape||[0,0],n=e.x||a(t[0]),r=e.y||a(t[1]),i=e.z||new Float32Array(t[0]*t[1]);this.xData=n,this.yData=r;var l=e.colorLevels||[0],u=e.colorValues||[0,0,0,1],c=l.length,f=this.bounds,d=f[0]=n[0],p=f[1]=r[0],m=f[2]=n[n.length-1],v=f[3]=r[r.length-1],g=1/(m-d),y=1/(v-p),b=t[0],x=t[1];this.shape=[b,x];var _=(b-1)*(x-1)*(h.length>>>1);this.numVertices=_;for(var w=s.mallocUint8(4*_),M=s.mallocFloat32(2*_),k=s.mallocUint8(2*_),E=s.mallocUint32(_),S=0,T=0;T<x-1;++T)for(var A=y*(r[T]-p),C=y*(r[T+1]-p),D=0;D<b-1;++D)for(var O=g*(n[D]-d),P=g*(n[D+1]-d),L=0;L<h.length;L+=2){var I,N,R,j,z=h[L],F=h[L+1],B=(T+F)*b+(D+z),U=i[B],V=o.le(l,U);if(V<0)I=u[0],N=u[1],R=u[2],j=u[3];else if(V===c-1)I=u[4*c-4],N=u[4*c-3],R=u[4*c-2],j=u[4*c-1];else{var H=(U-l[V])/(l[V+1]-l[V]),Y=1-H,W=4*V,q=4*(V+1);I=Y*u[W]+H*u[q],N=Y*u[W+1]+H*u[q+1],R=Y*u[W+2]+H*u[q+2],j=Y*u[W+3]+H*u[q+3]}w[4*S]=255*I,w[4*S+1]=255*N,w[4*S+2]=255*R,w[4*S+3]=255*j,M[2*S]=.5*O+.5*P,M[2*S+1]=.5*A+.5*C,k[2*S]=z,k[2*S+1]=F,E[S]=T*b+D,S+=1}this.positionBuffer.update(M),this.weightBuffer.update(k),this.colorBuffer.update(w),this.idBuffer.update(E),s.free(M),s.free(w),s.free(k),s.free(E)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},function(e,t,n){"use strict";e.exports={fragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n",vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n",pickFragment:"precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n",pickVertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t){t.lineVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi, dLo;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, screenShape;\nuniform float width;\n\nvarying vec2 direction;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvec2 project_2_1(vec2 scHi, vec2 scLo, vec2 posHi, vec2 posLo) {\n  return scHi * posHi\n       + scLo * posHi\n       + scHi * posLo\n       + scLo * posLo;\n}\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  vec2 dir = project_2_1(scaleHi, scaleLo, dHi, dLo);\n  vec2 n = 0.5 * width * normalize(screenShape.yx * vec2(dir.y, -dir.x)) / screenShape.xy;\n  vec2 tangent = normalize(screenShape.xy * dir);\n  if(dir.x < 0.0 || (dir.x == 0.0 && dir.y < 0.0)) {\n    direction = -tangent;\n  } else {\n    direction = tangent;\n  }\n  gl_Position = vec4(p + n, 0.0, 1.0);\n}",t.lineFragment="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nuniform vec2 screenShape;\nuniform sampler2D dashPattern;\nuniform float dashLength;\n\nvarying vec2 direction;\n\nvoid main() {\n  float t = fract(dot(direction, gl_FragCoord.xy) / dashLength);\n  vec4 pcolor = color * texture2D(dashPattern, vec2(t, 0.0)).r;\n  gl_FragColor = vec4(pcolor.rgb * pcolor.a, pcolor.a);\n}",t.mitreVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo;\nuniform float radius;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  gl_Position = vec4(p, 0.0, 1.0);\n  gl_PointSize = radius;\n}",t.mitreFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  if(length(gl_PointCoord.xy - 0.5) > 0.25) {\n    discard;\n  }\n  gl_FragColor = vec4(color.rgb, color.a);\n}",t.pickVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi;\nattribute vec4 pick0, pick1;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, screenShape;\nuniform float width;\n\nvarying vec4 pickA, pickB;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  vec2 n = width * normalize(screenShape.yx * vec2(dHi.y, -dHi.x)) / screenShape.xy;\n  gl_Position = vec4(p + n, 0, 1);\n  pickA = pick0;\n  pickB = pick1;\n}",t.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 pickOffset;\n\nvarying vec4 pickA, pickB;\n\nvoid main() {\n  vec4 fragId = vec4(pickA.xyz, 0.0);\n  if(pickB.w > pickA.w) {\n    fragId.xyz = pickB.xyz;\n  }\n\n  fragId += pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  gl_FragColor = fragId / 255.0;\n}",t.fillVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, projectAxis;\nuniform float projectValue, depth;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  if(dHi.y < 0.0 || (dHi.y == 0.0 && dHi.x < 0.0)) {\n    if(dot(p, projectAxis) < projectValue) {\n      p = p * (1.0 - abs(projectAxis)) + projectAxis * projectValue;\n    }\n  }\n  gl_Position = vec4(p, depth, 1);\n}",t.fillFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}"},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l){this.plot=e,this.dashPattern=t,this.lineBufferHi=n,this.lineBufferLo=r,this.pickBuffer=i,this.lineShader=o,this.mitreShader=a,this.fillShader=s,this.pickShader=l,this.usingDashes=!1,this.bounds=[1/0,1/0,-1/0,-1/0],this.width=1,this.color=[0,0,1,1],this.fill=[!1,!1,!1,!1],this.fillColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.data=null,this.numPoints=0,this.vertCount=0,this.pickOffset=0}function i(e){return e.map(function(e){return e.slice()})}function o(e,t){var n=e.gl,i=s(n),o=s(n),u=s(n),c=l(n,[1,1]),h=a(n,f.lineVertex,f.lineFragment),d=a(n,f.mitreVertex,f.mitreFragment),p=a(n,f.fillVertex,f.fillFragment),m=a(n,f.pickVertex,f.pickFragment),v=new r(e,c,i,o,u,h,d,p,m);return e.addObject(v),v.update(t),v}e.exports=o;var a=n(55),s=n(24),l=n(121),u=n(52),c=n(23),f=n(973),h=r.prototype;h.setProjectionModel=function(){var e={scaleHi:new Float32Array([0,0]),scaleLo:new Float32Array([0,0]),translateHi:new Float32Array([0,0]),translateLo:new Float32Array([0,0]),screenShape:[0,0]};return function(){var t=this.bounds,n=this.plot.viewBox,r=this.plot.dataBox,i=t[2]-t[0],o=t[3]-t[1],a=r[2]-r[0],s=r[3]-r[1],l=n[2]-n[0],u=n[3]-n[1],c=2*i/a,f=2*o/s,h=(t[0]-r[0]-.5*a)/i,d=(t[1]-r[1]-.5*s)/o;return e.scaleHi[0]=c,e.scaleHi[1]=f,e.scaleLo[0]=c-e.scaleHi[0],e.scaleLo[1]=f-e.scaleHi[1],e.translateHi[0]=h,e.translateHi[1]=d,e.translateLo[0]=h-e.translateHi[0],e.translateLo[1]=d-e.translateHi[1],e.screenShape[0]=l,e.screenShape[1]=u,e}}(),h.setProjectionUniforms=function(e,t){e.scaleHi=t.scaleHi,e.scaleLo=t.scaleLo,e.translateHi=t.translateHi,e.translateLo=t.translateLo,e.screenShape=t.screenShape},h.draw=function(){var e=[1,0],t=[-1,0],n=[0,1],r=[0,-1];return function(){var i=this.vertCount;if(i){var o=this.setProjectionModel(),a=this.plot,s=this.width,l=a.gl,u=a.pixelRatio,c=this.color,f=this.fillShader.attributes;this.lineBufferLo.bind(),f.aLo.pointer(l.FLOAT,!1,16,0),this.lineBufferHi.bind();var h=this.fill;if(h[0]||h[1]||h[2]||h[3]){var d=this.fillShader;d.bind();var p=d.uniforms;this.setProjectionUniforms(p,o),p.depth=a.nextDepthValue(),f.aHi.pointer(l.FLOAT,!1,16,0),f.dHi.pointer(l.FLOAT,!1,16,8),l.depthMask(!0),l.enable(l.DEPTH_TEST);var m=this.fillColor;h[0]&&(p.color=m[0],p.projectAxis=t,p.projectValue=1,l.drawArrays(l.TRIANGLES,0,i)),h[1]&&(p.color=m[1],p.projectAxis=r,p.projectValue=1,l.drawArrays(l.TRIANGLES,0,i)),h[2]&&(p.color=m[2],p.projectAxis=e,p.projectValue=1,l.drawArrays(l.TRIANGLES,0,i)),h[3]&&(p.color=m[3],p.projectAxis=n,p.projectValue=1,l.drawArrays(l.TRIANGLES,0,i)),l.depthMask(!1),l.disable(l.DEPTH_TEST)}var v=this.lineShader;v.bind(),this.lineBufferLo.bind(),v.attributes.aLo.pointer(l.FLOAT,!1,16,0),v.attributes.dLo.pointer(l.FLOAT,!1,16,8),this.lineBufferHi.bind();var g=v.uniforms;this.setProjectionUniforms(g,o),g.color=c,g.width=s*u,g.dashPattern=this.dashPattern.bind(),g.dashLength=this.dashLength*u;var y=v.attributes;if(y.aHi.pointer(l.FLOAT,!1,16,0),y.dHi.pointer(l.FLOAT,!1,16,8),l.drawArrays(l.TRIANGLES,0,i),s>2&&!this.usingDashes){var b=this.mitreShader;this.lineBufferLo.bind(),b.attributes.aLo.pointer(l.FLOAT,!1,48,0),this.lineBufferHi.bind(),b.bind();var x=b.uniforms;this.setProjectionUniforms(x,o),x.color=c,x.radius=s*u,b.attributes.aHi.pointer(l.FLOAT,!1,48,0),l.drawArrays(l.POINTS,0,i/3|0)}}}}(),h.drawPick=function(){var e=[0,0,0,0];return function(t){var n=this.vertCount,r=this.numPoints;if(this.pickOffset=t,!n)return t+r;var i=this.setProjectionModel(),o=this.plot,a=this.width,s=o.gl,l=o.pickPixelRatio,u=this.pickShader,c=this.pickBuffer;e[0]=255&t,e[1]=t>>>8&255,e[2]=t>>>16&255,e[3]=t>>>24,u.bind();var f=u.uniforms;this.setProjectionUniforms(f,i),f.width=a*l,f.pickOffset=e;var h=u.attributes;return this.lineBufferHi.bind(),h.aHi.pointer(s.FLOAT,!1,16,0),h.dHi.pointer(s.FLOAT,!1,16,8),this.lineBufferLo.bind(),h.aLo.pointer(s.FLOAT,!1,16,0),c.bind(),h.pick0.pointer(s.UNSIGNED_BYTE,!1,8,0),h.pick1.pointer(s.UNSIGNED_BYTE,!1,8,4),s.drawArrays(s.TRIANGLES,0,n),t+r}}(),h.pick=function(e,t,n){var r=this.pickOffset,i=this.numPoints;if(n<r||n>=r+i)return null;var o=n-r,a=this.data;return{object:this,pointId:o,dataCoord:[a[2*o],a[2*o+1]]}},h.update=function(e){e=e||{};var t,n,r,o,a,s=this.plot.gl;this.color=(e.color||[0,0,1,1]).slice(),this.width=+(e.width||1),this.fill=(e.fill||[!1,!1,!1,!1]).slice(),this.fillColor=i(e.fillColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var f=e.dashes||[1],h=0;for(t=0;t<f.length;++t)h+=f[t];var d=c.mallocUint8(h);r=0;var p=255;for(t=0;t<f.length;++t){for(n=0;n<f[t];++n)d[r++]=p;p^=255}this.dashPattern.dispose(),this.usingDashes=f.length>1,this.dashPattern=l(s,u(d,[h,1,4],[1,0,0])),this.dashPattern.minFilter=s.NEAREST,this.dashPattern.magFilter=s.NEAREST,this.dashLength=h,c.free(d);var m=e.positions;this.data=m;var v=this.bounds;v[0]=v[1]=1/0,v[2]=v[3]=-1/0;var g=this.numPoints=m.length>>>1;if(0!==g){for(t=0;t<g;++t)o=m[2*t],a=m[2*t+1],isNaN(o)||isNaN(a)||(v[0]=Math.min(v[0],o),v[1]=Math.min(v[1],a),v[2]=Math.max(v[2],o),v[3]=Math.max(v[3],a));v[0]===v[2]&&(v[2]+=1),v[3]===v[1]&&(v[3]+=1);var y=c.mallocFloat64(24*(g-1)),b=c.mallocFloat32(24*(g-1)),x=c.mallocFloat32(24*(g-1)),_=c.mallocUint32(12*(g-1)),w=b.length,M=_.length;r=g;for(var k=0;r>1;){var E=--r;o=m[2*r],a=m[2*r+1];var S=E-1,T=m[2*S],A=m[2*S+1];if(!(isNaN(o)||isNaN(a)||isNaN(T)||isNaN(A))){k+=1,o=(o-v[0])/(v[2]-v[0]),a=(a-v[1])/(v[3]-v[1]),T=(T-v[0])/(v[2]-v[0]),A=(A-v[1])/(v[3]-v[1]);var C=T-o,D=A-a,O=E|1<<24,P=E-1,L=E,I=E-1|1<<24;y[--w]=-D,y[--w]=-C,y[--w]=a,y[--w]=o,_[--M]=O,_[--M]=P,y[--w]=D,y[--w]=C,y[--w]=A,y[--w]=T,_[--M]=L,_[--M]=I,y[--w]=-D,y[--w]=-C,y[--w]=A,y[--w]=T,_[--M]=L,_[--M]=I,y[--w]=D,y[--w]=C,y[--w]=A,y[--w]=T,_[--M]=L,_[--M]=I,y[--w]=-D,y[--w]=-C,y[--w]=a,y[--w]=o,_[--M]=O,_[--M]=P,y[--w]=D,y[--w]=C,y[--w]=a,y[--w]=o,_[--M]=O,_[--M]=P}}for(t=0;t<y.length;t++)b[t]=y[t],x[t]=y[t]-b[t];this.vertCount=6*k,this.lineBufferHi.update(b.subarray(w)),this.lineBufferLo.update(x.subarray(w)),this.pickBuffer.update(_.subarray(M)),c.free(y),c.free(b),c.free(x),c.free(_)}},h.dispose=function(){this.plot.removeObject(this),this.lineBufferLo.dispose(),this.lineBufferHi.dispose(),this.pickBuffer.dispose(),this.lineShader.dispose(),this.mitreShader.dispose(),this.fillShader.dispose(),this.pickShader.dispose(),this.dashPattern.dispose()}},function(e,t,n){var r=n(55),i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvoid main() {\n  vec4 projected = projection * view * model * vec4(position, 1.0);\n  vec4 tangentClip = projection * view * model * vec4(nextPosition - position, 0.0);\n  vec2 tangent = normalize(screenShape * tangentClip.xy);\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(tangent.y, -tangent.x) / screenShape;\n\n  gl_Position = vec4(projected.xy + projected.w * offset, projected.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n",o=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];t.createShader=function(e){return r(e,i,"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n",null,o)},t.createPickShader=function(e){return r(e,i,"precision mediump float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1_0(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId/255.0, encode_float_1_0(pixelArcLength).xyz);\n}",null,o)}},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=0;r<3;++r){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}function i(e){for(var t=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)t[0][n]=Math.max(e[0][n],t[0][n]),t[1][n]=Math.min(e[1][n],t[1][n]);return t}function o(e,t,n,r){this.arcLength=e,this.position=t,this.index=n,this.dataCoordinate=r}function a(e,t,n,r,i,o){this.gl=e,this.shader=t,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=o,this.dashScale=1,this.opacity=1,this.dirty=!0,this.pixelRatio=1}function s(e){var t=e.gl||e.scene&&e.scene.gl,n=m(t);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var r=v(t);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;for(var i=l(t),o=u(t,[{buffer:i,size:3,offset:0,stride:48},{buffer:i,size:3,offset:12,stride:48},{buffer:i,size:1,offset:24,stride:48},{buffer:i,size:1,offset:28,stride:48},{buffer:i,size:4,offset:32,stride:48}]),s=d(new Array(1024),[256,1,4]),f=0;f<1024;++f)s.data[f]=255;var h=c(t,s);h.wrap=t.REPEAT;var p=new a(t,n,r,i,o,h);return p.update(e),p}e.exports=s;var l=n(24),u=n(62),c=n(121),f=n(1053),h=n(96),d=n(52),p=n(975),m=p.createShader,v=p.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],y=a.prototype;y.isTransparent=function(){return this.opacity<1},y.isOpaque=function(){return this.opacity>=1},y.pickSlots=1,y.setPickBase=function(e){this.pickId=e},y.drawTransparent=y.draw=function(e){var t=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:e.model||g,view:e.view||g,projection:e.projection||g,clipBounds:i(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount)},y.drawPick=function(e){var t=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:e.model||g,view:e.view||g,projection:e.projection||g,pickId:this.pickId,clipBounds:i(this.clipBounds),screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount)},y.update=function(e){var t,n;this.dirty=!0;var i=!!e.connectGaps;"dashScale"in e&&(this.dashScale=e.dashScale),"opacity"in e&&(this.opacity=+e.opacity);var o=e.position||e.positions;if(o){var a=e.color||e.colors||[0,0,0,1],s=e.lineWidth||1,l=[],u=[],c=[],f=0,p=0,m=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],v=!1;e:for(t=1;t<o.length;++t){var g=o[t-1],y=o[t];for(u.push(f),c.push(g.slice()),n=0;n<3;++n){if(isNaN(g[n])||isNaN(y[n])||!isFinite(g[n])||!isFinite(y[n])){if(!i&&l.length>0){for(var b=0;b<24;++b)l.push(l[l.length-12]);p+=2,v=!0}continue e}m[0][n]=Math.min(m[0][n],g[n],y[n]),m[1][n]=Math.max(m[1][n],g[n],y[n])}var x,_;Array.isArray(a[0])?(x=a[t-1],_=a[t]):x=_=a,3===x.length&&(x=[x[0],x[1],x[2],1]),3===_.length&&(_=[_[0],_[1],_[2],1]);var w;w=Array.isArray(s)?s[t-1]:s;var M=f;if(f+=r(g,y),v){for(n=0;n<2;++n)l.push(g[0],g[1],g[2],y[0],y[1],y[2],M,w,x[0],x[1],x[2],x[3]);p+=2,v=!1}l.push(g[0],g[1],g[2],y[0],y[1],y[2],M,w,x[0],x[1],x[2],x[3],g[0],g[1],g[2],y[0],y[1],y[2],M,-w,x[0],x[1],x[2],x[3],y[0],y[1],y[2],g[0],g[1],g[2],f,-w,_[0],_[1],_[2],_[3],y[0],y[1],y[2],g[0],g[1],g[2],f,w,_[0],_[1],_[2],_[3]),p+=4}if(this.buffer.update(l),u.push(f),c.push(o[o.length-1].slice()),this.bounds=m,this.vertexCount=p,this.points=c,this.arcLength=u,"dashes"in e){var k=e.dashes,E=k.slice();for(E.unshift(0),t=1;t<E.length;++t)E[t]=E[t-1]+E[t];var S=d(new Array(1024),[256,1,4]);for(t=0;t<256;++t){for(n=0;n<4;++n)S.set(t,0,n,0);1&h.le(E,E[E.length-1]*t/255)?S.set(t,0,0,0):S.set(t,0,0,255)}this.texture.setPixels(S)}}},y.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},y.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=f(e.value[0],e.value[1],e.value[2],0),n=h.le(this.arcLength,t);if(n<0)return null;if(n===this.arcLength.length-1)return new o(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],a=(t-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),s=1-a,l=[0,0,0],u=0;u<3;++u)l[u]=s*r[u]+a*i[u];var c=Math.min(a<.5?n:n+1,this.points.length-1);return new o(t,l,c,this.points[c])}},function(e,t){function n(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null}e.exports=n},function(e,t){function n(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*a-s*u,h=-c*o+s*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}e.exports=n},function(e,t){function n(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=n},function(e,t){function n(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,h=r*u,d=i*l,p=i*u,m=o*u,v=a*s,g=a*l,y=a*u;return e[0]=1-(d+m),e[1]=f+y,e[2]=h-g,e[3]=0,e[4]=f-y,e[5]=1-(c+m),e[6]=p+v,e[7]=0,e[8]=h+g,e[9]=p-v,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}e.exports=n},function(e,t){function n(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e}e.exports=n},function(e,t){function n(e,t,n,r){var i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x,_,w,M,k,E,S,T,A=r[0],C=r[1],D=r[2],O=Math.sqrt(A*A+C*C+D*D);return Math.abs(O)<1e-6?null:(O=1/O,A*=O,C*=O,D*=O,i=Math.sin(n),o=Math.cos(n),a=1-o,s=t[0],l=t[1],u=t[2],c=t[3],f=t[4],h=t[5],d=t[6],p=t[7],m=t[8],v=t[9],g=t[10],y=t[11],b=A*A*a+o,x=C*A*a+D*i,_=D*A*a-C*i,w=A*C*a-D*i,M=C*C*a+o,k=D*C*a+A*i,E=A*D*a+C*i,S=C*D*a-A*i,T=D*D*a+o,e[0]=s*b+f*x+m*_,e[1]=l*b+h*x+v*_,e[2]=u*b+d*x+g*_,e[3]=c*b+p*x+y*_,e[4]=s*w+f*M+m*k,e[5]=l*w+h*M+v*k,e[6]=u*w+d*M+g*k,e[7]=c*w+p*M+y*k,e[8]=s*E+f*S+m*T,e[9]=l*E+h*S+v*T,e[10]=u*E+d*S+g*T,e[11]=c*E+p*S+y*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}e.exports=n},function(e,t){function n(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=h*i-l*r,e}e.exports=n},function(e,t){function n(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=l*i-h*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=l*r+h*i,e}e.exports=n},function(e,t){function n(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=h*i-l*r,e}e.exports=n},function(e,t,n){"use strict";function r(e,t){switch(t.length){case 0:break;case 1:e[0]=1/t[0];break;case 4:i(e,t);break;case 9:o(e,t);break;case 16:a(e,t);break;default:throw new Error("currently supports matrices up to 4x4")}return e}e.exports=r;var i=n(977),o=n(978),a=n(86)},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},i.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},i.fromValues=function(e,t,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o},i.set=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},i.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null},i.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},i.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*s+o*l,e[1]=i*s+a*l,e[2]=r*u+o*c,e[3]=i*u+a*c,e},i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*l,e[3]=a*l,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},i.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},i.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},i.sub=i.subtract,i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},i.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},i.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},e.exports=i},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},i.fromValues=function(e,t,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},i.set=function(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=n*o-r*i;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-o*a)*l,e[5]=(r*a-n*s)*l,e):null},i.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return e[0]=r*u+o*c,e[1]=i*u+a*c,e[2]=r*f+o*h,e[3]=i*f+a*h,e[4]=r*d+o*p+s,e[5]=i*d+a*p+l,e},i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=i*c+a*u,e[2]=r*-u+o*c,e[3]=i*-u+a*c,e[4]=s,e[5]=l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r*u,e[1]=i*u,e[2]=o*c,e[3]=a*c,e[4]=s,e[5]=l,e},i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=r*u+o*c+s,e[5]=i*u+a*c+l,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},i.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},i.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=t[0],c=t[1],f=t[2],h=t[3],d=t[4],p=t[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-p)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))},e.exports=i},function(e,t,n){var r=n(75),i={scalar:{},SIMD:{}};i.create=function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.clone=function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.fromValues=function(e,t,n,i,o,a,s,l,u,c,f,h,d,p,m,v){var g=new r.ARRAY_TYPE(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=i,g[4]=o,g[5]=a,g[6]=s,g[7]=l,g[8]=u,g[9]=c,g[10]=f,g[11]=h,g[12]=d,g[13]=p,g[14]=m,g[15]=v,g},i.set=function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=h,e[12]=d,e[13]=p,e[14]=m,e[15]=v,e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.scalar.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},i.SIMD.transpose=function(e,t){var n,r,i,o,a,s,l,u,c,f;return n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),i=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(e,0,l),SIMD.Float32x4.store(e,4,u),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(i,o,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),f=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(e,8,c),SIMD.Float32x4.store(e,12,f),e},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,M=i*u-o*l,k=c*m-f*p,E=c*v-h*p,S=c*g-d*p,T=f*v-h*m,A=f*g-d*m,C=h*g-d*v,D=y*C-b*A+x*T+_*S-w*E+M*k;return D?(D=1/D,e[0]=(s*C-l*A+u*T)*D,e[1]=(i*A-r*C-o*T)*D,e[2]=(m*M-v*w+g*_)*D,e[3]=(h*w-f*M-d*_)*D,e[4]=(l*S-a*C-u*E)*D,e[5]=(n*C-i*S+o*E)*D,e[6]=(v*x-p*M-g*b)*D,e[7]=(c*M-h*x+d*b)*D,e[8]=(a*A-s*S+u*k)*D,e[9]=(r*S-n*A-o*k)*D,e[10]=(p*w-m*x+g*y)*D,e[11]=(f*x-c*w-d*y)*D,e[12]=(s*E-a*T-l*k)*D,e[13]=(n*T-r*E+i*k)*D,e[14]=(m*b-p*_-v*y)*D,e[15]=(c*_-f*b+h*y)*D,e):null},i.SIMD.invert=function(e,t){var n,r,i,o,a,s,l,u,c,f,h=SIMD.Float32x4.load(t,0),d=SIMD.Float32x4.load(t,4),p=SIMD.Float32x4.load(t,8),m=SIMD.Float32x4.load(t,12);return a=SIMD.Float32x4.shuffle(h,d,0,1,4,5),r=SIMD.Float32x4.shuffle(p,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(h,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),i=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),a=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(a,a))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(e,12,SIMD.Float32x4.mul(f,c)),e):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],v=t[14],g=t[15];return e[0]=s*(h*g-d*v)-f*(l*g-u*v)+m*(l*d-u*h),e[1]=-(r*(h*g-d*v)-f*(i*g-o*v)+m*(i*d-o*h)),e[2]=r*(l*g-u*v)-s*(i*g-o*v)+m*(i*u-o*l),e[3]=-(r*(l*d-u*h)-s*(i*d-o*h)+f*(i*u-o*l)),e[4]=-(a*(h*g-d*v)-c*(l*g-u*v)+p*(l*d-u*h)),e[5]=n*(h*g-d*v)-c*(i*g-o*v)+p*(i*d-o*h),e[6]=-(n*(l*g-u*v)-a*(i*g-o*v)+p*(i*u-o*l)),e[7]=n*(l*d-u*h)-a*(i*d-o*h)+c*(i*u-o*l),e[8]=a*(f*g-d*m)-c*(s*g-u*m)+p*(s*d-u*f),e[9]=-(n*(f*g-d*m)-c*(r*g-o*m)+p*(r*d-o*f)),e[10]=n*(s*g-u*m)-a*(r*g-o*m)+p*(r*u-o*s),e[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),e[12]=-(a*(f*v-h*m)-c*(s*v-l*m)+p*(s*h-l*f)),e[13]=n*(f*v-h*m)-c*(r*v-i*m)+p*(r*h-i*f),e[14]=-(n*(s*v-l*m)-a*(r*v-i*m)+p*(r*l-i*s)),e[15]=n*(s*h-l*f)-a*(r*h-i*f)+c*(r*l-i*s),e},i.SIMD.adjoint=function(e,t){var n,r,i,o,a,s,l,u,c,f,h,d,p,n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),i=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(i,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.mul(l,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(s,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),SIMD.Float32x4.store(e,0,f),SIMD.Float32x4.store(e,4,h),SIMD.Float32x4.store(e,8,d),SIMD.Float32x4.store(e,12,p),e},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],m=e[14],v=e[15];return(t*a-n*o)*(f*v-h*m)-(t*s-r*o)*(c*v-h*p)+(t*l-i*o)*(c*m-f*p)+(n*s-r*a)*(u*v-h*d)-(n*l-i*a)*(u*m-f*d)+(r*l-i*s)*(u*p-c*d)},i.SIMD.multiply=function(e,t,n){var r=SIMD.Float32x4.load(t,0),i=SIMD.Float32x4.load(t,4),o=SIMD.Float32x4.load(t,8),a=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(e,0,l);var u=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(e,4,c);var f=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));SIMD.Float32x4.store(e,8,h);var d=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(e,12,p),e},i.scalar.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*m,e[1]=b*i+x*l+_*h+w*v,e[2]=b*o+x*u+_*d+w*g,e[3]=b*a+x*c+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*m,e[5]=b*i+x*l+_*h+w*v,e[6]=b*o+x*u+_*d+w*g,e[7]=b*a+x*c+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*m,e[9]=b*i+x*l+_*h+w*v,e[10]=b*o+x*u+_*d+w*g,e[11]=b*a+x*c+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*m,e[13]=b*i+x*l+_*h+w*v,e[14]=b*o+x*u+_*d+w*g,e[15]=b*a+x*c+_*p+w*y,e},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(e,t,n){var r,i,o,a,s,l,u,c,f,h,d,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*m+s*v+f*g+t[12],e[13]=i*m+l*v+h*g+t[13],e[14]=o*m+u*v+d*g+t[14],e[15]=a*m+c*v+p*g+t[15]),e},i.SIMD.translate=function(e,t,n){var r=SIMD.Float32x4.load(t,0),i=SIMD.Float32x4.load(t,4),o=SIMD.Float32x4.load(t,8),a=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(e,12,l),e},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.SIMD.scale=function(e,t,n){var r,i,o,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(t,0),SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),i=SIMD.Float32x4.load(t,4),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(t,8),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(e,t,n,i){var o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x,_,w,M,k,E,S,T,A,C=i[0],D=i[1],O=i[2],P=Math.sqrt(C*C+D*D+O*O);return Math.abs(P)<r.EPSILON?null:(P=1/P,C*=P,D*=P,O*=P,o=Math.sin(n),a=Math.cos(n),s=1-a,l=t[0],u=t[1],c=t[2],f=t[3],h=t[4],d=t[5],p=t[6],m=t[7],v=t[8],g=t[9],y=t[10],b=t[11],x=C*C*s+a,_=D*C*s+O*o,w=O*C*s-D*o,M=C*D*s-O*o,k=D*D*s+a,E=O*D*s+C*o,S=C*O*s+D*o,T=D*O*s-C*o,A=O*O*s+a,e[0]=l*x+h*_+v*w,e[1]=u*x+d*_+g*w,e[2]=c*x+p*_+y*w,e[3]=f*x+m*_+b*w,e[4]=l*M+h*k+v*E,e[5]=u*M+d*k+g*E,e[6]=c*M+p*k+y*E,e[7]=f*M+m*k+b*E,e[8]=l*S+h*T+v*A,e[9]=u*S+d*T+g*A,e[10]=c*S+p*T+y*A,e[11]=f*S+m*T+b*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},i.scalar.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=h*i-l*r,e},i.SIMD.rotateX=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,4),a=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),e},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=l*i-h*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=l*r+h*i,e},i.SIMD.rotateY=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,i))),e},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=h*i-l*r,e},i.SIMD.rotateZ=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(e,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),e},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotation=function(e,t,n){var i,o,a,s=n[0],l=n[1],u=n[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,l*=c,u*=c,i=Math.sin(t),o=Math.cos(t),a=1-o,e[0]=s*s*a+o,e[1]=l*s*a+u*i,e[2]=u*s*a-l*i,e[3]=0,e[4]=s*l*a-u*i,e[5]=l*l*a+o,e[6]=u*l*a+s*i,e[7]=0,e[8]=s*u*a+l*i,e[9]=l*u*a-s*i,e[10]=u*u*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},i.fromXRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromYRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromZRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,h=r*u,d=i*l,p=i*u,m=o*u,v=a*s,g=a*l,y=a*u;return e[0]=1-(d+m),e[1]=f+y,e[2]=h-g,e[3]=0,e[4]=f-y,e[5]=1-(c+m),e[6]=p+v,e[7]=0,e[8]=h+g,e[9]=p-v,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},i.getRotation=function(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},i.fromRotationTranslationScale=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,u=o+o,c=a+a,f=i*l,h=i*u,d=i*c,p=o*u,m=o*c,v=a*c,g=s*l,y=s*u,b=s*c,x=r[0],_=r[1],w=r[2];return e[0]=(1-(p+v))*x,e[1]=(h+b)*x,e[2]=(d-y)*x,e[3]=0,e[4]=(h-b)*_,e[5]=(1-(f+v))*_,e[6]=(m+g)*_,e[7]=0,e[8]=(d+y)*w,e[9]=(m-g)*w,e[10]=(1-(f+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromRotationTranslationScaleOrigin=function(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=o+o,c=a+a,f=s+s,h=o*u,d=o*c,p=o*f,m=a*c,v=a*f,g=s*f,y=l*u,b=l*c,x=l*f,_=r[0],w=r[1],M=r[2],k=i[0],E=i[1],S=i[2];return e[0]=(1-(m+g))*_,e[1]=(d+x)*_,e[2]=(p-b)*_,e[3]=0,e[4]=(d-x)*w,e[5]=(1-(h+g))*w,e[6]=(v+y)*w,e[7]=0,e[8]=(p+b)*M,e[9]=(v-y)*M,e[10]=(1-(h+m))*M,e[11]=0,e[12]=n[0]+k-(e[0]*k+e[4]*E+e[8]*S),e[13]=n[1]+E-(e[1]*k+e[5]*E+e[9]*S),e[14]=n[2]+S-(e[2]*k+e[6]*E+e[10]*S),e[15]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-f-p,e[1]=c+g,e[2]=h-v,e[3]=0,e[4]=c-g,e[5]=1-u-p,e[6]=d+m,e[7]=0,e[8]=h+v,e[9]=d-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.frustum=function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),u=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*u,e[15]=0,e},i.perspective=function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e},i.perspectiveFromFieldOfView=function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},i.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e},i.lookAt=function(e,t,n,o){var a,s,l,u,c,f,h,d,p,m,v=t[0],g=t[1],y=t[2],b=o[0],x=o[1],_=o[2],w=n[0],M=n[1],k=n[2];return Math.abs(v-w)<r.EPSILON&&Math.abs(g-M)<r.EPSILON&&Math.abs(y-k)<r.EPSILON?i.identity(e):(h=v-w,d=g-M,p=y-k,m=1/Math.sqrt(h*h+d*d+p*p),h*=m,d*=m,p*=m,a=x*p-_*d,s=_*h-b*p,l=b*d-x*h,m=Math.sqrt(a*a+s*s+l*l),m?(m=1/m,a*=m,s*=m,l*=m):(a=0,s=0,l=0),u=d*l-p*s,c=p*a-h*l,f=h*s-d*a,m=Math.sqrt(u*u+c*c+f*f),m?(m=1/m,u*=m,c*=m,f*=m):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=h,e[3]=0,e[4]=s,e[5]=c,e[6]=d,e[7]=0,e[8]=l,e[9]=f,e[10]=p,e[11]=0,e[12]=-(a*v+s*g+l*y),e[13]=-(u*v+c*g+f*y),e[14]=-(h*v+d*g+p*y),e[15]=1,e)},i.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e},i.sub=i.subtract,i.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},i.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},i.equals=function(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],m=e[12],v=e[13],g=e[14],y=e[15],b=t[0],x=t[1],_=t[2],w=t[3],M=t[4],k=t[5],E=t[6],S=t[7],T=t[8],A=t[9],C=t[10],D=t[11],O=t[12],P=t[13],L=t[14],I=t[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-M)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(l-k)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(u-E)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-S)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-T)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-C)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-D)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(m-O)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(v-P)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-L)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-I)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(I))},e.exports=i},function(e,t,n){var r=n(75),i=n(463),o=n(464),a=n(465),s={};s.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.rotationTo=function(){var e=o.create(),t=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var l=o.dot(i,a);return l<-.999999?(o.cross(e,t,i),o.length(e)<1e-6&&o.cross(e,n,i),o.normalize(e,e),s.setAxisAngle(r,e,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var e=i.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},s.getAxisAngle=function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return 0!=r?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n},s.add=a.add,s.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+a*s+i*u-o*l,e[1]=i*c+a*l+o*s-r*u,e[2]=o*c+a*u+r*l-i*s,e[3]=a*c-r*s-i*l-o*u,e},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-r*s,e},s.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-o*s,e[1]=i*l+a*s,e[2]=o*l+r*s,e[3]=a*l-i*s,e},s.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},s.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(e,t,n,r){var i,o,a,s,l,u=t[0],c=t[1],f=t[2],h=t[3],d=n[0],p=n[1],m=n[2],v=n[3];return o=u*d+c*p+f*m+h*v,o<0&&(o=-o,d=-d,p=-p,m=-m,v=-v),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*u+l*d,e[1]=s*c+l*p,e[2]=s*f+l*m,e[3]=s*h+l*v,e},s.sqlerp=function(){var e=s.create(),t=s.create();return function(n,r,i,o,a,l){return s.slerp(e,r,a,l),s.slerp(t,i,o,l),s.slerp(n,e,t,2*l*(1-l)),n}}(),s.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e},s.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},function(e,t,n){var r=n(75),i={};i.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},i.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},i.set=function(e,t,n){return e[0]=t,e[1]=n,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},i.div=i.divide,i.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},i.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},i.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},i.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},i.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),i.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},i.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i.equals=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=e[4*r+i]*t[r];return n}function i(e,t,n,i,o){for(var a=r(i,r(n,r(t,[e[0],e[1],e[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*o[0]*(1+a[0]),.5*o[1]*(1-a[1])]}function o(e,t){if(2===e.length){for(var n=0,r=0,i=0;i<2;++i)n+=Math.pow(t[i]-e[0][i],2),r+=Math.pow(t[i]-e[1][i],2);return n=Math.sqrt(n),r=Math.sqrt(r),n+r<1e-6?[1,0]:[r/(n+r),n/(r+n)]}if(3===e.length){var o=[0,0];return u(e[0],e[1],e[2],t,o),l(e,o)}return[]}function a(e,t){for(var n=[0,0,0],r=0;r<e.length;++r)for(var i=e[r],o=t[r],a=0;a<3;++a)n[a]+=o*i[a];return n}function s(e,t,n,r,s,l){if(1===e.length)return[0,e[0].slice()];for(var u=new Array(e.length),c=0;c<e.length;++c)u[c]=i(e[c],n,r,s,l);for(var f=0,h=1/0,c=0;c<u.length;++c){for(var d=0,p=0;p<2;++p)d+=Math.pow(u[c][p]-t[p],2);d<h&&(h=d,f=c)}for(var m=o(u,t),v=0,c=0;c<3;++c){if(m[c]<-.001||m[c]>1.0001)return null;v+=m[c]}return Math.abs(v-1)>.001?null:[f,a(e,m),m]}var l=n(889),u=n(1566);e.exports=s},function(e,t){var n="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(f_position, clipBounds[0])) || \n     any(greaterThan(f_position, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}";t.meshShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec4 m_position  = model * vec4(position, 1.0);\n  vec4 t_position  = view * m_position;\n  gl_Position      = projection * t_position;\n  f_color          = color;\n  f_normal         = normal;\n  f_data           = position;\n  f_eyeDirection   = eyePosition   - position;\n  f_lightDirection = lightPosition - position;\n  f_uv             = uv;\n}",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat cookTorranceSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution_2_0(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n  \n  if(!gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = cookTorranceSpecular_1_1(L, V, N, roughness, fresnel);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}",attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},t.wireShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},t.pointShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5,0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},t.pickShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}",fragment:n,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},t.pointPickShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}",fragment:n,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},t.contourShader={vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor,1);\n}\n",attributes:[{name:"position",type:"vec3"}]}},function(e,t,n){"use strict";function r(e,t,n){this.plot=e,this.vbo=t,this.shader=n}function i(e){var t=e.gl;return new r(e,o(t,[0,0,0,1,1,0,1,1]),a(t,s.boxVert,s.lineFrag))}e.exports=i;var o=n(24),a=n(198),s=n(197),l=r.prototype;l.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},l.drawBox=function(){var e=[0,0],t=[0,0];return function(n,r,i,o,a){var s=this.plot,l=this.shader,u=s.gl;e[0]=n,e[1]=r,t[0]=i,t[1]=o,l.uniforms.lo=e,l.uniforms.hi=t,l.uniforms.color=a,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},function(e,t,n){"use strict";function r(e,t,n,r){this.plot=e,this.vbo=t,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function i(e,t){return e-t}function o(e){var t=e.gl;return new r(e,a(t),s(t,u.gridVert,u.gridFrag),s(t,u.tickVert,u.gridFrag))}e.exports=o;var a=n(24),s=n(198),l=n(467),u=n(197),c=r.prototype;c.draw=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){for(var r=this.plot,i=this.vbo,o=this.shader,a=this.ticks,s=r.gl,l=r._tickBounds,u=r.dataBox,c=r.viewBox,f=r.gridLineWidth,h=r.gridLineColor,d=r.gridLineEnable,p=r.pixelRatio,m=0;m<2;++m){var v=l[m],g=l[m+2],y=g-v,b=.5*(u[m+2]+u[m]),x=u[m+2]-u[m];t[m]=2*y/x,e[m]=2*(v-b)/x}o.bind(),i.bind(),o.attributes.dataCoord.pointer(),o.uniforms.dataShift=e,o.uniforms.dataScale=t;for(var _=0,m=0;m<2;++m){n[0]=n[1]=0,n[m]=1,o.uniforms.dataAxis=n,o.uniforms.lineWidth=f[m]/(c[m+2]-c[m])*p,o.uniforms.color=h[m];var w=6*a[m].length;d[m]&&w&&s.drawArrays(s.TRIANGLES,_,w),_+=w}}}(),c.drawTickMarks=function(){var e=[0,0],t=[0,0],n=[1,0],r=[0,1],o=[0,0],a=[0,0];return function(){for(var s=this.plot,u=this.vbo,c=this.tickShader,f=this.ticks,h=s.gl,d=s._tickBounds,p=s.dataBox,m=s.viewBox,v=s.pixelRatio,g=s.screenBox,y=g[2]-g[0],b=g[3]-g[1],x=m[2]-m[0],_=m[3]-m[1],w=0;w<2;++w){var M=d[w],k=d[w+2],E=k-M,S=.5*(p[w+2]+p[w]),T=p[w+2]-p[w];t[w]=2*E/T,e[w]=2*(M-S)/T}t[0]*=x/y,e[0]*=x/y,t[1]*=_/b,e[1]*=_/b,c.bind(),u.bind(),c.attributes.dataCoord.pointer();var A=c.uniforms;A.dataShift=e,A.dataScale=t;var C=s.tickMarkLength,D=s.tickMarkWidth,O=s.tickMarkColor,P=6*f[0].length,L=Math.min(l.ge(f[0],(p[0]-d[0])/(d[2]-d[0]),i),f[0].length),I=Math.min(l.gt(f[0],(p[2]-d[0])/(d[2]-d[0]),i),f[0].length),N=0+6*L,R=6*Math.max(0,I-L),j=Math.min(l.ge(f[1],(p[1]-d[1])/(d[3]-d[1]),i),f[1].length),z=Math.min(l.gt(f[1],(p[3]-d[1])/(d[3]-d[1]),i),f[1].length),F=P+6*j,B=6*Math.max(0,z-j);o[0]=2*(m[0]-C[1])/y-1,o[1]=(m[3]+m[1])/b-1,a[0]=C[1]*v/y,a[1]=D[1]*v/b,B&&(A.color=O[1],A.tickScale=a,A.dataAxis=r,A.screenOffset=o,h.drawArrays(h.TRIANGLES,F,B)),o[0]=(m[2]+m[0])/y-1,o[1]=2*(m[1]-C[0])/b-1,a[0]=D[0]*v/y,a[1]=C[0]*v/b,R&&(A.color=O[0],A.tickScale=a,A.dataAxis=n,A.screenOffset=o,h.drawArrays(h.TRIANGLES,N,R)),o[0]=2*(m[2]+C[3])/y-1,o[1]=(m[3]+m[1])/b-1,a[0]=C[3]*v/y,a[1]=D[3]*v/b,B&&(A.color=O[3],A.tickScale=a,A.dataAxis=r,A.screenOffset=o,h.drawArrays(h.TRIANGLES,F,B)),o[0]=(m[2]+m[0])/y-1,o[1]=2*(m[3]+C[2])/b-1,a[0]=D[2]*v/y,a[1]=C[2]*v/b,R&&(A.color=O[2],A.tickScale=a,A.dataAxis=n,A.screenOffset=o,h.drawArrays(h.TRIANGLES,N,R))}}(),c.update=function(){var e=[1,1,-1,-1,1,-1],t=[1,-1,1,1,-1,-1];return function(n){for(var r=n.ticks,i=n.bounds,o=new Float32Array(18*(r[0].length+r[1].length)),a=(this.plot.zeroLineEnable,0),s=[[],[]],l=0;l<2;++l)for(var u=s[l],c=r[l],f=i[l],h=i[l+2],d=0;d<c.length;++d){var p=(c[d].x-f)/(h-f);u.push(p);for(var m=0;m<6;++m)o[a++]=p,o[a++]=e[m],o[a++]=t[m]}this.ticks=s,this.vbo.update(o)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},function(e,t,n){"use strict";function r(e,t,n){this.plot=e,this.vbo=t,this.shader=n}function i(e){var t=e.gl;return new r(e,o(t,[-1,-1,-1,1,1,-1,1,1]),a(t,s.lineVert,s.lineFrag))}e.exports=i;var o=n(24),a=n(198),s=n(197),l=r.prototype;l.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},l.drawLine=function(){var e=[0,0],t=[0,0];return function(n,r,i,o,a,s){var l=this.plot,u=this.shader,c=l.gl;e[0]=n,e[1]=r,t[0]=i,t[1]=o,u.uniforms.start=e,u.uniforms.end=t,u.uniforms.width=a*l.pixelRatio,u.uniforms.color=s,c.drawArrays(c.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},function(e,t,n){"use strict";function r(e,t,n){this.plot=e,this.vbo=t,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}function i(e){var t=e.gl;return new r(e,o(t),a(t,u.textVert,u.textFrag))}e.exports=i;var o=n(24),a=n(198),s=n(1688),l=n(467),u=n(197),c=r.prototype;c.drawTicks=function(){var e=[0,0],t=[0,0],n=[0,0];return function(r){var i=this.plot,o=this.shader,a=this.tickX[r],s=this.tickOffset[r],u=i.gl,c=i.viewBox,f=i.dataBox,h=i.screenBox,d=i.pixelRatio,p=i.tickEnable,m=i.tickPad,v=i.tickColor,g=i.tickAngle,y=i.labelEnable,b=i.labelPad,x=i.labelColor,_=i.labelAngle,w=this.labelOffset[r],M=this.labelCount[r],k=l.lt(a,f[r]),E=l.le(a,f[r+2]);e[0]=e[1]=0,e[r]=1,t[r]=(c[2+r]+c[r])/(h[2+r]-h[r])-1;var S=2/h[2+(1^r)]-h[1^r];t[1^r]=S*c[1^r]-1,p[r]&&(t[1^r]-=S*d*m[r],k<E&&s[E]>s[k]&&(o.uniforms.dataAxis=e,o.uniforms.screenOffset=t,o.uniforms.color=v[r],o.uniforms.angle=g[r],u.drawArrays(u.TRIANGLES,s[k],s[E]-s[k]))),y[r]&&M&&(t[1^r]-=S*d*b[r],o.uniforms.dataAxis=n,o.uniforms.screenOffset=t,o.uniforms.color=x[r],o.uniforms.angle=_[r],u.drawArrays(u.TRIANGLES,w,M)),t[1^r]=S*c[2+(1^r)]-1,p[r+2]&&(t[1^r]+=S*d*m[r+2],k<E&&s[E]>s[k]&&(o.uniforms.dataAxis=e,o.uniforms.screenOffset=t,o.uniforms.color=v[r+2],o.uniforms.angle=g[r+2],u.drawArrays(u.TRIANGLES,s[k],s[E]-s[k]))),y[r+2]&&M&&(t[1^r]+=S*d*b[r+2],o.uniforms.dataAxis=n,o.uniforms.screenOffset=t,o.uniforms.color=x[r+2],o.uniforms.angle=_[r+2],u.drawArrays(u.TRIANGLES,w,M))}}(),c.drawTitle=function(){var e=[0,0],t=[0,0];return function(){var n=this.plot,r=this.shader,i=n.gl,o=n.screenBox,a=n.titleCenter,s=n.titleAngle,l=n.titleColor,u=n.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)t[c]=2*(a[c]*u-o[c])/(o[2+c]-o[c])-1;r.bind(),r.uniforms.dataAxis=e,r.uniforms.screenOffset=t,r.uniforms.angle=s,r.uniforms.color=l,i.drawArrays(i.TRIANGLES,this.titleOffset,this.titleCount)}}}(),c.bind=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){var r=this.plot,i=this.shader,o=r._tickBounds,a=r.dataBox,s=r.screenBox,l=r.viewBox;i.bind();for(var u=0;u<2;++u){var c=o[u],f=o[u+2],h=f-c,d=.5*(a[u+2]+a[u]),p=a[u+2]-a[u],m=l[u],v=l[u+2],g=v-m,y=s[u],b=s[u+2],x=b-y;t[u]=2*h/p*g/x,e[u]=2*(c-d)/p*g/x}n[1]=2*r.pixelRatio/(s[3]-s[1]),n[0]=n[1]*(s[3]-s[1])/(s[2]-s[0]),i.uniforms.dataScale=t,i.uniforms.dataShift=e,i.uniforms.textScale=n,this.vbo.bind(),i.attributes.textCoordinate.pointer()}}(),c.update=function(e){var t,n,r,i,o,a=[],l=e.ticks,u=e.bounds;for(o=0;o<2;++o){var c=[Math.floor(a.length/3)],f=[-1/0],h=l[o];for(t=0;t<h.length;++t){var d=h[t],p=d.x,m=d.text,v=d.font||"sans-serif";i=d.fontSize||12;for(var g=1/(u[o+2]-u[o]),y=u[o],b=m.split("\n"),x=0;x<b.length;x++)for(r=s(v,b[x]).data,n=0;n<r.length;n+=2)a.push(r[n]*i,-r[n+1]*i-x*i*1.2,(p-y)*g);c.push(Math.floor(a.length/3)),f.push(p)}this.tickOffset[o]=c,this.tickX[o]=f}for(o=0;o<2;++o){for(this.labelOffset[o]=Math.floor(a.length/3),r=s(e.labelFont[o],e.labels[o],{textAlign:"center"}).data,i=e.labelSize[o],t=0;t<r.length;t+=2)a.push(r[t]*i,-r[t+1]*i,0);this.labelCount[o]=Math.floor(a.length/3)-this.labelOffset[o]}for(this.titleOffset=Math.floor(a.length/3),r=s(e.titleFont,e.title).data,i=e.titleSize,t=0;t<r.length;t+=2)a.push(r[t]*i,-r[t+1]*i,0);this.titleCount=Math.floor(a.length/3)-this.titleOffset,this.vbo.update(a)},c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(199),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(468),s=n(199);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(199),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e,t){this.gl=e,this.pickBuffer=t,this.screenBox=[0,0,e.drawingBufferWidth,e.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}function i(e){for(var t=e.slice(),n=0;n<t.length;++n)t[n]=t[n].slice();return t}function o(e,t){return e.x-t.x}function a(e){var t=e.gl,n=s(t,[t.drawingBufferWidth,t.drawingBufferHeight]),i=new r(t,n);return i.grid=l(i),i.text=u(i),i.line=c(i),i.box=f(i),i.update(e),i}e.exports=a;var s=n(472),l=n(995),u=n(997),c=n(996),f=n(994),h=r.prototype;h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){return function(){var e=this.gl,t=this.screenBox,n=this.viewBox,r=this.dataBox,i=this.pixelRatio,o=this.grid,a=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){this.dirty=!1,e.bindFramebuffer(e.FRAMEBUFFER,null),e.enable(e.SCISSOR_TEST),e.disable(e.DEPTH_TEST),e.depthFunc(e.LESS),e.depthMask(!1),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD,e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]);var u=this.borderColor;e.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),e.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var c=this.backgroundColor;e.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),e.clear(e.COLOR_BUFFER_BIT),o.draw();var f=this.zeroLineEnable,h=this.zeroLineColor,d=this.zeroLineWidth;if(f[0]||f[1]){a.bind();for(var p=0;p<2;++p)if(f[p]&&r[p]<=0&&r[p+2]>=0){var m=t[p]-r[p]*(t[p+2]-t[p])/(r[p+2]-r[p]);0===p?a.drawLine(m,t[1],m,t[3],d[p],h[p]):a.drawLine(t[0],m,t[2],m,d[p],h[p])}}for(var p=0;p<l.length;++p)l[p].draw();e.viewport(t[0],t[1],t[2]-t[0],t[3]-t[1]),e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.grid.drawTickMarks(),a.bind();var v=this.borderLineEnable,g=this.borderLineWidth,y=this.borderLineColor;v[1]&&a.drawLine(n[0],n[1]-.5*g[1]*i,n[0],n[3]+.5*g[3]*i,g[1],y[1]),v[0]&&a.drawLine(n[0]-.5*g[0]*i,n[1],n[2]+.5*g[2]*i,n[1],g[0],y[0]),v[3]&&a.drawLine(n[2],n[1]-.5*g[1]*i,n[2],n[3]+.5*g[3]*i,g[3],y[3]),v[2]&&a.drawLine(n[0]-.5*g[0]*i,n[3],n[2]+.5*g[2]*i,n[3],g[2],y[2]),s.bind();for(var p=0;p<2;++p)s.drawTicks(p);this.titleEnable&&s.drawTitle();for(var b=this.overlays,p=0;p<b.length;++p)b[p].draw();e.disable(e.SCISSOR_TEST),e.disable(e.BLEND),e.depthMask(!0)}}}(),h.drawPick=function(){return function(){if(!this.static){var e=this.pickBuffer;this.gl;this._pickTimeout=null,e.begin();for(var t=1,n=this.objects,r=0;r<n.length;++r)t=n[r].drawPick(t);e.end()}}}(),h.pick=function(){return function(e,t){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,i=this.viewBox,o=0|Math.round((e-i[0]/n)*r),a=0|Math.round((t-i[1]/n)*r),s=this.pickBuffer.query(o,a,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),u=this.objects,c=0;c<u.length;++c){var f=u[c].pick(o,a,l);if(f)return f}return null}}}(),h.setScreenBox=function(e){var t=this.screenBox,n=this.pixelRatio;t[0]=0|Math.round(e[0]*n),t[1]=0|Math.round(e[1]*n),t[2]=0|Math.round(e[2]*n),t[3]=0|Math.round(e[3]*n),this.setDirty()},h.setDataBox=function(e){var t=this.dataBox;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3])&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this.setDirty())},h.setViewBox=function(e){var t=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(e[0]*t),n[1]=0|Math.round(e[1]*t),n[2]=0|Math.round(e[2]*t),n[3]=0|Math.round(e[3]*t);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((e[2]-e[0])*r),0|Math.round((e[3]-e[1])*r)],this.setDirty()},h.update=function(e){e=e||{};var t=this.gl;this.pixelRatio=e.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(e.screenBox||[0,0,t.drawingBufferWidth/n,t.drawingBufferHeight/n]);this.screenBox;this.setViewBox(e.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,a=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(e.dataBox||[-10,-10/a,10,10/a]),this.borderColor=(e.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(e.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(e.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(e.gridLineWidth||[1,1]).slice(),this.gridLineColor=i(e.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(e.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(e.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=i(e.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(e.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(e.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=i(e.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(e.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in e)||!!e.titleEnable,this.titleAngle=e.titleAngle||0,this.titleColor=(e.titleColor||[0,0,0,1]).slice(),this.labelPad=(e.labelPad||[15,15,15,15]).slice(),this.labelAngle=(e.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(e.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=i(e.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(e.tickPad||[15,15,15,15]).slice(),this.tickAngle=(e.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(e.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=i(e.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(e.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(e.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=i(e.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var s=e.ticks||[[],[]],l=this._tickBounds;l[0]=l[1]=1/0,l[2]=l[3]=-1/0;for(var u=0;u<2;++u){var c=s[u].slice(0);0!==c.length&&(c.sort(o),l[u]=Math.min(l[u],c[0].x),l[u+2]=Math.max(l[u+2],c[c.length-1].x))}this.grid.update({bounds:l,ticks:s}),this.text.update({bounds:l,ticks:s,labels:e.labels||["x","y"],labelSize:e.labelSize||[12,12],labelFont:e.labelFont||["sans-serif","sans-serif"],title:e.title||"",titleSize:e.titleSize||18,titleFont:e.titleFont||"sans-serif"}),this.static=!!e.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var e=this.objects.length-1;e>=0;--e)this.objects[e].dispose();this.objects.length=0;for(var e=this.overlays.length-1;e>=0;--e)this.overlays[e].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(e){this.objects.indexOf(e)<0&&(this.objects.push(e),this.setDirty())},h.removeObject=function(e){for(var t=this.objects,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setDirty();break}},h.addOverlay=function(e){this.overlays.indexOf(e)<0&&(this.overlays.push(e),this.setOverlayDirty())},h.removeOverlay=function(e){for(var t=this.overlays,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setOverlayDirty();break}}},function(e,t,n){var r=n(55);e.exports=function(e){return r(e,"precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}","precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}",null,[{name:"position",type:"vec2"}])}},function(e,t,n){"use strict";function r(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function i(e,t){var n=null;try{n=e.getContext("webgl",t),n||(n=e.getContext("experimental-webgl",t))}catch(e){return null}return n}function o(e){var t=Math.round(Math.log(Math.abs(e))/Math.log(10));if(t<0){var n=Math.round(Math.pow(10,-t));return Math.ceil(e*n)/n}if(t>0){var n=Math.round(Math.pow(10,t));return Math.ceil(e/n)*n}return Math.ceil(e)}function a(e){return"boolean"!==typeof e||e}function s(e){function t(){if(!w&&W.autoResize){var e=M.parentNode,t=1,n=1;e&&e!==document.body?(t=e.clientWidth,n=e.clientHeight):(t=window.innerWidth,n=window.innerHeight);var r=0|Math.ceil(t*W.pixelRatio),i=0|Math.ceil(n*W.pixelRatio);if(r!==M.width||i!==M.height){M.width=r,M.height=i;var o=M.style;o.position=o.position||"absolute",o.left="0px",o.top="0px",o.width=t+"px",o.height=n+"px",F=!0}}}function n(){for(var e=N.length,t=z.length,n=0;n<t;++n)j[n]=0;e:for(var n=0;n<e;++n){var r=N[n],i=r.pickSlots;if(i){for(var o=0;o<t;++o)if(j[o]+i<255){R[n]=o,r.setPickBase(j[o]+1),j[o]+=i;continue e}var a=h(E,Y);R[n]=t,z.push(a),j.push(i),r.setPickBase(1),t+=1}else R[n]=-1}for(;t>0&&0===j[t-1];)j.pop(),z.pop().dispose()}function s(){if(W.contextLost)return!0;E.isContextLost()&&(W.contextLost=!0,W.mouseListener.enabled=!1,W.selection.object=null,W.oncontextloss&&W.oncontextloss())}function b(){if(!s()){E.colorMask(!0,!0,!0,!0),E.depthMask(!0),E.disable(E.BLEND),E.enable(E.DEPTH_TEST);for(var e=N.length,t=z.length,n=0;n<t;++n){var r=z[n];r.shape=q,r.begin();for(var i=0;i<e;++i)if(R[i]===n){var o=N[i];o.drawPick&&(o.pixelRatio=1,o.drawPick(H))}r.end()}}}function x(){if(!s()){t();var e=W.camera.tick();H.view=W.camera.matrix,F=F||e,B=B||e,P.pixelRatio=W.pixelRatio,I.pixelRatio=W.pixelRatio;var n=N.length,r=Z[0],i=Z[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var a=0;a<n;++a){var l=N[a];l.pixelRatio=W.pixelRatio,l.axes=W.axes,F=F||!!l.dirty,B=B||!!l.dirty;var u=l.bounds;if(u)for(var f=u[0],h=u[1],d=0;d<3;++d)r[d]=Math.min(r[d],f[d]),i[d]=Math.max(i[d],h[d])}var m=W.bounds;if(W.autoBounds)for(var d=0;d<3;++d){if(i[d]<r[d])r[d]=-1,i[d]=1;else{r[d]===i[d]&&(r[d]-=1,i[d]+=1);var g=.05*(i[d]-r[d]);r[d]=r[d]-g,i[d]=i[d]+g}m[0][d]=r[d],m[1][d]=i[d]}for(var y=!1,d=0;d<3;++d)y=y||K[0][d]!==m[0][d]||K[1][d]!==m[1][d],K[0][d]=m[0][d],K[1][d]=m[1][d];if(B=B||y,F=F||y){if(y){for(var x=[0,0,0],a=0;a<3;++a)x[a]=o((m[1][a]-m[0][a])/10);P.autoTicks?P.update({bounds:m,tickSpacing:x}):P.update({bounds:m})}var _=E.drawingBufferWidth,w=E.drawingBufferHeight;Y[0]=_,Y[1]=w,q[0]=0|Math.max(_/W.pixelRatio,1),q[1]=0|Math.max(w/W.pixelRatio,1),v(U,W.fovy,_/w,W.zNear,W.zFar);for(var a=0;a<16;++a)V[a]=0;V[15]=1;for(var M=0,a=0;a<3;++a)M=Math.max(M,m[1][a]-m[0][a]);for(var a=0;a<3;++a)W.autoScale?V[5*a]=W.aspect[a]/(m[1][a]-m[0][a]):V[5*a]=1/M,W.autoCenter&&(V[12+a]=.5*-V[5*a]*(m[0][a]+m[1][a]));for(var a=0;a<n;++a){var l=N[a];l.axesBounds=m,W.clipToBounds&&(l.clipBounds=m)}T.object&&(W.snapToData?I.position=T.dataCoordinate:I.position=T.dataPosition,I.bounds=m),B&&(B=!1,b()),W.axesPixels=c(W.axes,H,_,w),W.onrender&&W.onrender(),E.bindFramebuffer(E.FRAMEBUFFER,null),E.viewport(0,0,_,w);var k=W.clearColor;E.clearColor(k[0],k[1],k[2],k[3]),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),E.depthMask(!0),E.colorMask(!0,!0,!0,!0),E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),E.disable(E.BLEND),E.disable(E.CULL_FACE);var S=!1;P.enable&&(S=S||P.isTransparent(),P.draw(H)),I.axes=P,T.object&&I.draw(H),E.disable(E.CULL_FACE);for(var a=0;a<n;++a){var l=N[a];l.axes=P,l.pixelRatio=W.pixelRatio,l.isOpaque&&l.isOpaque()&&l.draw(H),l.isTransparent&&l.isTransparent()&&(S=!0)}if(S){A.shape=Y,A.bind(),E.clear(E.DEPTH_BUFFER_BIT),E.colorMask(!1,!1,!1,!1),E.depthMask(!0),E.depthFunc(E.LESS),P.enable&&P.isTransparent()&&P.drawTransparent(H);for(var a=0;a<n;++a){var l=N[a];l.isOpaque&&l.isOpaque()&&l.draw(H)}E.enable(E.BLEND),E.blendEquation(E.FUNC_ADD),E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA),E.colorMask(!0,!0,!0,!0),E.depthMask(!1),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),P.isTransparent()&&P.drawTransparent(H);for(var a=0;a<n;++a){var l=N[a];l.isTransparent&&l.isTransparent()&&l.drawTransparent(H)}E.bindFramebuffer(E.FRAMEBUFFER,null),E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA),E.disable(E.DEPTH_TEST),C.bind(),A.color[0].bind(0),C.uniforms.accumBuffer=0,p(E),E.disable(E.BLEND)}F=!1;for(var a=0;a<n;++a)N[a].dirty=!1}}}function _(){w||W.contextLost||(requestAnimationFrame(_),x())}e=e||{};var w=!1,M=(e.pixelRatio||parseFloat(window.devicePixelRatio),e.canvas);if(!M)if(M=document.createElement("canvas"),e.container){var k=e.container;k.appendChild(M)}else document.body.appendChild(M);var E=e.gl;if(E||(E=i(M,e.glOptions||{premultipliedAlpha:!0,antialias:!0})),!E)throw new Error("webgl not supported");var S=e.bounds||[[-10,-10,-10],[10,10,10]],T=new r,A=d(E,[E.drawingBufferWidth,E.drawingBufferHeight],{preferFloat:!y}),C=g(E),D=e.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},O=e.axes||{},P=u(E,O);P.enable=!O.disable;var L=e.spikes||{},I=f(E,L),N=[],R=[],j=[],z=[],F=!0,B=!0,U=new Array(16),V=new Array(16),H={view:null,projection:U,model:V},B=!0,Y=[E.drawingBufferWidth,E.drawingBufferHeight],W={gl:E,contextLost:!1,pixelRatio:e.pixelRatio||parseFloat(window.devicePixelRatio),canvas:M,selection:T,camera:l(M,D),axes:P,axesPixels:null,spikes:I,bounds:S,objects:N,shape:Y,aspect:e.aspectRatio||[1,1,1],pickRadius:e.pickRadius||10,zNear:e.zNear||.01,zFar:e.zFar||1e3,fovy:e.fovy||Math.PI/4,clearColor:e.clearColor||[0,0,0,0],autoResize:a(e.autoResize),autoBounds:a(e.autoBounds),autoScale:!!e.autoScale,autoCenter:a(e.autoCenter),clipToBounds:a(e.clipToBounds),snapToData:!!e.snapToData,onselect:e.onselect||null,onrender:e.onrender||null,onclick:e.onclick||null,cameraParams:H,oncontextloss:null,mouseListener:null},q=[E.drawingBufferWidth/W.pixelRatio|0,E.drawingBufferHeight/W.pixelRatio|0];W.autoResize&&t(),window.addEventListener("resize",t),W.update=function(e){w||(e=e||{},F=!0,B=!0)},W.add=function(e){w||(e.axes=P,N.push(e),R.push(-1),F=!0,B=!0,n())},W.remove=function(e){if(!w){var t=N.indexOf(e);t<0||(N.splice(t,1),R.pop(),F=!0,B=!0,n())}},W.dispose=function(){if(!w&&(w=!0,window.removeEventListener("resize",t),M.removeEventListener("webglcontextlost",s),W.mouseListener.enabled=!1,!W.contextLost)){P.dispose(),I.dispose();for(var e=0;e<N.length;++e)N[e].dispose();A.dispose();for(var e=0;e<z.length;++e)z[e].dispose();C.dispose(),E=null,P=null,I=null,N=[]}};var G=!1,X=0;W.mouseListener=m(M,function(e,t,n){if(!w){var r=z.length,i=N.length,o=T.object;T.distance=1/0,T.mouse[0]=t,T.mouse[1]=n,T.object=null,T.screen=null,T.dataCoordinate=T.dataPosition=null;var a=!1;if(e&&X)G=!0;else{G&&(B=!0),G=!1;for(var s=0;s<r;++s){var l=z[s].query(t,q[1]-n-1,W.pickRadius);if(l){if(l.distance>T.distance)continue;for(var u=0;u<i;++u){var c=N[u];if(R[u]===s){var f=c.pick(l);f&&(T.buttons=e,T.screen=l.coord,T.distance=l.distance,T.object=c,T.index=f.distance,T.dataPosition=f.position,T.dataCoordinate=f.dataCoordinate,T.data=f,a=!0)}}}}}o&&o!==T.object&&(o.highlight&&o.highlight(null),F=!0),T.object&&(T.object.highlight&&T.object.highlight(T.data),F=!0),a=a||T.object!==o,a&&W.onselect&&W.onselect(T),1&e&&!(1&X)&&W.onclick&&W.onclick(T),X=e}}),M.addEventListener("webglcontextlost",s);var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],K=[Z[0].slice(),Z[1].slice()];return _(),W.redraw=function(){w||(F=!0,x())},W}e.exports=s;var l=n(881),u=n(958),c=n(963),f=n(1040),h=n(472),d=n(454),p=n(882),m=n(218),v=n(981),g=n(1003),y=n(1064)()},function(e,t){t.pointVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}",t.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n",t.pickVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n",t.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"},function(e,t,n){"use strict";function r(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(1008),s=n(1007),l=n(469),u=n(1010),c=n(1009),f=n(200),h=r.prototype;h.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,_,w);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,x=[],_=[],w=[];for(b=0;b<r.length;++b){var M=r[b];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=w.length,_.push(M.name+"["+S+"]"),"number"===typeof M.location?w.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?w.push(0|M.location[S]):w.push(-1);x.push({name:M.name,type:M.type,locations:E})}else x.push({name:M.name,type:M.type,locations:[w.length]}),_.push(M.name),"number"===typeof M.location?w.push(0|M.location):w.push(-1)}var T=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(T)>=0;)T+=1;w[b]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,x,w),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(200),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(469),s=n(200);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(200),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e,t,n,r,i){this.plot=e,this.offsetBuffer=t,this.pickBuffer=n,this.shader=r,this.pickShader=i,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}function i(e,t){var n,r=0,i=e.length>>>1;for(n=0;n<i;n++){var o=e[2*n],a=e[2*n+1];o>=t[0]&&o<=t[2]&&a>=t[1]&&a<=t[3]&&r++}return r}function o(e,t){var n=e.gl,i=s(n),o=s(n),l=a(n,u.pointVertex,u.pointFragment),c=a(n,u.pickVertex,u.pickFragment),f=new r(e,i,o,l,c);return f.update(t),e.addObject(f),f}var a=n(1006),s=n(24),l=n(23),u=n(1005);e.exports=o;var c=r.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(e){function t(t,n){return t in e?e[t]:n}var n;e=e||{},this.sizeMin=t("sizeMin",.5),this.sizeMax=t("sizeMax",20),this.color=t("color",[1,0,0,1]).slice(),this.areaRatio=t("areaRatio",1),this.borderColor=t("borderColor",[0,0,0,1]).slice(),this.blend=t("blend",!1);var r=e.positions.length>>>1,i=e.positions instanceof Float32Array,o=e.idToIndex instanceof Int32Array&&e.idToIndex.length>=r,a=e.positions,s=i?a:l.mallocFloat32(a.length),u=o?e.idToIndex:l.mallocInt32(r);if(i||s.set(a),!o)for(s.set(a),n=0;n<r;n++)u[n]=n;this.points=a,this.offsetBuffer.update(s),this.pickBuffer.update(u),i||l.free(s),o||l.free(u),this.pointCount=r,this.pickOffset=0},c.unifiedDraw=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=void 0!==n,o=r?this.pickShader:this.shader,a=this.plot.gl,s=this.plot.dataBox;if(0===this.pointCount)return n;var l=s[2]-s[0],u=s[3]-s[1],c=i(this.points,s),f=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(c,.33333)));e[0]=2/l,e[4]=2/u,e[6]=-2*s[0]/l-1,e[7]=-2*s[1]/u-1,this.offsetBuffer.bind(),o.bind(),o.attributes.position.pointer(),o.uniforms.matrix=e,o.uniforms.color=this.color,o.uniforms.borderColor=this.borderColor,o.uniforms.pointCloud=f<5,o.uniforms.pointSize=f,o.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),r&&(t[0]=255&n,t[1]=n>>8&255,t[2]=n>>16&255,t[3]=n>>24&255,this.pickBuffer.bind(),o.attributes.pickId.pointer(a.UNSIGNED_BYTE),o.uniforms.pickOffset=t,this.pickOffset=n);var h=a.getParameter(a.BLEND),d=a.getParameter(a.DITHER);return h&&!this.blend&&a.disable(a.BLEND),d&&a.disable(a.DITHER),a.drawArrays(a.POINTS,0,this.pointCount),h&&!this.blend&&a.enable(a.BLEND),d&&a.enable(a.DITHER),n+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(e,t,n){var r=this.pickOffset,i=this.pointCount;if(n<r||n>=r+i)return null;var o=n-r,a=this.points;return{object:this,pointId:o,dataCoord:[a[2*o],a[2*o+1]]}}},function(e,t){function n(e,t,n,r){var i,o,a,s,l,u=t[0],c=t[1],f=t[2],h=t[3],d=n[0],p=n[1],m=n[2],v=n[3];return o=u*d+c*p+f*m+h*v,o<0&&(o=-o,d=-d,p=-p,m=-m,v=-v),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*u+l*d,e[1]=s*c+l*p,e[2]=s*f+l*m,e[3]=s*h+l*v,e}e.exports=n},function(e,t,n){"use strict";e.exports={vertex:"precision highp float;\n#define GLSLIFY 1\n\n\nvec4 computePosition_1_0(vec2 posHi, vec2 posLo, vec2 scHi, vec2 scLo, vec2 trHi, vec2 trLo) {\n  return vec4((posHi + trHi) * scHi\n  \t\t\t//FIXME: this thingy does not give noticeable precision gain, need test\n            + (posLo + trLo) * scHi\n            + (posHi + trHi) * scLo\n            + (posLo + trLo) * scLo\n            , 0, 1);\n}\n\n\nattribute vec2 positionHi, positionLo;\nattribute float size, border;\nattribute vec2 char, color;\n\n//this is 64-bit form of scale and translate\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pixelRatio;\nuniform vec4 viewBox;\nuniform sampler2D palette;\n\nvarying vec4 charColor, borderColor;\nvarying vec2 charId;\nvarying vec2 pointCoord;\nvarying float pointSize;\nvarying float borderWidth;\n\n\nvoid main() {\n  charColor = texture2D(palette, vec2(color.x / 255., 0));\n  borderColor = texture2D(palette, vec2(color.y / 255., 0));\n\n  gl_PointSize = size * pixelRatio;\n  pointSize = size * pixelRatio;\n\n  charId = char;\n  borderWidth = border;\n\n  gl_Position = computePosition_1_0(\n    positionHi, positionLo,\n    scaleHi, scaleLo,\n    translateHi, translateLo);\n\n  pointCoord = viewBox.xy + (viewBox.zw - viewBox.xy) * (gl_Position.xy * .5 + .5);\n}\n",fragment:"precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D chars;\nuniform vec2 charsShape;\nuniform float charsStep, pixelRatio, charOffset;\n\nvarying vec4 borderColor;\nvarying vec4 charColor;\nvarying vec2 charId;\nvarying vec2 pointCoord;\nvarying float pointSize;\nvarying float borderWidth;\n\nvoid main() {\n\tvec2 pointUV = (pointCoord - gl_FragCoord.xy + pointSize * .5) / pointSize;\n\tpointUV.x = 1. - pointUV.x;\n\tpointUV.y += charOffset;\n\tvec2 texCoord = ((charId + pointUV) * charsStep) / charsShape;\n\tfloat dist = texture2D(chars, texCoord).r;\n\n\t//max-distance alpha\n\tif (dist < 1e-2)\n\t\tdiscard;\n\n\tfloat dif = 5. * pixelRatio * borderWidth / pointSize;\n\tfloat borderLevel = .748 - dif * .5;\n\tfloat charLevel = .748 + dif * .5;\n\tfloat gamma = .005 * charsStep / pointSize;\n\n\tfloat borderAmt = smoothstep(borderLevel - gamma, borderLevel + gamma, dist);\n\tfloat charAmt = smoothstep(charLevel - gamma, charLevel + gamma, dist);\n\n\tvec4 color = borderColor;\n\tcolor.a *= borderAmt;\n\n\tgl_FragColor = mix(color, charColor, charAmt);\n}\n",pickVertex:"precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi, positionLo;\nattribute vec4 id;\nattribute float size;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform vec4 pickOffset;\nuniform float pixelRatio;\n\nvarying vec4 fragColor;\n\n\nvec4 computePosition_1_0(vec2 posHi, vec2 posLo, vec2 scHi, vec2 scLo, vec2 trHi, vec2 trLo) {\n  return vec4((posHi + trHi) * scHi\n  \t\t\t//FIXME: this thingy does not give noticeable precision gain, need test\n            + (posLo + trLo) * scHi\n            + (posHi + trHi) * scLo\n            + (posLo + trLo) * scLo\n            , 0, 1);\n}\n\n\nvoid main() {\n  vec4 fragId = id + pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  fragColor = fragId / 255.0;\n\n  gl_PointSize = size * .25 * pixelRatio;\n\n  gl_Position = computePosition_1_0(\n    positionHi, positionLo,\n    scaleHi, scaleLo,\n    translateHi, translateLo);\n}\n",pickFragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = fragColor;\n}\n"}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){"use strict";function r(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(1017),s=n(1016),l=n(470),u=n(1019),c=n(1018),f=n(201),h=r.prototype;h.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,_,w);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,x=[],_=[],w=[];for(b=0;b<r.length;++b){var M=r[b];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=w.length,_.push(M.name+"["+S+"]"),"number"===typeof M.location?w.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?w.push(0|M.location[S]):w.push(-1);x.push({name:M.name,type:M.type,locations:E})}else x.push({name:M.name,type:M.type,locations:[w.length]}),_.push(M.name),"number"===typeof M.location?w.push(0|M.location):w.push(-1)}var T=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(T)>=0;)T+=1;w[b]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,x,w),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(201),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(470),s=n(201);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(201),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){this.plot=e,this.shader=t,this.pickShader=n,this.positionBuffer=r,this.sizeBuffer=i,this.colorBuffer=o,this.idBuffer=a,this.charBuffer=s,this.pointCount=0,this.pickOffset=0,this.points=null,this.scales=[],this.xCoords=[],this.charCanvas=document.createElement("canvas"),this.charTexture=f(this.plot.gl,this.charCanvas),this.charStep=400,this.charOffset=.032,this.snapThreshold=1e4,this.paletteTexture=f(this.plot.gl,[256,1])}function i(e,t){var n=e.gl,i=o(n,l.vertex,l.fragment),s=o(n,l.pickVertex,l.pickFragment),u=a(n),c=a(n),f=a(n),h=a(n),d=a(n),p=new r(e,i,s,u,c,f,h,d);return p.update(t),e.addObject(p),p}e.exports=i;var o=n(1015),a=n(24),s=n(23),l=n(1013),u=n(665),c=n(946),f=n(121),h=n(914),d=n(52),p=n(279),m=n(1014),v=r.prototype;!function(){function e(){var e=this.plot,u=e.viewBox,c=e.dataBox,f=e.pixelRatio,h=c[2]-c[0],d=c[3]-c[1],p=2/h,m=2/d,v=-c[0]-.5*h,g=-c[1]-.5*d;i[0]=p,o[0]=p-i[0],i[1]=m,o[1]=m-i[1],a[0]=v,s[0]=v-a[0],a[1]=g,s[1]=g-a[1];var y=u[2]-u[0],b=u[3]-u[1];t=Math.min(h/y,d/b),l[0]=2*f/y,l[1]=2*f/b,n=c[0],r=c[2]}var t,n,r,i=new Float32Array([0,0]),o=new Float32Array([0,0]),a=new Float32Array([0,0]),s=new Float32Array([0,0]),l=[0,0],u=[0,0,0,0];v.drawPick=function(l){var c=void 0!==l,f=this.plot,h=this.pointCount,d=h>this.snapThreshold;if(!h)return l;e.call(this);var p=f.gl,v=c?this.pickShader:this.shader,g=p.isEnabled(p.BLEND);if(v.bind(),c){this.pickOffset=l;for(var y=0;y<4;++y)u[y]=l>>8*y&255;v.uniforms.pickOffset=u,this.idBuffer.bind(),v.attributes.id.pointer(p.UNSIGNED_BYTE,!1)}else p.blendFuncSeparate(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA),p.blendColor(0,0,0,1),g||p.enable(p.BLEND),this.colorBuffer.bind(),v.attributes.color.pointer(p.UNSIGNED_BYTE,!1),this.charBuffer.bind(),v.attributes.char.pointer(p.UNSIGNED_BYTE,!1),v.uniforms.chars=this.charTexture.bind(0),v.uniforms.charsShape=[this.charCanvas.width,this.charCanvas.height],v.uniforms.charsStep=this.charStep,v.uniforms.palette=this.paletteTexture.bind(1),v.uniforms.charOffset=this.charOffset;this.sizeBuffer.bind(),v.attributes.size.pointer(p.FLOAT,!1,8,0),c||v.attributes.border.pointer(p.FLOAT,!1,8,4),this.positionBuffer.bind(),v.attributes.positionHi.pointer(p.FLOAT,!1,16,0),v.attributes.positionLo.pointer(p.FLOAT,!1,16,8),v.uniforms.pixelRatio=f.pixelRatio,v.uniforms.scaleHi=i,v.uniforms.scaleLo=o,v.uniforms.translateHi=a,v.uniforms.translateLo=s,v.uniforms.viewBox=f.viewBox;var b=this.scales;if(d)for(var x=b.length-1;x>=0;x--){var _=b[x];if(!(_.pixelSize&&_.pixelSize<1.25*t&&x>1)){var w=_.offset,M=_.count+w,k=m.ge(this.xCoords,n,w,M-1),E=m.lt(this.xCoords,r,k,M-1)+1;E>k&&p.drawArrays(p.POINTS,k,E-k)}}else p.drawArrays(p.POINTS,0,h);if(c)return l+h;g?p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA):p.disable(p.BLEND)}}(),v.draw=v.drawPick,v.pick=function(e,t,n){var r=this.pickOffset,i=this.pointCount;if(n<r||n>=r+i)return null;var o=n-r,a=this.points;return{object:this,pointId:o,dataCoord:[a[2*o],a[2*o+1]]}},v.update=function(e){e=e||{};var t=e.positions||[],n=e.colors||[],r=e.glyphs||[],i=e.sizes||[],o=e.borderWidths||[],a=e.borderColors||[],l=this.plot.gl;null!=e.charOffset&&(this.charOffset=e.charOffset),this.points=t;var f=this.points.length/2,m=s.mallocInt32(f),v=s.mallocFloat32(2*f),g=s.mallocFloat64(2*f);g.set(this.points),this.pointCount=f;var y=f>this.snapThreshold;y&&(this.scales=u(g,m,v));for(var b=s.mallocFloat32(4*f),x=s.mallocFloat32(2*f),_=s.mallocUint8(2*f),w=s.mallocUint32(f),M=s.mallocUint8(2*f),k={},E=[],S=[],T=[],A=0,C=f,D=0;A<C;++A){var O=[255*n[4*A],255*n[4*A+1],255*n[4*A+2],255*n[4*A+3]],P=h(O,!1);null==k[P]&&(k[P]=D++,S.push(O[0]),S.push(O[1]),S.push(O[2]),S.push(O[3])),E.push(P),a&&a.length&&(O=[255*a[4*A],255*a[4*A+1],255*a[4*A+2],255*a[4*A+3]],P=h(O,!1),null==k[P]&&(k[P]=D++,S.push(O[0]),S.push(O[1]),S.push(O[2]),S.push(O[3])),T.push(P))}for(var L={},A=0,C=f,D=0;A<C;A++){var I=r[A];null==L[I]&&(L[I]=D++)}for(var N=0,A=0,C=i.length;A<C;++A)i[A]>N&&(N=i[A]);var R=this.charStep;this.charStep=p(Math.ceil(4*N),128,768);var j=Object.keys(L),z=this.charStep,F=Math.floor(z/2),B=l.getParameter(l.MAX_TEXTURE_SIZE),U=B/z*(B/z),V=Math.min(B,z*j.length),H=Math.min(B,z*Math.ceil(z*j.length/B)),Y=Math.floor(V/z);j.length>U&&console.warn("gl-scatter2d-fancy: number of characters is more than maximum texture size. Try reducing it."),this.chars&&this.chars+""===j+""&&this.charStep==R||(this.charCanvas=c({canvas:this.charCanvas,family:"sans-serif",size:F,shape:[V,H],step:[z,z],chars:j}),this.chars=j);for(var A=0;A<f;++A){var W=y?m[A]:A,q=t[2*W],G=t[2*W+1],X=i[W],Z=o[W];b[4*A]=q,b[4*A+1]=G,b[4*A+2]=q-b[4*A],b[4*A+3]=G-b[4*A+1],this.xCoords[A]=q,x[2*A]=2*X,x[2*A+1]=Z,w[A]=W;var P=E[W],K=k[P];_[2*A]=K;var $=T[W],J=k[$];_[2*A+1]=J;var I=r[W],Q=L[I];M[2*A+1]=Math.floor(Q/Y),M[2*A]=Q%Y}this.positionBuffer.update(b),this.sizeBuffer.update(x),this.colorBuffer.update(_),this.idBuffer.update(w),this.charBuffer.update(M),this.charTexture.shape=[this.charCanvas.width,this.charCanvas.height],this.charCanvas&&this.charCanvas.width&&this.charTexture.setPixels(this.charCanvas),this.paletteTexture.setPixels(d(S.slice(0,1024),[256,1,4])),s.free(b),s.free(x),s.free(_),s.free(w),s.free(M),s.free(g),s.free(m),s.free(v)},v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.sizeBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.charBuffer.dispose(),this.plot.removeObject(this)}},function(e,t){t.pointVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi, positionLo;\nattribute float weight;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pointSize, useWeight;\n\nvarying float fragWeight;\n\n\nvec4 pfx_1_0(vec2 scaleHi, vec2 scaleLo, vec2 translateHi, vec2 translateLo, vec2 positionHi, vec2 positionLo) {\n  return vec4((positionHi + translateHi) * scaleHi\n            + (positionLo + translateLo) * scaleHi\n            + (positionHi + translateHi) * scaleLo\n            + (positionLo + translateLo) * scaleLo, 0.0, 1.0);\n}\n\nvoid main() {\n  gl_Position = pfx_1_0(scaleHi, scaleLo, translateHi, translateLo, positionHi, positionLo);\n  gl_PointSize = pointSize;\n  fragWeight = mix(1.0, weight, useWeight);\n}",t.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\n\nvarying float fragWeight;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  vec4 baseColor = mix(borderColor, color, smoothStep(radius, centerFraction));\n  float alpha = 1.0 - pow(1.0 - baseColor.a, fragWeight);\n  gl_FragColor = vec4(baseColor.rgb * alpha, alpha);\n}",t.pickVertex="precision highp float;\n#define GLSLIFY 1\n\nvec4 pfx_1_0(vec2 scaleHi, vec2 scaleLo, vec2 translateHi, vec2 translateLo, vec2 positionHi, vec2 positionLo) {\n  return vec4((positionHi + translateHi) * scaleHi\n            + (positionLo + translateLo) * scaleHi\n            + (positionHi + translateHi) * scaleLo\n            + (positionLo + translateLo) * scaleLo, 0.0, 1.0);\n}\n\nattribute vec2 positionHi, positionLo;\nattribute vec4 pickId;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_Position = pfx_1_0(scaleHi, scaleLo, translateHi, translateLo, positionHi, positionLo);\n  gl_PointSize = pointSize;\n  fragId = id;\n}",t.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}"},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.plot=e,this.positionBufferHi=t,this.positionBufferLo=n,this.pickBuffer=r,this.weightBuffer=i,this.shader=o,this.pickShader=a,this.scales=[],this.size=12,this.borderSize=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0,this.points=null,this.xCoords=null}function i(e,t){var n=e.gl,i=a(n),s=a(n),l=a(n),u=a(n),f=o(n,c.pointVertex,c.pointFragment),h=o(n,c.pickVertex,c.pickFragment),d=new r(e,i,s,l,u,f,h);return d.update(t),e.addObject(d),d}var o=n(55),a=n(24),s=n(1022),l=n(665),u=n(23),c=n(1021);e.exports=i;var f=r.prototype,h=new Float32Array(2),d=new Float32Array(2),p=new Float32Array(2),m=new Float32Array(2),v=[0,0,0,0];f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBufferHi.dispose(),this.positionBufferLo.dispose(),this.pickBuffer.dispose(),this.xCoords&&u.free(this.xCoords),this.plot.removeObject(this)},f.update=function(e){function t(t,n){return t in e?e[t]:n}e=e||{},this.size=t("size",12),this.color=t("color",[1,0,0,1]).slice(),this.borderSize=t("borderSize",1),this.borderColor=t("borderColor",[0,0,0,1]).slice(),this.xCoords&&u.free(this.xCoords),this.points=e.positions;var n=this.points.length>>>1,r=u.mallocInt32(n),i=u.mallocFloat32(2*n),o=u.mallocFloat64(2*n);o.set(this.points),this.scales=l(o,r,i,this.bounds);var a=u.mallocFloat64(n),s=u.mallocFloat32(2*n),c=u.mallocFloat32(2*n);s.set(o);for(var f=0,h=0;f<n;f++,h+=2)c[h]=o[h]-s[h],c[h+1]=o[h+1]-s[h+1],a[f]=o[h];this.positionBufferHi.update(s),this.positionBufferLo.update(c),this.pickBuffer.update(r),this.weightBuffer.update(i),u.free(r),u.free(o),u.free(s),u.free(c),u.free(i),this.xCoords=a,this.pointCount=n,this.pickOffset=0},f.draw=function(e){var t=void 0!==e,n=this.plot,r=t?this.pickShader:this.shader,i=this.scales,o=this.positionBufferHi,a=this.positionBufferLo,l=this.pickBuffer,u=this.bounds,c=this.size,f=this.borderSize,g=n.gl,y=t?n.pickPixelRatio:n.pixelRatio,b=n.viewBox,x=n.dataBox;if(0===this.pointCount)return e;var _=u[2]-u[0],w=u[3]-u[1],M=x[2]-x[0],k=x[3]-x[1],E=(b[2]-b[0])*y/n.pixelRatio,S=(b[3]-b[1])*y/n.pixelRatio,T=Math.min(M/E,k/S),A=2*_/M,C=2*w/k;h[0]=A,h[1]=C,d[0]=A-h[0],d[1]=C-h[1];var D=(u[0]-x[0]-.5*M)/_,O=(u[1]-x[1]-.5*k)/w;p[0]=D,p[1]=O,m[0]=D-p[0],m[1]=O-p[1],r.bind(),r.uniforms.scaleHi=h,r.uniforms.scaleLo=d,r.uniforms.translateHi=p,r.uniforms.translateLo=m,r.uniforms.color=this.color,r.uniforms.borderColor=this.borderColor,r.uniforms.pointSize=y*(c+f),r.uniforms.centerFraction=0===this.borderSize?2:c/(c+f+1.25),o.bind(),r.attributes.positionHi.pointer(),a.bind(),r.attributes.positionLo.pointer(),t?(this.pickOffset=e,v[0]=255&e,v[1]=e>>8&255,v[2]=e>>16&255,v[3]=e>>24&255,r.uniforms.pickOffset=v,l.bind(),r.attributes.pickId.pointer(g.UNSIGNED_BYTE)):(r.uniforms.useWeight=1,this.weightBuffer.bind(),r.attributes.weight.pointer());for(var P=this.xCoords,L=(x[0]-u[0]-T*c*y)/_,I=(x[2]-u[0]+T*c*y)/_,N=!0,R=i.length-1;R>=0;R--){var j=i[R];if(!(j.pixelSize<T&&R>1)){var z=j.offset,F=j.count+z,B=s.ge(P,L,z,F-1),U=s.lt(P,I,B,F-1)+1;U>B&&g.drawArrays(g.POINTS,B,U-B),!t&&N&&(N=!1,r.uniforms.useWeight=0)}}return e+this.pointCount},f.drawPick=f.draw,f.pick=function(e,t,n){var r=n-this.pickOffset;return r<0||r>=this.pointCount?null:{object:this,pointId:r,dataCoord:[this.points[2*r],this.points[2*r+1]]}}},function(e,t,n){"use strict";function r(e,t){var n=o[t];if(n||(n=o[t]={}),e in n)return n[e];for(var r=i(e,{textAlign:"center",textBaseline:"middle",lineHeight:1,font:t}),a=i(e,{triangles:!0,textAlign:"center",textBaseline:"middle",lineHeight:1,font:t}),s=[[1/0,1/0],[-1/0,-1/0]],l=0;l<r.positions.length;++l)for(var u=r.positions[l],c=0;c<2;++c)s[0][c]=Math.min(s[0][c],u[c]),s[1][c]=Math.max(s[1][c],u[c]);return n[e]=[a,r,s]}var i=n(378);e.exports=r;var o={}},function(e,t,n){function r(e,t){var n=i(e,t),r=n.attributes;return r.position.location=0,r.color.location=1,r.glyph.location=2,r.id.location=3,n}var i=n(1026),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   || \n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n    \n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",a="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n    \n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",s="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   ||\n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n",l="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   ||\n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = interpColor * opacity;\n  }\n}\n",u="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   || \n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = vec4(pickGroup, pickId.bgr);\n  }\n}",c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],f={vertex:o,fragment:l,attributes:c},h={vertex:a,fragment:l,attributes:c},d={vertex:s,fragment:l,attributes:c},p={vertex:o,fragment:u,attributes:c},m={vertex:a,fragment:u,attributes:c},v={vertex:s,fragment:u,attributes:c};t.createPerspective=function(e){return r(e,f)},t.createOrtho=function(e){return r(e,h)},t.createProject=function(e){return r(e,d)},t.createPickPerspective=function(e){return r(e,p)},t.createPickOrtho=function(e){return r(e,m)},t.createPickProject=function(e){return r(e,v)}},function(e,t,n){"use strict";function r(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(1028),s=n(1027),l=n(471),u=n(1030),c=n(1029),f=n(202),h=r.prototype;h.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,_,w);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,x=[],_=[],w=[];for(b=0;b<r.length;++b){var M=r[b];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=w.length,_.push(M.name+"["+S+"]"),"number"===typeof M.location?w.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?w.push(0|M.location[S]):w.push(-1);x.push({name:M.name,type:M.type,locations:E})}else x.push({name:M.name,type:M.type,locations:[w.length]}),_.push(M.name),"number"===typeof M.location?w.push(0|M.location):w.push(-1)}var T=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(T)>=0;)T+=1;w[b]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,x,w),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(202),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(471),s=n(202);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(202),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];return e[0]=t[0]*n+t[4]*r+t[8]*i+t[12]*o,e[1]=t[1]*n+t[5]*r+t[9]*i+t[13]*o,e[2]=t[2]*n+t[6]*r+t[10]*i+t[14]*o,e[3]=t[3]*n+t[7]*r+t[11]*i+t[15]*o,e}function i(e,t,n,i){return r(i,i,n),r(i,i,t),r(i,i,e)}function o(e,t){this.index=e,this.dataCoordinate=this.position=t}function a(e,t,n,r,i,a,s,l,u,c,f,h){this.gl=e,this.pixelRatio=1,this.shader=t,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=a,this.glyphBuffer=s,this.idBuffer=l,this.vao=u,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=f,this.pickProjectShader=h,this.points=[],this._selectResult=new o(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}function s(e){return e[0]=e[1]=e[2]=0,e}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1,e}function u(e,t,n,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[n]=r,e}function c(e){for(var t=C,n=0;n<2;++n)for(var r=0;r<3;++r)t[n][r]=Math.max(Math.min(e[n][r],1e8),-1e8);return t}function f(e,t,n,r,o){var a,f=t.axesProject,h=t.gl,d=e.uniforms,p=n.model||x,m=n.view||x,v=n.projection||x,y=t.axesBounds,b=c(t.clipBounds);a=t.axes?t.axes.lastCubeProps.axis:[1,1,1],w[0]=2/h.drawingBufferWidth,w[1]=2/h.drawingBufferHeight,e.bind(),d.view=m,d.projection=v,d.screenSize=w,d.highlightId=t.highlightId,d.highlightScale=t.highlightScale,d.clipBounds=b,d.pickGroup=t.pickId/255,d.pixelRatio=t.pixelRatio;for(var _=0;_<3;++_)if(f[_]&&t.projectOpacity[_]<1===r){d.scale=t.projectScale[_],d.opacity=t.projectOpacity[_];for(var C=T,D=0;D<16;++D)C[D]=0;for(var D=0;D<4;++D)C[5*D]=1;C[5*_]=0,a[_]<0?C[12+_]=y[0][_]:C[12+_]=y[1][_],g(C,p,C),d.model=C;var O=(_+1)%3,P=(_+2)%3,L=s(M),I=s(k);L[O]=1,I[P]=1;var N=i(v,m,p,l(E,L)),R=i(v,m,p,l(S,I));if(Math.abs(N[1])>Math.abs(R[1])){var j=N;N=R,R=j,j=L,L=I,I=j;var z=O;O=P,P=z}N[0]<0&&(L[O]=-1),R[1]>0&&(I[P]=-1);for(var F=0,B=0,D=0;D<4;++D)F+=Math.pow(p[4*O+D],2),B+=Math.pow(p[4*P+D],2);L[O]/=Math.sqrt(F),I[P]/=Math.sqrt(B),d.axes[0]=L,d.axes[1]=I,d.fragClipBounds[0]=u(A,b[0],_,-1e8),d.fragClipBounds[1]=u(A,b[1],_,1e8),t.vao.draw(h.TRIANGLES,t.vertexCount),t.lineWidth>0&&(h.lineWidth(t.lineWidth),t.vao.draw(h.LINES,t.lineVertexCount,t.vertexCount))}}function h(e,t,n,r,i,o){var a=n.gl;if(n.vao.bind(),i===n.opacity<1||o){e.bind();var s=e.uniforms;s.model=r.model||x,s.view=r.view||x,s.projection=r.projection||x,w[0]=2/a.drawingBufferWidth,w[1]=2/a.drawingBufferHeight,s.screenSize=w,s.highlightId=n.highlightId,s.highlightScale=n.highlightScale,s.fragClipBounds=P,s.clipBounds=n.axes.bounds,s.opacity=n.opacity,s.pickGroup=n.pickId/255,s.pixelRatio=n.pixelRatio,n.vao.draw(a.TRIANGLES,n.vertexCount),n.lineWidth>0&&(a.lineWidth(n.lineWidth),n.vao.draw(a.LINES,n.lineVertexCount,n.vertexCount))}f(t,n,r,i,o),n.vao.unbind()}function d(e){var t=e.gl,n=y.createPerspective(t),r=y.createOrtho(t),i=y.createProject(t),o=y.createPickPerspective(t),s=y.createPickOrtho(t),l=y.createPickProject(t),u=p(t),c=p(t),f=p(t),h=p(t),d=m(t,[{buffer:u,size:3,type:t.FLOAT},{buffer:c,size:4,type:t.FLOAT},{buffer:f,size:2,type:t.FLOAT},{buffer:h,size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),v=new a(t,n,r,i,u,c,f,h,d,o,s,l);return v.update(e),v}var p=n(24),m=n(62),v=n(23),g=n(120),y=n(1025),b=n(1024),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];e.exports=d;var _=a.prototype;_.pickSlots=1,_.setPickBase=function(e){this.pickId=e},_.isTransparent=function(){if(this.opacity<1)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&this.projectOpacity[e]<1)return!0;return!1},_.isOpaque=function(){if(this.opacity>=1)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&this.projectOpacity[e]>=1)return!0;return!1};var w=[0,0],M=[0,0,0],k=[0,0,0],E=[0,0,0,1],S=[0,0,0,1],T=x.slice(),A=[0,0,0],C=[[0,0,0],[0,0,0]],D=[-1e8,-1e8,-1e8],O=[1e8,1e8,1e8],P=[D,O];_.draw=function(e){h(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,!1,!1)},_.drawTransparent=function(e){h(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,!0,!1)},_.drawPick=function(e){h(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,e,!1,!0)},_.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[2]+(e.value[1]<<8)+(e.value[0]<<16);if(t>=this.pointCount||t<0)return null;var n=this.points[t],r=this._selectResult;r.index=t;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},_.highlight=function(e){if(e){var t=e.index,n=255&t,r=t>>8&255,i=t>>16&255;this.highlightId=[n/255,r/255,i/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(e){if(e=e||{},"perspective"in e&&(this.useOrtho=!e.perspective),"orthographic"in e&&(this.useOrtho=!!e.orthographic),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"project"in e)if(Array.isArray(e.project))this.axesProject=e.project;else{var t=!!e.project;this.axesProject=[t,t,t]}if("projectScale"in e)if(Array.isArray(e.projectScale))this.projectScale=e.projectScale.slice();else{var n=+e.projectScale;this.projectScale=[n,n,n]}if("projectOpacity"in e)if(Array.isArray(e.projectOpacity))this.projectOpacity=e.projectOpacity.slice();else{var n=+e.projectOpacity;this.projectOpacity=[n,n,n]}"opacity"in e&&(this.opacity=e.opacity),this.dirty=!0;var r=e.position;if(r){var i=e.font||"normal",o=e.alignment||[0,0],a=[1/0,1/0,1/0],s=[-1/0,-1/0,-1/0],l=e.glyph,u=e.color,c=e.size,f=e.angle,h=e.lineColor,d=0,p=0,m=0,g=r.length;e:for(var y=0;y<g;++y){for(var x=r[y],_=0;_<3;++_)if(isNaN(x[_])||!isFinite(x[_]))continue e;var w;w=Array.isArray(l)?b(l[y],i):l?b(l,i):b("●",i);var M=w[0],k=w[1],E=w[2];p+=3*M.cells.length,m+=2*k.edges.length}var S=p+m,T=v.mallocFloat(3*S),A=v.mallocFloat(4*S),C=v.mallocFloat(2*S),D=v.mallocUint32(S),O=[0,o[1]],P=0,L=p,I=[0,0,0,1],N=[0,0,0,1],R=Array.isArray(u)&&Array.isArray(u[0]),j=Array.isArray(h)&&Array.isArray(h[0]);e:for(var y=0;y<g;++y){for(var x=r[y],_=0;_<3;++_){if(isNaN(x[_])||!isFinite(x[_])){d+=1;continue e}s[_]=Math.max(s[_],x[_]),a[_]=Math.min(a[_],x[_])}var w;w=Array.isArray(l)?b(l[y],i):l?b(l,i):b("●",i);var M=w[0],k=w[1],E=w[2];if(Array.isArray(u)){var z;if(z=R?u[y]:u,3===z.length){for(var _=0;_<3;++_)I[_]=z[_];I[3]=1}else if(4===z.length)for(var _=0;_<4;++_)I[_]=z[_]}else I[0]=I[1]=I[2]=0,I[3]=1;if(Array.isArray(h)){var z;if(z=j?h[y]:h,3===z.length){for(var _=0;_<3;++_)N[_]=z[_];N[_]=1}else if(4===z.length)for(var _=0;_<4;++_)N[_]=z[_]}else N[0]=N[1]=N[2]=0,N[3]=1;var F=.5;Array.isArray(c)?F=+c[y]:c?F=+c:this.useOrtho&&(F=12);var B=0;Array.isArray(f)?B=+f[y]:f&&(B=+f);for(var U=Math.cos(B),V=Math.sin(B),x=r[y],_=0;_<3;++_)s[_]=Math.max(s[_],x[_]),a[_]=Math.min(a[_],x[_]);o[0]<0?O[0]=o[0]*(1+E[1][0]):o[0]>0&&(O[0]=-o[0]*(1+E[0][0]));for(var H=M.cells,Y=M.positions,_=0;_<H.length;++_)for(var W=H[_],q=0;q<3;++q){for(var G=0;G<3;++G)T[3*P+G]=x[G];for(var G=0;G<4;++G)A[4*P+G]=I[G];D[P]=d;var X=Y[W[q]];C[2*P]=F*(U*X[0]-V*X[1]+O[0]),C[2*P+1]=F*(V*X[0]+U*X[1]+O[1]),P+=1}for(var H=k.edges,Y=k.positions,_=0;_<H.length;++_)for(var W=H[_],q=0;q<2;++q){for(var G=0;G<3;++G)T[3*L+G]=x[G];for(var G=0;G<4;++G)A[4*L+G]=N[G];D[L]=d;var X=Y[W[q]];C[2*L]=F*(U*X[0]-V*X[1]+O[0]),C[2*L+1]=F*(V*X[0]+U*X[1]+O[1]),L+=1}d+=1}this.vertexCount=p,this.lineVertexCount=m,this.pointBuffer.update(T),this.colorBuffer.update(A),this.glyphBuffer.update(C),this.idBuffer.update(new Uint32Array(D)),v.free(T),v.free(A),v.free(C),v.free(D),this.bounds=[a,s],this.points=r,this.pointCount=r.length}},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},function(e,t,n){"use strict";t.boxVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n",t.boxFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"},function(e,t,n){"use strict";function r(e,t,n){this.plot=e,this.boxBuffer=t,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}function i(e,t){var n=e.gl,i=a(n,[0,0,0,1,1,0,1,1]),l=o(n,s.boxVertex,s.boxFragment),u=new r(e,i,l);return u.update(t),e.addOverlay(u),u}var o=n(55),a=n(24),s=n(1032);e.exports=i;var l=r.prototype;l.draw=function(){if(this.enabled){var e=this.plot,t=this.selectBox,n=this.borderWidth,r=(this.innerFill,this.innerColor),i=(this.outerFill,this.outerColor),o=this.borderColor,a=e.box,s=e.screenBox,l=e.dataBox,u=e.viewBox,c=e.pixelRatio,f=(t[0]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],h=(t[1]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1],d=(t[2]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],p=(t[3]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1];if(f=Math.max(f,u[0]),h=Math.max(h,u[1]),d=Math.min(d,u[2]),p=Math.min(p,u[3]),!(d<f||p<h)){a.bind();var m=s[2]-s[0],v=s[3]-s[1];if(this.outerFill&&(a.drawBox(0,0,m,h,i),a.drawBox(0,h,f,p,i),a.drawBox(0,p,m,v,i),a.drawBox(d,h,m,p,i)),this.innerFill&&a.drawBox(f,h,d,p,r),n>0){var g=n*c;a.drawBox(f-g,h-g,d+g,h+g,o),a.drawBox(f-g,p-g,d+g,p+g,o),a.drawBox(f-g,h-g,f+g,p+g,o),a.drawBox(d-g,h-g,d+g,p+g,o)}}}},l.update=function(e){e=e||{},this.innerFill=!!e.innerFill,this.outerFill=!!e.outerFill,this.innerColor=(e.innerColor||[0,0,0,.5]).slice(),this.outerColor=(e.outerColor||[0,0,0,.5]).slice(),this.borderColor=(e.borderColor||[0,0,0,1]).slice(),this.borderWidth=e.borderWidth||0,this.selectBox=(e.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(203),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(473),s=n(203);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(203),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e){this.plot=e,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}function i(e,t){var n=new r(e);return n.update(t),e.addOverlay(n),n}e.exports=i;var o=r.prototype;o.update=function(e){e=e||{},this.enable=(e.enable||[!0,!0,!1,!1]).slice(),this.width=(e.width||[1,1,1,1]).slice(),this.color=(e.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(e){return e.slice()}),this.center=(e.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},o.draw=function(){var e=this.enable,t=this.width,n=this.color,r=this.center,i=this.plot,o=i.line,a=i.dataBox,s=i.viewBox;if(o.bind(),a[0]<=r[0]&&r[0]<=a[2]&&a[1]<=r[1]&&r[1]<=a[3]){var l=s[0]+(r[0]-a[0])/(a[2]-a[0])*(s[2]-s[0]),u=s[1]+(r[1]-a[1])/(a[3]-a[1])*(s[3]-s[1]);e[0]&&o.drawLine(l,u,s[0],u,t[0],n[0]),e[1]&&o.drawLine(l,u,l,s[1],t[1],n[1]),e[2]&&o.drawLine(l,u,s[2],u,t[2],n[2]),e[3]&&o.drawLine(l,u,l,s[3],t[3],n[3])}},o.dispose=function(){this.plot.removeOverlay(this)}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e){return r(e,"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n","precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}",null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},function(e,t,n){"use strict";function r(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}function i(e,t){function n(e,t,n,r,o,a){var s=[e,t,n,0,0,0,1];s[r+3]=1,s[r]=o,i.push.apply(i,s),s[6]=-1,i.push.apply(i,s),s[r]=a,i.push.apply(i,s),i.push.apply(i,s),s[6]=1,i.push.apply(i,s),s[r]=o,i.push.apply(i,s)}var i=[];n(0,0,0,0,0,1),n(0,0,0,1,0,1),n(0,0,0,2,0,1),n(1,0,0,1,-1,1),n(1,0,0,2,-1,1),n(0,1,0,0,-1,1),n(0,1,0,2,-1,1),n(0,0,1,0,-1,1),n(0,0,1,1,-1,1);var l=o(e,i),u=a(e,[{type:e.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:e.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:e.FLOAT,buffer:l,size:1,offset:24,stride:28}]),c=s(e);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var f=new r(e,l,u,c);return f.update(t),f}var o=n(24),a=n(62),s=n(1039);e.exports=i;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=r.prototype,c=[0,0,0],f=[0,0,0],h=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(e){},u.draw=function(e){var t=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,o=e.model||l,a=e.view||l,s=e.projection||l;this.axes&&(i=this.axes.lastCubeProps.axis);for(var u=c,d=f,p=0;p<3;++p)i&&i[p]<0?(u[p]=this.bounds[0][p],d[p]=this.bounds[1][p]):(u[p]=this.bounds[1][p],d[p]=this.bounds[0][p]);h[0]=t.drawingBufferWidth,h[1]=t.drawingBufferHeight,r.uniforms.model=o,r.uniforms.view=a,r.uniforms.projection=s,r.uniforms.coordinates=[this.position,u,d],r.uniforms.colors=this.colors,r.uniforms.screenShape=h;for(var p=0;p<3;++p)r.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(n.draw(t.TRIANGLES,6,6*p),this.drawSides[p]&&n.draw(t.TRIANGLES,12,18+12*p));n.unbind()},u.update=function(e){e&&("bounds"in e&&(this.bounds=e.bounds),"position"in e&&(this.position=e.position),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"colors"in e&&(this.colors=e.colors),"enabled"in e&&(this.enabled=e.enabled),"drawSides"in e&&(this.drawSides=e.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(e,t,n){var r=n(1042),i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  worldCoordinate = vec3(uv.zw, f.x);\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n",o="precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat beckmannSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution_2_0(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\n\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = beckmannSpecular_1_1(L, V, N, roughness);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color — in vertex or in fragment\n  vec4 surfaceColor = step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) + step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n",a="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  vec4 worldPosition = model * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z = clipPosition.z + zOffset;\n\n  gl_Position = clipPosition;\n  value = f;\n  kill = -1.0;\n  worldCoordinate = dataCoordinate;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n",s="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if(kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n";t.createShader=function(e){var t=r(e,i,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},t.createPickShader=function(e){var t=r(e,i,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},t.createContourShader=function(e){var t=r(e,a,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t},t.createPickContourShader=function(e){var t=r(e,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t}},function(e,t,n){"use strict";function r(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var a=new r(e);return a.update(t,n,i,o),a}var a=n(1044),s=n(1043),l=n(474),u=n(1046),c=n(1045),f=n(204),h=r.prototype;h.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},h.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=u.program(p,d._vref,d._fref,_,w);for(var e=0;e<n.length;++e)A[e]=p.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,p=d.gl,m=d._vref;d._vref=u.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),d.vertShader=d._vref.shader;var v=this._fref;if(d._fref=u.shader(p,p.FRAGMENT_SHADER,t),v&&v.dispose(),d.fragShader=d._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,d.fragShader),p.attachShader(g,d.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||c.uniforms(p,g),r=r||c.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,x=[],_=[],w=[];for(b=0;b<r.length;++b){var M=r[b];if(M.type.indexOf("mat")>=0){for(var k=0|M.type.charAt(M.type.length-1),E=new Array(k),S=0;S<k;++S)E[S]=w.length,_.push(M.name+"["+S+"]"),"number"===typeof M.location?w.push(M.location+S):Array.isArray(M.location)&&M.location.length===k&&"number"===typeof M.location[S]?w.push(0|M.location[S]):w.push(-1);x.push({name:M.name,type:M.type,locations:E})}else x.push({name:M.name,type:M.type,locations:[w.length]}),_.push(M.name),"number"===typeof M.location?w.push(0|M.location):w.push(-1)}var T=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(T)>=0;)T+=1;w[b]=T}var A=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=s(p,d,x,w),Object.defineProperty(d,"uniforms",a(p,d,n,A))},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),h=new r(e,t,n,i,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(i[n]),f(e,i[n],t),t},get:function(){return h},enumerable:!0})}function o(e,t,n,r,o,a,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)i(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var f=new Array(o),h=e["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[i]);else{for(var s=0;s<o;++s)f[s]=t[o*i+s];h.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}function a(e,t,n,r){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(e,t,d[0],r,p,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(e,t,d,r,p,a,f)}}}return a}e.exports=a;var s=n(204),l=r.prototype;l.pointer=function(e,t,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(a)},l.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";function r(e){return new Function("y","return function(){return y}")(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t,n,o){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,o)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;parseInt(r)+""===r?o+="["+r+"]":o+="."+r,"object"===typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var s=i[a],l=s[0],f=s[1];o[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"===typeof i){var a=p(i);Object.defineProperty(e,t,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:l(i),set:f(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var m=a(n,!0);return{get:r(p(m)),set:f(m),enumerable:!0,configurable:!0}}var a=n(474),s=n(204);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!s){var n=Object.keys(a);s={};for(var r=0;r<n.length;++r){var i=n[r];s[e[i]]=a[i]}}return s[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=r(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)i.push({name:a.name.replace("[0]","["+l+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&i.push({name:a.name,type:r(e,a.type)})}return i}t.uniforms=i,t.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);try{var o=f(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new c(i,"Error compiling shader:\n"+i)}throw new c(i,o.short,o.long)}return r}function a(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var a=0;a<r.length;++a)e.bindAttribLocation(o,i[a],r[a]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var s=e.getProgramInfoLog(o);throw new c(s,"Error linking program: "+s)}return o}function s(e){var t=d.get(e);return t||(t=new i(e),d.set(e,t)),t}function l(e,t,n){return s(e).getShaderReference(t,n)}function u(e,t,n,r,i){return s(e).getProgram(t,n,r,i)}t.shader=l,t.program=u;var c=n(204),f=n(119),h="undefined"===typeof WeakMap?n(136):WeakMap,d=new h,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,e,t);a=i[t]=new r(p++,t,e,s,[],1,this)}return a},m.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},function(e,t,n){"use strict";function r(e,t,n,r,i){this.position=e,this.index=t,this.uv=n,this.level=r,this.dataCoordinate=i}function i(e){var t=x([y({colormap:e,nshades:R,format:"rgba"}).map(function(e){return[e[0],e[1],e[2],255*e[3]]})]);return b.divseq(t,255),t}function o(e,t,n,i,o,a,s,l,u,c,f,h,d,p){this.gl=e,this.shape=t,this.bounds=n,this.intensityBounds=[],this._shader=i,this._pickShader=o,this._coordinateBuffer=a,this._vao=s,this._colorMap=l,this._contourShader=u,this._contourPickShader=c,this._contourBuffer=f,this._contourVAO=h,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new r([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=d,this._dynamicVAO=p,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[_(g.mallocFloat(1024),[0,0]),_(g.mallocFloat(1024),[0,0]),_(g.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}function a(e,t){var n,r,i,o=t.axes&&t.axes.lastCubeProps.axis||z,a=t.showSurface,s=t.showContour;for(n=0;n<3;++n)for(a=a||t.surfaceProject[n],r=0;r<3;++r)s=s||t.contourProject[n][r];for(n=0;n<3;++n){var l=F.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=t.axesBounds[+(o[n]>0)][n],M(l,e.model,l);var u=F.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)u[i][r]=e.clipBounds[i][r];u[0][n]=-1e8,u[1][n]=1e8}return F.showSurface=a,F.showContour=s,F}function s(e,t){e=e||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=B;r.model=e.model||L,r.view=e.view||L,r.projection=e.projection||L,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.contourColor=this.contourColor[0],r.inverseModel=k(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var o=r.clipBounds[i],s=0;s<3;++s)o[s]=Math.min(Math.max(this.clipBounds[i][s],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=V,r.vertexColor=this.vertexColor;var l=U;for(M(l,r.view,r.model),M(l,r.projection,l),k(l,l),i=0;i<3;++i)r.eyePosition[i]=l[12+i]/l[15];var u=l[15];for(i=0;i<3;++i)u+=this.lightPosition[i]*l[4*i+3];for(i=0;i<3;++i){var c=l[12+i];for(s=0;s<3;++s)c+=l[4*s+i]*this.lightPosition[s];r.lightPosition[i]=c/u}var f=a(r,this);if(f.showSurface&&t===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=f.projections[i],this._shader.uniforms.clipBounds=f.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(f.showContour&&!t){var h=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,h.bind(),h.uniforms=r;var d=this._contourVAO;for(d.bind(),i=0;i<3;++i)for(h.uniforms.permutation=N[i],n.lineWidth(this.contourWidth[i]),s=0;s<this.contourLevels[i].length;++s)this._contourCounts[i][s]&&(s===this.highlightLevel[i]?(h.uniforms.contourColor=this.highlightColor[i],h.uniforms.contourTint=this.highlightTint[i]):0!==s&&s-1!==this.highlightLevel[i]||(h.uniforms.contourColor=this.contourColor[i],h.uniforms.contourTint=this.contourTint[i]),h.uniforms.height=this.contourLevels[i][s],d.draw(n.LINES,this._contourCounts[i][s],this._contourOffsets[i][s]));for(i=0;i<3;++i)for(h.uniforms.model=f.projections[i],h.uniforms.clipBounds=f.clipBounds[i],s=0;s<3;++s)if(this.contourProject[i][s]){h.uniforms.permutation=N[s],n.lineWidth(this.contourWidth[s]);for(var p=0;p<this.contourLevels[s].length;++p)p===this.highlightLevel[s]?(h.uniforms.contourColor=this.highlightColor[s],h.uniforms.contourTint=this.highlightTint[s]):0!==p&&p-1!==this.highlightLevel[s]||(h.uniforms.contourColor=this.contourColor[s],h.uniforms.contourTint=this.contourTint[s]),h.uniforms.height=this.contourLevels[s][p],d.draw(n.LINES,this._contourCounts[s][p],this._contourOffsets[s][p])}for(d=this._dynamicVAO,d.bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(h.uniforms.model=r.model,h.uniforms.clipBounds=r.clipBounds,h.uniforms.permutation=N[i],n.lineWidth(this.dynamicWidth[i]),h.uniforms.contourColor=this.dynamicColor[i],h.uniforms.contourTint=this.dynamicTint[i],h.uniforms.height=this.dynamicLevel[i],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),s=0;s<3;++s)this.contourProject[s][i]&&(h.uniforms.model=f.projections[s],h.uniforms.clipBounds=f.clipBounds[s],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));d.unbind()}}function l(e,t){var n=t.shape.slice(),r=e.shape.slice();b.assign(e.lo(1,1).hi(n[0],n[1]),t),b.assign(e.lo(1).hi(n[0],1),t.hi(n[0],1)),b.assign(e.lo(1,r[1]-1).hi(n[0],1),t.lo(0,n[1]-1).hi(n[0],1)),b.assign(e.lo(0,1).hi(1,n[1]),t.hi(1)),b.assign(e.lo(r[0]-1,1).hi(1,n[1]),t.lo(n[0]-1)),e.set(0,0,t.get(0,0)),e.set(0,r[1]-1,t.get(0,n[1]-1)),e.set(r[0]-1,0,t.get(n[0]-1,0)),e.set(r[0]-1,r[1]-1,t.get(n[0]-1,n[1]-1))}function u(e,t){return Array.isArray(e)?[t(e[0]),t(e[1]),t(e[2])]:[t(e),t(e),t(e)]}function c(e){return Array.isArray(e)?3===e.length?[e[0],e[1],e[2],1]:[e[0],e[1],e[2],e[3]]:[0,0,0,1]}function f(e){if(Array.isArray(e)){if(Array.isArray(e))return[c(e[0]),c(e[1]),c(e[2])];var t=c(e);return[t.slice(),t.slice(),t.slice()]}}function h(e){var t=e.gl,n=A(t),r=D(t),i=C(t),a=O(t),s=p(t),l=m(t,[{buffer:s,size:4,stride:P,offset:0},{buffer:s,size:3,stride:P,offset:16},{buffer:s,size:3,stride:P,offset:28}]),u=p(t),c=m(t,[{buffer:u,size:4,stride:20,offset:0},{buffer:u,size:1,stride:20,offset:16}]),f=p(t),h=m(t,[{buffer:f,size:2,type:t.FLOAT}]),d=v(t,1,R,t.RGBA,t.UNSIGNED_BYTE);d.minFilter=t.LINEAR,d.magFilter=t.LINEAR;var g=new o(t,[0,0],[[0,0,0],[0,0,0]],n,r,s,l,d,i,a,u,c,f,h),y={levels:[[],[],[]]};for(var b in e)y[b]=e[b];return y.colormap=y.colormap||"jet",g.update(y),g}e.exports=h;var d=n(85),p=n(24),m=n(62),v=n(121),g=n(23),y=n(444),b=n(219),x=n(1267),_=n(52),w=n(667),M=n(120),k=n(86),E=n(96),S=n(1264),T=n(1041),A=T.createShader,C=T.createContourShader,D=T.createPickShader,O=T.createPickContourShader,P=40,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],N=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];!function(){for(var e=0;e<3;++e){var t=N[e],n=(e+1)%3,r=(e+2)%3;t[n+0]=1,t[r+3]=1,t[e+6]=1}}();var R=256,j=o.prototype;j.isTransparent=function(){return this.opacity<1},j.isOpaque=function(){if(this.opacity>=1)return!0;for(var e=0;e<3;++e)if(this._contourCounts[e].length>0||this._dynamicCounts[e]>0)return!0;return!1},j.pickSlots=1,j.setPickBase=function(e){this.pickId=e};var z=[0,0,0],F={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]},B={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},U=L.slice(),V=[1,0,0,0,1,0,0,0,1];j.draw=function(e){return s.call(this,e,!1)},j.drawTransparent=function(e){return s.call(this,e,!0)};var H={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};j.drawPick=function(e){e=e||{};var t=this.gl;t.disable(t.CULL_FACE);var n=H;n.model=e.model||L,n.view=e.view||L,n.projection=e.projection||L,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.permutation=V;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],o=0;o<3;++o)i[o]=Math.min(Math.max(this.clipBounds[r][o],-1e8),1e8);var s=a(n,this);if(s.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(t.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=s.projections[r],this._pickShader.uniforms.clipBounds=s.clipBounds[r],this._vao.draw(t.TRIANGLES,this._vertexCount));this._vao.unbind()}if(s.showContour){var l=this._contourPickShader;l.bind(),l.uniforms=n;var u=this._contourVAO;for(u.bind(),o=0;o<3;++o)for(t.lineWidth(this.contourWidth[o]),l.uniforms.permutation=N[o],r=0;r<this.contourLevels[o].length;++r)this._contourCounts[o][r]&&(l.uniforms.height=this.contourLevels[o][r],u.draw(t.LINES,this._contourCounts[o][r],this._contourOffsets[o][r]));for(r=0;r<3;++r)for(l.uniforms.model=s.projections[r],l.uniforms.clipBounds=s.clipBounds[r],o=0;o<3;++o)if(this.contourProject[r][o]){l.uniforms.permutation=N[o],t.lineWidth(this.contourWidth[o]);for(var c=0;c<this.contourLevels[o].length;++c)this._contourCounts[o][c]&&(l.uniforms.height=this.contourLevels[o][c],u.draw(t.LINES,this._contourCounts[o][c],this._contourOffsets[o][c]))}u.unbind()}},j.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=this._field[2].shape,n=this._pickResult,r=t[0]*(e.value[0]+(e.value[2]>>4)/16)/255,i=Math.floor(r),o=r-i,a=t[1]*(e.value[1]+(15&e.value[2])/16)/255,s=Math.floor(a),l=a-s;i+=1,s+=1;var u=n.position;u[0]=u[1]=u[2]=0;for(var c=0;c<2;++c)for(var f=c?o:1-o,h=0;h<2;++h)for(var d=h?l:1-l,p=i+c,m=s+h,v=f*d,g=0;g<3;++g)u[g]+=this._field[g].get(p,m)*v;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=E.le(this.contourLevels[b],u[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][y[b]],_=this.contourLevels[b][y[b]+1];Math.abs(x-u[b])>Math.abs(_-u[b])&&(y[b]+=1)}for(n.index[0]=o<.5?i:i+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/t[0],n.uv[1]=a/t[1],g=0;g<3;++g)n.dataCoordinate[g]=this._field[g].get(n.index[0],n.index[1]);return n},j.update=function(e){e=e||{},this.dirty=!0,"contourWidth"in e&&(this.contourWidth=u(e.contourWidth,Number)),"showContour"in e&&(this.showContour=u(e.showContour,Boolean)),"showSurface"in e&&(this.showSurface=!!e.showSurface),"contourTint"in e&&(this.contourTint=u(e.contourTint,Boolean)),"contourColor"in e&&(this.contourColor=f(e.contourColor)),"contourProject"in e&&(this.contourProject=u(e.contourProject,function(e){return u(e,Boolean)})),"surfaceProject"in e&&(this.surfaceProject=e.surfaceProject),"dynamicColor"in e&&(this.dynamicColor=f(e.dynamicColor)),"dynamicTint"in e&&(this.dynamicTint=u(e.dynamicTint,Number)),"dynamicWidth"in e&&(this.dynamicWidth=u(e.dynamicWidth,Number)),"opacity"in e&&(this.opacity=e.opacity),"colorBounds"in e&&(this.colorBounds=e.colorBounds),"vertexColor"in e&&(this.vertexColor=e.vertexColor?1:0);var t=e.field||e.coords&&e.coords[2]||null,n=!1;if(t||(t=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in e||"coords"in e){var r=(t.shape[0]+2)*(t.shape[1]+2);r>this._field[2].data.length&&(g.freeFloat(this._field[2].data),this._field[2].data=g.mallocFloat(d.nextPow2(r))),this._field[2]=_(this._field[2].data,[t.shape[0]+2,t.shape[1]+2]),l(this._field[2],t),this.shape=t.shape.slice();for(var o=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(g.freeFloat(this._field[a].data),this._field[a].data=g.mallocFloat(this._field[2].size)),this._field[a]=_(this._field[a].data,[o[0]+2,o[1]+2]);if(e.coords){var s=e.coords;if(!Array.isArray(s)||3!==s.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var c=s[a];for(y=0;y<2;++y)if(c.shape[y]!==o[y])throw new Error("gl-surface: coords have incorrect shape");l(this._field[a],c)}}else if(e.ticks){var h=e.ticks;if(!Array.isArray(h)||2!==h.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var p=h[a];if((Array.isArray(p)||p.length)&&(p=_(p)),p.shape[0]!==o[a])throw new Error("gl-surface: invalid tick length");var m=_(p.data,o);m.stride[a]=p.stride[0],m.stride[1^a]=0,l(this._field[a],m)}}else{for(a=0;a<2;++a){var v=[0,0];v[a]=1,this._field[a]=_(this._field[a].data,[o[0]+2,o[1]+2],v,0)}this._field[0].set(0,0,0);for(var y=0;y<o[0];++y)this._field[0].set(y+1,0,y);for(this._field[0].set(o[0]+1,0,o[0]-1),this._field[1].set(0,0,0),y=0;y<o[1];++y)this._field[1].set(0,y+1,y);this._field[1].set(0,o[1]+1,o[1]-1)}var b=this._field,x=_(g.mallocFloat(3*b[2].size*2),[3,o[0]+2,o[1]+2,2]);for(a=0;a<3;++a)S(x.pick(a),b[a],"mirror");var M=_(g.mallocFloat(3*b[2].size),[o[0]+2,o[1]+2,3]);for(a=0;a<o[0]+2;++a)for(y=0;y<o[1]+2;++y){var k=x.get(0,a,y,0),E=x.get(0,a,y,1),T=x.get(1,a,y,0),A=x.get(1,a,y,1),C=x.get(2,a,y,0),D=x.get(2,a,y,1),O=T*D-A*C,P=C*E-D*k,L=k*A-E*T,N=Math.sqrt(O*O+P*P+L*L);N<1e-8?(N=Math.max(Math.abs(O),Math.abs(P),Math.abs(L)),N<1e-8?(L=1,P=O=0,N=1):N=1/N):N=1/Math.sqrt(N),M.set(a,y,0,O*N),M.set(a,y,1,P*N),M.set(a,y,2,L*N)}g.free(x.data);var R=[1/0,1/0,1/0],j=[-1/0,-1/0,-1/0],z=1/0,F=-1/0,B=(o[0]-1)*(o[1]-1)*6,U=g.mallocFloat(d.nextPow2(10*B)),V=0,H=0;for(a=0;a<o[0]-1;++a)e:for(y=0;y<o[1]-1;++y){for(var Y=0;Y<2;++Y)for(var W=0;W<2;++W)for(var q=0;q<3;++q){var G=this._field[q].get(1+a+Y,1+y+W);if(isNaN(G)||!isFinite(G))continue e}for(q=0;q<6;++q){var X=a+I[q][0],Z=y+I[q][1],K=this._field[0].get(X+1,Z+1),$=this._field[1].get(X+1,Z+1);G=this._field[2].get(X+1,Z+1);var J=G;O=M.get(X+1,Z+1,0),P=M.get(X+1,Z+1,1),L=M.get(X+1,Z+1,2),e.intensity&&(J=e.intensity.get(X,Z)),U[V++]=X,U[V++]=Z,U[V++]=K,U[V++]=$,U[V++]=G,U[V++]=0,U[V++]=J,U[V++]=O,U[V++]=P,U[V++]=L,R[0]=Math.min(R[0],K),R[1]=Math.min(R[1],$),R[2]=Math.min(R[2],G),z=Math.min(z,J),j[0]=Math.max(j[0],K),j[1]=Math.max(j[1],$),j[2]=Math.max(j[2],G),F=Math.max(F,J),H+=1}}for(e.intensityBounds&&(z=+e.intensityBounds[0],F=+e.intensityBounds[1]),a=6;a<V;a+=10)U[a]=(U[a]-z)/(F-z);this._vertexCount=H,this._coordinateBuffer.update(U.subarray(0,V)),g.freeFloat(U),g.free(M.data),this.bounds=[R,j],this.intensity=e.intensity||this._field[2],this.intensityBounds[0]===z&&this.intensityBounds[1]===F||(n=!0),this.intensityBounds=[z,F]}if("levels"in e){var Q=e.levels;for(Q=Array.isArray(Q[0])?Q.slice():[[],[],Q],a=0;a<3;++a)Q[a]=Q[a].slice(),Q.sort(function(e,t){return e-t});e:for(a=0;a<3;++a){if(Q[a].length!==this.contourLevels[a].length){n=!0;break}for(y=0;y<Q[a].length;++y)if(Q[a][y]!==this.contourLevels[a][y]){n=!0;break e}}this.contourLevels=Q}if(n){b=this._field,o=this.shape;for(var ee=[],te=0;te<3;++te){Q=this.contourLevels[te];var ne=[],re=[],ie=[0,0,0];for(a=0;a<Q.length;++a){var oe=w(this._field[te],Q[a]);ne.push(ee.length/5|0),H=0;e:for(y=0;y<oe.cells.length;++y){var ae=oe.cells[y];for(q=0;q<2;++q){var se=oe.positions[ae[q]],le=se[0],ue=0|Math.floor(le),ce=le-ue,fe=se[1],he=0|Math.floor(fe),de=fe-he,pe=!1;t:for(var me=0;me<3;++me){ie[me]=0;var ve=(te+me+1)%3;for(Y=0;Y<2;++Y){var ge=Y?ce:1-ce;for(X=0|Math.min(Math.max(ue+Y,0),o[0]),W=0;W<2;++W){var ye=W?de:1-de;if(Z=0|Math.min(Math.max(he+W,0),o[1]),G=me<2?this._field[ve].get(X,Z):(this.intensity.get(X,Z)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(G)||isNaN(G)){pe=!0;break t}var be=ge*ye;ie[me]+=be*G}}}if(pe){if(q>0){for(var xe=0;xe<5;++xe)ee.pop();H-=1}continue e}ee.push(ie[0],ie[1],se[0],se[1],ie[2]),H+=1}}re.push(H)}this._contourOffsets[te]=ne,this._contourCounts[te]=re}var _e=g.mallocFloat(ee.length);for(a=0;a<ee.length;++a)_e[a]=ee[a];this._contourBuffer.update(_e),g.freeFloat(_e)}e.colormap&&this._colorMap.setPixels(i(e.colormap))},j.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var e=0;e<3;++e)g.freeFloat(this._field[e].data)},j.highlight=function(e){if(!e)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(var t=0;t<3;++t)this.enableHighlight[t]?this.highlightLevel[t]=e.level[t]:this.highlightLevel[t]=-1;var n;if(n=this.snapToData?e.dataCoordinate:e.position,this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,i=this.shape,o=g.mallocFloat(12*i[0]*i[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=n[a];var s=(a+1)%3,l=(a+2)%3,u=this._field[a],c=this._field[s],f=this._field[l],h=(this.intensity,w(u,n[a])),d=h.cells,p=h.positions;for(this._dynamicOffsets[a]=r,t=0;t<d.length;++t)for(var m=d[t],v=0;v<2;++v){var y=p[m[v]],b=+y[0],x=0|b,_=0|Math.min(x+1,i[0]),M=b-x,k=1-M,E=+y[1],S=0|E,T=0|Math.min(S+1,i[1]),A=E-S,C=1-A,D=k*C,O=k*A,P=M*C,L=M*A,I=D*c.get(x,S)+O*c.get(x,T)+P*c.get(_,S)+L*c.get(_,T),N=D*f.get(x,S)+O*f.get(x,T)+P*f.get(_,S)+L*f.get(_,T);if(isNaN(I)||isNaN(N)){v&&(r-=1);break}o[2*r+0]=I,o[2*r+1]=N,r+=1}this._dynamicCounts[a]=r-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(o.subarray(0,2*r)),g.freeFloat(o)}}},function(e,t,n){"use strict";function r(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}function i(e){return new r(e)}var o=n(475);r.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},r.prototype.update=function(e,t,n){this._elements=t,this._attributes=e,this._elementsType=n||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._elements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this.location=e,this.dimension=t,this.a=n,this.b=r,this.c=i,this.d=o}function i(e,t,n){this.gl=e,this._ext=t,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}function o(e,t){return new i(e,t,t.createVertexArrayOES())}var a=n(475);r.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(e,t,n){if(this.bind(),a(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var i=0;i<e.length;++i){var o=e[i];"number"===typeof o?this._attribs.push(new r(i,1,o)):Array.isArray(o)&&this._attribs.push(new r(i,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!t,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},e.exports=o},function(e,t){function n(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}e.exports=n},function(e,t){function n(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}e.exports=n},function(e,t){function n(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}e.exports=n},function(e,t){function n(e,t,n,o){return r[0]=o,r[1]=n,r[2]=t,r[3]=e,i[0]}e.exports=n;var r=new Uint8Array(4),i=new Float32Array(r.buffer)},function(e,t,n){function r(e){for(var t=Array.isArray(e)?e:i(e),n=0;n<t.length;n++){var r=t[n];if("preprocessor"===r.type){var a=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?o(l):l).trim()}}}}var i=n(1059),o=n(888);e.exports=r},function(e,t,n){function r(e){function t(e){e.length&&V.push({type:M[B],data:e,position:W,line:H,column:Y})}function n(e){z=0,X+=e,j=X.length;for(var t;N=X[z],z<j;){switch(t=z,B){case f:z=A();break;case h:z=T();break;case d:z=S();break;case p:z=C();break;case m:z=P();break;case w:z=O();break;case v:z=L();break;case c:z=I();break;case x:z=E();break;case u:z=k()}if(t!==z)switch(X[t]){case"\n":Y=0,++H;break;default:++Y}}return F+=z,X=X.slice(z),V}function r(e){return U.length&&t(U.join("")),B=_,t("(eof)"),V}function k(){return U=U.length?[]:U,"/"===R&&"*"===N?(W=F+z-1,B=f,R=N,z+1):"/"===R&&"/"===N?(W=F+z-1,B=h,R=N,z+1):"#"===N?(B=d,W=F+z,z):/\s/.test(N)?(B=x,W=F+z,z):(q=/\d/.test(N),G=/[^\w_]/.test(N),W=F+z,B=q?m:G?p:c,z)}function E(){return/[^\s]/g.test(N)?(t(U.join("")),B=u,z):(U.push(N),R=N,z+1)}function S(){return"\r"!==N&&"\n"!==N||"\\"===R?(U.push(N),R=N,z+1):(t(U.join("")),B=u,z)}function T(){return S()}function A(){return"/"===N&&"*"===R?(U.push(N),t(U.join("")),B=u,z+1):(U.push(N),R=N,z+1)}function C(){if("."===R&&/\d/.test(N))return B=v,z;if("/"===R&&"*"===N)return B=f,z;if("/"===R&&"/"===N)return B=h,z;if("."===N&&U.length){for(;D(U););return B=v,z}if(";"===N||")"===N||"("===N){if(U.length)for(;D(U););return t(N),B=u,z+1}var e=2===U.length&&"="!==N;if(/[\w_\d\s]/.test(N)||e){for(;D(U););return B=u,z}return U.push(N),R=N,z+1}function D(e){for(var n,r,i=0;;){if(n=o.indexOf(e.slice(0,e.length+i).join("")),r=o[n],-1===n){if(i--+e.length>0)continue;r=e.slice(0,1).join("")}return t(r),W+=r.length,U=U.slice(r.length),U.length}}function O(){return/[^a-fA-F0-9]/.test(N)?(t(U.join("")),B=u,z):(U.push(N),R=N,z+1)}function P(){return"."===N?(U.push(N),B=v,R=N,z+1):/[eE]/.test(N)?(U.push(N),B=v,R=N,z+1):"x"===N&&1===U.length&&"0"===U[0]?(B=w,U.push(N),R=N,z+1):/[^\d]/.test(N)?(t(U.join("")),B=u,z):(U.push(N),R=N,z+1)}function L(){return"f"===N&&(U.push(N),R=N,z+=1),/[eE]/.test(N)?(U.push(N),R=N,z+1):"-"===N&&/[eE]/.test(R)?(U.push(N),R=N,z+1):/[^\d]/.test(N)?(t(U.join("")),B=u,z):(U.push(N),R=N,z+1)}function I(){if(/[^\d\w_]/.test(N)){var e=U.join("");return B=K.indexOf(e)>-1?b:Z.indexOf(e)>-1?y:g,t(U.join("")),B=u,z}return U.push(N),R=N,z+1}var N,R,j,z=0,F=0,B=u,U=[],V=[],H=1,Y=0,W=0,q=!1,G=!1,X="";e=e||{};var Z=a,K=i;return"300 es"===e.version&&(Z=l,K=s),function(e){return V=[],null!==e?n(e.replace?e.replace(/\r\n/g,"\n"):e):r()}}e.exports=r;var i=n(479),o=n(1058),a=n(478),s=n(1057),l=n(1056),u=999,c=9999,f=0,h=1,d=2,p=3,m=4,v=5,g=6,y=7,b=8,x=9,_=10,w=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(e,t,n){var r=n(478);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(e,t,n){var r=n(479);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(e,t,n){function r(e,t){var n=i(t),r=[];return r=r.concat(n(e)),r=r.concat(n(null))}var i=n(1055);e.exports=r},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t,n){"use strict";function r(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}function i(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function o(e,t){var n=p(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function a(e,t){var n=e.intervals([]);n.push(t),o(e,n)}function s(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?y:(n.splice(r,1),o(e,n),b)}function l(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function u(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function c(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function f(e,t){return e-t}function h(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function d(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function p(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(f);for(var i=t[t.length>>1],o=[],a=[],s=[],n=0;n<e.length;++n){var l=e[n];l[1]<i?o.push(l):i<l[0]?a.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(h),c.sort(d),new r(i,p(o),p(a),u,c)}function m(e){this.root=e}function v(e){return new m(e&&0!==e.length?p(e):null)}var g=n(96),y=0,b=1;e.exports=v;var x=r.prototype;x.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},x.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?a(this,e):this.left.insert(e):this.left=p([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?a(this,e):this.right.insert(e):this.right=p([e]);else{var n=g.ge(this.leftPoints,e,h),r=g.ge(this.rightPoints,e,d);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},x.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return y;if(4*(this.right?this.right.count:0)>3*(t-1))return s(this,e);var n=this.left.remove(e);return 2===n?(this.left=null,this.count-=1,b):(n===b&&(this.count-=1),n)}if(e[0]>this.mid){if(!this.right)return y;if(4*(this.left?this.left.count:0)>3*(t-1))return s(this,e);var n=this.right.remove(e);return 2===n?(this.right=null,this.count-=1,b):(n===b&&(this.count-=1),n)}if(1===this.count)return this.leftPoints[0]===e?2:y;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var r=this,o=this.left;o.right;)r=o,o=o.right;if(r===this)o.right=this.right;else{var a=this.left,n=this.right;r.count-=o.count,r.right=o.left,o.left=a,o.right=n}i(this,o),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?i(this,this.left):i(this,this.right);return b}for(var a=g.ge(this.leftPoints,e,h);a<this.leftPoints.length&&this.leftPoints[a][0]===e[0];++a)if(this.leftPoints[a]===e){this.count-=1,this.leftPoints.splice(a,1);for(var n=g.ge(this.rightPoints,e,d);n<this.rightPoints.length&&this.rightPoints[n][1]===e[1];++n)if(this.rightPoints[n]===e)return this.rightPoints.splice(n,1),b}return y},x.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return l(this.leftPoints,e,t)}if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return u(this.rightPoints,e,t)}return c(this.leftPoints,t)},x.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var r=this.left.queryInterval(e,t,n);if(r)return r}if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?l(this.leftPoints,t,n):e>this.mid?u(this.rightPoints,e,n):c(this.leftPoints,n)};var _=m.prototype;_.insert=function(e){this.root?this.root.insert(e):this.root=new r(e[0],null,null,[e],[e])},_.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==y}return!1},_.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},_.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(_,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(_,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},function(e,t,n){"use strict";function r(e,t){t=t||new Array(e.length);for(var n=0;n<e.length;++n)t[e[n]]=n;return t}e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t){function n(e){return e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"==typeof e&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}e.exports=n},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t,n){"use strict";function r(e,t,n,r,o){return new i(e,t,n,r,o)}function i(e,t,n,r,i){t=t||o,n=n||a,i=i||Array,this.nodeSize=r||64,this.points=e,this.ids=new i(e.length),this.coords=new i(2*e.length);for(var l=0;l<e.length;l++)this.ids[l]=l,this.coords[2*l]=t(e[l]),this.coords[2*l+1]=n(e[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(e){return e[0]}function a(e){return e[1]}var s=n(1068),l=n(1067),u=n(1069);e.exports=r,i.prototype={range:function(e,t,n,r){return l(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return u(this.ids,this.coords,e,t,n,this.nodeSize)}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var f=u.pop(),h=u.pop(),d=u.pop();if(h-d<=a)for(var p=d;p<=h;p++)s=t[2*p],l=t[2*p+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(e[p]);else{var m=Math.floor((d+h)/2);s=t[2*m],l=t[2*m+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(e[m]);var v=(f+1)%2;(0===f?n<=s:r<=l)&&(u.push(d),u.push(m-1),u.push(v)),(0===f?i>=s:o>=l)&&(u.push(m+1),u.push(h),u.push(v))}}return c}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,o,a,s){if(!(a-o<=n)){var l=Math.floor((o+a)/2);i(e,t,l,o,a,s%2),r(e,t,n,o,l-1,s+1),r(e,t,n,l+1,a,s+1)}}function i(e,t,n,r,a,s){for(;a>r;){if(a-r>600){var l=a-r+1,u=n-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1);i(e,t,n,Math.max(r,Math.floor(n-u*f/l+h)),Math.min(a,Math.floor(n+(l-u)*f/l+h)),s)}var d=t[2*n+s],p=r,m=a;for(o(e,t,r,n),t[2*a+s]>d&&o(e,t,r,a);p<m;){for(o(e,t,p,m),p++,m--;t[2*p+s]<d;)p++;for(;t[2*m+s]>d;)m--}t[2*r+s]===d?o(e,t,r,m):(m++,o(e,t,m,a)),m<=n&&(r=m+1),n<=m&&(a=m-1)}}function o(e,t,n,r){a(e,n,r),a(t,2*n,2*r),a(t,2*n+1,2*r+1)}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a){for(var s=[0,e.length-1,0],l=[],u=o*o;s.length;){var c=s.pop(),f=s.pop(),h=s.pop();if(f-h<=a)for(var d=h;d<=f;d++)i(t[2*d],t[2*d+1],n,r)<=u&&l.push(e[d]);else{var p=Math.floor((h+f)/2),m=t[2*p],v=t[2*p+1];i(m,v,n,r)<=u&&l.push(e[p]);var g=(c+1)%2;(0===c?n-o<=m:r-o<=v)&&(s.push(h),s.push(p-1),s.push(g)),(0===c?n+o>=m:r+o>=v)&&(s.push(p+1),s.push(f),s.push(g))}}return l}function i(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}e.exports=r},function(e,t,n){(function(e,n){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function s(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function l(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function h(e,t){return function(n){return e(t(n))}}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=Nt?Nt(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function g(e){var t=this.__data__;if(Nt){var n=t[e];return n===Ce?void 0:n}return gt.call(t,e)?t[e]:void 0}function y(e){var t=this.__data__;return Nt?void 0!==t[e]:gt.call(t,e)}function b(e,t){return this.__data__[e]=Nt&&void 0===t?Ce:t,this}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=[]}function w(e){var t=this.__data__,n=B(t,e);return!(n<0)&&(n==t.length-1?t.pop():St.call(t,n,1),!0)}function M(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]}function k(e){return B(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(){this.__data__={hash:new p,map:new(Ot||x),string:new p}}function A(e){return ae(this,e).delete(e)}function C(e){return ae(this,e).get(e)}function D(e){return ae(this,e).has(e)}function O(e,t){return ae(this,e).set(e,t),this}function P(e){this.__data__=new x(e)}function L(){this.__data__=new x}function I(e){return this.__data__.delete(e)}function N(e){return this.__data__.get(e)}function R(e){return this.__data__.has(e)}function j(e,t){var n=this.__data__;if(n instanceof x){var r=n.__data__;if(!Ot||r.length<Ae-1)return r.push([e,t]),this;n=this.__data__=new S(r)}return n.set(e,t),this}function z(e,t){var n=Wt(e)||ye(e)?l(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!gt.call(e,o)||i&&("length"==o||fe(o,r))||n.push(o);return n}function F(e,t,n){var r=e[t];gt.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function B(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1}function U(e,t){return e&&re(t,Ee(t),e)}function V(e,t,n,r,i,a,s){var l;if(r&&(l=a?r(e,i,a,s):r(e)),void 0!==l)return l;if(!Me(e))return e;var u=Wt(e);if(u){if(l=le(e),!t)return ne(e,l)}else{var f=Yt(e),h=f==Ie||f==Ne;if(qt(e))return X(e,t);if(f==ze||f==Oe||h&&!a){if(c(e))return a?e:{};if(l=ue(h?{}:e),!t)return ie(e,U(l,e))}else{if(!it[f])return a?e:{};l=ce(e,f,V,t)}}s||(s=new P);var d=s.get(e);if(d)return d;if(s.set(e,l),!u)var p=n?oe(e):Ee(e);return o(p||e,function(i,o){p&&(o=i,i=e[o]),F(l,o,V(i,t,n,r,o,e,s))}),l}function H(e){return Me(e)?kt(e):{}}function Y(e,t,n){var r=t(e);return Wt(e)?r:a(r,n(e))}function W(e){return yt.call(e)}function q(e){return!(!Me(e)||de(e))&&(_e(e)||c(e)?bt:nt).test(me(e))}function G(e){if(!pe(e))return Ct(e);var t=[];for(var n in Object(e))gt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function X(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Z(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function K(e,t){var n=t?Z(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function $(e,t,n){return s(t?n(f(e),!0):f(e),r,new e.constructor)}function J(e){var t=new e.constructor(e.source,tt.exec(e));return t.lastIndex=e.lastIndex,t}function Q(e,t,n){return s(t?n(d(e),!0):d(e),i,new e.constructor)}function ee(e){return Vt?Object(Vt.call(e)):{}}function te(e,t){var n=t?Z(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function re(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;F(n,a,void 0===s?e[a]:s)}return n}function ie(e,t){return re(e,Ht(e),t)}function oe(e){return Y(e,Ee,Ht)}function ae(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=u(e,t);return q(n)?n:void 0}function le(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&gt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ue(e){return"function"!=typeof e.constructor||pe(e)?{}:H(Mt(e))}function ce(e,t,n,r){var i=e.constructor;switch(t){case He:return Z(e);case Pe:case Le:return new i(+e);case Ye:return K(e,r);case We:case qe:case Ge:case Xe:case Ze:case Ke:case $e:case Je:case Qe:return te(e,r);case Re:return $(e,r,n);case je:case Ue:return new i(e);case Fe:return J(e);case Be:return Q(e,r,n);case Ve:return ee(e)}}function fe(e,t){return!!(t=null==t?De:t)&&("number"==typeof e||rt.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){return!!mt&&mt in e}function pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dt)}function me(e){if(null!=e){try{return vt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ve(e){return V(e,!0,!0)}function ge(e,t){return e===t||e!==e&&t!==t}function ye(e){return xe(e)&&gt.call(e,"callee")&&(!Et.call(e,"callee")||yt.call(e)==Oe)}function be(e){return null!=e&&we(e.length)&&!_e(e)}function xe(e){return ke(e)&&be(e)}function _e(e){var t=Me(e)?yt.call(e):"";return t==Ie||t==Ne}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=De}function Me(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ke(e){return!!e&&"object"==typeof e}function Ee(e){return be(e)?z(e):G(e)}function Se(){return[]}function Te(){return!1}var Ae=200,Ce="__lodash_hash_undefined__",De=9007199254740991,Oe="[object Arguments]",Pe="[object Boolean]",Le="[object Date]",Ie="[object Function]",Ne="[object GeneratorFunction]",Re="[object Map]",je="[object Number]",ze="[object Object]",Fe="[object RegExp]",Be="[object Set]",Ue="[object String]",Ve="[object Symbol]",He="[object ArrayBuffer]",Ye="[object DataView]",We="[object Float32Array]",qe="[object Float64Array]",Ge="[object Int8Array]",Xe="[object Int16Array]",Ze="[object Int32Array]",Ke="[object Uint8Array]",$e="[object Uint8ClampedArray]",Je="[object Uint16Array]",Qe="[object Uint32Array]",et=/[\\^$.*+?()[\]{}|]/g,tt=/\w*$/,nt=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,it={};it[Oe]=it["[object Array]"]=it[He]=it[Ye]=it[Pe]=it[Le]=it[We]=it[qe]=it[Ge]=it[Xe]=it[Ze]=it[Re]=it[je]=it[ze]=it[Fe]=it[Be]=it[Ue]=it[Ve]=it[Ke]=it[$e]=it[Je]=it[Qe]=!0,it["[object Error]"]=it[Ie]=it["[object WeakMap]"]=!1;var ot="object"==typeof e&&e&&e.Object===Object&&e,at="object"==typeof self&&self&&self.Object===Object&&self,st=ot||at||Function("return this")(),lt="object"==typeof t&&t&&!t.nodeType&&t,ut=lt&&"object"==typeof n&&n&&!n.nodeType&&n,ct=ut&&ut.exports===lt,ft=Array.prototype,ht=Function.prototype,dt=Object.prototype,pt=st["__core-js_shared__"],mt=function(){var e=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),vt=ht.toString,gt=dt.hasOwnProperty,yt=dt.toString,bt=RegExp("^"+vt.call(gt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=ct?st.Buffer:void 0,_t=st.Symbol,wt=st.Uint8Array,Mt=h(Object.getPrototypeOf,Object),kt=Object.create,Et=dt.propertyIsEnumerable,St=ft.splice,Tt=Object.getOwnPropertySymbols,At=xt?xt.isBuffer:void 0,Ct=h(Object.keys,Object),Dt=se(st,"DataView"),Ot=se(st,"Map"),Pt=se(st,"Promise"),Lt=se(st,"Set"),It=se(st,"WeakMap"),Nt=se(Object,"create"),Rt=me(Dt),jt=me(Ot),zt=me(Pt),Ft=me(Lt),Bt=me(It),Ut=_t?_t.prototype:void 0,Vt=Ut?Ut.valueOf:void 0;p.prototype.clear=m,p.prototype.delete=v,p.prototype.get=g,p.prototype.has=y,p.prototype.set=b,x.prototype.clear=_,x.prototype.delete=w,x.prototype.get=M,x.prototype.has=k,x.prototype.set=E,S.prototype.clear=T,S.prototype.delete=A,S.prototype.get=C,S.prototype.has=D,S.prototype.set=O,P.prototype.clear=L,P.prototype.delete=I,P.prototype.get=N,P.prototype.has=R,P.prototype.set=j;var Ht=Tt?h(Tt,Object):Se,Yt=W;(Dt&&Yt(new Dt(new ArrayBuffer(1)))!=Ye||Ot&&Yt(new Ot)!=Re||Pt&&"[object Promise]"!=Yt(Pt.resolve())||Lt&&Yt(new Lt)!=Be||It&&"[object WeakMap]"!=Yt(new It))&&(Yt=function(e){var t=yt.call(e),n=t==ze?e.constructor:void 0,r=n?me(n):void 0;if(r)switch(r){case Rt:return Ye;case jt:return Re;case zt:return"[object Promise]";case Ft:return Be;case Bt:return"[object WeakMap]"}return t});var Wt=Array.isArray,qt=At||Te;n.exports=ve}).call(t,n(29),n(61)(e))},function(e,t,n){(function(t){function n(e,t,n){function i(t){var n=m,r=v;return m=v=void 0,k=t,y=e.apply(r,n)}function o(e){return k=e,b=setTimeout(c,t),E?i(e):y}function l(e){var n=e-M,r=e-k,i=t-n;return S?_(i,g-r):i}function u(e){var n=e-M,r=e-k;return void 0===M||n>=t||n<0||S&&r>=g}function c(){var e=w();if(u(e))return f(e);b=setTimeout(c,l(e))}function f(e){return b=void 0,T&&m?i(e):(m=v=void 0,y)}function h(){void 0!==b&&clearTimeout(b),k=0,m=M=v=b=void 0}function d(){return void 0===b?y:f(w())}function p(){var e=w(),n=u(e);if(m=arguments,v=this,M=e,n){if(void 0===b)return o(M);if(S)return b=setTimeout(c,t),i(M)}return void 0===b&&(b=setTimeout(c,t)),y}var m,v,g,y,b,M,k=0,E=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,r(n)&&(E=!!n.leading,S="maxWait"in n,g=S?x(a(n.maxWait)||0,t):g,T="trailing"in n?!!n.trailing:T),p.cancel=h,p.flush=d,p}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&b.call(e)==u}function a(e){if("number"==typeof e)return e;if(o(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=h.test(e);return n||d.test(e)?p(e.slice(2),n?2:8):f.test(e)?l:+e}var s="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,m="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,g=m||v||Function("return this")(),y=Object.prototype,b=y.toString,x=Math.max,_=Math.min,w=function(){return g.Date.now()};e.exports=n}).call(t,n(29))},function(e,t,n){var r=n(97),i=n(76),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1124),o=n(1125),a=n(1126),s=n(1127),l=n(1128);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(97),i=n(76),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(97),i=n(76),o=r(i,"Set");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(290),o=n(1151),a=n(1152);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t,n){var r=n(76),i=r.Uint8Array;e.exports=i},function(e,t,n){var r=n(97),i=n(76),o=r(i,"WeakMap");e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),c=!n&&!r&&s(e),h=!n&&!r&&!c&&u(e),d=n||r||c||h,p=d?i(e.length,String):[],m=p.length;for(var v in e)!t&&!f.call(e,v)||d&&("length"==v||c&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,m))||p.push(v);return p}var i=n(1105),o=n(295),a=n(77),s=n(495),l=n(292),u=n(497),c=Object.prototype,f=c.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(1087),i=n(1111),o=i(r);e.exports=o},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){function r(e,t,n,a,s){var l=-1,u=e.length;for(n||(n=o),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?r(c,t-1,n,a,s):i(s,c):a||(s[s.length]=c)}return s}var i=n(485),o=n(1129);e.exports=r},function(e,t,n){var r=n(1112),i=r();e.exports=i},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(1086),o=n(211);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(485),o=n(77);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(151),o=n(154),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,v,y){var b=u(e),x=u(t),_=b?p:l(e),w=x?p:l(t);_=_==d?m:_,w=w==d?m:w;var M=_==m,k=w==m,E=_==w;if(E&&c(e)){if(!c(t))return!1;b=!0,M=!1}if(E&&!M)return y||(y=new i),b||f(e)?o(e,t,n,r,v,y):a(e,t,_,n,r,v,y);if(!(n&h)){var S=M&&g.call(e,"__wrapped__"),T=k&&g.call(t,"__wrapped__");if(S||T){var A=S?e.value():e,C=T?t.value():t;return y||(y=new i),v(A,C,n,r,y)}}return!!E&&(y||(y=new i),s(e,t,n,r,v,y))}var i=n(483),o=n(490),a=n(1115),s=n(1116),l=n(1121),u=n(77),c=n(495),f=n(497),h=1,d="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,g=v.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r){var l=n.length,u=l,c=!r;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){f=n[l];var h=f[0],d=e[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in e))return!1}else{var m=new i;if(r)var v=r(d,p,h,e,t,m);if(!(void 0===v?o(p,d,a|s,r,m):v))return!1}}return!0}var i=n(483),o=n(487),a=1,s=2;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?p:u).test(s(e))}var i=n(496),o=n(1132),a=n(153),s=n(494),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,h=c.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(151),o=n(296),a=n(154),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(1133),o=n(1146),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(1083),o=n(152);e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(1092),o=n(1118),a=n(493);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&l(t)?u(c(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,f|h)}}var i=n(487),o=n(1165),a=n(1166),s=n(293),l=n(492),u=n(493),c=n(209),f=1,h=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=-1;t=i(t.length?t:[c],l(o));var f=a(e,function(e,n,o){return{criteria:i(t,function(t){return t(e)}),index:++r,value:e}});return s(f,function(e,t){return u(e,t,n)})}var i=n(484),o=n(291),a=n(1096),s=n(1104),l=n(488),u=n(1109),c=n(210);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(486);e.exports=r},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(210),o=n(1150),a=n(1154);e.exports=r},function(e,t,n){var r=n(1162),i=n(1114),o=n(210),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var i=n(150),o=n(484),a=n(77),s=n(155),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,a=i(e),s=void 0!==t,l=null===t,u=t===t,c=i(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}var i=n(155);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++r<s;){var u=i(o[r],a[r]);if(u){if(r>=l)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}var i=n(1108);e.exports=r},function(e,t,n){var r=n(76),i=r["__core-js_shared__"];e.exports=i},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(152);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}e.exports=n},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!o(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,r);return u>-1?s[l?t[u]:u]:void 0}}var i=n(291),o=n(152),a=n(211);e.exports=r},function(e,t,n){var r=n(97),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function r(e,t,n,r,i,M,E){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!M(new o(e),new o(t)));case h:case d:case v:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case m:var S=l;case y:var T=r&c;if(S||(S=u),e.size!=t.size&&!T)return!1;var A=E.get(e);if(A)return A==t;r|=f,E.set(e,t);var C=s(S(e),S(t),r,i,M,E);return E.delete(e),C;case x:if(k)return k.call(e)==k.call(t)}return!1}var i=n(150),o=n(1077),a=n(294),s=n(490),l=n(1144),u=n(1153),c=1,f=2,h="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",M=i?i.prototype:void 0,k=M?M.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,l){var u=n&o,c=i(e),f=c.length;if(f!=i(t).length&&!u)return!1;for(var h=f;h--;){var d=c[h];if(!(u?d in t:s.call(t,d)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++h<f;){d=c[h];var g=e[d],y=t[d];if(r)var b=u?r(y,g,d,t,e,l):r(g,y,d,e,t,l);if(!(void 0===b?g===y||a(g,y,n,r,l):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return l.delete(e),l.delete(t),m}var i=n(1117),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e,a,o)}var i=n(1088),o=n(1120),a=n(211);e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(492),o=n(211);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i}var i=n(150),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(1080),i=n(1170),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=l},function(e,t,n){var r=n(1072),i=n(289),o=n(1074),a=n(1075),s=n(1078),l=n(151),u=n(494),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,c=t.length,f=!1;++r<c;){var h=u(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=c?f:!!(c=null==e?0:e.length)&&l(c)&&s(h,c)&&(a(e)||o(e))}var i=n(489),o=n(295),a=n(77),s=n(292),l=n(296),u=n(209);e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(208);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(208),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(208),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(208),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(150),o=n(295),a=n(77),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(294),o=n(152),a=n(292),s=n(153);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var i=n(1110),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(206),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(206);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(206);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(206);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(1073),o=n(205),a=n(289);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(207);e.exports=r},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(207);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(207);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(207);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(1167),o=500;e.exports=r},function(e,t,n){var r=n(1149),i=r(Object.keys,Object);e.exports=i},function(e,t,n){(function(e){var r=n(491),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(61)(e))},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),l=Array(s);++a<s;)l[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(l),i(e,this,u)}}var i=n(1079),o=Math.max;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(1103),i=n(1155),o=i(r);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(205);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(205),o=n(289),a=n(290),s=200;e.exports=r},function(e,t,n){var r=n(1145),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(e){var t=[];return i.test(e)&&t.push(""),e.replace(o,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){var r=n(1113),i=n(1164),o=r(i);e.exports=o},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=null==n?0:a(n);return l<0&&(l=s(r+l,0)),i(e,o(t,3),l)}var i=n(1084),o=n(291),a=n(1173),s=Math.max;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(486);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(1089),o=n(1123);e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(290),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(1100),o=n(1101),a=n(293),s=n(209);e.exports=r},function(e,t,n){var r=n(1085),i=n(1099),o=n(1102),a=n(1130),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t){function n(){return[]}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===o||e===-o){return(e<0?-1:1)*a}return e===e?e:0}var i=n(1174),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(1172);e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):l.test(e)?a:+e}var i=n(153),o=n(155),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(1106);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n;if(f(e)){var l,u=e.stops&&"object"===typeof e.stops[0][0],c=u||void 0!==e.property,h=u||!c,d=e.type||t||"exponential";if("exponential"===d)l=a;else if("interval"===d)l=o;else if("categorical"===d)l=i;else{if("identity"!==d)throw new Error('Unknown function type "'+d+'"');l=s}if(u){for(var p={},m=[],v=0;v<e.stops.length;v++){var g=e.stops[v];void 0===p[g[0].zoom]&&(p[g[0].zoom]={zoom:g[0].zoom,type:e.type,property:e.property,stops:[]}),p[g[0].zoom].stops.push([g[0].value,g[1]])}for(var y in p)m.push([p[y].zoom,r(p[y])]);n=function(t,n){return a({stops:m,base:e.base},t)(t,n)},n.isFeatureConstant=!1,n.isZoomConstant=!1}else h?(n=function(t){return l(e,t)},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(t,n){return l(e,n[e.property])},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return e},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function i(e,t){for(var n=0;n<e.stops.length;n++)if(t===e.stops[n][0])return e.stops[n][1];return e.stops[0][1]}function o(e,t){for(var n=0;n<e.stops.length&&!(t<e.stops[n][0]);n++);return e.stops[Math.max(n-1,0)][1]}function a(e,t){for(var n=void 0!==e.base?e.base:1,r=0;;){if(r>=e.stops.length)break;if(t<=e.stops[r][0])break;r++}return 0===r?e.stops[r][1]:r===e.stops.length?e.stops[r-1][1]:l(t,n,e.stops[r-1][0],e.stops[r][0],e.stops[r-1][1],e.stops[r][1])}function s(e,t){return t}function l(e,t,n,r,i,o){return"function"===typeof i?function(){var a=i.apply(void 0,arguments),s=o.apply(void 0,arguments);return l(e,t,n,r,a,s)}:i.length?c(e,t,n,r,i,o):u(e,t,n,r,i,o)}function u(e,t,n,r,i,o){var a,s=r-n,l=e-n;return a=1===t?l/s:(Math.pow(t,l)-1)/(Math.pow(t,s)-1),i*(1-a)+o*a}function c(e,t,n,r,i,o){for(var a=[],s=0;s<i.length;s++)a[s]=u(e,t,n,r,i[s],o[s]);return a}function f(e){return"object"===typeof e&&(e.stops||"identity"===e.type)}e.exports.isFunctionDefinition=f,e.exports.interpolated=function(e){return r(e,"exponential")},e.exports["piecewise-constant"]=function(e){return r(e,"interval")}},function(e,t,n){n(761);e.exports={debug:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    float t = smoothstep(1.0 - max(blur, v_antialiasblur), 1.0, length(v_extrude));\n    gl_FragColor = color * (1.0 - t) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\nuniform float u_devicepixelratio;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / u_devicepixelratio / radius;\n}\n"},line:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform float u_blur;\n\nvarying vec2 v_linewidth;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\nuniform mediump float u_blur;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\n\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},outlinepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    \n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},pattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n}\n"},raster:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},sdf:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nconst float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = (gl_Position.w - 0.5);\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},collisionbox:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"}},e.exports.util="float evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n"},function(e,t,n){"use strict";var r=n(63),i=n(36);e.exports=function(e){var t=e.value,n=e.key,o=r(t);return"boolean"!==o?[new i(n,t,"boolean expected, %s found",o)]:[]}},function(e,t,n){"use strict";var r=n(36),i=n(63),o=n(446).parseCSSColor;e.exports=function(e){var t=e.key,n=e.value,a=i(n);return"string"!==a?[new r(t,n,"color expected, %s found",a)]:null===o(n)?[new r(t,n,'color expected, "%s" found',n)]:[]}},function(e,t,n){"use strict";var r=n(36),i=n(507);e.exports=function(e){var t=e.value,n=e.key,o=i(e);return o.length?o:(-1===t.indexOf("{fontstack}")&&o.push(new r(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&o.push(new r(n,t,'"glyphs" url must include a "{range}" token')),o)}},function(e,t,n){"use strict";function r(e,t){t=t||l;var n=[];return n=n.concat(s({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:u}})),t.$version>7&&e.constants&&(n=n.concat(a({key:"constants",value:e.constants,style:e,styleSpec:t}))),i(n)}function i(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function o(e){return function(){return i(e.apply(this,arguments))}}var a=n(500),s=n(122),l=n(508),u=n(1180);r.source=o(n(506)),r.layer=o(n(502)),r.filter=o(n(298)),r.paintProperty=o(n(505)),r.layoutProperty=o(n(503)),e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.layoutVertexArrayType;this.layoutVertexArray=new t;var n=e.elementArrayType;n&&(this.elementArray=new n);var r=e.elementArrayType2;r&&(this.elementArray2=new r),this.paintVertexArrays=i.mapObject(e.paintVertexArrayTypes,function(e){return new e})}var i=n(1);e.exports=r,r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,r.prototype.hasCapacityFor=function(e){return this.layoutVertexArray.length+e<=r.MAX_VERTEX_ARRAY_LENGTH},r.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},r.prototype.trim=function(){this.layoutVertexArray.trim(),this.elementArray&&this.elementArray.trim(),this.elementArray2&&this.elementArray2.trim();for(var e in this.paintVertexArrays)this.paintVertexArrays[e].trim()},r.prototype.serialize=function(){return{layoutVertexArray:this.layoutVertexArray.serialize(),elementArray:this.elementArray&&this.elementArray.serialize(),elementArray2:this.elementArray2&&this.elementArray2.serialize(),paintVertexArrays:i.mapObject(this.paintVertexArrays,function(e){return e.serialize()})}},r.prototype.getTransferables=function(e){e.push(this.layoutVertexArray.arrayBuffer),this.elementArray&&e.push(this.elementArray.arrayBuffer),this.elementArray2&&e.push(this.elementArray2.arrayBuffer);for(var t in this.paintVertexArrays)e.push(this.paintVertexArrays[t].arrayBuffer)}},function(e,t,n){"use strict";function r(){i.apply(this,arguments)}var i=n(30),o=n(1),a=n(158),s=i.EXTENT;e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.addCircleVertex=function(e,t,n,r,i){return e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)},r.prototype.programInterfaces={circle:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new i.ElementArrayType,paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(e,t,n){return e.getPaintValue("circle-color",t,n)},multiplier:255,paintProperty:"circle-color"},{name:"a_radius",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(e,t,n){return[e.getPaintValue("circle-radius",t,n)]},multiplier:10,paintProperty:"circle-radius"},{name:"a_blur",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(e,t,n){return[e.getPaintValue("circle-blur",t,n)]},multiplier:10,paintProperty:"circle-blur"},{name:"a_opacity",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(e,t,n){return[e.getPaintValue("circle-opacity",t,n)]},multiplier:255,paintProperty:"circle-opacity"}]}},r.prototype.addFeature=function(e){for(var t={zoom:this.zoom},n=a(e),r=this.prepareArrayGroup("circle",0),i=r.layoutVertexArray.length,o=0;o<n.length;o++)for(var l=0;l<n[o].length;l++){var u=n[o][l].x,c=n[o][l].y;if(!(u<0||u>=s||c<0||c>=s)){var f=this.prepareArrayGroup("circle",4),h=f.layoutVertexArray,d=this.addCircleVertex(h,u,c,-1,-1);this.addCircleVertex(h,u,c,1,-1),this.addCircleVertex(h,u,c,1,1),this.addCircleVertex(h,u,c,-1,1),f.elementArray.emplaceBack(d,d+1,d+2),f.elementArray.emplaceBack(d,d+3,d+2)}}this.populatePaintArrays("circle",t,e.properties,r,i)}},function(e,t,n){"use strict";function r(){i.apply(this,arguments)}var i=n(30),o=n(1),a=n(158),s=n(930),l=n(1248);e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.programInterfaces={fill:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new i.ElementArrayType(1),elementArrayType2:new i.ElementArrayType(2),paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(e,t,n){return e.getPaintValue("fill-color",t,n)},multiplier:255,paintProperty:"fill-color"},{name:"a_outline_color",components:4,type:"Uint8",getValue:function(e,t,n){return e.getPaintValue("fill-outline-color",t,n)},multiplier:255,paintProperty:"fill-outline-color"},{name:"a_opacity",components:1,type:"Uint8",getValue:function(e,t,n){return[e.getPaintValue("fill-opacity",t,n)]},multiplier:255,paintProperty:"fill-opacity"}]}},r.prototype.addFeature=function(e){for(var t=a(e),n=l(t,500),r=this.prepareArrayGroup("fill",0),i=r.layoutVertexArray.length,o=0;o<n.length;o++)this.addPolygon(n[o]);this.populatePaintArrays("fill",{zoom:this.zoom},e.properties,r,i)},r.prototype.addPolygon=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].length;for(var r=this.prepareArrayGroup("fill",t),i=[],o=[],a=r.layoutVertexArray.length,l=0;l<e.length;l++){var u=e[l];l>0&&o.push(i.length/2);for(var c=0;c<u.length;c++){var f=u[c],h=r.layoutVertexArray.emplaceBack(f.x,f.y);c>=1&&r.elementArray2.emplaceBack(h-1,h),i.push(f.x),i.push(f.y)}}for(var d=s(i,o),p=0;p<d.length;p++)r.elementArray.emplaceBack(d[p]+a)}},function(e,t,n){"use strict";function r(){i.apply(this,arguments)}var i=n(30),o=n(1),a=n(158),s=i.EXTENT,l=Math.cos(Math.PI/180*37.5),u=Math.pow(2,14)/.5;e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.addLineVertex=function(e,t,n,r,i,o,a){return e.emplaceBack(t.x<<1|r,t.y<<1|i,Math.round(63*n.x)+128,Math.round(63*n.y)+128,1+(0===o?0:o<0?-1:1)|(.5*a&63)<<2,.5*a>>6)},r.prototype.programInterfaces={line:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),elementArrayType:new i.ElementArrayType}},r.prototype.addFeature=function(e){for(var t=a(e,15),n=0;n<t.length;n++)this.addLine(t[n],this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},r.prototype.addLine=function(e,t,n,r,i){for(var o=e.length;o>2&&e[o-1].equals(e[o-2]);)o--;if(!(e.length<2)){"bevel"===t&&(r=1.05);var a=s/(512*this.overscaling)*15,u=e[0],c=e[o-1],f=u.equals(c);if(this.prepareArrayGroup("line",10*o),2!==o||!f){this.distance=0;var h,d,p,m,v,g,y,b=n,x=f?"butt":n,_=!0;this.e1=this.e2=this.e3=-1,f&&(h=e[o-2],v=u.sub(h)._unit()._perp());for(var w=0;w<o;w++)if(!(p=f&&w===o-1?e[1]:e[w+1])||!e[w].equals(p)){v&&(m=v),h&&(d=h),h=e[w],v=p?p.sub(h)._unit()._perp():m,m=m||v;var M=m.add(v)._unit(),k=M.x*v.x+M.y*v.y,E=1/k,S=k<l&&d&&p;if(S&&w>0){var T=h.dist(d);if(T>2*a){var A=h.sub(h.sub(d)._mult(a/T)._round());this.distance+=A.dist(d),this.addCurrentVertex(A,this.distance,m.mult(1),0,0,!1),d=A}}var C=d&&p,D=C?t:p?b:x;if(C&&"round"===D&&(E<i?D="miter":E<=2&&(D="fakeround")),"miter"===D&&E>r&&(D="bevel"),"bevel"===D&&(E>2&&(D="flipbevel"),E<r&&(D="miter")),d&&(this.distance+=h.dist(d)),"miter"===D)M._mult(E),this.addCurrentVertex(h,this.distance,M,0,0,!1);else if("flipbevel"===D){if(E>100)M=v.clone();else{var O=m.x*v.y-m.y*v.x>0?-1:1,P=E*m.add(v).mag()/m.sub(v).mag();M._perp()._mult(P*O)}this.addCurrentVertex(h,this.distance,M,0,0,!1),this.addCurrentVertex(h,this.distance,M.mult(-1),0,0,!1)}else if("bevel"===D||"fakeround"===D){var L=m.x*v.y-m.y*v.x>0,I=-Math.sqrt(E*E-1);if(L?(y=0,g=I):(g=0,y=I),_||this.addCurrentVertex(h,this.distance,m,g,y,!1),"fakeround"===D){for(var N,R=Math.floor(8*(.5-(k-.5))),j=0;j<R;j++)N=v.mult((j+1)/(R+1))._add(m)._unit(),this.addPieSliceVertex(h,this.distance,N,L);this.addPieSliceVertex(h,this.distance,M,L);for(var z=R-1;z>=0;z--)N=m.mult((z+1)/(R+1))._add(v)._unit(),this.addPieSliceVertex(h,this.distance,N,L)}p&&this.addCurrentVertex(h,this.distance,v,-g,-y,!1)}else"butt"===D?(_||this.addCurrentVertex(h,this.distance,m,0,0,!1),p&&this.addCurrentVertex(h,this.distance,v,0,0,!1)):"square"===D?(_||(this.addCurrentVertex(h,this.distance,m,1,1,!1),this.e1=this.e2=-1),p&&this.addCurrentVertex(h,this.distance,v,-1,-1,!1)):"round"===D&&(_||(this.addCurrentVertex(h,this.distance,m,0,0,!1),this.addCurrentVertex(h,this.distance,m,1,1,!0),this.e1=this.e2=-1),p&&(this.addCurrentVertex(h,this.distance,v,-1,-1,!0),this.addCurrentVertex(h,this.distance,v,0,0,!1)));if(S&&w<o-1){var F=h.dist(p);if(F>2*a){var B=h.add(p.sub(h)._mult(a/F)._round());this.distance+=B.dist(h),this.addCurrentVertex(B,this.distance,v.mult(1),0,0,!1),h=B}}_=!1}}}},r.prototype.addCurrentVertex=function(e,t,n,r,i,o){var a,s=o?1:0,l=this.arrayGroups.line[this.arrayGroups.line.length-1],c=l.layoutVertexArray,f=l.elementArray;a=n.clone(),r&&a._sub(n.perp()._mult(r)),this.e3=this.addLineVertex(c,e,a,s,0,r,t),this.e1>=0&&this.e2>=0&&f.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,a=n.mult(-1),i&&a._sub(n.perp()._mult(i)),this.e3=this.addLineVertex(c,e,a,s,1,-i,t),this.e1>=0&&this.e2>=0&&f.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,t>u/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,r,i,o))},r.prototype.addPieSliceVertex=function(e,t,n,r){var i=r?1:0;n=n.mult(r?-1:1);var o=this.arrayGroups.line[this.arrayGroups.line.length-1],a=o.layoutVertexArray,s=o.elementArray;this.e3=this.addLineVertex(a,e,n,0,i,0,t),this.e1>=0&&this.e2>=0&&s.emplaceBack(this.e1,this.e2,this.e3),r?this.e2=this.e3:this.e1=this.e3}},function(e,t,n){"use strict";function r(e){a.apply(this,arguments),this.showCollisionBoxes=e.showCollisionBoxes,this.overscaling=e.overscaling,this.collisionBoxArray=e.collisionBoxArray,this.symbolQuadsArray=e.symbolQuadsArray,this.symbolInstancesArray=e.symbolInstancesArray,this.sdfIcons=e.sdfIcons,this.iconsNeedLinear=e.iconsNeedLinear,this.adjustedTextSize=e.adjustedTextSize,this.adjustedIconSize=e.adjustedIconSize,this.fontstack=e.fontstack}function i(e,t,n,r,i,o,a,s,l,u,c){return e.emplaceBack(t,n,Math.round(64*r),Math.round(64*i),o/4,a/4,10*(u||0),c,10*(s||0),10*Math.min(l||25,25))}var o=n(22),a=n(30),s=n(522),l=n(1224),u=n(532),c=n(525),f=n(1229),h=n(1228),d=n(1227),p=n(1222),m=n(1),v=n(158),g=n(1223),y=f.shapeText,b=f.shapeIcon,x=c.getGlyphQuads,_=c.getIconQuads,w=a.EXTENT;e.exports=r,r.MAX_QUADS=65535,r.prototype=m.inherit(a,{}),r.prototype.serialize=function(){var e=a.prototype.serialize.apply(this);return e.sdfIcons=this.sdfIcons,e.iconsNeedLinear=this.iconsNeedLinear,e.adjustedTextSize=this.adjustedTextSize,e.adjustedIconSize=this.adjustedIconSize,e.fontstack=this.fontstack,e};var M=new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),k=new a.ElementArrayType;r.prototype.addCollisionBoxVertex=function(e,t,n,r,i){return e.emplaceBack(t.x,t.y,Math.round(n.x),Math.round(n.y),10*r,10*i)},r.prototype.programInterfaces={glyph:{layoutVertexArrayType:M,elementArrayType:k},icon:{layoutVertexArrayType:M,elementArrayType:k},collisionBox:{layoutVertexArrayType:new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}])}},r.prototype.populateArrays=function(e,t,n){var r={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",{zoom:18,zoomHistory:r}),this.adjustedTextSize=this.layer.getLayoutValue("text-size",{zoom:this.zoom+1,zoomHistory:r}),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",{zoom:18,zoomHistory:r}),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",{zoom:this.zoom+1,zoomHistory:r});var i=512*this.overscaling;this.tilePixelRatio=w/i,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var o=this.layer.layout,a=this.features,s=this.textFeatures,l=.5,c=.5;switch(o["text-anchor"]){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(o["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}for(var f="right"===o["text-justify"]?1:"left"===o["text-justify"]?0:.5,h=24*o["text-line-height"],p="line"!==o["symbol-placement"]?24*o["text-max-width"]:0,g=24*o["text-letter-spacing"],x=[24*o["text-offset"][0],24*o["text-offset"][1]],_=this.fontstack=o["text-font"].join(","),M=[],k=0;k<a.length;k++)M.push(v(a[k]));if("line"===o["symbol-placement"]){var E=d(a,s,M);M=E.geometries,a=E.features,s=E.textFeatures}for(var S,T,A=0;A<a.length;A++)if(M[A]){if(S=s[A]?y(s[A],t[_],p,h,l,c,f,g,x):null,o["icon-image"]){var C=u(a[A].properties,o["icon-image"]),D=n[C];T=b(D,o),D&&(void 0===this.sdfIcons?this.sdfIcons=D.sdf:this.sdfIcons!==D.sdf&&m.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==D.pixelRatio?this.iconsNeedLinear=!0:0===o["icon-rotate"]&&this.layer.isLayoutValueFeatureConstant("icon-rotate")||(this.iconsNeedLinear=!0))}else T=null;(S||T)&&this.addFeature(M[A],S,T,a[A])}this.symbolInstancesEndIndex=this.symbolInstancesArray.length,this.placeFeatures(e,this.showCollisionBoxes),this.trimArrays()},r.prototype.addFeature=function(e,t,n,r){var i=this.layer.layout,o=this.adjustedTextSize/24,a=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,u=this.tilePixelRatio*o,c=this.tilePixelRatio*a/24,f=this.tilePixelRatio*this.adjustedIconSize,h=this.tilePixelRatio*i["symbol-spacing"],d=i["symbol-avoid-edges"],m=i["text-padding"]*this.tilePixelRatio,v=i["icon-padding"]*this.tilePixelRatio,g=i["text-max-angle"]/180*Math.PI,y="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],b="map"===i["icon-rotation-alignment"]&&"line"===i["symbol-placement"],x=i["text-allow-overlap"]||i["icon-allow-overlap"]||i["text-ignore-placement"]||i["icon-ignore-placement"],_="line"===i["symbol-placement"],M=h/2;_&&(e=p(e,0,0,w,w));for(var k=0;k<e.length;k++){var E,S=e[k];E=_?l(S,h,g,t,n,24,c,this.overscaling,w):[new s(S[0].x,S[0].y,0)];for(var T=0,A=E.length;T<A;T++){var C=E[T];if(!(t&&_&&this.anchorIsTooClose(t.text,M,C))){var D=!(C.x<0||C.x>w||C.y<0||C.y>w);if(!d||D){var O=D||x;this.addSymbolInstance(C,S,t,n,this.layer,O,this.symbolInstancesArray.length,this.collisionBoxArray,r.index,this.sourceLayerIndex,this.index,u,m,y,f,v,b,{zoom:this.zoom},r.properties)}}}}},r.prototype.anchorIsTooClose=function(e,t,n){var r=this.compareText;if(e in r){for(var i=r[e],o=i.length-1;o>=0;o--)if(n.dist(i[o])<t)return!0}else r[e]=[];return r[e].push(n),!1},r.prototype.placeFeatures=function(e,t){this.recalculateStyleLayers(),this.createArrays();var n=this.layer.layout,r=e.maxScale,i="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],o="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"];if(n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"]){var a=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),s=e.angle,l=Math.sin(s),u=Math.cos(s);this.sortedSymbolInstances=a.sort(function(e,t){return(l*e.anchorPointX+u*e.anchorPointY|0)-(l*t.anchorPointX+u*t.anchorPointY|0)||t.index-e.index})}for(var c=this.symbolInstancesStartIndex;c<this.symbolInstancesEndIndex;c++){var f=this.sortedSymbolInstances?this.sortedSymbolInstances[c-this.symbolInstancesStartIndex]:this.symbolInstancesArray.get(c),h={boxStartIndex:f.textBoxStartIndex,boxEndIndex:f.textBoxEndIndex},d={boxStartIndex:f.iconBoxStartIndex,boxEndIndex:f.iconBoxEndIndex},p=!(f.textBoxStartIndex===f.textBoxEndIndex),m=!(f.iconBoxStartIndex===f.iconBoxEndIndex),v=n["text-optional"]||!p,g=n["icon-optional"]||!m,y=p?e.placeCollisionFeature(h,n["text-allow-overlap"],n["symbol-avoid-edges"]):e.minScale,b=m?e.placeCollisionFeature(d,n["icon-allow-overlap"],n["symbol-avoid-edges"]):e.minScale;v||g?!g&&y?y=Math.max(b,y):!v&&b&&(b=Math.max(b,y)):b=y=Math.max(b,y),p&&(e.insertCollisionFeature(h,y,n["text-ignore-placement"]),y<=r&&this.addSymbols("glyph",f.glyphQuadStartIndex,f.glyphQuadEndIndex,y,n["text-keep-upright"],i,e.angle)),m&&(e.insertCollisionFeature(d,b,n["icon-ignore-placement"]),b<=r&&this.addSymbols("icon",f.iconQuadStartIndex,f.iconQuadEndIndex,b,n["icon-keep-upright"],o,e.angle))}t&&this.addToDebugBuffers(e)},r.prototype.addSymbols=function(e,t,n,r,o,a,s){for(var l=this.prepareArrayGroup(e,4*(n-t)),u=l.elementArray,c=l.layoutVertexArray,f=this.zoom,h=Math.max(Math.log(r)/Math.LN2+f,0),d=t;d<n;d++){var p=this.symbolQuadsArray.get(d).SymbolQuad,m=(p.anchorAngle+s+Math.PI)%(2*Math.PI);if(!(o&&a&&(m<=Math.PI/2||m>3*Math.PI/2))){var v=p.tl,g=p.tr,y=p.bl,b=p.br,x=p.tex,_=p.anchorPoint,w=Math.max(f+Math.log(p.minScale)/Math.LN2,h),M=Math.min(f+Math.log(p.maxScale)/Math.LN2,25);if(!(M<=w)){w===h&&(w=0);var k=Math.round(p.glyphAngle/(2*Math.PI)*256),E=i(c,_.x,_.y,v.x,v.y,x.x,x.y,w,M,h,k);i(c,_.x,_.y,g.x,g.y,x.x+x.w,x.y,w,M,h,k),i(c,_.x,_.y,y.x,y.y,x.x,x.y+x.h,w,M,h,k),i(c,_.x,_.y,b.x,b.y,x.x+x.w,x.y+x.h,w,M,h,k),u.emplaceBack(E,E+1,E+2),u.emplaceBack(E+1,E+2,E+3)}}}},r.prototype.updateIcons=function(e){this.recalculateStyleLayers();var t=this.layer.layout["icon-image"];if(t)for(var n=0;n<this.features.length;n++){var r=u(this.features[n].properties,t);r&&(e[r]=!0)}},r.prototype.updateFont=function(e){this.recalculateStyleLayers();var t=this.layer.layout["text-font"],n=e[t]=e[t]||{};this.textFeatures=h(this.features,this.layer.layout,n)},r.prototype.addToDebugBuffers=function(e){for(var t=this.prepareArrayGroup("collisionBox",0),n=t.layoutVertexArray,r=-e.angle,i=e.yStretch,a=this.symbolInstancesStartIndex;a<this.symbolInstancesEndIndex;a++){var s=this.symbolInstancesArray.get(a);s.textCollisionFeature={boxStartIndex:s.textBoxStartIndex,boxEndIndex:s.textBoxEndIndex},s.iconCollisionFeature={boxStartIndex:s.iconBoxStartIndex,boxEndIndex:s.iconBoxEndIndex};for(var l=0;l<2;l++){var u=s[0===l?"textCollisionFeature":"iconCollisionFeature"];if(u)for(var c=u.boxStartIndex;c<u.boxEndIndex;c++){var f=this.collisionBoxArray.get(c),h=f.anchorPoint,d=new o(f.x1,f.y1*i)._rotate(r),p=new o(f.x2,f.y1*i)._rotate(r),m=new o(f.x1,f.y2*i)._rotate(r),v=new o(f.x2,f.y2*i)._rotate(r),g=Math.max(0,Math.min(25,this.zoom+Math.log(f.maxScale)/Math.LN2)),y=Math.max(0,Math.min(25,this.zoom+Math.log(f.placementScale)/Math.LN2));this.addCollisionBoxVertex(n,h,d,g,y),this.addCollisionBoxVertex(n,h,p,g,y),this.addCollisionBoxVertex(n,h,p,g,y),this.addCollisionBoxVertex(n,h,v,g,y),this.addCollisionBoxVertex(n,h,v,g,y),this.addCollisionBoxVertex(n,h,m,g,y),this.addCollisionBoxVertex(n,h,m,g,y),this.addCollisionBoxVertex(n,h,d,g,y)}}}},r.prototype.addSymbolInstance=function(e,t,n,i,o,a,s,l,u,c,f,h,d,p,v,y,b,w,M){var k,E,S,T,A,C,D,O;if(n&&(D=a?x(e,n,h,t,o,p):[],A=new g(l,t,e,u,c,f,n,h,d,p,!1)),k=this.symbolQuadsArray.length,D&&D.length)for(var P=0;P<D.length;P++)this.addSymbolQuad(D[P]);E=this.symbolQuadsArray.length;var L=A?A.boxStartIndex:this.collisionBoxArray.length,I=A?A.boxEndIndex:this.collisionBoxArray.length;i&&(O=a?_(e,i,v,t,o,b,n,w,M):[],C=new g(l,t,e,u,c,f,i,v,y,b,!0)),S=this.symbolQuadsArray.length,O&&1===O.length&&this.addSymbolQuad(O[0]),T=this.symbolQuadsArray.length;var N=C?C.boxStartIndex:this.collisionBoxArray.length,R=C?C.boxEndIndex:this.collisionBoxArray.length;return T>r.MAX_QUADS&&m.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),E>r.MAX_QUADS&&m.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),this.symbolInstancesArray.emplaceBack(L,I,N,R,k,E,S,T,e.x,e.y,s)},r.prototype.addSymbolQuad=function(e){return this.symbolQuadsArray.emplaceBack(e.anchorPoint.x,e.anchorPoint.y,e.tl.x,e.tl.y,e.tr.x,e.tr.y,e.bl.x,e.bl.y,e.br.x,e.br.y,e.tex.h,e.tex.w,e.tex.x,e.tex.y,e.anchorAngle,e.glyphAngle,e.maxScale,e.minScale)}},function(e,t,n){"use strict";function r(e,t){this.layoutVertexBuffer=new o(e.layoutVertexArray,t.layoutVertexArrayType,o.BufferType.VERTEX),e.elementArray&&(this.elementBuffer=new o(e.elementArray,t.elementArrayType,o.BufferType.ELEMENT));var n,r=this.vaos={};e.elementArray2&&(this.elementBuffer2=new o(e.elementArray2,t.elementArrayType2,o.BufferType.ELEMENT),n=this.secondVaos={}),this.paintVertexBuffers=i.mapObject(e.paintVertexArrays,function(i,s){return r[s]=new a,e.elementArray2&&(n[s]=new a),new o(i,t.paintVertexArrayTypes[s],o.BufferType.VERTEX)})}var i=n(1),o=n(157),a=n(159);e.exports=r,r.prototype.destroy=function(e){this.layoutVertexBuffer.destroy(e),this.elementBuffer&&this.elementBuffer.destroy(e),this.elementBuffer2&&this.elementBuffer2.destroy(e);for(var t in this.paintVertexBuffers)this.paintVertexBuffers[t].destroy(e);for(var n in this.vaos)this.vaos[n].destroy(e);for(var r in this.secondVaos)this.secondVaos[r].destroy(e)}},function(e,t,n){"use strict";function r(e,t){this.tileSize=512,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new i(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var i=n(78),o=n(22),a=n(213),s=n(1).wrap,l=n(217),u=n(161),c=n(30).EXTENT,f=n(196),h=f.vec4,d=f.mat4,p=f.mat2;e.exports=r,r.prototype={get minZoom(){return this._minZoom},set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},get maxZoom(){return this._maxZoom},set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(e){var t=-s(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(e){var t=Math.min(60,e)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},get altitude(){return this._altitude},set altitude(e){var t=Math.max(.75,e);this._altitude!==t&&(this._unmodified=!1,this._altitude=t,this._calcMatrices())},get zoom(){return this._zoom},set zoom(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._calcMatrices(),this._constrain())},get center(){return this._center},set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._calcMatrices(),this._constrain())},coveringZoomLevel:function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},coveringTiles:function(e){var t=this.coveringZoomLevel(e),n=t;if(t<e.minzoom)return[];t>e.maxzoom&&(t=e.maxzoom);var r=this,i=r.locationCoordinate(r.center)._zoomTo(t),a=new o(i.column-.5,i.row-.5);return u.cover(t,[r.pointCoordinate(new o(0,0))._zoomTo(t),r.pointCoordinate(new o(r.width,0))._zoomTo(t),r.pointCoordinate(new o(r.width,r.height))._zoomTo(t),r.pointCoordinate(new o(0,r.height))._zoomTo(t)],e.reparseOverscaled?n:t).sort(function(e,t){return a.dist(e)-a.dist(t)})},resize:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._calcMatrices(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(e){return Math.pow(2,e)},scaleZoom:function(e){return Math.log(e)/Math.LN2},project:function(e,t){return new o(this.lngX(e.lng,t),this.latY(e.lat,t))},unproject:function(e,t){return new i(this.xLng(e.x,t),this.yLat(e.y,t))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(e,t){return(180+e)*(t||this.worldSize)/360},latY:function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},xLng:function(e,t){return 360*e/(t||this.worldSize)-180},yLat:function(e,t){var n=180-360*e/(t||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(e){var t=this.centerPoint._add(e);this.center=this.pointLocation(t)},setLocationAtPoint:function(e,t){var n=this.locationCoordinate(e),r=this.pointCoordinate(t),i=this.pointCoordinate(this.centerPoint),o=r._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(i._sub(o))},locationPoint:function(e){return this.coordinatePoint(this.locationCoordinate(e))},pointLocation:function(e){return this.coordinateLocation(this.pointCoordinate(e))},locationCoordinate:function(e){var t=this.zoomScale(this.tileZoom)/this.worldSize,n=i.convert(e);return new a(this.lngX(n.lng)*t,this.latY(n.lat)*t,this.tileZoom)},coordinateLocation:function(e){var t=this.zoomScale(e.zoom);return new i(this.xLng(e.column,t),this.yLat(e.row,t))},pointCoordinate:function(e){var t=[e.x,e.y,0,1],n=[e.x,e.y,1,1];h.transformMat4(t,t,this.pixelMatrixInverse),h.transformMat4(n,n,this.pixelMatrixInverse);var r=t[3],i=n[3],o=t[0]/r,s=n[0]/i,u=t[1]/r,c=n[1]/i,f=t[2]/r,d=n[2]/i,p=f===d?0:(0-f)/(d-f),m=this.worldSize/this.zoomScale(this.tileZoom);return new a(l(o,s,p)/m,l(u,c,p)/m,this.tileZoom)},coordinatePoint:function(e){var t=this.worldSize/this.zoomScale(e.zoom),n=[e.column*t,e.row*t,0,1];return h.transformMat4(n,n,this.pixelMatrix),new o(n[0]/n[3],n[1]/n[3])},calculatePosMatrix:function(e,t){void 0===t&&(t=1/0),e instanceof u&&(e=e.toCoordinate(t));var n=Math.min(e.zoom,t),r=this.worldSize/Math.pow(2,n),i=new Float64Array(16);return d.identity(i),d.translate(i,i,[e.column*r,e.row*r,0]),d.scale(i,i,[r/c,r/c,1]),d.multiply(i,this.projMatrix,i),new Float32Array(i)},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,n,r,i,a,s,l,u=this.size,c=this._unmodified;this.latRange&&(e=this.latY(this.latRange[1]),t=this.latY(this.latRange[0]),i=t-e<u.y?u.y/(t-e):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),a=r-n<u.x?u.x/(r-n):0);var f=Math.max(a||0,i||0);if(f)return this.center=this.unproject(new o(a?(r+n)/2:this.x,i?(t+e)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var h=this.y,d=u.y/2;h-d<e&&(l=e+d),h+d>t&&(l=t-d)}if(this.lngRange){var p=this.x,m=u.x/2;p-m<n&&(s=n+m),p+m>r&&(s=r-m)}void 0===s&&void 0===l||(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==l?l:this.y))),this._unmodified=c,this._constraining=!1}},_calcMatrices:function(){if(this.height){var e=Math.atan(.5/this.altitude),t=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),n=Math.cos(Math.PI/2-this._pitch)*t+this.altitude,r=new Float64Array(16);if(d.perspective(r,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),d.translate(r,r,[0,0,-this.altitude]),d.scale(r,r,[1,-1,1/this.height]),d.rotateX(r,r,this._pitch),d.rotateZ(r,r,this.angle),d.translate(r,r,[-this.x,-this.y,0]),this.projMatrix=r,r=d.create(),d.scale(r,r,[this.width/2,-this.height/2,1]),d.translate(r,r,[1,-1,0]),this.pixelMatrix=d.multiply(new Float64Array(16),r,this.projMatrix),!(r=d.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=r}}}},function(e,t,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(e,t,n,i){i=i||1;var o,a,s,l,u,c,f,h,d=[];for(o=0,a=e.length;o<a;o++)if(u=r[e[o]]){for(h=null,s=0,l=u[1].length;s<l;s+=2)-1===u[1][s]&&-1===u[1][s+1]?h=null:(c=t+u[1][s]*i,f=n-u[1][s+1]*i,h&&d.push(h.x,h.y,c,f),h={x:c,y:f});t+=u[0]*i}return d}},function(e,t,n){"use strict";function r(e,t,n){var r,s=e.gl,l=e.transform,u=n.paint["background-color"],c=n.paint["background-pattern"],f=n.paint["background-opacity"],h=c?e.spriteAtlas.getPosition(c.from,!0):null,d=c?e.spriteAtlas.getPosition(c.to,!0):null;if(e.setDepthSublayer(0),h&&d){if(e.isOpaquePass)return;r=e.useProgram("pattern"),s.uniform1i(r.u_image,0),s.uniform2fv(r.u_pattern_tl_a,h.tl),s.uniform2fv(r.u_pattern_br_a,h.br),s.uniform2fv(r.u_pattern_tl_b,d.tl),s.uniform2fv(r.u_pattern_br_b,d.br),s.uniform1f(r.u_opacity,f),s.uniform1f(r.u_mix,c.t),s.uniform2fv(r.u_pattern_size_a,h.size),s.uniform2fv(r.u_pattern_size_b,d.size),s.uniform1f(r.u_scale_a,c.fromScale),s.uniform1f(r.u_scale_b,c.toScale),s.activeTexture(s.TEXTURE0),e.spriteAtlas.bind(s,!0),e.tileExtentPatternVAO.bind(s,r,e.tileExtentBuffer)}else{if(e.isOpaquePass!==(1===u[3]))return;var p=o([{name:"u_color",components:4},{name:"u_opacity",components:1}]);r=e.useProgram("fill",[],p,p),s.uniform4fv(r.u_color,u),s.uniform1f(r.u_opacity,f),e.tileExtentVAO.bind(s,r,e.tileExtentBuffer)}s.disable(s.STENCIL_TEST);for(var m=l.coveringTiles({tileSize:a}),v=0;v<m.length;v++){var g=m[v];if(h&&d){var y={coord:g,tileSize:a};s.uniform1f(r.u_tile_units_to_pixels,1/i(y,1,e.transform.tileZoom));var b=y.tileSize*Math.pow(2,e.transform.tileZoom-y.coord.z),x=b*(y.coord.x+g.w*Math.pow(2,y.coord.z)),_=b*y.coord.y;s.uniform2f(r.u_pixel_coord_upper,x>>16,_>>16),s.uniform2f(r.u_pixel_coord_lower,65535&x,65535&_)}s.uniformMatrix4fv(r.u_matrix,!1,e.transform.calculatePosMatrix(g)),s.drawArrays(s.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}s.stencilMask(0),s.stencilFunc(s.EQUAL,128,128)}var i=n(160),o=n(512),a=512;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;e.setDepthSublayer(0),e.depthMask(!1),o.disable(o.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],l=t.getTile(s),u=l.getBucket(n);if(u){var c=u.bufferGroups.circle;if(c){var f=u.paintAttributes.circle[n.id],h=e.useProgram("circle",f.defines,f.vertexPragmas,f.fragmentPragmas);"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(h.u_scale_with_map,!0),o.uniform2f(h.u_extrude_scale,e.transform.pixelsToGLUnits[0]*e.transform.altitude,e.transform.pixelsToGLUnits[1]*e.transform.altitude)):(o.uniform1i(h.u_scale_with_map,!1),o.uniform2fv(h.u_extrude_scale,e.transform.pixelsToGLUnits)),o.uniform1f(h.u_devicepixelratio,i.devicePixelRatio),o.uniformMatrix4fv(h.u_matrix,!1,e.translatePosMatrix(s.posMatrix,l,n.paint["circle-translate"],n.paint["circle-translate-anchor"])),u.setUniforms(o,"circle",h,n,{zoom:e.transform.zoom});for(var d=0;d<c.length;d++){var p=c[d];p.vaos[n.id].bind(o,h,p.layoutVertexBuffer,p.elementBuffer,p.paintVertexBuffers[n.id]),o.drawElements(o.TRIANGLES,3*p.elementBuffer.length,o.UNSIGNED_SHORT,0)}}}}}}var i=n(37);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.gl;i.enable(i.STENCIL_TEST);for(var o=e.useProgram("collisionbox"),a=0;a<r.length;a++){var s=r[a],l=t.getTile(s),u=l.getBucket(n);if(u){var c=u.bufferGroups.collisionBox;if(c&&c.length){var f=c[0];0!==f.layoutVertexBuffer.length&&(i.uniformMatrix4fv(o.u_matrix,!1,s.posMatrix),e.enableTileClippingMask(s),e.lineWidth(1),i.uniform1f(o.u_scale,Math.pow(2,e.transform.zoom-l.coord.z)),i.uniform1f(o.u_zoom,10*e.transform.zoom),i.uniform1f(o.u_maxzoom,10*(l.coord.z+1)),f.vaos[n.id].bind(i,o,f.layoutVertexBuffer),i.drawArrays(i.LINES,0,f.layoutVertexBuffer.length))}}}}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!e.isOpaquePass&&e.options.debug)for(var r=0;r<n.length;r++)i(e,t,n[r])}function i(e,t,n){var r=e.gl;r.disable(r.STENCIL_TEST),e.lineWidth(1*a.devicePixelRatio);var i=n.posMatrix,f=e.useProgram("debug");r.uniformMatrix4fv(f.u_matrix,!1,i),r.uniform4f(f.u_color,1,0,0,1),e.debugVAO.bind(r,f,e.debugBuffer),r.drawArrays(r.LINE_STRIP,0,e.debugBuffer.length);for(var h=o(n.toString(),50,200,5),d=new e.PosArray,p=0;p<h.length;p+=2)d.emplaceBack(h[p],h[p+1]);var m=new u(d.serialize(),e.PosArray.serialize(),u.BufferType.VERTEX);(new c).bind(r,f,m),r.uniform4f(f.u_color,1,1,1,1);for(var v=t.getTile(n).tileSize,g=l/(Math.pow(2,e.transform.zoom-n.z)*v),y=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<y.length;b++){var x=y[b];r.uniformMatrix4fv(f.u_matrix,!1,s.translate([],i,[g*x[0],g*x[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(f.u_color,0,0,0,1),r.uniformMatrix4fv(f.u_matrix,!1,i),r.drawArrays(r.LINES,0,m.length)}var o=n(1189),a=n(37),s=n(196).mat4,l=n(30).EXTENT,u=n(157),c=n(159);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=e.gl;a.enable(a.STENCIL_TEST);var s;if(s=!n.paint["fill-pattern"]&&(n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"]),e.isOpaquePass===s){e.setDepthSublayer(1);for(var l=0;l<r.length;l++)i(e,t,n,r[l])}if(!e.isOpaquePass&&n.paint["fill-antialias"]){e.lineWidth(2),e.depthMask(!1);var u=n.getPaintProperty("fill-outline-color");(u||!n.paint["fill-pattern"])&&u?e.setDepthSublayer(2):e.setDepthSublayer(0);for(var c=0;c<r.length;c++)o(e,t,n,r[c])}}function i(e,t,n,r){var i=t.getTile(r),o=i.getBucket(n);if(o){var s=o.bufferGroups.fill;if(s){var l,u=e.gl,c=n.paint["fill-pattern"];if(c)l=e.useProgram("pattern"),a(c,n.paint["fill-opacity"],i,r,e,l),u.activeTexture(u.TEXTURE0),e.spriteAtlas.bind(u,!0);else{var f=o.paintAttributes.fill[n.id];l=e.useProgram("fill",f.defines,f.vertexPragmas,f.fragmentPragmas),o.setUniforms(u,"fill",l,n,{zoom:e.transform.zoom})}u.uniformMatrix4fv(l.u_matrix,!1,e.translatePosMatrix(r.posMatrix,i,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),e.enableTileClippingMask(r);for(var h=0;h<s.length;h++){var d=s[h];d.vaos[n.id].bind(u,l,d.layoutVertexBuffer,d.elementBuffer,d.paintVertexBuffers[n.id]),u.drawElements(u.TRIANGLES,d.elementBuffer.length,u.UNSIGNED_SHORT,0)}}}}function o(e,t,n,r){var i=t.getTile(r),o=i.getBucket(n);if(o){var s,l=e.gl,u=o.bufferGroups.fill,c=n.paint["fill-pattern"],f=n.paint["fill-opacity"],h=n.getPaintProperty("fill-outline-color");if(c&&!h)s=e.useProgram("outlinepattern"),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight);else{var d=o.paintAttributes.fill[n.id];s=e.useProgram("outline",d.defines,d.vertexPragmas,d.fragmentPragmas),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform1f(s.u_opacity,f),o.setUniforms(l,"fill",s,n,{zoom:e.transform.zoom})}l.uniformMatrix4fv(s.u_matrix,!1,e.translatePosMatrix(r.posMatrix,i,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),c&&a(c,f,i,r,e,s),e.enableTileClippingMask(r);for(var p=0;p<u.length;p++){var m=u[p];m.secondVaos[n.id].bind(l,s,m.layoutVertexBuffer,m.elementBuffer2,m.paintVertexBuffers[n.id]),l.drawElements(l.LINES,2*m.elementBuffer2.length,l.UNSIGNED_SHORT,0)}}}function a(e,t,n,r,i,o){var a=i.gl,l=i.spriteAtlas.getPosition(e.from,!0),u=i.spriteAtlas.getPosition(e.to,!0);if(l&&u){a.uniform1i(o.u_image,0),a.uniform2fv(o.u_pattern_tl_a,l.tl),a.uniform2fv(o.u_pattern_br_a,l.br),a.uniform2fv(o.u_pattern_tl_b,u.tl),a.uniform2fv(o.u_pattern_br_b,u.br),a.uniform1f(o.u_opacity,t),a.uniform1f(o.u_mix,e.t),a.uniform1f(o.u_tile_units_to_pixels,1/s(n,1,i.transform.tileZoom)),a.uniform2fv(o.u_pattern_size_a,l.size),a.uniform2fv(o.u_pattern_size_b,u.size),a.uniform1f(o.u_scale_a,e.fromScale),a.uniform1f(o.u_scale_b,e.toScale);var c=n.tileSize*Math.pow(2,i.transform.tileZoom-n.coord.z),f=c*(n.coord.x+r.w*Math.pow(2,n.coord.z)),h=c*n.coord.y;a.uniform2f(o.u_pixel_coord_upper,f>>16,h>>16),a.uniform2f(o.u_pixel_coord_lower,65535&f,65535&h),a.activeTexture(a.TEXTURE0),i.spriteAtlas.bind(a,!0)}}var s=n(160);e.exports=r},function(e,t,n){"use strict";var r=n(37),i=n(196).mat2,o=n(160);e.exports=function(e,t,n,a){if(!e.isOpaquePass){e.setDepthSublayer(0),e.depthMask(!1);var s=e.gl;if(s.enable(s.STENCIL_TEST),!(n.paint["line-width"]<=0)){var l=1/r.devicePixelRatio,u=n.paint["line-blur"]+l,c=n.paint["line-color"],f=e.transform,h=i.create();i.scale(h,h,[1,Math.cos(f._pitch)]),i.rotate(h,h,e.transform.angle);var d,p,m,v,g,y=Math.sqrt(f.height*f.height/4*(1+f.altitude*f.altitude)),b=f.height/2*Math.tan(f._pitch),x=(y+b)/y-1,_=n.paint["line-dasharray"],w=n.paint["line-pattern"];if(_)d=e.useProgram("linesdfpattern"),s.uniform1f(d.u_linewidth,n.paint["line-width"]/2),s.uniform1f(d.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(d.u_antialiasing,l/2),s.uniform1f(d.u_blur,u),s.uniform4fv(d.u_color,c),s.uniform1f(d.u_opacity,n.paint["line-opacity"]),p=e.lineAtlas.getDash(_.from,"round"===n.layout["line-cap"]),m=e.lineAtlas.getDash(_.to,"round"===n.layout["line-cap"]),s.uniform1i(d.u_image,0),s.activeTexture(s.TEXTURE0),e.lineAtlas.bind(s),s.uniform1f(d.u_tex_y_a,p.y),s.uniform1f(d.u_tex_y_b,m.y),s.uniform1f(d.u_mix,_.t),s.uniform1f(d.u_extra,x),s.uniform1f(d.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(d.u_antialiasingmatrix,!1,h);else if(w){if(v=e.spriteAtlas.getPosition(w.from,!0),g=e.spriteAtlas.getPosition(w.to,!0),!v||!g)return;d=e.useProgram("linepattern"),s.uniform1i(d.u_image,0),s.activeTexture(s.TEXTURE0),e.spriteAtlas.bind(s,!0),s.uniform1f(d.u_linewidth,n.paint["line-width"]/2),s.uniform1f(d.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(d.u_antialiasing,l/2),s.uniform1f(d.u_blur,u),s.uniform2fv(d.u_pattern_tl_a,v.tl),s.uniform2fv(d.u_pattern_br_a,v.br),s.uniform2fv(d.u_pattern_tl_b,g.tl),s.uniform2fv(d.u_pattern_br_b,g.br),s.uniform1f(d.u_fade,w.t),s.uniform1f(d.u_opacity,n.paint["line-opacity"]),s.uniform1f(d.u_extra,x),s.uniform1f(d.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(d.u_antialiasingmatrix,!1,h)}else d=e.useProgram("line"),s.uniform1f(d.u_linewidth,n.paint["line-width"]/2),s.uniform1f(d.u_gapwidth,n.paint["line-gap-width"]/2),s.uniform1f(d.u_antialiasing,l/2),s.uniform1f(d.u_blur,u),s.uniform1f(d.u_extra,x),s.uniform1f(d.u_offset,-n.paint["line-offset"]),s.uniformMatrix2fv(d.u_antialiasingmatrix,!1,h),s.uniform4fv(d.u_color,c),s.uniform1f(d.u_opacity,n.paint["line-opacity"]);for(var M=0;M<a.length;M++){var k=a[M],E=t.getTile(k),S=E.getBucket(n);if(S){var T=S.bufferGroups.line;if(T){e.enableTileClippingMask(k);var A=e.translatePosMatrix(k.posMatrix,E,n.paint["line-translate"],n.paint["line-translate-anchor"]);s.uniformMatrix4fv(d.u_matrix,!1,A);var C=1/o(E,1,e.transform.zoom);if(_){var D=p.width*_.fromScale,O=m.width*_.toScale,P=[1/o(E,D,e.transform.tileZoom),-p.height/2],L=[1/o(E,O,e.transform.tileZoom),-m.height/2],I=e.lineAtlas.width/(256*Math.min(D,O)*r.devicePixelRatio)/2;s.uniform1f(d.u_ratio,C),s.uniform2fv(d.u_patternscale_a,P),s.uniform2fv(d.u_patternscale_b,L),s.uniform1f(d.u_sdfgamma,I)}else w?(s.uniform1f(d.u_ratio,C),s.uniform2fv(d.u_pattern_size_a,[o(E,v.size[0]*w.fromScale,e.transform.tileZoom),g.size[1]]),s.uniform2fv(d.u_pattern_size_b,[o(E,g.size[0]*w.toScale,e.transform.tileZoom),g.size[1]])):s.uniform1f(d.u_ratio,C);for(var N=0;N<T.length;N++){var R=T[N];R.vaos[n.id].bind(s,d,R.layoutVertexBuffer,R.elementBuffer),s.drawElements(s.TRIANGLES,3*R.elementBuffer.length,s.UNSIGNED_SHORT,0)}}}}}}}},function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=e.gl;o?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),e.setDepthSublayer(0),e.depthMask(!1),a.disable(a.DEPTH_TEST),i(e,t,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),i(e,t,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),a.enable(a.DEPTH_TEST),t.map.showCollisionBoxes&&s(e,t,n,r)}}function i(e,t,n,r,i,a,s,l,u,c,f,h,d,p,m){for(var v=0;v<r.length;v++){var g=t.getTile(r[v]),y=g.getBucket(n);if(y){var b=y.bufferGroups,x=i?b.glyph:b.icon;x.length&&(e.enableTileClippingMask(r[v]),o(e,n,r[v].posMatrix,g,y,x,i,i||y.sdfIcons,!i&&y.iconsNeedLinear,i?y.adjustedTextSize:y.adjustedIconSize,y.fontstack,a,s,l,u,c,f,h,d,p,m))}}}function o(e,t,n,r,i,o,s,u,c,f,h,d,p,m,v,g,y,b,x,_,w){var M,k,E,S=e.gl,T=e.transform,A="map"===m,C="map"===v,D=s?24:1,O=g/D;if(C?(k=l(r,1,e.transform.zoom)*O,E=1/Math.cos(T._pitch),M=[k,k]):(k=e.transform.altitude*O,E=1,M=[T.pixelsToGLUnits[0]*k,T.pixelsToGLUnits[1]*k]),s||e.style.sprite.loaded()){var P=e.useProgram(u?"sdf":"icon");if(S.uniformMatrix4fv(P.u_matrix,!1,e.translatePosMatrix(n,r,d,p)),S.uniform1i(P.u_rotate_with_map,A),S.uniform1i(P.u_pitch_with_map,C),S.uniform2fv(P.u_extrude_scale,M),S.activeTexture(S.TEXTURE0),S.uniform1i(P.u_texture,0),s){var L=h&&e.glyphSource.getGlyphAtlas(h);if(!L)return;L.updateTexture(S),S.uniform2f(P.u_texsize,L.width/4,L.height/4)}else{var I=e.options.rotating||e.options.zooming,N=1!==O||a.devicePixelRatio!==e.spriteAtlas.pixelRatio||c,R=C||e.transform.pitch;e.spriteAtlas.bind(S,u||I||N||R),S.uniform2f(P.u_texsize,e.spriteAtlas.width/4,e.spriteAtlas.height/4)}var j=Math.log(g/f)/Math.LN2||0;S.uniform1f(P.u_zoom,10*(e.transform.zoom-j)),S.activeTexture(S.TEXTURE1),e.frameHistory.bind(S),S.uniform1i(P.u_fadetexture,1);var z;if(u){var F=.105*D/g/a.devicePixelRatio;if(y){S.uniform1f(P.u_gamma,(1.19*x/O/8+F)*E),S.uniform4fv(P.u_color,b),S.uniform1f(P.u_opacity,_),S.uniform1f(P.u_buffer,(6-y/O)/8);for(var B=0;B<o.length;B++)z=o[B],z.vaos[t.id].bind(S,P,z.layoutVertexBuffer,z.elementBuffer),S.drawElements(S.TRIANGLES,3*z.elementBuffer.length,S.UNSIGNED_SHORT,0)}S.uniform1f(P.u_gamma,F*E),S.uniform4fv(P.u_color,w),S.uniform1f(P.u_opacity,_),S.uniform1f(P.u_buffer,.75),S.uniform1f(P.u_pitch,T.pitch/360*2*Math.PI),S.uniform1f(P.u_bearing,T.bearing/360*2*Math.PI),S.uniform1f(P.u_aspect_ratio,T.width/T.height);for(var U=0;U<o.length;U++)z=o[U],z.vaos[t.id].bind(S,P,z.layoutVertexBuffer,z.elementBuffer),S.drawElements(S.TRIANGLES,3*z.elementBuffer.length,S.UNSIGNED_SHORT,0)}else{S.uniform1f(P.u_opacity,_);for(var V=0;V<o.length;V++)z=o[V],z.vaos[t.id].bind(S,P,z.layoutVertexBuffer,z.elementBuffer),S.drawElements(S.TRIANGLES,3*z.elementBuffer.length,S.UNSIGNED_SHORT,0)}}}var a=n(37),s=n(1192),l=n(160);e.exports=r},function(e,t,n){"use strict";function r(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.fadeDuration=300,this.previousZoom=0,this.firstFrame=!0}e.exports=r,r.prototype.record=function(e){var t=Date.now();this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var n;if(e<this.previousZoom)for(n=e+1;n<=this.previousZoom;n++)this.changeTimes[n]=t,this.changeOpacities[n]=this.opacities[n];else for(n=e;n>this.previousZoom;n--)this.changeTimes[n]=t,this.changeOpacities[n]=this.opacities[n];for(n=0;n<256;n++){var r=t-this.changeTimes[n],i=r/this.fadeDuration*255;this.opacities[n]=n<=e?this.changeOpacities[n]+i:this.changeOpacities[n]-i}this.changed=!0,this.previousZoom=e},r.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.changed&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,256,1,e.ALPHA,e.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,256,1,0,e.ALPHA,e.UNSIGNED_BYTE,this.array))}},function(e,t,n){"use strict";function r(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}var i=n(1);e.exports=r,r.prototype.setSprite=function(e){this.sprite=e},r.prototype.getDash=function(e,t){var n=e.join(",")+t;return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},r.prototype.addDash=function(e,t){var n=t?7:0,r=2*n+1;if(this.nextRow+r>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,l=s/2,u=e.length%2===1,c=-n;c<=n;c++)for(var f=this.nextRow+n+c,h=this.width*f,d=u?-e[e.length-1]:0,p=e[0],m=1,v=0;v<this.width;v++){for(;p<v/s;)d=p,p+=e[m],u&&m===e.length-1&&(p+=e[0]),m++;var g,y=Math.abs(v-d*s),b=Math.abs(v-p*s),x=Math.min(y,b),_=m%2===1;if(t){var w=n?c/n*(l+1):0;if(_){var M=l-Math.abs(w);g=Math.sqrt(x*x+M*M)}else g=l-Math.sqrt(x*x+w*w)}else g=(_?1:-1)*x;this.data[3+4*(h+v)]=Math.max(0,Math.min(255,g+128))}var k={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=r,this.dirty=!0,k},r.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))}},function(e,t,n){"use strict";function r(e,t){this.gl=e,this.transform=t,this.reusableTextures={},this.preFbos={},this.frameHistory=new a,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE)}var i=n(37),o=n(196).mat4,a=n(1197),s=n(515),l=n(30).EXTENT,u=n(160),c=n(1),f=n(98),h=n(157),d=n(159),p=n(215).RasterBoundsArray,m=n(512);e.exports=r,c.extend(r.prototype,n(1200)),r.prototype.resize=function(e,t){var n=this.gl;this.width=e*i.devicePixelRatio,this.height=t*i.devicePixelRatio,n.viewport(0,0,this.width,this.height)},r.prototype.setup=function(){var e=this.gl;e.verbose=!0,e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),this._depthMask=!1,e.depthMask(!1);var t=this.PosArray=new f({members:[{name:"a_pos",type:"Int16",components:2}]}),n=new t;n.emplaceBack(0,0),n.emplaceBack(l,0),n.emplaceBack(0,l),n.emplaceBack(l,l),this.tileExtentBuffer=new h(n.serialize(),t.serialize(),h.BufferType.VERTEX),this.tileExtentVAO=new d,this.tileExtentPatternVAO=new d;var r=new t;r.emplaceBack(0,0),r.emplaceBack(l,0),r.emplaceBack(l,l),r.emplaceBack(0,l),r.emplaceBack(0,0),this.debugBuffer=new h(r.serialize(),t.serialize(),h.BufferType.VERTEX),this.debugVAO=new d;var i=new p;i.emplaceBack(0,0,0,0),i.emplaceBack(l,0,32767,0),i.emplaceBack(0,l,0,32767),i.emplaceBack(l,l,32767,32767),this.rasterBoundsBuffer=new h(i.serialize(),p.serialize(),h.BufferType.VERTEX),this.rasterBoundsVAO=new d},r.prototype.clearColor=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},r.prototype.clearStencil=function(){var e=this.gl;e.clearStencil(0),e.stencilMask(255),e.clear(e.STENCIL_BUFFER_BIT)},r.prototype.clearDepth=function(){var e=this.gl;e.clearDepth(1),this.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT)},r.prototype._renderTileClippingMasks=function(e){var t=this.gl;t.colorMask(!1,!1,!1,!1),this.depthMask(!1),t.disable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),t.stencilMask(248),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0;r<e.length;r++){var i=e[r],o=this._tileClippingMaskIDs[i.id]=n++<<3;t.stencilFunc(t.ALWAYS,o,248);var a=m([{name:"u_color",components:4},{name:"u_opacity",components:1}]),s=this.useProgram("fill",[],a,a);t.uniformMatrix4fv(s.u_matrix,!1,i.posMatrix),this.tileExtentVAO.bind(t,s,this.tileExtentBuffer),t.drawArrays(t.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}t.stencilMask(0),t.colorMask(!0,!0,!0,!0),this.depthMask(!0),t.enable(t.DEPTH_TEST)},r.prototype.enableTileClippingMask=function(e){var t=this.gl;t.stencilFunc(t.EQUAL,this._tileClippingMaskIDs[e.id],248)},r.prototype.prepareBuffers=function(){},r.prototype.bindDefaultFramebuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)};var v={symbol:n(1196),circle:n(1191),line:n(1195),fill:n(1194),raster:n(215),background:n(1190),debug:n(1193)};r.prototype.render=function(e,t){this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.spriteAtlas=e.spriteAtlas,this.spriteAtlas.setSprite(e.sprite),this.glyphSource=e.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(t.showOverdrawInspector),this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},r.prototype.renderPass=function(e){var t=this.style._groups,n=e.isOpaquePass;this.currentLayer=n?this.style._order.length:-1;for(var r=0;r<t.length;r++){var i,o=t[n?t.length-1-r:r],a=this.style.sources[o.source],s=[];if(a){for(s=a.getVisibleCoordinates(),i=0;i<s.length;i++)s[i].posMatrix=this.transform.calculatePosMatrix(s[i],a.maxzoom);this.clearStencil(),a.prepare&&a.prepare(),a.isTileClipped&&this._renderTileClippingMasks(s)}for(n?(this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,s.reverse()),i=0;i<o.length;i++){var l=o[n?o.length-1-i:i];this.currentLayer+=n?-1:1,this.renderLayer(this,a,l,s)}a&&v.debug(this,a,s)}},r.prototype.depthMask=function(e){e!==this._depthMask&&(this._depthMask=e,this.gl.depthMask(e))},r.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,v[n.type](e,t,n,r))},r.prototype.setDepthSublayer=function(e){var t=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=t-1+this.depthRange;this.gl.depthRange(n,t)},r.prototype.translatePosMatrix=function(e,t,n,r){if(!n[0]&&!n[1])return e;if("viewport"===r){var i=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*i,n[0]*i+n[1]*a]}var s=[u(t,n[0],this.transform.zoom),u(t,n[1],this.transform.zoom),0],l=new Float32Array(16);return o.translate(l,e,s),l},r.prototype.saveTexture=function(e){var t=this.reusableTextures[e.size];t?t.push(e):this.reusableTextures[e.size]=[e]},r.prototype.getTexture=function(e){var t=this.reusableTextures[e];return t&&t.length>0?t.pop():null},r.prototype.lineWidth=function(e){this.gl.lineWidth(c.clamp(e,this.lineWidthRange[0],this.lineWidthRange[1]))},r.prototype.showOverdrawInspector=function(e){if(e||this._showOverdrawInspector){this._showOverdrawInspector=e;var t=this.gl;if(e){t.blendFunc(t.CONSTANT_COLOR,t.ONE);t.blendColor(1/8,1/8,1/8,0),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)}else t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}}},function(e,t,n){"use strict";function r(e,t){return e.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(e,n,r,i,o){return t[n][o].replace(/{type}/g,i).replace(/{precision}/g,r)})}var i=n(83),o=n(1),a=n(1177),s=a.util;e.exports._createProgram=function(e,t,n,l){for(var u=this.gl,c=u.createProgram(),f=a[e],h="#define MAPBOX_GL_JS;\n",d=0;d<t.length;d++)h+="#define "+t[d]+";\n";var p=u.createShader(u.FRAGMENT_SHADER);u.shaderSource(p,r(h+f.fragmentSource,l)),u.compileShader(p),i(u.getShaderParameter(p,u.COMPILE_STATUS),u.getShaderInfoLog(p)),u.attachShader(c,p);var m=u.createShader(u.VERTEX_SHADER);u.shaderSource(m,r(h+s+f.vertexSource,n)),u.compileShader(m),i(u.getShaderParameter(m,u.COMPILE_STATUS),u.getShaderInfoLog(m)),u.attachShader(c,m),u.linkProgram(c),i(u.getProgramParameter(c,u.LINK_STATUS),u.getProgramInfoLog(c));for(var v={},g=u.getProgramParameter(c,u.ACTIVE_ATTRIBUTES),y=0;y<g;y++){var b=u.getActiveAttrib(c,y);v[b.name]=u.getAttribLocation(c,b.name)}for(var x={},_=u.getProgramParameter(c,u.ACTIVE_UNIFORMS),w=0;w<_;w++){var M=u.getActiveUniform(c,w);x[M.name]=u.getUniformLocation(c,M.name)}return o.extend({program:c,definition:f,attributes:v,numAttributes:g},v,x)},e.exports._createProgramCached=function(e,t,n,r){this.cache=this.cache||{};var i=JSON.stringify({name:e,defines:t,vertexPragmas:n,fragmentPragmas:r});return this.cache[i]||(this.cache[i]=this._createProgram(e,t,n,r)),this.cache[i]},e.exports.useProgram=function(e,t,n,r){var i=this.gl;t=t||[],this._showOverdrawInspector&&(t=t.concat("OVERDRAW_INSPECTOR"));var o=this._createProgramCached(e,t,n,r);return this.currentProgram!==o&&(i.useProgram(o.program),this.currentProgram=o),o}},function(e,t,n){"use strict";function r(e,t,n){t=t||{},this.id=e,this.dispatcher=n,this._data=t.data,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),t.type&&(this.type=t.type);var r=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:t.cluster||!1,geojsonVtOptions:{buffer:(void 0!==t.buffer?t.buffer:128)*r,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*r,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(t.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(t.clusterRadius||50)*r,log:!1}},t.workerOptions),this._updateWorkerData(function(e){if(e)return void this.fire("error",{error:e});this.fire("load")}.bind(this))}var i=n(46),o=n(1),a=n(1667),s=n(30).EXTENT;e.exports=r,r.prototype=o.inherit(i,{type:"geojson",minzoom:0,maxzoom:18,tileSize:512,isTileClipped:!0,reparseOverscaled:!0,onAdd:function(e){this.map=e},setData:function(e){return this._data=e,this._updateWorkerData(function(e){if(e)return this.fire("error",{error:e});this.fire("change")}.bind(this)),this},_updateWorkerData:function(e){var t=o.extend({},this.workerOptions),n=this._data;"string"===typeof n?t.url="undefined"!=typeof window?a(window.location.href,n):n:t.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",t,function(t){this._loaded=!0,e(t)}.bind(this))},loadTile:function(e,t){var n=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,r={type:this.type,uid:e.uid,coord:e.coord,zoom:e.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:n,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send("load tile",r,function(n,r){if(e.unloadVectorData(this.map.painter),!e.aborted)return n?t(n):(e.loadVectorData(r,this.map.style),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null))}.bind(this),this.workerID)},abortTile:function(e){e.aborted=!0},unloadTile:function(e){e.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:e.uid,source:this.id},function(){},e.workerID)},serialize:function(){return{type:this.type,data:this._data}}})},function(e,t,n){"use strict";function r(e,t,n){n&&(this.loadGeoJSON=n),f.call(this,e,t)}var i=n(1),o=n(64),a=n(950),s=n(1203),l=n(1703),u=n(1686),c=n(952),f=n(516);e.exports=r,r.prototype=i.inherit(f,{_geoJSONIndexes:{},loadVectorData:function(e,t){var n=e.source,r=e.coord;if(!this._geoJSONIndexes[n])return t(null,null);var i=this._geoJSONIndexes[n].getTile(Math.min(r.z,e.maxZoom),r.x,r.y);if(!i)return t(null,null);var o=new s(i.features);o.name="_geojsonTileLayer";var a=l({layers:{_geojsonTileLayer:o}});0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{tile:o,rawTileData:a.buffer})},loadData:function(e,t){var n=function(n,r){return n?t(n):"object"!=typeof r?t(new Error("Input data is not a valid GeoJSON object.")):(a(r,!0),void this._indexData(r,e,function(n,r){if(n)return t(n);this._geoJSONIndexes[e.source]=r,t(null)}.bind(this)))}.bind(this);this.loadGeoJSON(e,n)},loadGeoJSON:function(e,t){if(e.url)o.getJSON(e.url,t);else{if("string"!==typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},_indexData:function(e,t,n){try{t.cluster?n(null,u(t.superclusterOptions).load(e.features)):n(null,c(e,t.geojsonVtOptions))}catch(e){return n(e)}}})},function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length,this.extent=s}function i(e){if(this.type=e.type,1===e.type){this.rawGeometry=[];for(var t=0;t<e.geometry.length;t++)this.rawGeometry.push([e.geometry[t]])}else this.rawGeometry=e.geometry;this.properties=e.tags,this.extent=s}var o=n(22),a=n(183).VectorTileFeature,s=n(30).EXTENT;e.exports=r,r.prototype.feature=function(e){return new i(this.features[e])},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},function(e,t,n){"use strict";function r(e,t,n){this.id=e,this.dispatcher=n,this.url=t.url,this.coordinates=t.coordinates,u.getImage(t.url,function(e,n){if(e)return this.fire("error",{error:e});this.image=n,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.fire("load"),this.map&&this.setCoordinates(t.coordinates)}.bind(this))}var i=n(1),o=n(161),a=n(78),s=n(22),l=n(46),u=n(64),c=n(30).EXTENT,f=n(215).RasterBoundsArray,h=n(157),d=n(159);e.exports=r,r.prototype=i.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,onAdd:function(e){this.map=e,this.image&&this.setCoordinates(this.coordinates)},setCoordinates:function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(a.convert(e)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new o(r.zoom,r.column,r.row),this._tileCoords=n.map(function(e){var t=e.zoomTo(r.zoom);return new s(Math.round((t.column-r.column)*c),Math.round((t.row-r.row)*c))}),this.fire("change"),this},_setTile:function(e){this._prepared=!1,this.tile=e;var t=new f;t.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),t.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,32767,0),t.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,32767),t.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,32767,32767),this.tile.buckets={},this.tile.boundsBuffer=new h(t.serialize(),f.serialize(),h.BufferType.VERTEX),this.tile.boundsVAO=new d,this.tile.state="loaded"},prepare:function(){if(this._loaded&&this.image&&this.image.complete&&this.tile){var e=this.map.painter,t=e.gl;this._prepared?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.image)):(this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.image))}},loadTile:function(e,t){this._coord&&this._coord.toString()===e.coord.toString()?(this._setTile(e),t(null)):(e.state="errored",t(null))},serialize:function(){return{type:"image",urls:this.url,coordinates:this.coordinates}}})},function(e,t,n){"use strict";function r(e,t){var n=e.coord,r=t.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function i(e){for(var t=e[0]||{},n=1;n<e.length;n++){var r=e[n];for(var i in r){var o=r[i],a=t[i];if(void 0===a)a=t[i]=o;else for(var s=0;s<o.length;s++)a.push(o[s])}}return t}var o=n(161);t.rendered=function(e,t,n,o,a,s){var l=e.tilesIn(n);l.sort(r);for(var u=[],c=0;c<l.length;c++){var f=l[c];f.tile.featureIndex&&u.push(f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:o},t))}return i(u)},t.source=function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},a=0;a<n.length;a++){var s=n[a],l=new o(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;i[l]||(i[l]=!0,s.querySourceFeatures(r,t))}return r}},function(e,t,n){"use strict";function r(e,t,n){this.id=e,this.dispatcher=n,i.extend(this,i.pick(t,["url","scheme","tileSize"])),s(t,function(e,t){if(e)return this.fire("error",e);i.extend(this,t),this.fire("load")}.bind(this))}var i=n(1),o=n(64),a=n(46),s=n(513),l=n(123).normalizeTileURL;e.exports=r,r.prototype=i.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,scheme:"xyz",tileSize:512,_loaded:!1,onAdd:function(e){this.map=e},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},loadTile:function(e,t){function n(n,r){if(delete e.request,!e.aborted){if(n)return t(n);var i=this.map.painter.gl;e.texture=this.map.painter.getTexture(r.width),e.texture?(i.bindTexture(i.TEXTURE_2D,e.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,r)):(e.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,e.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r),e.texture.size=r.width),i.generateMipmap(i.TEXTURE_2D),this.map.animationLoop.set(this.map.style.rasterFadeDuration),e.state="loaded",t(null)}}var r=l(e.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);e.request=o.getImage(r,n.bind(this))},abortTile:function(e){e.request&&(e.request.abort(),delete e.request)},unloadTile:function(e){e.texture&&this.map.painter.saveTexture(e.texture)}})},function(e,t,n){"use strict";function r(e,t,n){this.coord=e,this.uid=o.uniqueId(),this.uses=0,this.tileSize=t,this.sourceMaxZoom=n,this.buckets={},this.state="loading"}function i(e,t){if(t){for(var n={},r=0;r<e.length;r++){var i=t.getLayer(e[r].layerId);if(i){var s=a.create(o.extend({layer:i,childLayers:e[r].childLayerIds.map(t.getLayer.bind(t)).filter(function(e){return e})},e[r]));n[s.id]=s}}return n}}var o=n(1),a=n(30),s=n(510),l=n(183),u=n(162),c=n(533),f=n(284),h=n(524),d=n(523),p=n(526),m=n(527);e.exports=r,r.prototype={loadVectorData:function(e,t){this.state="loaded",e&&(this.collisionBoxArray=new d(e.collisionBoxArray),this.collisionTile=new h(e.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new p(e.symbolInstancesArray),this.symbolQuadsArray=new m(e.symbolQuadsArray),this.featureIndex=new s(e.featureIndex,e.rawTileData,this.collisionTile),this.rawTileData=e.rawTileData,this.buckets=i(e.buckets,t))},reloadSymbolData:function(e,t,n){if("unloaded"!==this.state){this.collisionTile=new h(e.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var r in this.buckets){var a=this.buckets[r];"symbol"===a.type&&(a.destroy(t.gl),delete this.buckets[r])}o.extend(this.buckets,i(e.buckets,n))}},unloadVectorData:function(e){for(var t in this.buckets){this.buckets[t].destroy(e.gl)}this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.rawTileData=null,this.buckets=null,this.state="unloaded"},redoPlacement:function(e){function t(t,n){this.reloadSymbolData(n,e.map.painter,e.map.style),e.fire("tile.load",{tile:this}),this.state="loaded",this.redoWhenDone&&(this.redoPlacement(e),this.redoWhenDone=!1)}if("loaded"!==this.state||"reloading"===this.state)return void(this.redoWhenDone=!0);this.state="reloading",e.dispatcher.send("redo placement",{uid:this.uid,source:e.id,angle:e.map.transform.angle,pitch:e.map.transform.pitch,showCollisionBoxes:e.map.showCollisionBoxes},t.bind(this),this.workerID)},getBucket:function(e){return this.buckets&&this.buckets[e.ref||e.id]},querySourceFeatures:function(e,t){if(this.rawTileData){this.vtLayers||(this.vtLayers=new l.VectorTile(new u(new Uint8Array(this.rawTileData))).layers);var n=this.vtLayers._geojsonTileLayer||this.vtLayers[t.sourceLayer];if(n)for(var r=f(t.filter),i={z:this.coord.z,x:this.coord.x,y:this.coord.y},o=0;o<n.length;o++){var a=n.feature(o);if(r(a)){var s=new c(a,this.coord.z,this.coord.x,this.coord.y);s.tile=i,e.push(s)}}}},isRenderable:function(){return"loaded"===this.state||"reloading"===this.state}}},function(e,t,n){"use strict";function r(e,t,n){if(this.id=e,this.dispatcher=n,o.extend(this,o.pick(t,["url","scheme","tileSize"])),this._options=o.extend({type:"vector"},t),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a(t,function(e,t){if(e)return void this.fire("error",e);o.extend(this,t),this.fire("load")}.bind(this))}var i=n(46),o=n(1),a=n(513),s=n(123).normalizeTileURL;e.exports=r,r.prototype=o.inherit(i,{minzoom:0,maxzoom:22,scheme:"xyz",tileSize:512,reparseOverscaled:!0,isTileClipped:!0,onAdd:function(e){this.map=e},serialize:function(){return o.extend({},this._options)},loadTile:function(e,t){function n(n,r){if(!e.aborted){if(n)return t(n);e.loadVectorData(r,this.map.style),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null),e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)}}var r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,i={url:s(e.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:e.uid,coord:e.coord,zoom:e.coord.z,tileSize:this.tileSize*r,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID?"loading"===e.state?e.reloadCallback=t:(i.rawTileData=e.rawTileData,this.dispatcher.send("reload tile",i,n.bind(this),e.workerID)):e.workerID=this.dispatcher.send("load tile",i,n.bind(this))},abortTile:function(e){this.dispatcher.send("abort tile",{uid:e.uid,source:this.id},null,e.workerID)},unloadTile:function(e){e.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:e.uid,source:this.id},null,e.workerID)}})},function(e,t,n){"use strict";function r(e,t){this.id=e,this.urls=t.urls,this.coordinates=t.coordinates,u.getVideo(t.urls,function(e,n){if(e)return this.fire("error",{error:e});this.video=n,this.video.loop=!0;var r;this.video.addEventListener("playing",function(){r=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(r)}.bind(this)),this.map&&(this.video.play(),this.setCoordinates(t.coordinates)),this.fire("load")}.bind(this))}var i=n(1),o=n(161),a=n(78),s=n(22),l=n(46),u=n(64),c=n(30).EXTENT,f=n(215).RasterBoundsArray,h=n(157),d=n(159);e.exports=r,r.prototype=i.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,roundZoom:!0,getVideo:function(){return this.video},onAdd:function(e){this.map||(this.map=e,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},setCoordinates:function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(a.convert(e)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new o(r.zoom,r.column,r.row),this._tileCoords=n.map(function(e){var t=e.zoomTo(r.zoom);return new s(Math.round((t.column-r.column)*c),Math.round((t.row-r.row)*c))}),this.fire("change"),this},_setTile:function(e){this._prepared=!1,this.tile=e;var t=new f;t.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),t.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,32767,0),t.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,32767),t.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,32767,32767),this.tile.buckets={},this.tile.boundsBuffer=new h(t.serialize(),f.serialize(),h.BufferType.VERTEX),this.tile.boundsVAO=new d,this.tile.state="loaded"},prepare:function(){if(!(this.video.readyState<2)&&this.tile){var e=this.map.painter.gl;this._prepared?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this._prepared=!0,this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},loadTile:function(e,t){this._coord&&this._coord.toString()===e.coord.toString()?(this._setTile(e),t(null)):(e.state="errored",t(null))},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},function(e,t,n){"use strict";function r(e){this.self=e,this.actor=new o(e,this);var t={getLayers:function(){return this.layers}.bind(this),getLayerFamilies:function(){return this.layerFamilies}.bind(this)};this.workerSources={vector:new l(this.actor,t),geojson:new u(this.actor,t)},this.self.registerWorkerSource=function(e,n){if(this.workerSources[e])throw new Error('Worker source with name "'+e+'" already registered.');this.workerSources[e]=new n(this.actor,t)}.bind(this)}function i(e){var t={};for(var n in e){var r=e[n],i=r.ref||r.id,o=e[i];o.layout&&"none"===o.layout.visibility||(t[i]=t[i]||[],n===i?t[i].unshift(r):t[i].push(r))}return t}var o=n(529),a=n(87),s=n(1),l=n(516),u=n(1202);e.exports=function(e){return new r(e)},s.extend(r.prototype,{"set layers":function(e){function t(e){var t=a.create(e,e.ref&&n.layers[e.ref]);t.updatePaintTransitions({},{transition:!1}),n.layers[t.id]=t}this.layers={};for(var n=this,r=[],o=0;o<e.length;o++){var s=e[o];"fill"!==s.type&&"line"!==s.type&&"circle"!==s.type&&"symbol"!==s.type||(s.ref?r.push(o):t(s))}for(var l=0;l<r.length;l++)t(e[r[l]]);this.layerFamilies=i(this.layers)},"update layers":function(e){function t(e){var t=o.layers[e.ref];o.layers[e.id]?o.layers[e.id].set(e,t):o.layers[e.id]=a.create(e,t),o.layers[e.id].updatePaintTransitions({},{transition:!1})}var n,r,o=this;for(n in e)r=e[n],r.ref&&t(r);for(n in e)r=e[n],r.ref||t(r);this.layerFamilies=i(this.layers)},"load tile":function(e,t){var n=e.type||"vector";this.workerSources[n].loadTile(e,t)},"reload tile":function(e,t){var n=e.type||"vector";this.workerSources[n].reloadTile(e,t)},"abort tile":function(e){var t=e.type||"vector";this.workerSources[t].abortTile(e)},"remove tile":function(e){var t=e.type||"vector";this.workerSources[t].removeTile(e)},"redo placement":function(e,t){var n=e.type||"vector";this.workerSources[n].redoPlacement(e,t)},"load worker source":function(e,t){try{this.self.importScripts(e.url),t()}catch(e){t(e)}}})},function(e,t,n){"use strict";function r(e){this.coord=e.coord,this.uid=e.uid,this.zoom=e.zoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.angle=e.angle,this.pitch=e.pitch,this.showCollisionBoxes=e.showCollisionBoxes}function i(e){return!e.isEmpty()}function o(e){return e.serialize()}function a(e){var t=[];for(var n in e)e[n].getTransferables(t);return t}function s(e){return e.id}var l=n(510),u=n(524),c=n(30),f=n(523),h=n(531),d=n(1),p=n(526),m=n(527);e.exports=r,r.prototype.parse=function(e,t,n,r,v){function g(e,t){for(var n=0;n<e.length;n++){var r=e.feature(n);r.index=n;for(var i in t)t[i].filter(r)&&t[i].features.push(r)}}function y(e){if(e)return v(e);if(2===++F){for(var t=I.length-1;t>=0;t--)b(A,I[t]);x()}}function b(e,t){if(t.populateArrays(E,z,j),"symbol"!==t.type)for(var n=0;n<t.features.length;n++){var r=t.features[n];S.insert(r,r.index,t.sourceLayerIndex,t.index)}t.features=null}function x(){A.status="done",A.redoPlacementAfterDone&&(A.redoPlacement(A.angle,A.pitch,null),A.redoPlacementAfterDone=!1);var e=S.serialize(),t=E.serialize(),n=A.collisionBoxArray.serialize(),s=A.symbolInstancesArray.serialize(),l=A.symbolQuadsArray.serialize(),u=[r].concat(e.transferables).concat(t.transferables),c=L.filter(i);v(null,{buckets:c.map(o),featureIndex:e.data,collisionTile:t.data,collisionBoxArray:n,symbolInstancesArray:s,symbolQuadsArray:l,rawTileData:r},a(c).concat(u))}this.status="parsing",this.data=e,this.collisionBoxArray=new f,this.symbolInstancesArray=new p,this.symbolQuadsArray=new m;var _,w,M,k,E=new u(this.angle,this.pitch,this.collisionBoxArray),S=new l(this.coord,this.overscaling,E,e.layers),T=new h(e.layers?Object.keys(e.layers).sort():["_geojsonTileLayer"]),A=this,C={},D={},O=0;for(var P in t)w=t[P][0],w.source===this.source&&(w.ref||w.minzoom&&this.zoom<w.minzoom||w.maxzoom&&this.zoom>=w.maxzoom||w.layout&&"none"===w.layout.visibility||e.layers&&!e.layers[w.sourceLayer]||(k=c.create({layer:w,index:O++,childLayers:t[P],zoom:this.zoom,overscaling:this.overscaling,showCollisionBoxes:this.showCollisionBoxes,collisionBoxArray:this.collisionBoxArray,symbolQuadsArray:this.symbolQuadsArray,symbolInstancesArray:this.symbolInstancesArray,sourceLayerIndex:T.encode(w.sourceLayer||"_geojsonTileLayer")}),k.createFilter(),C[w.id]=k,e.layers&&(M=w.sourceLayer,D[M]=D[M]||{},D[M][w.id]=k)));if(e.layers)for(M in D)1===w.version&&d.warnOnce('Vector tile source "'+this.source+'" layer "'+M+'" does not use vector tile spec v2 and therefore may have some rendering errors.'),(w=e.layers[M])&&g(w,D[M]);else g(e,C);var L=[],I=this.symbolBuckets=[],N=[];S.bucketLayerIDs={};for(var R in C)k=C[R],0!==k.features.length&&(S.bucketLayerIDs[k.index]=k.childLayers.map(s),L.push(k),"symbol"===k.type?I.push(k):N.push(k));var j={},z={},F=0;if(I.length>0){for(_=I.length-1;_>=0;_--)I[_].updateIcons(j),I[_].updateFont(z);for(var B in z)z[B]=Object.keys(z[B]).map(Number);j=Object.keys(j),n.send("get glyphs",{uid:this.uid,stacks:z},function(e,t){z=t,y(e)}),j.length?n.send("get icons",{icons:j},function(e,t){j=t,y(e)}):y()}for(_=N.length-1;_>=0;_--)b(this,N[_]);if(0===I.length)return x()},r.prototype.redoPlacement=function(e,t,n){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=e,{};for(var r=new u(e,t,this.collisionBoxArray),s=this.symbolBuckets,l=s.length-1;l>=0;l--)s[l].placeFeatures(r,n);var c=r.serialize(),f=s.filter(i);return{result:{buckets:f.map(o),collisionTile:c.data},transferables:a(f).concat(c.transferables)}}},function(e,t,n){"use strict";function r(e){this.base=e,this.retina=s.devicePixelRatio>1;var t=this.retina?"@2x":"";a.getJSON(l(e,t,".json"),function(e,t){if(e)return void this.fire("error",{error:e});this.data=t,this.img&&this.fire("load")}.bind(this)),a.getImage(l(e,t,".png"),function(e,t){if(e)return void this.fire("error",{error:e});for(var n=t.getData(),r=t.data=new Uint8Array(n.length),i=0;i<n.length;i+=4){var o=n[i+3]/255;r[i+0]=n[i+0]*o,r[i+1]=n[i+1]*o,r[i+2]=n[i+2]*o,r[i+3]=n[i+3]}this.img=t,this.data&&this.fire("load")}.bind(this))}function i(){}var o=n(46),a=n(64),s=n(37),l=n(123).normalizeSpriteURL;e.exports=r,r.prototype=Object.create(o),r.prototype.toJSON=function(){return this.base},r.prototype.loaded=function(){return!(!this.data||!this.img)},r.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var e=new r(this.base);e.on("load",function(){this.img=e.img,this.data=e.data,this.retina=e.retina}.bind(this))}},i.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},r.prototype.getSpritePosition=function(e){if(!this.loaded())return new i;var t=this.data&&this.data[e];return t&&this.img?t:new i}},function(e,t,n){"use strict";function r(e,t){this.value=s.clone(t),this.isFunction=o.isFunctionDefinition(t),this.json=JSON.stringify(this.value);var n="color"===e.type&&this.value?a(this.value):t;if(this.calculate=o[e.function||"piecewise-constant"](n),this.isFeatureConstant=this.calculate.isFeatureConstant,this.isZoomConstant=this.calculate.isZoomConstant,"piecewise-constant"===e.function&&e.transition&&(this.calculate=i(this.calculate)),!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var r=[],l=this.value.stops,u=0;u<this.value.stops.length;u++){var c=l[u][0].zoom;this.stopZoomLevels.indexOf(c)<0&&(this.stopZoomLevels.push(c),r.push([c,r.length]))}this.calculateInterpolationT=o.interpolated({stops:r,base:t.base})}}function i(e){return function(t,n){var r,i,o,a=t.zoom,s=t.zoomHistory,l=t.duration,u=a%1,c=Math.min((Date.now()-s.lastIntegerZoomTime)/l,1),f=1;return a>s.lastIntegerZoom?(r=u+(1-u)*c,f*=2,i=e({zoom:a-1},n),o=e({zoom:a},n)):(r=1-(1-c)*u,o=e({zoom:a},n),i=e({zoom:a+1},n),f/=2),void 0===i||void 0===o?void 0:{from:i,fromScale:f,to:o,toScale:1,t:r}}}var o=n(299),a=n(518),s=n(1);e.exports=r},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);e.exports=r,r.prototype=i.inherit(o,{})},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);e.exports=r,r.prototype=i.inherit(o,{})},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);r.prototype=i.inherit(o,{getPaintValue:function(e,t,n){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintValue.call(this,"fill-color",t,n):o.prototype.getPaintValue.call(this,e,t,n)},getPaintValueStopZoomLevels:function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):o.prototype.getPaintValueStopZoomLevels.call(this,arguments)},getPaintInterpolationT:function(e,t){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintInterpolationT.call(this,"fill-color",t):o.prototype.getPaintInterpolationT.call(this,e,t)},isPaintValueFeatureConstant:function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):o.prototype.isPaintValueFeatureConstant.call(this,e)},isPaintValueZoomConstant:function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueZoomConstant.call(this,"fill-color"):o.prototype.isPaintValueZoomConstant.call(this,e)}}),e.exports=r},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);e.exports=r,r.prototype=i.inherit(o,{getPaintValue:function(e,t,n){var r=o.prototype.getPaintValue.apply(this,arguments);if(r&&"line-dasharray"===e){var i=Math.floor(t.zoom);this._flooredZoom!==i&&(this._flooredZoom=i,this._flooredLineWidth=this.getPaintValue("line-width",t,n)),r.fromScale*=this._flooredLineWidth,r.toScale*=this._flooredLineWidth}return r}})},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);e.exports=r,r.prototype=i.inherit(o,{})},function(e,t,n){"use strict";function r(){o.apply(this,arguments)}var i=n(1),o=n(87);e.exports=r,r.prototype=i.inherit(o,{isHidden:function(){if(o.prototype.isHidden.apply(this,arguments))return!0;var e=0===this.paint["text-opacity"]||!this.layout["text-field"],t=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!e||!t)},getLayoutValue:function(e,t,n){return("text-rotation-alignment"!==e||"line"!==this.getLayoutValue("symbol-placement",t,n)||this.getLayoutProperty("text-rotation-alignment"))&&("icon-rotation-alignment"!==e||"line"!==this.getLayoutValue("symbol-placement",t,n)||this.getLayoutProperty("icon-rotation-alignment"))?"text-pitch-alignment"!==e||this.getLayoutProperty("text-pitch-alignment")?o.prototype.getLayoutValue.apply(this,arguments):this.getLayoutValue("text-rotation-alignment"):"map"}})},function(e,t,n){"use strict";function r(e,t,n,r){this.declaration=t,this.startTime=this.endTime=(new Date).getTime(),"piecewise-constant"===e.function&&e.transition?this.interp=i:this.interp=a[e.type],this.oldTransition=n,this.duration=r.duration||0,this.delay=r.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),n&&n.endTime<=this.startTime&&delete n.oldTransition}function i(e,t,n){return void 0===(e&&e.to)||void 0===(t&&t.to)?void 0:{from:e.to,fromScale:e.toScale,to:t.to,toScale:t.toScale,t:n}}var o=n(1),a=n(217);e.exports=r,r.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},r.prototype.calculate=function(e,t){var n=this.declaration.calculate(o.extend({},e,{duration:this.duration}),t);if(this.instant())return n;var r=e.time||Date.now();if(r<this.endTime){var i=this.oldTransition.calculate(o.extend({},e,{time:this.startTime}),t),a=this.ease((r-this.startTime-this.delay)/this.duration);n=this.interp(i,n,a)}return n}},function(e,t,n){"use strict";function r(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=e[a-1],f=e[a],h=e[a+1];if(!h)return!1;var d=c.angleTo(f)-f.angleTo(h);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=f.dist(h)}return!0}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var l,u=e[s],c=0;c<u.length-1;c++){var f=u[c],h=u[c+1];f.x<t&&h.x<t||(f.x<t?f=new i(t,f.y+(h.y-f.y)*((t-f.x)/(h.x-f.x)))._round():h.x<t&&(h=new i(t,f.y+(h.y-f.y)*((t-f.x)/(h.x-f.x)))._round()),f.y<n&&h.y<n||(f.y<n?f=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round():h.y<n&&(h=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round()),f.x>=r&&h.x>=r||(f.x>=r?f=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round():h.x>=r&&(h=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round():h.y>=o&&(h=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(h)))))}return a}var i=n(22);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l,u,c){var f=a.top*s-l,h=a.bottom*s+l,d=a.left*s-l,p=a.right*s+l;if(this.boxStartIndex=e.length,u){var m=h-f,v=p-d;if(m>0)if(m=Math.max(10*s,m),c){var g=t[n.segment+1].sub(t[n.segment])._unit()._mult(v),y=[n.sub(g),n.add(g)];this._addLineCollisionBoxes(e,y,n,0,v,m,r,i,o)}else this._addLineCollisionBoxes(e,t,n,n.segment,v,m,r,i,o)}else e.emplaceBack(n.x,n.y,d,f,p,h,1/0,r,i,o,0,0,0,0,0);this.boxEndIndex=e.length}e.exports=r,r.prototype._addLineCollisionBoxes=function(e,t,n,r,i,o,a,s,l){var u=o/2,c=Math.floor(i/u),f=-o/2,h=this.boxes,d=n,p=r+1,m=f;do{if(--p<0)return h;m-=t[p].dist(d),d=t[p]}while(m>-i/2);for(var v=t[p].dist(t[p+1]),g=0;g<c;g++){for(var y=-i/2+g*u;m+v<y;){if(m+=v,++p+1>=t.length)return h;v=t[p].dist(t[p+1])}var b=y-m,x=t[p],_=t[p+1],w=_.sub(x)._unit()._mult(b)._add(x)._round(),M=Math.max(Math.abs(y-f)-u/2,0),k=i/2/M;e.emplaceBack(w.x,w.y,-o/2,-o/2,o/2,o/2,k,a,s,l,0,0,0,0,0)}return h}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l,u){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),h=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;t-f*s<t/4&&(t=f*s+t/4);var d=2*a;return i(e,h?t/2*l%t:(f/2+d)*s*l%t,t,c,n,f*s,h,!1,u)}function i(e,t,n,r,l,u,c,f,h){for(var d=u/2,p=0,m=0;m<e.length-1;m++)p+=e[m].dist(e[m+1]);for(var v=0,g=t-n,y=[],b=0;b<e.length-1;b++){for(var x=e[b],_=e[b+1],w=x.dist(_),M=_.angleTo(x);g+n<v+w;){g+=n;var k=(g-v)/w,E=o(x.x,_.x,k),S=o(x.y,_.y,k);if(E>=0&&E<h&&S>=0&&S<h&&g-d>=0&&g+d<=p){var T=new a(E,S,M,b)._round();r&&!s(e,T,u,r,l)||y.push(T)}}v+=w}return f||y.length||c||(y=i(e,v/2,n,r,l,u,c,!0,h)),y}var o=n(217),a=n(522),s=n(1221);e.exports=r},function(e,t,n){"use strict";function r(){this.width=a,this.height=a,this.bin=new i(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)}var i=n(664),o=n(1),a=128;e.exports=r,r.prototype.getGlyphs=function(){var e,t,n,r={};for(var i in this.ids)e=i.split("#"),t=e[0],n=e[1],r[t]||(r[t]=[]),r[t].push(n);return r},r.prototype.getRects=function(){var e,t,n,r={};for(var i in this.ids)e=i.split("#"),t=e[0],n=e[1],r[t]||(r[t]={}),r[t][n]=this.index[i];return r},r.prototype.addGlyph=function(e,t,n,r){if(!n)return null;var i=t+"#"+n.id;if(this.index[i])return this.ids[i].indexOf(e)<0&&this.ids[i].push(e),this.index[i];if(!n.bitmap)return null;var a=n.width+2*r,s=n.height+2*r,l=a+2,u=s+2;l+=4-l%4,u+=4-u%4;var c=this.bin.packOne(l,u);if(c||(this.resize(),c=this.bin.packOne(l,u)),!c)return o.warnOnce("glyph bitmap overflow"),null;this.index[i]=c,this.ids[i]=[e];for(var f=this.data,h=n.bitmap,d=0;d<s;d++)for(var p=this.width*(c.y+d+1)+c.x+1,m=a*d,v=0;v<a;v++)f[p+v]=h[m+v];return this.dirty=!0,c},r.prototype.resize=function(){var e=this.width,t=this.height;if(!(e>=2048||t>=2048)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=4,this.height*=4,this.bin.resize(this.width,this.height);for(var n=new ArrayBuffer(this.width*this.height),r=0;r<t;r++){var i=new Uint8Array(this.data.buffer,t*r,e);new Uint8Array(n,t*r*4,e).set(i)}this.data=new Uint8Array(n)}},r.prototype.bind=function(e){this.gl=e,this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,null))},r.prototype.updateTexture=function(e){this.bind(e),this.dirty&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data),this.dirty=!1)}},function(e,t,n){"use strict";function r(e){this.url=e&&a(e),this.atlases={},this.stacks={},this.loading={}}function i(e,t,n){this.advance=e.advance,this.left=e.left-n-1,this.top=e.top+n+1,this.rect=t}function o(e,t,n,r){return r=r||"abc",n.replace("{s}",r[e.length%r.length]).replace("{fontstack}",e).replace("{range}",t)}var a=n(123).normalizeGlyphsURL,s=n(64).getArrayBuffer,l=n(1250),u=n(1225),c=n(162);e.exports=r,r.prototype.getSimpleGlyphs=function(e,t,n,r){void 0===this.stacks[e]&&(this.stacks[e]={}),void 0===this.atlases[e]&&(this.atlases[e]=new u);for(var o,a={},s=this.stacks[e],l=this.atlases[e],c={},f=0,h=0;h<t.length;h++){var d=t[h];if(o=Math.floor(d/256),s[o]){var p=s[o].glyphs[d],m=l.addGlyph(n,e,p,3);p&&(a[d]=new i(p,m,3))}else void 0===c[o]&&(c[o]=[],f++),c[o].push(d)}f||r(void 0,a,e);var v=function(t,o,s){if(!t)for(var u=this.stacks[e][o]=s.stacks[0],h=0;h<c[o].length;h++){var d=c[o][h],p=u.glyphs[d],m=l.addGlyph(n,e,p,3);p&&(a[d]=new i(p,m,3))}--f||r(void 0,a,e)}.bind(this);for(var g in c)this.loadRange(e,g,v)},r.prototype.loadRange=function(e,t,n){if(256*t>65535)return n("glyphs > 65535 not supported");void 0===this.loading[e]&&(this.loading[e]={});var r=this.loading[e];if(r[t])r[t].push(n);else{r[t]=[n];var i=256*t+"-"+(256*t+255),a=o(e,i,this.url);s(a,function(e,n){for(var i=!e&&new l(new c(new Uint8Array(n))),o=0;o<r[t].length;o++)r[t][o](e,t,i);delete r[t]})}},r.prototype.getGlyphAtlas=function(e){return this.atlases[e]}},function(e,t,n){"use strict";e.exports=function(e,t,n){function r(r){c.push(e[r]),f.push(n[r]),h.push(t[r]),d++}function i(e,t,n){var r=u[e];return delete u[e],u[t]=r,f[r][0].pop(),f[r][0]=f[r][0].concat(n[0]),r}function o(e,t,n){var r=l[t];return delete l[t],l[e]=r,f[r][0].shift(),f[r][0]=n[0].concat(f[r][0]),r}function a(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}var s,l={},u={},c=[],f=[],h=[],d=0;for(s=0;s<e.length;s++){var p=n[s],m=t[s];if(m){var v=a(m,p),g=a(m,p,!0);if(v in u&&g in l&&u[v]!==l[g]){var y=o(v,g,p),b=i(v,g,f[y]);delete l[v],delete u[g],u[a(m,f[b],!0)]=b,f[y]=null}else v in u?i(v,g,p):g in l?o(v,g,p):(r(s),l[v]=d-1,u[g]=d-1)}else r(s)}return{features:c,textFeatures:h,geometries:f}}},function(e,t,n){"use strict";function r(e,t,n){for(var r=[],o=0,a=e.length;o<a;o++){var s=i(e[o].properties,t["text-field"]);if(s){s=s.toString();var l=t["text-transform"];"uppercase"===l?s=s.toLocaleUpperCase():"lowercase"===l&&(s=s.toLocaleLowerCase());for(var u=0;u<s.length;u++)n[s.charCodeAt(u)]=!0;r[o]=s}else r[o]=null}return r}var i=n(532);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.codePoint=e,this.x=t,this.y=n,this.glyph=r}function i(e,t,n,r,i,o){this.positionedGlyphs=e,this.text=t,this.top=n,this.bottom=r,this.left=i,this.right=o}function o(e,t,n,o,s,l,u,c,f){for(var h=[],d=new i(h,e,f[1],f[1],f[0],f[0]),p=0,m=0;m<e.length;m++){var v=e.charCodeAt(m),g=t[v];g&&(h.push(new r(v,p,-17,g)),p+=g.advance+c)}return!!h.length&&(a(d,t,o,n,s,l,u,f),d)}function a(e,t,n,r,i,o,a,u){var c=null,d=0,p=0,m=0,v=0,g=e.positionedGlyphs;if(r)for(var y=0;y<g.length;y++){var b=g[y];if(b.x-=d,b.y+=n*m,b.x>r&&null!==c){var x=g[c+1].x;v=Math.max(x,v);for(var _=c+1;_<=y;_++)g[_].y+=n,g[_].x-=x;if(a){var w=c;f[g[c].codePoint]&&w--,s(g,t,p,w,a)}p=c+1,c=null,d+=x,m++}h[b.codePoint]&&(c=y)}var M=g[g.length-1],k=M.x+t[M.codePoint].advance;v=Math.max(v,k);var E=(m+1)*n;s(g,t,p,g.length-1,a),l(g,a,i,o,v,n,m,u),e.top+=-o*E,e.bottom=e.top+E,e.left+=-i*v,e.right=e.left+v}function s(e,t,n,r,i){for(var o=t[e[r].codePoint].advance,a=(e[r].x+o)*i,s=n;s<=r;s++)e[s].x-=a}function l(e,t,n,r,i,o,a,s){for(var l=(t-n)*i+s[0],u=(-r*(a+1)+.5)*o+s[1],c=0;c<e.length;c++)e[c].x+=l,e[c].y+=u}function u(e,t){if(!e||!e.rect)return null;var n=t["icon-offset"][0],r=t["icon-offset"][1],i=n-e.width/2,o=i+e.width,a=r-e.height/2;return new c(e,a,a+e.height,i,o)}function c(e,t,n,r,i){this.image=e,this.top=t,this.bottom=n,this.left=r,this.right=i}e.exports={shapeText:o,shapeIcon:u};var f={32:!0,8203:!0},h={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},function(e,t,n){"use strict";function r(e,t){this.width=e,this.height=t,this.bin=new a(e,t),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function i(e,t,n,r,i,o,a,s,l,u,c){var f,h,d=r*t+n,p=s*o+a;if(c)for(p-=o,h=-1;h<=u;h++,d=((h+u)%u+r)*t+n,p+=o)for(f=-1;f<=l;f++)i[p+f]=e[d+(f+l)%l];else for(h=0;h<u;h++,d+=t,p+=o)for(f=0;f<l;f++)i[p+f]=e[d+f]}function o(e,t,n,r,i){this.rect=e,this.width=t,this.height=n,this.sdf=r,this.pixelRatio=i}var a=n(664),s=n(37),l=n(1);e.exports=r,r.prototype.allocateImage=function(e,t){e/=this.pixelRatio,t/=this.pixelRatio;var n=e+2+(4-(e+2)%4),r=t+2+(4-(t+2)%4),i=this.bin.packOne(n,r);return i||(l.warnOnce("SpriteAtlas out of space."),null)},r.prototype.getImage=function(e,t){if(this.images[e])return this.images[e];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(e);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var i=new o(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[e]=i,this.copy(r,n,t),i},r.prototype.getPosition=function(e,t){var n=this.getImage(e,t),r=n&&n.rect;if(!r)return null;var i=n.width*n.pixelRatio,o=n.height*n.pixelRatio;return{size:[n.width,n.height],tl:[(r.x+1)/this.width,(r.y+1)/this.height],br:[(r.x+1+i)/this.width,(r.y+1+o)/this.height]}},r.prototype.allocate=function(){if(!this.data){var e=Math.floor(this.width*this.pixelRatio),t=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(e*t);for(var n=0;n<this.data.length;n++)this.data[n]=0}},r.prototype.copy=function(e,t,n){if(this.sprite.img.data){var r=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var o=this.data;i(r,this.sprite.img.width,t.x,t.y,o,this.width*this.pixelRatio,(e.x+1)*this.pixelRatio,(e.y+1)*this.pixelRatio,t.width,t.height,n),this.dirty=!0}},r.prototype.setSprite=function(e){e&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=e},r.prototype.addIcons=function(e,t){for(var n=0;n<e.length;n++)this.getImage(e[n]);t(null,this.images)},r.prototype.bind=function(e,t){var n=!1;this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n=!0);var r=t?e.LINEAR:e.NEAREST;r!==this.filter&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)}},function(e,t,n){"use strict";var r=n(51),i=n(22),o={scrollZoom:n(1240),boxZoom:n(1235),dragRotate:n(1238),dragPan:n(1237),keyboard:n(1239),doubleClickZoom:n(1236),touchZoomRotate:n(1241)};e.exports=function(e,t){function n(e){g("mouseout",e)}function a(t){e.stop(),_=r.mousePos(b,t),g("mousedown",t)}function s(t){var n=e.dragRotate&&e.dragRotate.isActive();x&&!n&&g("contextmenu",x),x=null,g("mouseup",t)}function l(t){if((!e.dragPan||!e.dragPan.isActive())&&(!e.dragRotate||!e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==b;)n=n.parentNode;n===b&&g("mousemove",t)}}function u(t){e.stop(),y("touchstart",t),!t.touches||t.touches.length>1||(w?(clearTimeout(w),w=null,g("dblclick",t)):w=setTimeout(d,300))}function c(e){y("touchmove",e)}function f(e){y("touchend",e)}function h(e){y("touchcancel",e)}function d(){w=null}function p(e){r.mousePos(b,e).equals(_)&&g("click",e)}function m(e){g("dblclick",e),e.preventDefault()}function v(e){x=e,e.preventDefault()}function g(t,n){var i=r.mousePos(b,n);return e.fire(t,{lngLat:e.unproject(i),point:i,originalEvent:n})}function y(t,n){var o=r.touchPos(b,n),a=o.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new i(0,0));return e.fire(t,{lngLat:e.unproject(a),point:a,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var b=e.getCanvasContainer(),x=null,_=null,w=null;for(var M in o)e[M]=new o[M](e,t),t.interactive&&t[M]&&e[M].enable();b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",a,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",l,!1),b.addEventListener("touchstart",u,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",h,!1),b.addEventListener("click",p,!1),b.addEventListener("dblclick",m,!1),b.addEventListener("contextmenu",v,!1)}},function(e,t,n){"use strict";var r=n(1),i=n(217),o=n(37),a=n(78),s=n(214),l=n(22),u=e.exports=function(){};r.extend(u.prototype,{getCenter:function(){return this.transform.center},setCenter:function(e,t){return this.jumpTo({center:e},t),this},panBy:function(e,t,n){return this.panTo(this.transform.center,r.extend({offset:l.convert(e).mult(-1)},t),n),this},panTo:function(e,t,n){return this.easeTo(r.extend({center:e},t),n)},getZoom:function(){return this.transform.zoom},setZoom:function(e,t){return this.jumpTo({zoom:e},t),this},zoomTo:function(e,t,n){return this.easeTo(r.extend({zoom:e},t),n)},zoomIn:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},zoomOut:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},getBearing:function(){return this.transform.bearing},setBearing:function(e,t){return this.jumpTo({bearing:e},t),this},rotateTo:function(e,t,n){return this.easeTo(r.extend({bearing:e},t),n)},resetNorth:function(e,t){return this.rotateTo(0,r.extend({duration:1e3},e),t),this},snapToNorth:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},getPitch:function(){return this.transform.pitch},setPitch:function(e,t){return this.jumpTo({pitch:e},t),this},fitBounds:function(e,t,n){t=r.extend({padding:0,offset:[0,0],maxZoom:1/0},t),e=s.convert(e);var i=l.convert(t.offset),o=this.transform,a=o.project(e.getNorthWest()),u=o.project(e.getSouthEast()),c=u.sub(a),f=(o.width-2*t.padding-2*Math.abs(i.x))/c.x,h=(o.height-2*t.padding-2*Math.abs(i.y))/c.y;return t.center=o.unproject(a.add(u).div(2)),t.zoom=Math.min(o.scaleZoom(o.scale*Math.min(f,h)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,n):this.flyTo(t,n)},jumpTo:function(e,t){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),"center"in e&&(n.center=a.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),r&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),i&&this.fire("rotate",t),o&&this.fire("pitch",t),this.fire("moveend",t)},easeTo:function(e,t){this.stop(),e=r.extend({offset:[0,0],duration:500,easing:r.ease},e);var n,o,s=this.transform,u=l.convert(e.offset),c=this.getZoom(),f=this.getBearing(),h=this.getPitch(),d="zoom"in e?+e.zoom:c,p="bearing"in e?this._normalizeBearing(e.bearing,f):f,m="pitch"in e?+e.pitch:h;"center"in e?(n=a.convert(e.center),o=s.centerPoint.add(u)):"around"in e?(n=a.convert(e.around),o=s.locationPoint(n)):(o=s.centerPoint.add(u),n=s.pointLocation(o));var v=s.locationPoint(n);return!1===e.animate&&(e.duration=0),this.zooming=d!==c,this.rotating=f!==p,this.pitching=m!==h,e.noMoveStart||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),clearTimeout(this._onEaseEnd),this._ease(function(e){this.zooming&&(s.zoom=i(c,d,e)),this.rotating&&(s.bearing=i(f,p,e)),this.pitching&&(s.pitch=i(h,m,e)),s.setLocationAtPoint(n,v.add(o.sub(v)._mult(e))),this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){e.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,t),e.delayEndEvents):this._easeToEnd(t)}.bind(this),e),this},_easeToEnd:function(e){var t=this.zooming;this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),this.fire("moveend",e)},flyTo:function(e,t){function n(e){var t=(E*E-k*k+(e?-1:1)*C*C*S*S)/(2*(e?E:k)*C*S);return Math.log(Math.sqrt(t*t+1)-t)}function o(e){return(Math.exp(e)-Math.exp(-e))/2}function s(e){return(Math.exp(e)+Math.exp(-e))/2}function u(e){return o(e)/s(e)}this.stop(),e=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},e);var c=this.transform,f=l.convert(e.offset),h=this.getZoom(),d=this.getBearing(),p=this.getPitch(),m="center"in e?a.convert(e.center):this.getCenter(),v="zoom"in e?+e.zoom:h,g="bearing"in e?this._normalizeBearing(e.bearing,d):d,y="pitch"in e?+e.pitch:p;Math.abs(c.center.lng)+Math.abs(m.lng)>180&&(c.center.lng>0&&m.lng<0?m.lng+=360:c.center.lng<0&&m.lng>0&&(m.lng-=360));var b=c.zoomScale(v-h),x=c.point,_="center"in e?c.project(m).sub(f.div(b)):x,w=c.worldSize,M=e.curve,k=Math.max(c.width,c.height),E=k/b,S=_.sub(x).mag();if("minZoom"in e){var T=r.clamp(Math.min(e.minZoom,h,v),c.minZoom,c.maxZoom),A=k/c.zoomScale(T-h);M=Math.sqrt(A/S*2)}var C=M*M,D=n(0),O=function(e){return s(D)/s(D+M*e)},P=function(e){return k*((s(D)*u(D+M*e)-o(D))/C)/S},L=(n(1)-D)/M;if(Math.abs(S)<1e-6){if(Math.abs(k-E)<1e-6)return this.easeTo(e);var I=E<k?-1:1;L=Math.abs(Math.log(E/k))/M,P=function(){return 0},O=function(e){return Math.exp(I*M*e)}}if("duration"in e)e.duration=+e.duration;else{var N="screenSpeed"in e?+e.screenSpeed/M:+e.speed;e.duration=1e3*L/N}return this.zooming=!0,d!==g&&(this.rotating=!0),p!==y&&(this.pitching=!0),this.fire("movestart",t),this.fire("zoomstart",t),this._ease(function(e){var n=e*L,r=P(n);c.zoom=h+c.scaleZoom(1/O(n)),c.center=c.unproject(x.add(_.sub(x).mult(r)),w),this.rotating&&(c.bearing=i(d,g,e)),this.pitching&&(c.pitch=i(p,y,e)),this.fire("move",t),this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",t),this.fire("moveend",t)},e),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(e,t,n){this._finishFn=t,this._abortFn=o.timed(function(t){e.call(this,n.easing(t)),1===t&&this._finishEase()},!1===n.animate?0:n.duration,this)},_finishEase:function(){delete this._abortFn;var e=this._finishFn;delete this._finishFn,e.call(this)},_normalizeBearing:function(e,t){e=r.wrap(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e},_updateEasing:function(e,t,n){var i;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),l=.27/Math.sqrt(s*s+1e-4)*.01,u=Math.sqrt(.0729-l*l);i=r.bezier(l,u,.25,1)}else i=n?r.bezier.apply(r,n):r.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,t),duration:e,easing:i},i}})},function(e,t,n){"use strict";function r(e){s.setOptions(this,e)}var i=n(216),o=n(37),a=n(51),s=n(1);e.exports=r;var l={enableHighAccuracy:!1,timeout:6e3};r.prototype=s.inherit(i,{options:{position:"top-right"},onAdd:function(e){var t=this._container=a.create("div","mapboxgl-ctrl-group",e.getContainer());return o.supportsGeolocation?(this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._geolocateButton=a.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),t):t},_onContextMenu:function(e){e.preventDefault()},_onClickGeolocate:function(){navigator.geolocation.getCurrentPosition(this._success.bind(this),this._error.bind(this),l),this._timeoutId=setTimeout(this._finish.bind(this),1e4)},_success:function(e){this._map.jumpTo({center:[e.coords.longitude,e.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",e),this._finish()},_error:function(e){this.fire("error",e),this._finish()},_finish:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}})},function(e,t,n){"use strict";function r(e){s.setOptions(this,e)}function i(e){return new MouseEvent(e.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:e.detail,view:e.view,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey})}var o=n(216),a=n(51),s=n(1);e.exports=r,r.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(e){var t="mapboxgl-ctrl",n=this._container=a.create("div",t+"-group",e.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(t+"-icon "+t+"-zoom-in",e.zoomIn.bind(e)),this._zoomOutButton=this._createButton(t+"-icon "+t+"-zoom-out",e.zoomOut.bind(e)),this._compass=this._createButton(t+"-icon "+t+"-compass",e.resetNorth.bind(e)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),e.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=e.getCanvasContainer(),n},_onContextMenu:function(e){e.preventDefault()},_onCompassDown:function(e){0===e.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(i(e)),e.stopPropagation())},_onCompassMove:function(e){0===e.button&&(this._el.dispatchEvent(i(e)),e.stopPropagation())},_onCompassUp:function(e){0===e.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(i(e)),e.stopPropagation())},_createButton:function(e,t){var n=a.create("button",e,this._container);return n.type="button",n.addEventListener("click",function(){t()}),n},_rotateCompassArrow:function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e}})},function(e,t,n){"use strict";function r(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),a.bindHandlers(this)}var i=n(51),o=n(214),a=n(1);e.exports=r,r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},_onMouseDown:function(e){e.shiftKey&&0===e.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=i.mousePos(this._el,e),this._active=!0)},_onMouseMove:function(e){var t=this._startPos,n=i.mousePos(this._el,e);this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var r=Math.min(t.x,n.x),o=Math.max(t.x,n.x),a=Math.min(t.y,n.y),s=Math.max(t.y,n.y);i.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=o-r+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(e){if(0===e.button){var t=this._startPos,n=i.mousePos(this._el,e),r=new o(this._map.unproject(t),this._map.unproject(n));this._finish(),t.x===n.x&&t.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(r,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:r})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},_finish:function(){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),i.enableDrag()},_fireEvent:function(e,t){return this._map.fire(e,{originalEvent:t})}}},function(e,t,n){"use strict";function r(e){this._map=e,this._onDblClick=this._onDblClick.bind(this)}e.exports=r,r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},_onDblClick:function(e){this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)}}},function(e,t,n){"use strict";function r(e){this._map=e,this._el=e.getCanvasContainer(),o.bindHandlers(this)}var i=n(51),o=n(1);e.exports=r;var a=o.bezier(0,0,.3,1);r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},_onDown:function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=i.mousePos(this._el,e),this._inertia=[[Date.now(),this._pos]])},_onMove:function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e));var t=i.mousePos(this._el,e),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),t]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),t),this._fireEvent("drag",e),this._fireEvent("move",e),this._pos=t,e.preventDefault()}},_onUp:function(e){if(this.isActive()){this._active=!1,this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=function(){this._fireEvent("moveend",e)}.bind(this),n=this._inertia;if(n.length<2)return void t();var r=n[n.length-1],i=n[0],o=r[1].sub(i[1]),s=(r[0]-i[0])/1e3;if(0===s||r[1].equals(i[1]))return void t();var l=o.mult(.3/s),u=l.mag();u>1400&&(u=1400,l._unit()._mult(u));var c=u/750,f=l.mult(-c/2);this._map.panBy(f,{duration:1e3*c,easing:a,noMoveStart:!0},{originalEvent:e})}},_onMouseUp:function(e){this._ignoreEvent(e)||(this._onUp(e),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(e){this._ignoreEvent(e)||(this._onUp(e),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(e,t){return this._map.fire(e,{originalEvent:t})},_ignoreEvent:function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragRotate&&t.dragRotate.isActive())return!0;if(e.touches)return e.touches.length>1;if(e.ctrlKey)return!0;return"mousemove"===e.type?!1&e.buttons:0!==e.button},_drainInertiaBuffer:function(){for(var e=this._inertia,t=Date.now();e.length>0&&t-e[0][0]>160;)e.shift()}}},function(e,t,n){"use strict";function r(e,t){this._map=e,this._el=e.getCanvasContainer(),this._bearingSnap=t.bearingSnap,a.bindHandlers(this)}var i=n(51),o=n(22),a=n(1);e.exports=r;var s=a.bezier(0,0,.25,1);r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},_onDown:function(e){if(!this._ignoreEvent(e)&&!this.isActive()){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=i.mousePos(this._el,e),this._center=this._map.transform.centerPoint;var t=this._startPos.sub(this._center);t.mag()<200&&(this._center=this._startPos.add(new o(-200,0)._rotate(t.angle()))),e.preventDefault()}},_onMove:function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e));var t=this._map;t.stop();var n=this._pos,r=i.mousePos(this._el,e),o=this._center,a=n.sub(o).angleWith(r.sub(o))/Math.PI*180,s=t.getBearing()-a,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),t._normalizeBearing(s,u[1])]),t.transform.bearing=s,this._fireEvent("rotate",e),this._fireEvent("move",e),this._pos=r}},_onUp:function(e){if(!this._ignoreEvent(e)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var t=this._map,n=t.getBearing(),r=this._inertia,i=function(){Math.abs(n)<this._bearingSnap?t.resetNorth({noMoveStart:!0},{originalEvent:e}):this._fireEvent("moveend",e)}.bind(this);if(r.length<2)return void i();var o=r[0],a=r[r.length-1],l=r[r.length-2],u=t._normalizeBearing(n,l[1]),c=a[1]-o[1],f=c<0?-1:1,h=(a[0]-o[0])/1e3;if(0===c||0===h)return void i();var d=Math.abs(c*(.25/h));d>180&&(d=180);var p=d/180;u+=f*d*(p/2),Math.abs(t._normalizeBearing(u,0))<this._bearingSnap&&(u=t._normalizeBearing(0,u)),t.rotateTo(u,{duration:1e3*p,easing:s,noMoveStart:!0},{originalEvent:e})}},_fireEvent:function(e,t){return this._map.fire(e,{originalEvent:t})},_ignoreEvent:function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragPan&&t.dragPan.isActive())return!0;if(e.touches)return e.touches.length>1;var n=e.ctrlKey?1:2,r=e.ctrlKey?0:2;return"mousemove"===e.type?e.buttons&0===n:e.button!==r},_drainInertiaBuffer:function(){for(var e=this._inertia,t=Date.now();e.length>0&&t-e[0][0]>160;)e.shift()}}},function(e,t,n){"use strict";function r(e){this._map=e,this._el=e.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=r;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=this._map,n={originalEvent:e};if(!t.isEasing())switch(e.keyCode){case 61:case 107:case 171:case 187:t.zoomTo(Math.round(t.getZoom())+(e.shiftKey?2:1),n);break;case 189:case 109:case 173:t.zoomTo(Math.round(t.getZoom())-(e.shiftKey?2:1),n);break;case 37:e.shiftKey?t.easeTo({bearing:t.getBearing()-2},n):(e.preventDefault(),t.panBy([-80,0],n));break;case 39:e.shiftKey?t.easeTo({bearing:t.getBearing()+2},n):(e.preventDefault(),t.panBy([80,0],n));break;case 38:e.shiftKey?t.easeTo({pitch:t.getPitch()+5},n):(e.preventDefault(),t.panBy([0,-80],n));break;case 40:e.shiftKey?t.easeTo({pitch:Math.max(t.getPitch()-5,0)},n):(e.preventDefault(),t.panBy([0,80],n))}}}}},function(e,t,n){"use strict";function r(e){this._map=e,this._el=e.getCanvasContainer(),a.bindHandlers(this)}var i=n(51),o=n(37),a=n(1);e.exports=r;var s="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",l=-1!==s.indexOf("firefox"),u=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom");r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},_onWheel:function(e){var t;"wheel"===e.type?(t=e.deltaY,l&&e.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(t/=o.devicePixelRatio),e.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,u&&(t/=3));var n=o.now(),r=n-(this._time||0);this._pos=i.mousePos(this._el,e),this._time=n,0!==t&&t%4.000244140625===0?(this._type="wheel",t=Math.floor(t/4)):0!==t&&Math.abs(t)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(r*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(e,t){if(0!==e){var n=this._map,r=2/(1+Math.exp(-Math.abs(e/100)));e<0&&0!==r&&(r=1/r);var i=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(i*r);n.zoomTo(o,{duration:0,around:n.unproject(this._pos),delayEndEvents:200},{originalEvent:t})}}}},function(e,t,n){"use strict";function r(e){this._map=e,this._el=e.getCanvasContainer(),o.bindHandlers(this)}var i=n(51),o=n(1);e.exports=r;var a=o.bezier(0,0,.15,1);r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(e){if(2===e.touches.length){var t=i.mousePos(this._el,e.touches[0]),n=i.mousePos(this._el,e.touches[1]);this._startVec=t.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(e){if(2===e.touches.length){var t=i.mousePos(this._el,e.touches[0]),n=i.mousePos(this._el,e.touches[1]),r=t.add(n).div(2),o=t.sub(n),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var u={duration:0,around:l.unproject(r)};"rotate"===this._gestureIntent&&(u.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(u.zoom=l.transform.scaleZoom(this._startScale*a)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,r]),l.easeTo(u,{originalEvent:e})}else{var c=Math.abs(1-a)>.15;Math.abs(s)>4?this._gestureIntent="rotate":c&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}e.preventDefault()}},_onEnd:function(e){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,n=this._map;if(t.length<2)return void n.snapToNorth({},{originalEvent:e});var r=t[t.length-1],i=t[0],o=n.transform.scaleZoom(this._startScale*r[1]),s=n.transform.scaleZoom(this._startScale*i[1]),l=o-s,u=(r[0]-i[0])/1e3,c=r[2];if(0===u||o===s)return void n.snapToNorth({},{originalEvent:e});var f=.15*l/u;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var h=1e3*Math.abs(f/(12*.15)),d=o+f*h/2e3;d<0&&(d=0),n.easeTo({zoom:d,duration:h,easing:a,around:n.unproject(c)},{originalEvent:e})},_drainInertiaBuffer:function(){for(var e=this._inertia,t=Date.now();e.length>2&&t-e[0][0]>160;)e.shift()}}},function(e,t,n){"use strict";function r(){i.bindAll(["_onHashChange","_updateHash"],this)}e.exports=r;var i=n(1);r.prototype={addTo:function(e){return this._map=e,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var e=location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0)}),!0)},_updateHash:function(){var e=this._map.getCenter(),t=this._map.getZoom(),n=this._map.getBearing(),r=Math.max(0,Math.ceil(Math.log(t)/Math.LN2)),i="#"+Math.round(100*t)/100+"/"+e.lat.toFixed(r)+"/"+e.lng.toFixed(r)+(n?"/"+Math.round(10*n)/10:"");window.history.replaceState("","",i)}}},function(e,t,n){"use strict";function r(e){e.parentNode&&e.parentNode.removeChild(e)}var i=n(1246),o=n(1),a=n(37),s=n(37).window,l=n(46),u=n(51),c=n(519),f=n(517),h=n(1199),d=n(1188),p=n(1242),m=n(1231),v=n(1232),g=n(78),y=n(214),b=n(22),x=n(528),_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:20,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,workerCount:Math.max(a.hardwareConcurrency-1,1)},w=e.exports=function(e){if(e=o.extend({},_,e),e.workerCount<1)throw new Error("workerCount must an integer greater than or equal to 1.");this._interactive=e.interactive,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._workerCount=e.workerCount,this._bearingSnap=e.bearingSnap,"string"===typeof e.container?this._container=document.getElementById(e.container):this._container=e.container,this.animationLoop=new f,this.transform=new d(e.minZoom,e.maxZoom),e.maxBounds&&this.setMaxBounds(e.maxBounds),o.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowOnline","_onWindowResize","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!==typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),m(this,e),this._hash=e.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.stacks={},this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style),e.attributionControl&&this.addControl(new x(e.attributionControl));var t=this.fire.bind(this,"error");this.on("style.error",t),this.on("source.error",t),this.on("tile.error",t),this.on("layer.error",t)};o.extend(w.prototype,l),o.extend(w.prototype,v.prototype),o.extend(w.prototype,{addControl:function(e){return e.addTo(this),this},addClass:function(e,t){return this._classes.indexOf(e)>=0||""===e?this:(this._classes.push(e),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},removeClass:function(e,t){var n=this._classes.indexOf(e);return n<0||""===e?this:(this._classes.splice(n,1),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},setClasses:function(e,t){for(var n={},r=0;r<e.length;r++)""!==e[r]&&(n[e[r]]=!0);return this._classes=Object.keys(n),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0)},hasClass:function(e){return this._classes.indexOf(e)>=0},getClasses:function(){return this._classes},resize:function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),this._canvas.resize(e,t),this.transform.resize(e,t),this.painter.resize(e,t),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var e=new y(this.transform.pointLocation(new b(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),e},setMaxBounds:function(e){if(e){var t=y.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},setMinZoom:function(e){if((e=null===e||void 0===e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},setMaxZoom:function(e){if((e=null===e||void 0===e?20:e)>=this.transform.minZoom&&e<=20)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be between the current minZoom and 20, inclusive")},project:function(e){return this.transform.locationPoint(g.convert(e))},unproject:function(e){return this.transform.pointLocation(b.convert(e))},queryRenderedFeatures:function(){var e,t={};return 2===arguments.length?(e=arguments[0],t=arguments[1]):1===arguments.length&&function(e){return e instanceof b||Array.isArray(e)}(arguments[0])?e=arguments[0]:1===arguments.length&&(t=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),t,this.transform.zoom,this.transform.angle)},_makeQueryGeometry:function(e){void 0===e&&(e=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var t;if(e instanceof b||"number"===typeof e[0])t=[b.convert(e)];else{var n=[b.convert(e[0]),b.convert(e[1])];t=[n[0],new b(n[1].x,n[0].y),n[1],new b(n[0].x,n[1].y),n[0]]}return t=t.map(function(e){return this.transform.pointCoordinate(e)}.bind(this))},querySourceFeatures:function(e,t){return this.style.querySourceFeatures(e,t)},setStyle:function(e){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),e?(this.style=e instanceof c?e:new c(e,this.animationLoop,this._workerCount),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){if(this.style)return this.style.serialize()},addSource:function(e,t){return this.style.addSource(e,t),this._update(!0),this},addSourceType:function(e,t,n){return this.style.addSourceType(e,t,n)},removeSource:function(e){return this.style.removeSource(e),this._update(!0),this},getSource:function(e){return this.style.getSource(e)},addLayer:function(e,t){return this.style.addLayer(e,t),this._update(!0),this},removeLayer:function(e){return this.style.removeLayer(e),this._update(!0),this},getLayer:function(e){return this.style.getLayer(e)},setFilter:function(e,t){return this.style.setFilter(e,t),this._update(!0),this},setLayerZoomRange:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0),this},getFilter:function(e){return this.style.getFilter(e)},setPaintProperty:function(e,t,n,r){return this.style.setPaintProperty(e,t,n,r),this._update(!0),this},getPaintProperty:function(e,t,n){return this.style.getPaintProperty(e,t,n)},setLayoutProperty:function(e,t,n){return this.style.setLayoutProperty(e,t,n),this._update(!0),this},getLayoutProperty:function(e,t){return this.style.getLayoutProperty(e,t)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var e=this._container;e.classList.add("mapboxgl-map");var t=this._canvasContainer=u.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=new i(this,t);var n=this._controlContainer=u.create("div","mapboxgl-control-container",e),r=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){r[e]=u.create("div","mapboxgl-ctrl-"+e,n)})},_setupPainter:function(){var e=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer});if(!e)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new h(e,this.transform)},_contextLost:function(e){e.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:e})},_contextRestored:function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},loaded:function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},_update:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){try{this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender()}catch(e){this.fire("error",{error:e})}return this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!==typeof s&&s.removeEventListener("resize",this._onWindowResize,!1);var e=this.painter.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map")},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render))},_forwardStyleEvent:function(e){this.fire("style."+e.type,o.extend({style:e.target},e))},_forwardSourceEvent:function(e){this.fire(e.type,o.extend({style:e.target},e))},_forwardLayerEvent:function(e){this.fire(e.type,o.extend({style:e.target},e))},_forwardTileEvent:function(e){this.fire(e.type,o.extend({style:e.target},e))},_onStyleLoad:function(e){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1}),this._forwardStyleEvent(e)},_onStyleChange:function(e){this._update(!0),this._forwardStyleEvent(e)},_onSourceAdd:function(e){var t=e.source;t.onAdd&&t.onAdd(this),this._forwardSourceEvent(e)},_onSourceRemove:function(e){var t=e.source;t.onRemove&&t.onRemove(this),this._forwardSourceEvent(e)},_onSourceUpdate:function(e){this._update(),this._forwardSourceEvent(e)},_onWindowOnline:function(){this._update()},_onWindowResize:function(){this._trackResize&&this.stop().resize()._update()}}),o.extendAll(w.prototype,{_showTileBoundaries:!1,get showTileBoundaries(){return this._showTileBoundaries},set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},_showCollisionBoxes:!1,get showCollisionBoxes(){return this._showCollisionBoxes},set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,this.style._redoPlacement())},_showOverdrawInspector:!1,get showOverdrawInspector(){return this._showOverdrawInspector},set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},_repaint:!1,get repaint(){return this._repaint},set repaint(e){this._repaint=e,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(e){this._vertices=e,this._update()}})},function(e,t,n){"use strict";function r(e,t){e||(e=i.create("div")),e.classList.add("mapboxgl-marker"),this._el=e,this._offset=a.convert(t&&t.offset||[0,0]),this._update=this._update.bind(this)}e.exports=r;var i=n(51),o=n(78),a=n(22);r.prototype={addTo:function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._el),e.on("move",this._update),this._update(),this},remove:function(){this._map&&(this._map.off("move",this._update),this._map=null);var e=this._el.parentNode;return e&&e.removeChild(this._el),this},getLngLat:function(){return this._lngLat},setLngLat:function(e){return this._lngLat=o.convert(e),this._update(),this},getElement:function(){return this._el},_update:function(){if(this._map){var e=this._map.project(this._lngLat)._add(this._offset);i.setTransform(this._el,"translate("+e.x+"px,"+e.y+"px)")}}}},function(e,t,n){"use strict";function r(e){i.setOptions(this,e),i.bindAll(["_update","_onClickClose"],this)}e.exports=r;var i=n(1),o=n(46),a=n(51),s=n(78);r.prototype=i.inherit(o,{options:{closeButton:!0,closeOnClick:!0},addTo:function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},getLngLat:function(){return this._lngLat},setLngLat:function(e){return this._lngLat=s.convert(e),this._update(),this},setText:function(e){return this.setDOMContent(document.createTextNode(e))},setHTML:function(e){var t,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=e;;){if(!(t=r.firstChild))break;n.appendChild(t)}return this.setDOMContent(n)},setDOMContent:function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var e=this._map.project(this._lngLat).round(),t=this.options.anchor;if(!t){var n=this._container.offsetWidth,r=this._container.offsetHeight;t=e.y<r?["top"]:e.y>this._map.transform.height-r?["bottom"]:[],e.x<n/2?t.push("left"):e.x>this._map.transform.width-n/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var i={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},o=this._container.classList;for(var s in i)o.remove("mapboxgl-popup-anchor-"+s);o.add("mapboxgl-popup-anchor-"+t),a.setTransform(this._container,i[t]+" translate("+e.x+"px,"+e.y+"px)")}},_onClickClose:function(){this.remove()}})},function(e,t,n){"use strict";function r(e,t){this.canvas=document.createElement("canvas"),e&&t&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",e._contextLost.bind(e),!1),this.canvas.addEventListener("webglcontextrestored",e._contextRestored.bind(e),!1),this.canvas.setAttribute("tabindex",0),t.appendChild(this.canvas))}var i=n(1),o=n(509);e.exports=r,r.prototype.resize=function(e,t){var n=window.devicePixelRatio||1;this.canvas.width=n*e,this.canvas.height=n*t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px"},r.prototype.getWebGLContext=function(e){return e=i.extend({},e,o.webGLContextAttributes),this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e)},r.prototype.getElement=function(){return this.canvas}},function(e,t,n){"use strict";var r=n(1709);e.exports=function(){return new r(n(1210))}},function(e,t,n){"use strict";function r(e,t){return t.area-e.area}function i(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var o=n(1571);e.exports=function(e,t){var n=e.length;if(n<=1)return[e];for(var a,s,l=[],u=0;u<n;u++){var c=i(e[u]);0!==c&&(e[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[e[u]]):a.push(e[u]))}if(a&&l.push(a),t>1)for(var f=0;f<l.length;f++)l[f].length<=t||(o(l[f],t,1,l[f].length-1,r),l[f]=l[f].slice(0,t));return l}},function(e,t,n){"use strict";function r(e,t){this.actors=[],this.currentActor=0;for(var n=0;n<e;n++){var r=new a,i=new o(r,t);i.name="Worker "+n,this.actors.push(i)}}var i=n(1),o=n(529),a=n(1247);e.exports=r,r.prototype={broadcast:function(e,t,n){n=n||function(){},i.asyncAll(this.actors,function(n,r){n.send(e,t,r)},n)},send:function(e,t,n,r,i){return("number"!==typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n,i),r},remove:function(){for(var e=0;e<this.actors.length;e++)this.actors[e].target.terminate();this.actors=[]}}},function(e,t,n){"use strict";function r(e,t){this.stacks=e.readFields(i,[],t)}function i(e,t,n){if(1===e){var r=n.readMessage(o,{glyphs:{}});t.push(r)}}function o(e,t,n){if(1===e)t.name=n.readString();else if(2===e)t.range=n.readString();else if(3===e){var r=n.readMessage(a,{});t.glyphs[r.id]=r}}function a(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];if(d(i,l))return!0;if(c(l,i,n))return!0}return!1}function i(e,t){if(1===e.length&&1===e[0].length)return h(t,e[0][0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(h(e,r[i]))return!0;for(var o=0;o<e.length;o++){for(var a=e[o],l=0;l<a.length;l++)if(h(t,a[l]))return!0;for(var u=0;u<t.length;u++)if(s(a,t[u]))return!0}return!1}function o(e,t,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++){var s=e[o];if(s.length>=3)for(var l=0;l<i.length;l++)if(d(s,i[l]))return!0;if(a(s,i,n))return!0}return!1}function a(e,t,n){if(e.length>1){if(s(e,t))return!0;for(var r=0;r<t.length;r++)if(c(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(c(e[i],t,n))return!0;return!1}function s(e,t){for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++){var a=t[o],s=t[o+1];if(u(r,i,a,s))return!0}return!1}function l(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function u(e,t,n,r){return l(e,n,r)!==l(t,n,r)&&l(e,t,n)!==l(e,t,r)}function c(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++){if(f(e,t[i-1],t[i])<r)return!0}return!1}function f(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i<0?e.distSqr(t):i>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(i)._add(t))}function h(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++){n=e[a];for(var s=0,l=n.length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>t.y!==i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function d(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!==a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:o}},function(e,t,n){"use strict";function r(e,t){this.max=e,this.onRemove=t,this.reset()}e.exports=r,r.prototype.reset=function(){for(var e in this.data)this.onRemove(this.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(e){return e in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},r.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this.get(this.order[0]);t&&this.onRemove(t)}return this}},function(e,t,n){"use strict";function r(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=0,i===t&&(r[i]+=.5),i===n&&(r[i]+=.5);return r}function i(e,t){if(0===t||t===(1<<e+1)-1)return[];for(var n=[],i=[],o=0;o<=e;++o)if(t&1<<o){n.push(r(e,o-1,o-1)),i.push(null);for(var s=0;s<=e;++s)~t&1<<s&&(n.push(r(e,o-1,s-1)),i.push([o,s]))}var l=a(n),u=[];e:for(var o=0;o<l.length;++o){for(var c=l[o],f=[],s=0;s<c.length;++s){if(!i[c[s]])continue e;f.push(i[c[s]].slice())}u.push(f)}return u}function o(e){for(var t=1<<e+1,n=new Array(t),r=0;r<t;++r)n[r]=i(e,r);return n}e.exports=o;var a=n(445)},function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function i(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function o(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}var a=n(1255),s=n(455),l=n(979),u=n(456),c=n(86),f=n(462),h={length:n(1050),normalize:n(287),dot:n(477),cross:n(476)},d=s(),p=s(),m=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];e.exports=function(e,t,n,s,y,b){if(t||(t=[0,0,0]),n||(n=[0,0,0]),s||(s=[0,0,0]),y||(y=[0,0,0,1]),b||(b=[0,0,0,1]),!a(d,e))return!1;if(l(p,d),p[3]=0,p[7]=0,p[11]=0,p[15]=1,Math.abs(u(p)<1e-8))return!1;var x=d[3],_=d[7],w=d[11],M=d[12],k=d[13],E=d[14],S=d[15];if(0!==x||0!==_||0!==w){m[0]=x,m[1]=_,m[2]=w,m[3]=S;if(!c(p,p))return!1;f(p,p),r(y,m,p)}else y[0]=y[1]=y[2]=0,y[3]=1;if(t[0]=M,t[1]=k,t[2]=E,i(v,d),n[0]=h.length(v[0]),h.normalize(v[0],v[0]),s[0]=h.dot(v[0],v[1]),o(v[1],v[1],v[0],1,-s[0]),n[1]=h.length(v[1]),h.normalize(v[1],v[1]),s[0]/=n[1],s[1]=h.dot(v[0],v[2]),o(v[2],v[2],v[0],1,-s[1]),s[2]=h.dot(v[1],v[2]),o(v[2],v[2],v[1],1,-s[2]),n[2]=h.length(v[2]),h.normalize(v[2],v[2]),s[1]/=n[2],s[2]/=n[2],h.cross(g,v[1],v[2]),h.dot(v[0],g)<0)for(var T=0;T<3;T++)n[T]*=-1,v[T][0]*=-1,v[T][1]*=-1,v[T][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),b[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(b[0]=-b[0]),v[0][2]>v[2][0]&&(b[1]=-b[1]),v[1][0]>v[0][1]&&(b[2]=-b[2]),!0}},function(e,t){e.exports=function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}},function(e,t,n){function r(e,t,n,r){if(0===c(t)||0===c(n))return!1;var i=u(t,h.translate,h.scale,h.skew,h.perspective,h.quaternion),o=u(n,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!i||!o)&&(s(p.translate,h.translate,d.translate,r),s(p.skew,h.skew,d.skew,r),s(p.scale,h.scale,d.scale,r),s(p.perspective,h.perspective,d.perspective,r),f(p.quaternion,h.quaternion,d.quaternion,r),l(e,p.translate,p.scale,p.skew,p.perspective,p.quaternion),!0)}function i(){return{translate:o(),scale:o(1),skew:o(),perspective:a(),quaternion:a()}}function o(e){return[e||0,e||0,e||0]}function a(){return[0,0,0,1]}var s=n(1051),l=n(1257),u=n(1254),c=n(456),f=n(1570),h=i(),d=i(),p=i();e.exports=r},function(e,t,n){var r={identity:n(458),translate:n(461),multiply:n(120),create:n(455),scale:n(460),fromRotationTranslation:n(980)},i=(r.create(),r.create());e.exports=function(e,t,n,o,a,s){return r.identity(e),r.fromRotationTranslation(e,s,t),e[3]=a[0],e[7]=a[1],e[11]=a[2],e[15]=a[3],r.identity(i),0!==o[2]&&(i[9]=o[2],r.multiply(e,e,i)),0!==o[1]&&(i[9]=0,i[8]=o[1],r.multiply(e,e,i)),0!==o[0]&&(i[8]=0,i[4]=o[0],r.multiply(e,e,i)),r.scale(e,e,n),e}},function(e,t,n){"use strict";function r(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}function i(e){return e=e||{},new r(e.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}var o=n(96),a=n(1256),s=n(86),l=n(983),u=n(984),c=n(985),f=n(459),h=n(461),d=(n(460),n(287)),p=[0,0,0];e.exports=i;var m=r.prototype;m.recalcMatrix=function(e){var t=this._time,n=o.le(t,e),r=this.computedMatrix;if(!(n<0)){var i=this._components;if(n===t.length-1)for(var l=16*n,u=0;u<16;++u)r[u]=i[l++];else{for(var c=t[n+1]-t[n],l=16*n,f=this.prevMatrix,h=!0,u=0;u<16;++u)f[u]=i[l++];for(var p=this.nextMatrix,u=0;u<16;++u)p[u]=i[l++],h=h&&f[u]===p[u];if(c<1e-6||h)for(var u=0;u<16;++u)r[u]=f[u];else a(r,f,p,(e-t[n])/c)}var m=this.computedUp;m[0]=r[1],m[1]=r[5],m[2]=r[9],d(m,m);var v=this.computedInverse;s(v,r);var g=this.computedEye,y=v[15];g[0]=v[12]/y,g[1]=v[13]/y,g[2]=v[14]/y;for(var b=this.computedCenter,x=Math.exp(this.computedRadius[0]),u=0;u<3;++u)b[u]=g[u]-r[2+4*u]*x}},m.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,n=t.length-16,r=0;r<16;++r)t.push(t[n++]);this._time.push(e)}},m.flush=function(e){var t=o.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||p,r=r||this.computedUp,this.setMatrix(e,f(this.computedMatrix,t,n,r));for(var i=0,o=0;o<3;++o)i+=Math.pow(n[o]-t[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},m.rotate=function(e,t,n,r){this.recalcMatrix(e);var i=this.computedInverse;t&&u(i,i,t),n&&l(i,i,n),r&&c(i,i,r),this.setMatrix(e,s(this.computedMatrix,i))};var v=[0,0,0];m.pan=function(e,t,n,r){v[0]=-(t||0),v[1]=-(n||0),v[2]=-(r||0),this.recalcMatrix(e);var i=this.computedInverse;h(i,i,v),this.setMatrix(e,s(i,i))},m.translate=function(e,t,n,r){v[0]=t||0,v[1]=n||0,v[2]=r||0,this.recalcMatrix(e);var i=this.computedMatrix;h(i,i,v),this.setMatrix(e,i)},m.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var n=0;n<16;++n)this._components.push(t[n])}},m.setDistance=function(e,t){this.computedRadius[0]=t},m.setDistanceLimits=function(e,t){var n=this._limits;n[0]=e,n[1]=t},m.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t}},function(e,t,n){"use strict";function r(e){var t=e.length;if(t<3){for(var n=new Array(t),r=0;r<t;++r)n[r]=r;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}for(var o=new Array(t),r=0;r<t;++r)o[r]=r;o.sort(function(t,n){var r=e[t][0]-e[n][0];return r||e[t][1]-e[n][1]});for(var a=[o[0],o[1]],s=[o[0],o[1]],r=2;r<t;++r){for(var l=o[r],u=e[l],c=a.length;c>1&&i(e[a[c-2]],e[a[c-1]],u)<=0;)c-=1,a.pop();for(a.push(l),c=s.length;c>1&&i(e[s[c-2]],e[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}for(var n=new Array(s.length+a.length-2),f=0,r=0,h=a.length;r<h;++r)n[f++]=a[r];for(var d=s.length-2;d>0;--d)n[f++]=s[d];return n}e.exports=r;var i=n(59)[3]},function(e,t){function n(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var i=e.clientX||0,o=e.clientY||0,a=r(t);return n[0]=i-a.left,n[1]=o-a.top,n}function r(e){return e===window||e===document||e===document.body?i:e.getBoundingClientRect()}var i={left:0,top:0};e.exports=n},function(e,t,n){"use strict";function r(e){if("object"===typeof e){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(2===t)return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(1===t)return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0}function i(e){return e.target||e.srcElement||window}function o(e){if("object"===typeof e){if("offsetX"in e)return e.offsetX;var t=i(e),n=t.getBoundingClientRect();return e.clientX-n.left}return 0}function a(e){if("object"===typeof e){if("offsetY"in e)return e.offsetY;var t=i(e),n=t.getBoundingClientRect();return e.clientY-n.top}return 0}t.buttons=r,t.element=i,t.x=o,t.y=a},function(e,t,n){"use strict";function r(e){return"a"+e}function i(e){return"d"+e}function o(e,t){return"c"+e+"_"+t}function a(e){return"s"+e}function s(e,t){return"t"+e+"_"+t}function l(e){return"o"+e}function u(e){return"x"+e}function c(e){return"p"+e}function f(e,t){return"d"+e+"_"+t}function h(e){return"i"+e}function d(e,t){return"u"+e+"_"+t}function p(e){return"b"+e}function m(e){return"y"+e}function v(e){return"e"+e}function g(e){return"v"+e}function y(e,t,n){for(var r=0,i=0;i<e;++i)t&1<<i&&(r|=1<<n[i]);return r}function b(e,t,n,b,x,A){function C(e,t){z.push("for(",h(x[e]),"=",t,";",h(x[e]),"<",a(x[e]),";","++",h(x[e]),"){")}function D(e){for(var t=0;t<N;++t)z.push(c(t),"+=",d(t,x[e]),";");z.push("}")}function O(e){for(var t=e-1;t>=0;--t)C(t,0);for(var n=[],t=0;t<N;++t)A[t]?n.push(i(t)+".get("+c(t)+")"):n.push(i(t)+"["+c(t)+"]");for(var t=0;t<b;++t)n.push(u(t));z.push(M,"[",S,"++]=phase(",n.join(),");");for(var t=0;t<e;++t)D(t);for(var r=0;r<N;++r)z.push(c(r),"+=",d(r,x[e]),";")}function P(e){for(var t=0;t<N;++t)A[t]?z.push(o(t,0),"=",i(t),".get(",c(t),");"):z.push(o(t,0),"=",i(t),"[",c(t),"];");for(var n=[],t=0;t<N;++t)n.push(o(t,0));for(var t=0;t<b;++t)n.push(u(t));z.push(p(0),"=",M,"[",S,"]=phase(",n.join(),");");for(var r=1;r<1<<R;++r)z.push(p(r),"=",M,"[",S,"+",v(r),"];");for(var a=[],r=1;r<1<<R;++r)a.push("("+p(0)+"!=="+p(r)+")");z.push("if(",a.join("||"),"){");for(var s=[],t=0;t<R;++t)s.push(h(t));for(var t=0;t<N;++t){s.push(o(t,0));for(var r=1;r<1<<R;++r)A[t]?z.push(o(t,r),"=",i(t),".get(",c(t),"+",f(t,r),");"):z.push(o(t,r),"=",i(t),"[",c(t),"+",f(t,r),"];"),s.push(o(t,r))}for(var t=0;t<1<<R;++t)s.push(p(t));for(var t=0;t<b;++t)s.push(u(t));z.push("vertex(",s.join(),");",g(0),"=",w,"[",S,"]=",k,"++;");for(var l=(1<<R)-1,d=p(l),r=0;r<R;++r)if(0===(e&~(1<<r))){for(var m=l^1<<r,y=p(m),x=[],_=m;_>0;_=_-1&m)x.push(w+"["+S+"+"+v(_)+"]");x.push(g(0));for(var _=0;_<N;++_)1&r?x.push(o(_,l),o(_,m)):x.push(o(_,m),o(_,l));1&r?x.push(d,y):x.push(y,d);for(var _=0;_<b;++_)x.push(u(_));z.push("if(",d,"!==",y,"){","face(",x.join(),")}")}z.push("}",S,"+=1;")}function L(){for(var e=1;e<1<<R;++e)z.push(T,"=",v(e),";",v(e),"=",m(e),";",m(e),"=",T,";")}function I(e,t){if(e<0)return void P(t);O(e),z.push("if(",a(x[e]),">0){",h(x[e]),"=1;"),I(e-1,t|1<<x[e]);for(var n=0;n<N;++n)z.push(c(n),"+=",d(n,x[e]),";");e===R-1&&(z.push(S,"=0;"),L()),C(e,2),I(e-1,t),e===R-1&&(z.push("if(",h(x[R-1]),"&1){",S,"=0;}"),L()),D(e),z.push("}")}var N=A.length,R=x.length;if(R<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var j="extractContour"+x.join("_"),z=[],F=[],B=[],U=0;U<N;++U)B.push(r(U));for(var U=0;U<b;++U)B.push(u(U));for(var U=0;U<R;++U)F.push(a(U)+"="+r(0)+".shape["+U+"]|0");for(var U=0;U<N;++U){F.push(i(U)+"="+r(U)+".data",l(U)+"="+r(U)+".offset|0");for(var V=0;V<R;++V)F.push(s(U,V)+"="+r(U)+".stride["+V+"]|0")}for(var U=0;U<N;++U){F.push(c(U)+"="+l(U)),F.push(o(U,0));for(var V=1;V<1<<R;++V){for(var H=[],Y=0;Y<R;++Y)V&1<<Y&&H.push("-"+s(U,Y));F.push(f(U,V)+"=("+H.join("")+")|0"),F.push(o(U,V)+"=0")}}for(var U=0;U<N;++U)for(var V=0;V<R;++V){var W=[s(U,x[V])];V>0&&W.push(s(U,x[V-1])+"*"+a(x[V-1])),F.push(d(U,x[V])+"=("+W.join("-")+")|0")}for(var U=0;U<R;++U)F.push(h(U)+"=0");F.push(k+"=0");for(var q=["2"],U=R-2;U>=0;--U)q.push(a(x[U]));F.push(E+"=("+q.join("*")+")|0",M+"=mallocUint32("+E+")",w+"=mallocUint32("+E+")",S+"=0"),F.push(p(0)+"=0");for(var V=1;V<1<<R;++V){for(var G=[],X=[],Y=0;Y<R;++Y)V&1<<Y&&(0===X.length?G.push("1"):G.unshift(X.join("*"))),X.push(a(x[Y]));var Z="";G[0].indexOf(a(x[R-2]))<0&&(Z="-");var K=y(R,V,x);F.push(v(K)+"=(-"+G.join("-")+")|0",m(K)+"=("+Z+G.join("-")+")|0",p(K)+"=0")}F.push(g(0)+"=0",T+"=0"),I(R-1,0),z.push("freeUint32(",w,");freeUint32(",M,");");var $=["'use strict';","function ",j,"(",B.join(),"){","var ",F.join(),";",z.join(""),"}","return ",j].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",$)(e,t,n,_.mallocUint32,_.freeUint32)}function x(e){function t(e){throw new Error("ndarray-extract-contour: "+e)}"object"!==typeof e&&t("Must specify arguments");var n=e.order;Array.isArray(n)||t("Must specify order");var r=e.arrayArguments||1;r<1&&t("Must have at least one array argument");var i=e.scalarArguments||0;i<0&&t("Scalar arg count must be > 0"),"function"!==typeof e.vertex&&t("Must specify vertex creation function"),"function"!==typeof e.cell&&t("Must specify cell creation function"),"function"!==typeof e.phase&&t("Must specify phase function");for(var o=e.getters||[],a=new Array(r),s=0;s<r;++s)o.indexOf(s)>=0?a[s]=!0:a[s]=!1;return b(e.vertex,e.cell,e.phase,i,n,a)}var _=n(23);e.exports=x;var w="V",M="P",k="N",E="Q",S="X",T="T"},function(e,t,n){"use strict";var r=n(118)({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_=_inline_1_arg2_.apply(void 0,_inline_1_arg0_)}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});e.exports=function(e,t){return r(e,t),e}},function(e,t,n){"use strict";function r(e){if(e in l)return l[e];for(var t=[],n=0;n<e;++n)t.push("out",n,"s=0.5*(inp",n,"l-inp",n,"r);");for(var r=["array"],i=["junk"],n=0;n<e;++n){r.push("array"),i.push("out"+n+"s");var o=a(e);o[n]=-1,r.push({array:0,offset:o.slice()}),o[n]=1,r.push({array:0,offset:o.slice()}),i.push("inp"+n+"l","inp"+n+"r")}return l[e]=s({args:r,pre:c,post:c,body:{body:t.join(""),args:i.map(function(e){return{name:e,lvalue:0===e.indexOf("out"),rvalue:0===e.indexOf("inp"),count:"junk"!==e|0}}),thisVars:[],localVars:[]},funcName:"fdTemplate"+e})}function i(e){var t=e.join(),n=u[t];if(n)return n;for(var i=e.length,o=["function gradient(dst,src){var s=src.shape.slice();"],a=0;a<1<<i;++a){for(var s=[],c=0;c<i;++c)a&1<<c&&s.push(c+1);for(var d=0;d<1<<s.length;++d){for(var p=s.slice(),c=0;c<s.length;++c)d&1<<c&&(p[c]=-p[c]);!function(t){for(var n=i-t.length,r=[],a=[],s=[],l=0;l<i;++l)t.indexOf(l+1)>=0?s.push("0"):t.indexOf(-(l+1))>=0?s.push("s["+l+"]-1"):(s.push("-1"),r.push("1"),a.push("s["+l+"]-2"));var u=".lo("+r.join()+").hi("+a.join()+")";if(0===r.length&&(u=""),n>0){o.push("if(1");for(var l=0;l<i;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||o.push("&&s[",l,"]>2");o.push("){grad",n,"(src.pick(",s.join(),")",u);for(var l=0;l<i;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||o.push(",dst.pick(",s.join(),",",l,")",u);o.push(");")}for(var l=0;l<t.length;++l){var c=Math.abs(t[l])-1,f="dst.pick("+s.join()+","+c+")"+u;switch(e[c]){case"clamp":var h=s.slice(),d=s.slice();t[l]<0?h[c]="s["+c+"]-2":d[c]="1",0===n?o.push("if(s[",c,"]>1){dst.set(",s.join(),",",c,",0.5*(src.get(",h.join(),")-src.get(",d.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):o.push("if(s[",c,"]>1){diff(",f,",src.pick(",h.join(),")",u,",src.pick(",d.join(),")",u,");}else{zero(",f,");};");break;case"mirror":0===n?o.push("dst.set(",s.join(),",",c,",0);"):o.push("zero(",f,");");break;case"wrap":var p=s.slice(),m=s.slice();t[l]<0?(p[c]="s["+c+"]-2",m[c]="0"):(p[c]="s["+c+"]-1",m[c]="1"),0===n?o.push("if(s[",c,"]>2){dst.set(",s.join(),",",c,",0.5*(src.get(",p.join(),")-src.get(",m.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):o.push("if(s[",c,"]>2){diff(",f,",src.pick(",p.join(),")",u,",src.pick(",m.join(),")",u,");}else{zero(",f,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}n>0&&o.push("};")}(p)}}o.push("return dst;};return gradient");for(var m=["diff","zero"],v=[f,h],a=1;a<=i;++a)m.push("grad"+a),v.push(r(a));m.push(o.join(""));var g=Function.apply(void 0,m),n=g.apply(void 0,v);return l[t]=n,n}function o(e,t,n){if(Array.isArray(n)){if(n.length!==t.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else n="string"===typeof n?a(t.dimension,n):a(t.dimension,"clamp");if(e.dimension!==t.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(e.shape[t.dimension]!==t.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var r=0;r<t.dimension;++r)if(e.shape[r]!==t.shape[r])throw new Error("ndarray-gradient: shape mismatch");return 0===t.size?e:t.dimension<=0?(e.set(0),e):i(n)(e,t)}e.exports=o;var a=n(283),s=n(147),l={},u={},c={body:"",args:[],thisVars:[],localVars:[]},f=s({args:["array","array","array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),h=s({args:["array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"})},function(e,t,n){"use strict";function r(e,t,n){var r=t.dimension,a=o([],n);return i(e,t,function(e,t){for(var n=0;n<r;++n){e[n]=a[(r+1)*r+n];for(var i=0;i<r;++i)e[n]+=a[(r+1)*i+n]*t[i]}for(var o=a[(r+1)*(r+1)-1],i=0;i<r;++i)o+=a[(r+1)*i+r]*t[i];for(var s=1/o,n=0;n<r;++n)e[n]*=s;return e}),e}var i=n(1271),o=n(986);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Math.floor(t),r=t-n,i=0<=n&&n<e.shape[0],o=0<=n+1&&n+1<e.shape[0];return(1-r)*(i?+e.get(n):0)+r*(o?+e.get(n+1):0)}function i(e,t,n){var r=Math.floor(t),i=t-r,o=0<=r&&r<e.shape[0],a=0<=r+1&&r+1<e.shape[0],s=Math.floor(n),l=n-s,u=0<=s&&s<e.shape[1],c=0<=s+1&&s+1<e.shape[1],f=o&&u?e.get(r,s):0,h=o&&c?e.get(r,s+1):0;return(1-l)*((1-i)*f+i*(a&&u?e.get(r+1,s):0))+l*((1-i)*h+i*(a&&c?e.get(r+1,s+1):0))}function o(e,t,n,r){var i=Math.floor(t),o=t-i,a=0<=i&&i<e.shape[0],s=0<=i+1&&i+1<e.shape[0],l=Math.floor(n),u=n-l,c=0<=l&&l<e.shape[1],f=0<=l+1&&l+1<e.shape[1],h=Math.floor(r),d=r-h,p=0<=h&&h<e.shape[2],m=0<=h+1&&h+1<e.shape[2],v=a&&c&&p?e.get(i,l,h):0,g=a&&f&&p?e.get(i,l+1,h):0,y=s&&c&&p?e.get(i+1,l,h):0,b=s&&f&&p?e.get(i+1,l+1,h):0,x=a&&c&&m?e.get(i,l,h+1):0,_=a&&f&&m?e.get(i,l+1,h+1):0;return(1-d)*((1-u)*((1-o)*v+o*y)+u*((1-o)*g+o*b))+d*((1-u)*((1-o)*x+o*(s&&c&&m?e.get(i+1,l,h+1):0))+u*((1-o)*_+o*(s&&f&&m?e.get(i+1,l+1,h+1):0)))}function a(e){var t,n,r=0|e.shape.length,i=new Array(r),o=new Array(r),a=new Array(r),s=new Array(r);for(t=0;t<r;++t)n=+arguments[t+1],i[t]=Math.floor(n),o[t]=n-i[t],a[t]=0<=i[t]&&i[t]<e.shape[t],s[t]=0<=i[t]+1&&i[t]+1<e.shape[t];var l,u,c,f=0;e:for(t=0;t<1<<r;++t){for(u=1,c=e.offset,l=0;l<r;++l)if(t&1<<l){if(!s[l])continue e;u*=o[l],c+=e.stride[l]*(i[l]+1)}else{if(!a[l])continue e;u*=1-o[l],c+=e.stride[l]*i[l]}f+=u*e.data[c]}return f}function s(e,t,n,s){switch(e.shape.length){case 0:return 0;case 1:return r(e,t);case 2:return i(e,t,n);case 3:return o(e,t,n,s);default:return a.apply(void 0,arguments)}}e.exports=s,e.exports.d1=r,e.exports.d2=i,e.exports.d3=o},function(e,t,n){"use strict";var r=n(52),i=n(1268);e.exports=function(e,t){for(var n=[],o=e,a=1;Array.isArray(o);)n.push(o.length),a*=o.length,o=o[0];return 0===n.length?r():(t||(t=r(new Float64Array(a),n)),i(t,e),t)}},function(e,t,n){e.exports=n(147)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(e,t,n){"use strict";function r(e){switch(e){case"uint8":return[l.mallocUint8,l.freeUint8];case"uint16":return[l.mallocUint16,l.freeUint16];case"uint32":return[l.mallocUint32,l.freeUint32];case"int8":return[l.mallocInt8,l.freeInt8];case"int16":return[l.mallocInt16,l.freeInt16];case"int32":return[l.mallocInt32,l.freeInt32];case"float32":return[l.mallocFloat,l.freeFloat];case"float64":return[l.mallocDouble,l.freeDouble];default:return null}}function i(e){for(var t=[],n=0;n<e;++n)t.push("s"+n);for(var n=0;n<e;++n)t.push("n"+n);for(var n=1;n<e;++n)t.push("d"+n);for(var n=1;n<e;++n)t.push("e"+n);for(var n=1;n<e;++n)t.push("f"+n);return t}function o(e,t){function n(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function o(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}var a=["'use strict'"],s=["ndarrayInsertionSort",e.join("d"),t].join(""),l=["left","right","data","offset"].concat(i(e.length)),u=r(t),c=["i,j,cptr,ptr=left*s0+offset"];if(e.length>1){for(var f=[],h=1;h<e.length;++h)c.push("i"+h),f.push("n"+h);u?c.push("scratch=malloc("+f.join("*")+")"):c.push("scratch=new Array("+f.join("*")+")"),c.push("dptr","sptr","a","b")}else c.push("scratch");if(a.push(["function ",s,"(",l.join(","),"){var ",c.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),e.length>1){a.push("dptr=0;sptr=ptr");for(var h=e.length-1;h>=0;--h){var d=e[h];0!==d&&a.push(["for(i",d,"=0;i",d,"<n",d,";++i",d,"){"].join(""))}a.push("scratch[dptr++]=",n("sptr"));for(var h=0;h<e.length;++h){var d=e[h];0!==d&&a.push("sptr+=d"+d,"}")}a.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0");for(var h=1;h<e.length;++h)1===h&&a.push("__l:"),a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));a.push(["a=",n("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(var h=e.length-1;h>=1;--h)a.push("sptr+=e"+h,"dptr+=f"+h,"}");a.push("dptr=cptr;sptr=cptr-s0");for(var h=e.length-1;h>=0;--h){var d=e[h];0!==d&&a.push(["for(i",d,"=0;i",d,"<n",d,";++i",d,"){"].join(""))}a.push(o("dptr",n("sptr")));for(var h=0;h<e.length;++h){var d=e[h];0!==d&&a.push(["dptr+=d",d,";sptr+=d",d].join(""),"}")}a.push("cptr-=s0\n}"),a.push("dptr=cptr;sptr=0");for(var h=e.length-1;h>=0;--h){var d=e[h];0!==d&&a.push(["for(i",d,"=0;i",d,"<n",d,";++i",d,"){"].join(""))}a.push(o("dptr","scratch[sptr++]"));for(var h=0;h<e.length;++h){var d=e[h];0!==d&&a.push("dptr+=d"+d,"}")}}else a.push("scratch="+n("ptr"),"while((j--\x3eleft)&&("+n("cptr-s0")+">scratch)){",o("cptr",n("cptr-s0")),"cptr-=s0","}",o("cptr","scratch"));if(a.push("}"),e.length>1&&u&&a.push("free(scratch)"),a.push("} return "+s),u){var p=new Function("malloc","free",a.join("\n"));return p(u[0],u[1])}var p=new Function(a.join("\n"));return p()}function a(e,t,n){function o(e){return["(offset+",e,"*s0)"].join("")}function a(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function s(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}function l(t,n,r){if(1===t.length)_.push("ptr0="+o(t[0]));else for(var i=0;i<t.length;++i)_.push(["b_ptr",i,"=s0*",t[i]].join(""));n&&_.push("pivot_ptr=0"),_.push("ptr_shift=offset");for(var i=e.length-1;i>=0;--i){var a=e[i];0!==a&&_.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""))}if(t.length>1)for(var i=0;i<t.length;++i)_.push(["ptr",i,"=b_ptr",i,"+ptr_shift"].join(""));_.push(r),n&&_.push("++pivot_ptr");for(var i=0;i<e.length;++i){var a=e[i];0!==a&&(t.length>1?_.push("ptr_shift+=d"+a):_.push("ptr0+=d"+a),_.push("}"))}}function c(t,n,r,i){if(1===n.length)_.push("ptr0="+o(n[0]));else{for(var a=0;a<n.length;++a)_.push(["b_ptr",a,"=s0*",n[a]].join(""));_.push("ptr_shift=offset")}r&&_.push("pivot_ptr=0"),t&&_.push(t+":");for(var a=1;a<e.length;++a)_.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""));if(n.length>1)for(var a=0;a<n.length;++a)_.push(["ptr",a,"=b_ptr",a,"+ptr_shift"].join(""));_.push(i);for(var a=e.length-1;a>=1;--a)r&&_.push("pivot_ptr+=f"+a),n.length>1?_.push("ptr_shift+=e"+a):_.push("ptr0+=e"+a),_.push("}")}function f(){e.length>1&&k&&_.push("free(pivot1)","free(pivot2)")}function h(t,n){var r="el"+t,i="el"+n;if(e.length>1){var s="__l"+ ++E;c(s,[r,i],!1,["comp=",a("ptr0"),"-",a("ptr1"),"\n","if(comp>0){tmp0=",r,";",r,"=",i,";",i,"=tmp0;break ",s,"}\n","if(comp<0){break ",s,"}"].join(""))}else _.push(["if(",a(o(r)),">",a(o(i)),"){tmp0=",r,";",r,"=",i,";",i,"=tmp0}"].join(""))}function d(t,n){e.length>1?l([t,n],!1,s("ptr0",a("ptr1"))):_.push(s(o(t),a(o(n))))}function p(t,n,r){if(e.length>1){var i="__l"+ ++E;c(i,[n],!0,[t,"=",a("ptr0"),"-pivot",r,"[pivot_ptr]\n","if(",t,"!==0){break ",i,"}"].join(""))}else _.push([t,"=",a(o(n)),"-pivot",r].join(""))}function m(t,n){e.length>1?l([t,n],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join("")):_.push(["ptr0=",o(t),"\n","ptr1=",o(n),"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join(""))}function v(t,n,r){e.length>1?(l([t,n,r],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join("")),_.push("++"+n,"--"+r)):_.push(["ptr0=",o(t),"\n","ptr1=",o(n),"\n","ptr2=",o(r),"\n","++",n,"\n","--",r,"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join(""))}function g(e,t){m(e,t),_.push("--"+t)}function y(t,n,r){e.length>1?l([t,n],!0,[s("ptr0",a("ptr1")),"\n",s("ptr1",["pivot",r,"[pivot_ptr]"].join(""))].join("")):_.push(s(o(t),a(o(n))),s(o(n),"pivot"+r))}function b(t,n){_.push(["if((",n,"-",t,")<=",u,"){\n","insertionSort(",t,",",n,",data,offset,",i(e.length).join(","),")\n","}else{\n",w,"(",t,",",n,",data,offset,",i(e.length).join(","),")\n","}"].join(""))}function x(t,n,r){e.length>1?(_.push(["__l",++E,":while(true){"].join("")),l([t],!0,["if(",a("ptr0"),"!==pivot",n,"[pivot_ptr]){break __l",E,"}"].join("")),_.push(r,"}")):_.push(["while(",a(o(t)),"===pivot",n,"){",r,"}"].join(""))}var _=["'use strict'"],w=["ndarrayQuickSort",e.join("d"),t].join(""),M=["left","right","data","offset"].concat(i(e.length)),k=r(t),E=0;_.push(["function ",w,"(",M.join(","),"){"].join(""));var S=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(e.length>1){for(var T=[],A=1;A<e.length;++A)T.push("n"+A),S.push("i"+A);for(var A=0;A<8;++A)S.push("b_ptr"+A);S.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+T.join("*")),k?S.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):S.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else S.push("pivot1","pivot2");if(_.push("var "+S.join(",")),h(1,2),h(4,5),h(1,3),h(2,3),h(1,4),h(3,4),h(2,5),h(2,3),h(4,5),e.length>1?l(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",a("ptr1"),"\n","pivot2[pivot_ptr]=",a("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",a("ptr0"),"\n","y=",a("ptr2"),"\n","z=",a("ptr4"),"\n",s("ptr5","x"),"\n",s("ptr6","y"),"\n",s("ptr7","z")].join("")):_.push(["pivot1=",a(o("el2")),"\n","pivot2=",a(o("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",a(o("el1")),"\n","y=",a(o("el3")),"\n","z=",a(o("el5")),"\n",s(o("index1"),"x"),"\n",s(o("index3"),"y"),"\n",s(o("index5"),"z")].join("")),d("index2","left"),d("index4","right"),_.push("if(pivots_are_equal){"),_.push("for(k=less;k<=great;++k){"),p("comp","k",1),_.push("if(comp===0){continue}"),_.push("if(comp<0){"),_.push("if(k!==less){"),m("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),_.push("while(true){"),p("comp","great",1),_.push("if(comp>0){"),_.push("great--"),_.push("}else if(comp<0){"),v("k","less","great"),_.push("break"),_.push("}else{"),g("k","great"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}else{"),_.push("for(k=less;k<=great;++k){"),p("comp_pivot1","k",1),_.push("if(comp_pivot1<0){"),_.push("if(k!==less){"),m("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),p("comp_pivot2","k",2),_.push("if(comp_pivot2>0){"),_.push("while(true){"),p("comp","great",2),_.push("if(comp>0){"),_.push("if(--great<k){break}"),_.push("continue"),_.push("}else{"),p("comp","great",1),_.push("if(comp<0){"),v("k","less","great"),_.push("}else{"),g("k","great"),_.push("}"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),y("left","(less-1)",1),y("right","(great+1)",2),b("left","(less-2)"),b("(great+2)","right"),_.push("if(pivots_are_equal){"),f(),_.push("return"),_.push("}"),_.push("if(less<index1&&great>index5){"),x("less",1,"++less"),x("great",2,"--great"),_.push("for(k=less;k<=great;++k){"),p("comp_pivot1","k",1),_.push("if(comp_pivot1===0){"),_.push("if(k!==less){"),m("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),p("comp_pivot2","k",2),_.push("if(comp_pivot2===0){"),_.push("while(true){"),p("comp","great",2),_.push("if(comp===0){"),_.push("if(--great<k){break}"),_.push("continue"),_.push("}else{"),p("comp","great",1),_.push("if(comp<0){"),v("k","less","great"),_.push("}else{"),g("k","great"),_.push("}"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),f(),b("less","great"),_.push("}return "+w),e.length>1&&k){var C=new Function("insertionSort","malloc","free",_.join("\n"));return C(n,k[0],k[1])}var C=new Function("insertionSort",_.join("\n"));return C(n)}function s(e,t){var n=["'use strict'"],r=["ndarraySortWrapper",e.join("d"),t].join(""),s=["array"];n.push(["function ",r,"(",s.join(","),"){"].join(""));for(var l=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],c=0;c<e.length;++c)l.push(["s",c,"=stride[",c,"]|0,n",c,"=shape[",c,"]|0"].join(""));for(var f=new Array(e.length),h=[],c=0;c<e.length;++c){var d=e[c];0!==d&&(0===h.length?f[d]="1":f[d]=h.join("*"),h.push("n"+d))}for(var p=-1,m=-1,c=0;c<e.length;++c){var v=e[c];0!==v&&(p>0?l.push(["d",v,"=s",v,"-d",p,"*n",p].join("")):l.push(["d",v,"=s",v].join("")),p=v);var d=e.length-1-c;0!==d&&(m>0?l.push(["e",d,"=s",d,"-e",m,"*n",m,",f",d,"=",f[d],"-f",m,"*n",m].join("")):l.push(["e",d,"=s",d,",f",d,"=",f[d]].join("")),m=d)}n.push("var "+l.join(","));var g=["0","n0-1","data","offset"].concat(i(e.length));n.push(["if(n0<=",u,"){","insertionSort(",g.join(","),")}else{","quickSort(",g.join(","),")}"].join("")),n.push("}return "+r);var y=new Function("insertionSort","quickSort",n.join("\n")),b=o(e,t);return y(b,a(e,t,b))}var l=n(23),u=32;e.exports=s},function(e,t,n){"use strict";function r(e){var t=e.order,n=e.dtype,r=[t,n],a=r.join(":"),s=o[a];return s||(o[a]=s=i(t,n)),s(e),e}var i=n(1269),o={};e.exports=r},function(e,t,n){"use strict";var r=n(1266),i=n(118)({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_3_arg4_)}",args:[{name:"_inline_3_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_3_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_3_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_3_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_3_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_4_arg2_(this_warped,_inline_4_arg0_),_inline_4_arg1_=_inline_4_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_4_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_4_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg4_",lvalue:!1,rvalue:!1,count:0}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),o=n(118)({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_7_arg2_(this_warped,_inline_7_arg0_),_inline_7_arg1_=_inline_7_arg3_(_inline_7_arg4_,this_warped[0])}",args:[{name:"_inline_7_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_7_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_7_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_7_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_7_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),a=n(118)({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_10_arg2_(this_warped,_inline_10_arg0_),_inline_10_arg1_=_inline_10_arg3_(_inline_10_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_10_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_10_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),s=n(118)({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_13_arg2_(this_warped,_inline_13_arg0_),_inline_13_arg1_=_inline_13_arg3_(_inline_13_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_13_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});e.exports=function(e,t,n){switch(t.shape.length){case 1:o(e,n,r.d1,t);break;case 2:a(e,n,r.d2,t);break;case 3:s(e,n,r.d3,t);break;default:i(e,n,r.bind(void 0,t),t.shape.length)}return e}},function(e,t,n){"use strict";function r(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(0===e)return t<0?-o:o;var n=i.hi(e),r=i.lo(e);return t>e===e>0?r===a?(n+=1,r=0):r+=1:0===r?(r=a,n-=1):r-=1,i.pack(r,n)}var i=n(282),o=Math.pow(2,-1074),a=-1>>>0;e.exports=r},function(e,t){t.vertexNormals=function(e,t,n){for(var r=t.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a)i[a]=[0,0,0];for(var a=0;a<e.length;++a)for(var s=e[a],l=0,u=s[s.length-1],c=s[0],f=0;f<s.length;++f){l=u,u=c,c=s[(f+1)%s.length];for(var h=t[l],d=t[u],p=t[c],m=new Array(3),v=0,g=new Array(3),y=0,b=0;b<3;++b)m[b]=h[b]-d[b],v+=m[b]*m[b],g[b]=p[b]-d[b],y+=g[b]*g[b];if(v*y>o)for(var x=i[u],_=1/Math.sqrt(v*y),b=0;b<3;++b){var w=(b+1)%3,M=(b+2)%3;x[b]+=_*(g[w]*m[M]-g[M]*m[w])}}for(var a=0;a<r;++a){for(var x=i[a],k=0,b=0;b<3;++b)k+=x[b]*x[b];if(k>o)for(var _=1/Math.sqrt(k),b=0;b<3;++b)x[b]*=_;else for(var b=0;b<3;++b)x[b]=0}return i},t.faceNormals=function(e,t,n){for(var r=e.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a){for(var s=e[a],l=new Array(3),u=0;u<3;++u)l[u]=t[s[u]];for(var c=new Array(3),f=new Array(3),u=0;u<3;++u)c[u]=l[1][u]-l[0][u],f[u]=l[2][u]-l[0][u];for(var h=new Array(3),d=0,u=0;u<3;++u){var p=(u+1)%3,m=(u+2)%3;h[u]=c[p]*f[m]-c[m]*f[p],d+=h[u]*h[u]}d=d>o?1/Math.sqrt(d):0;for(var u=0;u<3;++u)h[u]*=d;i[a]=h}return i}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l,u){var c=t+o+u;if(f>0){var f=Math.sqrt(c+1);e[0]=.5*(a-l)/f,e[1]=.5*(s-r)/f,e[2]=.5*(n-o)/f,e[3]=.5*f}else{var h=Math.max(t,o,u),f=Math.sqrt(2*h-c+1);t>=h?(e[0]=.5*f,e[1]=.5*(i+n)/f,e[2]=.5*(s+r)/f,e[3]=.5*(a-l)/f):o>=h?(e[0]=.5*(n+i)/f,e[1]=.5*f,e[2]=.5*(l+a)/f,e[3]=.5*(s-r)/f):(e[0]=.5*(r+s)/f,e[1]=.5*(a+l)/f,e[2]=.5*f,e[3]=.5*(n-i)/f)}return e}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function i(e,t,n,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2)+Math.pow(r,2))}function o(e,t){var n=t[0],r=t[1],o=t[2],a=t[3],s=i(n,r,o,a);s>1e-6?(e[0]=n/s,e[1]=r/s,e[2]=o/s,e[3]=a/s):(e[0]=e[1]=e[2]=0,e[3]=1)}function a(e,t,n){this.radius=l([n]),this.center=l(t),this.rotation=l(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}function s(e){e=e||{};var t=e.center||[0,0,0],n=e.rotation||[0,0,0,1],r=e.radius||1;t=[].slice.call(t,0,3),n=[].slice.call(n,0,4),o(n,n);var i=new a(n,t,Math.log(r));return i.setDistanceLimits(e.zoomMin,e.zoomMax),("eye"in e||"up"in e)&&i.lookAt(0,e.eye,e.center,e.up),i}e.exports=s;var l=n(451),u=n(459),c=n(457),f=n(86),h=n(1274),d=a.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;o(t,t);var n=this.computedMatrix;c(n,t);var r=this.computedCenter,i=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],a[0]=n[1],a[1]=n[5],a[2]=n[9];for(var l=0;l<3;++l){for(var u=0,f=0;f<3;++f)u+=n[l+4*f]*i[f];n[12+l]=-u}},d.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n},d.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},d.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},d.pan=function(e,t,n,i){t=t||0,n=n||0,i=i||0,this.recalcMatrix(e);var o=this.computedMatrix,a=o[1],s=o[5],l=o[9],u=r(a,s,l);a/=u,s/=u,l/=u;var c=o[0],f=o[4],h=o[8],d=c*a+f*s+h*l;c-=a*d,f-=s*d,h-=l*d;var p=r(c,f,h);c/=p,f/=p,h/=p;var m=o[2],v=o[6],g=o[10],y=m*a+v*s+g*l,b=m*c+v*f+g*h;m-=y*a+b*c,v-=y*s+b*f,g-=y*l+b*h;var x=r(m,v,g);m/=x,v/=x,g/=x;var _=c*t+a*n,w=f*t+s*n,M=h*t+l*n;this.center.move(e,_,w,M);var k=Math.exp(this.computedRadius[0]);k=Math.max(1e-4,k+i),this.radius.set(e,Math.log(k))},d.rotate=function(e,t,n,o){this.recalcMatrix(e),t=t||0,n=n||0;var a=this.computedMatrix,s=a[0],l=a[4],u=a[8],c=a[1],f=a[5],h=a[9],d=a[2],p=a[6],m=a[10],v=t*s+n*c,g=t*l+n*f,y=t*u+n*h,b=-(p*y-m*g),x=-(m*v-d*y),_=-(d*g-p*v),w=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(x,2)-Math.pow(_,2))),M=i(b,x,_,w);M>1e-6?(b/=M,x/=M,_/=M,w/=M):(b=x=_=0,w=1);var k=this.computedRotation,E=k[0],S=k[1],T=k[2],A=k[3],C=E*w+A*b+S*_-T*x,D=S*w+A*x+T*b-E*_,O=T*w+A*_+E*x-S*b,P=A*w-E*b-S*x-T*_;if(o){b=d,x=p,_=m;var L=Math.sin(o)/r(b,x,_);b*=L,x*=L,_*=L,w=Math.cos(t),C=C*w+P*b+D*_-O*x,D=D*w+P*x+O*b-C*_,O=O*w+P*_+C*x-D*b,P=P*w-C*b-D*x-O*_}var I=i(C,D,O,P);I>1e-6?(C/=I,D/=I,O/=I,P/=I):(C=D=O=0,P=1),this.rotation.set(e,C,D,O,P)},d.lookAt=function(e,t,n,r){this.recalcMatrix(e),n=n||this.computedCenter,t=t||this.computedEye,r=r||this.computedUp;var i=this.computedMatrix;u(i,t,n,r);var a=this.computedRotation;h(a,i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]),o(a,a),this.rotation.set(e,a[0],a[1],a[2],a[3]);for(var s=0,l=0;l<3;++l)s+=Math.pow(n[l]-t[l],2);this.radius.set(e,.5*Math.log(Math.max(s,1e-6))),this.center.set(e,n[0],n[1],n[2])},d.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},d.setMatrix=function(e,t){var n=this.computedRotation;h(n,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),o(n,n),this.rotation.set(e,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;f(r,t);var i=r[15];if(Math.abs(i)>1e-6){var a=r[12]/i,s=r[13]/i,l=r[14]/i;this.recalcMatrix(e);var u=Math.exp(this.computedRadius[0]);this.center.set(e,a-r[2]*u,s-r[6]*u,l-r[10]*u),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},d.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},d.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},d.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(e){var t=this.lastT(),n=e.center;n&&this.center.set(t,n[0],n[1],n[2]);var r=e.rotation;r&&this.rotation.set(t,r[0],r[1],r[2],r[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)}},function(e,t,n){"use strict";var r=n(1666);e.exports=function(e,t,n){return n="undefined"!==typeof n?n+"":" ",r(n,t)+e}},function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},function(e,t,n){"use strict";function r(e){var t;e&&e.length&&(t=e,e=t.length);var n=new Uint8Array(e||0);return t&&n.set(t),n.readUInt32LE=o.readUInt32LE,n.writeUInt32LE=o.writeUInt32LE,n.readInt32LE=o.readInt32LE,n.writeInt32LE=o.writeInt32LE,n.readFloatLE=o.readFloatLE,n.writeFloatLE=o.writeFloatLE,n.readDoubleLE=o.readDoubleLE,n.writeDoubleLE=o.writeDoubleLE,n.toString=o.toString,n.write=o.write,n.slice=o.slice,n.copy=o.copy,n._isBuffer=!0,n}function i(e){for(var t,n,r=e.length,i=[],o=0;o<r;o++){if((t=e.charCodeAt(o))>55295&&t<57344){if(!n){t>56319||o+1===r?i.push(239,191,189):n=t;continue}if(t<56320){i.push(239,191,189),n=t;continue}t=n-55296<<10|t-56320|65536,n=null}else n&&(i.push(239,191,189),n=null);t<128?i.push(t):t<2048?i.push(t>>6|192,63&t|128):t<65536?i.push(t>>12|224,t>>6&63|128,63&t|128):i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}return i}e.exports=r;var o,a,s,l=n(1060);o={readUInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},writeUInt32LE:function(e,t){this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24},readInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+(this[e+3]<<24)},readFloatLE:function(e){return l.read(this,e,!0,23,4)},readDoubleLE:function(e){return l.read(this,e,!0,52,8)},writeFloatLE:function(e,t){return l.write(this,e,t,!0,23,4)},writeDoubleLE:function(e,t){return l.write(this,e,t,!0,52,8)},toString:function(e,t,n){var r="",i="";t=t||0,n=Math.min(this.length,n||this.length);for(var o=t;o<n;o++){var a=this[o];a<=127?(r+=decodeURIComponent(i)+String.fromCharCode(a),i=""):i+="%"+a.toString(16)}return r+=decodeURIComponent(i)},write:function(e,t){for(var n=e===a?s:i(e),r=0;r<n.length;r++)this[t+r]=n[r]},slice:function(e,t){return this.subarray(e,t)},copy:function(e,t){t=t||0;for(var n=0;n<this.length;n++)e[t+n]=this[n]}},o.writeInt32LE=o.writeUInt32LE,r.byteLength=function(e){return a=e,s=i(e),s.length},r.isBuffer=function(e){return!(!e||!e._isBuffer)}},function(e,t,n){"use strict";function r(e){var t=e.length;if(t<i){for(var n=1,r=0;r<t;++r)for(var a=0;a<r;++a)if(e[r]<e[a])n=-n;else if(e[r]===e[a])return 0;return n}for(var s=o.mallocUint8(t),r=0;r<t;++r)s[r]=0;for(var n=1,r=0;r<t;++r)if(!s[r]){var l=1;s[r]=1;for(var a=e[r];a!==r;a=e[a]){if(s[a])return o.freeUint8(s),0;l+=1,s[a]=1}1&l||(n=-n)}return o.freeUint8(s),n}e.exports=r;var i=32,o=n(23)},function(e,t,n){"use strict";function r(e){var t=e.length;switch(t){case 0:case 1:return 0;case 2:return e[1]}var n,r,i,s=o.mallocUint32(t),l=o.mallocUint32(t),u=0;for(a(e,l),i=0;i<t;++i)s[i]=e[i];for(i=t-1;i>0;--i)r=l[i],n=s[i],s[i]=s[r],s[r]=n,l[i]=l[n],l[n]=r,u=(u+n)*i;return o.freeUint32(l),o.freeUint32(s),u}function i(e,t,n){switch(e){case 0:return n||[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(t?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):t?[0,1]:[1,0]}n=n||new Array(e);var r,i,o,a=1;for(n[0]=0,o=1;o<e;++o)n[o]=o,a=a*o|0;for(o=e-1;o>0;--o)r=t/a|0,t=t-r*a|0,a=a/o|0,i=0|n[o],n[o]=0|n[r],n[r]=0|i;return n}var o=n(23),a=n(1062);t.rank=r,t.unrank=i},function(e,t,n){"use strict";function r(e,t){function n(e,t){var n=s[t][e[t]];n.splice(n.indexOf(e),1)}function r(e,r,o){for(var a,l,u,c=0;c<2;++c)if(s[c][r].length>0){a=s[c][r][0],u=c;break}l=a[1^u];for(var f=0;f<2;++f)for(var h=s[f][r],d=0;d<h.length;++d){var p=h[d],m=p[1^f],v=i(t[e],t[r],t[l],t[m]);v>0&&(a=p,l=m,u=f)}return o?l:(a&&n(a,u),l)}for(var o=0|t.length,a=e.length,s=[new Array(o),new Array(o)],l=0;l<o;++l)s[0][l]=[],s[1][l]=[];for(var l=0;l<a;++l){var u=e[l];s[0][u[0]].push(u),s[1][u[1]].push(u)}for(var c=[],l=0;l<o;++l)s[0][l].length+s[1][l].length===0&&c.push([l]);for(var l=0;l<o;++l)for(var f=0;f<2;++f){for(var h=[];s[f][l].length>0;){var d=(s[0][l].length,function(e,o){var a=s[o][e][0],l=[e];n(a,o);for(var u=a[1^o];;){for(;u!==e;)l.push(u),u=r(l[l.length-2],u,!1);if(s[0][e].length+s[1][e].length===0)break;var c=l[l.length-1],f=e,h=l[1],d=r(c,f,!0);if(i(t[c],t[f],t[h],t[d])<0)break;l.push(e),u=r(c,f)}return l}(l,f));!function(e,t){return t[1]===t[t.length-1]}(h,d)?(h.length>0&&c.push(h),h=d):h.push.apply(h,d)}h.length>0&&c.push(h)}return c}e.exports=r;var i=n(920)},function(e,t,n){"use strict";function r(e,t){for(var n=i(e,t.length),r=new Array(t.length),o=new Array(t.length),a=[],s=0;s<t.length;++s){var l=n[s].length;o[s]=l,r[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){var u=a.pop();r[u]=!1;for(var c=n[u],s=0;s<c.length;++s){var f=c[s];0===--o[f]&&a.push(f)}}for(var h=new Array(t.length),d=[],s=0;s<t.length;++s)if(r[s]){var u=d.length;h[s]=u,d.push(t[s])}else h[s]=-1;for(var p=[],s=0;s<e.length;++s){var m=e[s];r[m[0]]&&r[m[1]]&&p.push([h[m[0]],h[m[1]]])}return[p,d]}e.exports=r;var i=n(447)},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function i(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=[];return t}function o(e,t){function n(e){for(var n=e.length,r=[0],i=0;i<n;++i){var o=t[e[i]],a=t[e[(i+1)%n]],s=u(-o[0],o[1]),l=u(-o[0],a[1]),f=u(a[0],o[1]),h=u(a[0],a[1]);r=c(r,c(c(s,l),c(f,h)))}return r[r.length-1]>0}function o(e){for(var t=e.length,n=0;n<t;++n)if(!I[e[n]])return!1;return!0}var d=h(e,t);e=d[0],t=d[1];for(var p=t.length,m=(e.length,a(e,t.length)),v=0;v<p;++v)if(m[v].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var g=s(e,t);g=g.filter(n);for(var y=g.length,b=new Array(y),x=new Array(y),v=0;v<y;++v){b[v]=v;var _=new Array(y),w=g[v].map(function(e){return t[e]}),M=l([w]),k=0;e:for(var E=0;E<y;++E)if(_[E]=0,v!==E){for(var S=g[E],T=S.length,A=0;A<T;++A){var C=M(t[S[A]]);if(0!==C){C<0&&(_[E]=1,k+=1);continue e}}_[E]=1,k+=1}x[v]=[k,v,_]}x.sort(function(e,t){return t[0]-e[0]});for(var v=0;v<y;++v)for(var _=x[v],D=_[1],O=_[2],E=0;E<y;++E)O[E]&&(b[E]=D);for(var P=i(y),v=0;v<y;++v)P[v].push(b[v]),P[b[v]].push(v);for(var L={},I=r(p,!1),v=0;v<y;++v)for(var S=g[v],T=S.length,E=0;E<T;++E){var N=S[E],R=S[(E+1)%T],j=Math.min(N,R)+":"+Math.max(N,R);if(j in L){var z=L[j];P[z].push(v),P[v].push(z),I[N]=I[R]=!0}else L[j]=v}for(var F=[],B=r(y,-1),v=0;v<y;++v)b[v]!==v||o(g[v])?B[v]=-1:(F.push(v),B[v]=0);for(var d=[];F.length>0;){var U=F.pop(),V=P[U];f(V,function(e,t){return e-t});var H,Y=V.length,W=B[U];if(0===W){var S=g[U];H=[S]}for(var v=0;v<Y;++v){var q=V[v];if(!(B[q]>=0)&&(B[q]=1^W,F.push(q),0===W)){var S=g[q];o(S)||(S.reverse(),H.push(S))}}0===W&&d.push(H)}return d}e.exports=o;var a=n(447),s=n(1281),l=n(1565),u=n(135),c=n(93),f=n(245),h=n(1282)},function(e,t,n){"use strict";var r=n(0),i={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},function(e,t,n){"use strict";e.exports=n(1430)},function(e,t,n){"use strict";e.exports=n(593)},function(e,t,n){"use strict";e.exports=n(1322)},function(e,t,n){"use strict";e.exports=n(1440)},function(e,t,n){"use strict";e.exports=n(1460)},function(e,t,n){"use strict";e.exports=n(1471)},function(e,t,n){"use strict";e.exports=n(1474)},function(e,t,n){"use strict";e.exports=n(1481)},function(e,t,n){"use strict";e.exports=n(1365)},function(e,t,n){"use strict";e.exports=n(1563)},function(e,t,n){"use strict";e.exports=n(1564)},function(e,t,n){"use strict";e.exports=n(1486)},function(e,t,n){"use strict";e.exports=n(1489)},function(e,t,n){"use strict";e.exports=n(1492)},function(e,t,n){"use strict";e.exports=n(1495)},function(e,t,n){"use strict";e.exports=n(1497)},function(e,t,n){"use strict";var r=n(1293);r.register([n(1285),n(1286),n(1296),n(1298),n(1299),n(1300),n(1305),n(1291),n(1312),n(1307),n(1313),n(1302),n(1309),n(1290),n(1310),n(1306),n(1297),n(1304),n(1311),n(1289),n(1308),n(1292),n(1303),n(1288)]),r.register([n(1294),n(1295)]),r.register([n(1287)]),e.exports=r},function(e,t,n){"use strict";e.exports=n(1500)},function(e,t,n){"use strict";e.exports=n(1502)},function(e,t,n){"use strict";e.exports=n(1508)},function(e,t,n){"use strict";e.exports=n(1514)},function(e,t,n){"use strict";e.exports=n(1520)},function(e,t,n){"use strict";e.exports=n(1529)},function(e,t,n){"use strict";e.exports=n(1533)},function(e,t,n){"use strict";e.exports=n(1540)},function(e,t,n){"use strict";e.exports=n(1544)},function(e,t,n){"use strict";e.exports=n(1549)},function(e,t,n){"use strict";e.exports=n(1554)},function(e,t,n){"use strict";e.exports=n(1562)},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(5),a=n(33),s=n(302);e.exports=function(e,t,n,l,u){function c(n,i){return r.coerce(e,t,s,n,i)}l=l||{},u=u||{};var f=c("visible",!u.itemIsNotPlainObject),h=c("clicktoshow");if(!f&&!h)return t;c("opacity");var d=c("bgcolor"),p=c("bordercolor"),m=i.opacity(p);c("borderpad");var v=c("borderwidth"),g=c("showarrow");c("text",g?" ":"new text"),c("textangle"),r.coerceFont(c,"font",n.font),c("width"),c("align"),c("height")&&c("valign");for(var y=["x","y"],b=[-10,-30],x={_fullLayout:n},_=0;_<2;_++){var w=y[_],M=o.coerceRef(e,t,x,w,"","paper");if(o.coercePosition(t,x,c,M,w,.5),g){var k="a"+w,E=o.coerceRef(e,t,x,k,"pixel");"pixel"!==E&&E!==M&&(E=t[k]="pixel");var S="pixel"===E?b[_]:.4;o.coercePosition(t,x,c,E,k,S)}c(w+"anchor"),c(w+"shift")}if(r.noneOrAll(e,t,["x","y"]),g&&(c("arrowcolor",m?t.bordercolor:i.defaultLine),c("arrowhead"),c("arrowsize"),c("arrowwidth",2*(m&&v||1)),c("standoff"),r.noneOrAll(e,t,["ax","ay"])),h){var T=c("xclick"),A=c("yclick");t._xclick=void 0===T?t.x:T,t._yclick=void 0===A?t.y:A}var C=c("hovertext");if(C){var D=c("hoverlabel.bgcolor",i.opacity(d)?i.rgb(d):i.defaultLine),O=c("hoverlabel.bordercolor",i.contrast(D));r.coerceFont(c,"hoverlabel.font",{family:a.HOVERFONT,size:a.HOVERFONTSIZE,color:O})}return c("captureevents",!!C),t}},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;i.filterVisible(t.annotations).forEach(function(t){var n,r,i=o.getFromId(e,t.xref),a=o.getFromId(e,t.yref),s=3*t.arrowsize*t.arrowwidth||0;i&&i.autorange&&(n=s+t.xshift,r=s-t.xshift,t.axref===t.xref?(o.expand(i,[i.r2c(t.x)],{ppadplus:n,ppadminus:r}),o.expand(i,[i.r2c(t.ax)],{ppadplus:t._xpadplus,ppadminus:t._xpadminus})):o.expand(i,[i.r2c(t.x)],{ppadplus:Math.max(t._xpadplus,n),ppadminus:Math.max(t._xpadminus,r)})),a&&a.autorange&&(n=s-t.yshift,r=s+t.yshift,t.ayref===t.yref?(o.expand(a,[a.r2c(t.y)],{ppadplus:n,ppadminus:r}),o.expand(a,[a.r2c(t.ay)],{ppadplus:t._ypadplus,ppadminus:t._ypadminus})):o.expand(a,[a.r2c(t.y)],{ppadplus:Math.max(t._ypadplus,n),ppadminus:Math.max(t._ypadminus,r)}))})}var i=n(0),o=n(5),a=n(535).draw;e.exports=function(e){var t=e._fullLayout,n=i.filterVisible(t.annotations);if(n.length&&e._fullData.length){var s={};n.forEach(function(e){s[e.xref]=!0,s[e.yref]=!0});if(o.list(e).filter(function(e){return e.autorange&&s[e._id]}).length)return i.syncOrAsync([a,r],e)}}},function(e,t,n){"use strict";function r(e,t){var n=o(e,t);return n.on.length>0||n.explicitOff.length>0}function i(e,t){var n,r=o(e,t),i=r.on,s=r.off.concat(r.explicitOff),l={};if(i.length||s.length){for(n=0;n<i.length;n++)l["annotations["+i[n]+"].visible"]=!0;for(n=0;n<s.length;n++)l["annotations["+s[n]+"].visible"]=!1;return a.update(e,{},l)}}function o(e,t){var n,r,i,o,a,s,l=e._fullLayout.annotations,u=[],c=[],f=[],h=(t||[]).length;for(n=0;n<l.length;n++)if(i=l[n],o=i.clicktoshow){for(r=0;r<h;r++)if(a=t[r],a.xaxis._id===i.xref&&a.yaxis._id===i.yref&&a.xaxis.d2r(a.x)===i._xclick&&a.yaxis.d2r(a.y)===i._yclick){s=i.visible?"onout"===o?c:f:u,s.push(n);break}r===h&&i.visible&&"onout"===o&&c.push(n)}return{on:u,off:c,explicitOff:f}}var a=n(25);e.exports={hasClickToShow:r,onClick:i}},function(e,t,n){"use strict";var r=n(4),i=n(315);e.exports=function(e,t,n,o){function a(e){var n=u[e],a=null;a=s?i(n,t.range):Math.pow(10,n),r(a)||(a=null),o(c+e,a)}t=t||{};var s="log"===n&&"linear"===t.type,l="linear"===n&&"log"===t.type;if(s||l)for(var u,c,f=e._fullLayout.annotations,h=t._id.charAt(0),d=0;d<f.length;d++)u=f[d],c="annotations["+d+"].",u[h+"ref"]===t._id&&a(h),u["a"+h+"ref"]===t._id&&a("a"+h)}},function(e,t,n){"use strict";var r=n(168),i=n(1314);e.exports=function(e,t){r(e,t,{name:"annotations",handleItemDefaults:i})}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(3),a=n(12),s=n(534);e.exports=function(e,t,n,l,u){function c(){e.style("stroke-dasharray","0px,100px")}function f(n,i){d.path&&(t>5&&(i=0),r.select(h.parentElement).append("path").attr({class:e.attr("class"),d:d.path,transform:"translate("+n.x+","+n.y+")rotate("+180*i/Math.PI+")scale("+y+")"}).style({fill:b,opacity:x,"stroke-width":0}))}i(l)||(l=1);var h=e.node(),d=s[t||0];"string"===typeof n&&n||(n="end");var p,m,v,g,y=(a.getPx(e,"stroke-width")||1)*l,b=e.style("stroke")||o.defaultLine,x=e.style("stroke-opacity")||1,_=n.indexOf("start")>=0,w=n.indexOf("end")>=0,M=d.backoff*y+u;if("line"===h.nodeName){p={x:+e.attr("x1"),y:+e.attr("y1")},m={x:+e.attr("x2"),y:+e.attr("y2")};var k=p.x-m.x,E=p.y-m.y;if(v=Math.atan2(E,k),g=v+Math.PI,M){if(M*M>k*k+E*E)return void c();var S=M*Math.cos(v),T=M*Math.sin(v);_&&(p.x-=S,p.y-=T,e.attr({x1:p.x,y1:p.y})),w&&(m.x+=S,m.y+=T,e.attr({x2:m.x,y2:m.y}))}}else if("path"===h.nodeName){var A=h.getTotalLength(),C="";if(A<M)return void c();if(_){var D=h.getPointAtLength(0),O=h.getPointAtLength(.1);v=Math.atan2(D.y-O.y,D.x-O.x),p=h.getPointAtLength(Math.min(M,A)),M&&(C="0px,"+M+"px,")}if(w){var P=h.getPointAtLength(A),L=h.getPointAtLength(A-.1);if(g=Math.atan2(P.y-L.y,P.x-L.x),m=h.getPointAtLength(Math.max(0,A-M)),M){var I=C?2*M:M;C+=A-I+"px,"+A+"px"}}else C&&(C+=A+"px");C&&e.style("stroke-dasharray",C)}_&&f(p,v),w&&f(m,g)}},function(e,t,n){"use strict";var r=n(535),i=n(1316);e.exports={moduleType:"component",name:"annotations",layoutAttributes:n(302),supplyLayoutDefaults:n(1318),calcAutorange:n(1315),draw:r.draw,drawOne:r.drawOne,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:n(1317)}},function(e,t,n){"use strict";e.exports=n(39),n(1726),n(1712),n(1713),n(1714),n(1715),n(1716),n(1717),n(1718),n(1719),n(1720),n(1721),n(1722),n(1723),n(1724),n(1725)},function(e,t,n){"use strict";function r(e,t,n){for(var r,o,a,s,l,u=Math.floor((t+.05)/f)+c,h=i(n).fromJD(u),d=0;-1!==(d=e.indexOf("%",d));)r=e.charAt(d+1),"0"===r||"-"===r||"_"===r?(a=3,o=e.charAt(d+2),"_"===r&&(r="-")):(o=r,r="0",a=2),s=b[o],s?(l=s===y?y:h.formatDate(s[r]),e=e.substr(0,d)+l+e.substr(d+a),d+=l.length):d+=a;return e}function i(e){var t=x[e];return t||(t=x[e]=s.instance(e))}function o(e){return l.extendFlat({},h,{description:e})}function a(e){return"Sets the calendar system to use with `"+e+"` date data."}var s=n(1321),l=n(0),u=n(27),c=u.EPOCHJD,f=u.ONEDAY,h={valType:"enumerated",values:Object.keys(s.calendars),role:"info",dflt:"gregorian"},d=function(e,t,n,r){var i={};return i[n]=h,l.coerce(e,t,i,n,r)},p=function(e,t,n,r){for(var i=0;i<n.length;i++)d(e,t,n[i]+"calendar",r.calendar)},m={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},v={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},g={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},y="##",b={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:y,w:y,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},x={},_={xcalendar:o(a("x"))},w=l.extendFlat({},_,{ycalendar:o(a("y"))}),M=l.extendFlat({},w,{zcalendar:o(a("z"))}),k=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));e.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:w,bar:w,heatmap:w,contour:w,histogram:w,histogram2d:w,histogram2dcontour:w,scatter3d:M,surface:M,mesh3d:M,scattergl:w,ohlc:_,candlestick:_},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" ")),"xaxis.calendar":k,"yaxis.calendar":k,"scene.xaxis.calendar":k,"scene.yaxis.calendar":k,"scene.zaxis.calendar":k},transforms:{filter:{valuecalendar:o(["Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:d,handleTraceDefaults:p,CANONICAL_SUNDAY:v,CANONICAL_TICK:m,DFLTRANGE:g,getCal:i,worldCalFmt:r}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return r.isPlainObject(e.colorbar)}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r=e.length,i=new Array(r),o=new Array(r),a=0;a<r;a++){var s=e[a];i[a]=t+s[0]*(n-t),o[a]=s[1]}return{domain:i,range:o}}},function(e,t,n){"use strict";function r(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return o(t).toRgbString()}var i=n(2),o=n(38),a=n(4),s=n(3);e.exports=function(e,t){t=t||{};for(var n=e.domain,l=e.range,u=l.length,c=new Array(u),f=0;f<u;f++){var h=o(l[f]).toRgb();c[f]=[h.r,h.g,h.b,h.a]}var d,p=i.scale.linear().domain(n).range(c).clamp(!0),m=t.noNumericCheck,v=t.returnArray;return d=m&&v?p:m?function(e){return r(p(e))}:v?function(e){return a(e)?p(e):o(e).isValid()?e:s.defaultLine}:function(e){return a(e)?r(p(e)):o(e).isValid()?e:s.defaultLine},d.domain=p.domain,d.range=function(){return l},d}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){var o=(e-n)/(r-n),a=o+t/(r-n),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},function(e,t,n){"use strict";var r=n(0),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},function(e,t,n){"use strict";var r=n(311),i=e.exports={};i.wrapped=function(e,t,n){"string"===typeof e&&(e=document.getElementById(e)),e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),i.raw(e,t,n)},i.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},function(e,t,n){"use strict";var r=n(2);e.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,o="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),o=r.round(-.309*e,2);return"M"+t+","+o+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),o=r.round(.363*t,2),a=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+l+"H"+i+"L"+o+","+u+"L"+a+","+c+"L0,"+r.round(.382*t,2)+"L-"+a+","+c+"L-"+o+","+u+"L-"+i+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+t+","+n+a+t+","+n+a+"0,-"+i+a+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M"+t+",-"+n+a+"-"+t+",-"+n+a+"0,"+i+a+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0}}},function(e,t,n){"use strict";function r(e,t,n,r){var o=t["error_"+r]||{},l=o.visible&&-1!==["linear","log"].indexOf(n.type),u=[];if(l){for(var c=s(o),f=0;f<e.length;f++){var h=e[f],d=h[r];if(i(n.c2l(d))){var p=c(d,f);if(i(p[0])&&i(p[1])){var m=h[r+"s"]=d-p[0],v=h[r+"h"]=d+p[1];u.push(m,v)}}}a.expand(n,u,{padded:!0})}}var i=n(4),o=n(6),a=n(5),s=n(540);e.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var i=t[n],s=i[0].trace;if(o.traceIs(s,"errorBarsOK")){var l=a.getFromId(e,s.xaxis),u=a.getFromId(e,s.yaxis);r(i,s,l,"x"),r(i,s,u,"y")}}}},function(e,t,n){"use strict";function r(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),o(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),o(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}var i=n(2),o=n(4),a=n(21);e.exports=function(e,t,n){var s,l=t.xaxis,u=t.yaxis,c=n&&n.duration>0;e.each(function(e){var t,f=e[0].trace,h=f.error_x||{},d=f.error_y||{};f.ids&&(t=function(e){return e.id});var p=a.hasMarkers(f)&&f.marker.maxdisplayed>0;if(d.visible||h.visible){var m=i.select(this).selectAll("g.errorbar").data(e,t);m.exit().remove(),m.style("opacity",1);var v=m.enter().append("g").classed("errorbar",!0);c&&v.style("opacity",0).transition().duration(n.duration).style("opacity",1),m.each(function(e){var t=i.select(this),a=r(e,l,u);if(!p||e.vis){var f;if(d.visible&&o(a.x)&&o(a.yh)&&o(a.ys)){var m=d.width;f="M"+(a.x-m)+","+a.yh+"h"+2*m+"m-"+m+",0V"+a.ys,a.noYS||(f+="m-"+m+",0h"+2*m);var v=t.select("path.yerror");s=!v.size(),s?v=t.append("path").classed("yerror",!0):c&&(v=v.transition().duration(n.duration).ease(n.easing)),v.attr("d",f)}if(h.visible&&o(a.y)&&o(a.xh)&&o(a.xs)){var g=(h.copy_ystyle?d:h).width;f="M"+a.xh+","+(a.y-g)+"v"+2*g+"m0,-"+g+"H"+a.xs,a.noXS||(f+="m0,-"+g+"v"+2*g);var y=t.select("path.xerror");s=!y.size(),s?y=t.append("path").classed("xerror",!0):c&&(y=y.transition().duration(n.duration).ease(n.easing)),y.attr("d",f)}}})}})}},function(e,t,n){"use strict";var r=n(2),i=n(3);e.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},o=t.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)})}},function(e,t,n){"use strict";var r=n(4),i=n(315);e.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.images,f=t._id.charAt(0),h=0;h<c.length;h++)if(l=c[h],u="images["+h+"].",l[f+"ref"]===t._id){var d=l[f],p=l["size"+f],m=null,v=null;if(a){m=i(d,t.range);var g=p/Math.pow(10,m)/2;v=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else m=Math.pow(10,d),v=m*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(m)?r(v)||(v=null):(m=null,v=null),o(u+f,m),o(u+"size"+f,v)}}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return i.coerce(e,t,s,n,r)}if(!r("visible",!!r("source")))return t;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var a={_fullLayout:n},l=["x","y"],u=0;u<2;u++){var c=l[u],f=o.coerceRef(e,t,a,c,"paper");o.coercePosition(t,a,r,f,c,0)}return t}var i=n(0),o=n(5),a=n(168),s=n(541);e.exports=function(e,t){a(e,t,{name:"images",handleItemDefaults:r})}},function(e,t,n){"use strict";var r=n(2),i=n(12),o=n(5),a=n(67);e.exports=function(e){function t(t){var n=r.select(this);if(!this.img||this.img.src!==t.source){n.attr("xmlns",a.svg);var i=new Promise(function(e){function r(){n.remove(),e()}var i=new Image;this.img=i,i.setAttribute("crossOrigin","anonymous"),i.onerror=r,i.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this,0,0);var t=e.toDataURL("image/png");n.attr("xlink:href",t)},n.on("error",r),n.on("load",e),i.src=t.source}.bind(this));e._promises.push(i)}}function n(t){var n=r.select(this),a=o.getFromId(e,t.xref),s=o.getFromId(e,t.yref),l=u._size,c=a?Math.abs(a.l2p(t.sizex)-a.l2p(0)):t.sizex*l.w,f=s?Math.abs(s.l2p(t.sizey)-s.l2p(0)):t.sizey*l.h,h=c*m.x[t.xanchor].offset,d=f*m.y[t.yanchor].offset,p=m.x[t.xanchor].sizing+m.y[t.yanchor].sizing,v=(a?a.r2p(t.x)+a._offset:t.x*l.w+l.l)+h,g=(s?s.r2p(t.y)+s._offset:l.h-t.y*l.h+l.t)+d;switch(t.sizing){case"fill":p+=" slice";break;case"stretch":p="none"}n.attr({x:v,y:g,width:c,height:f,preserveAspectRatio:p,opacity:t.opacity});var y=a?a._id:"",b=s?s._id:"",x=y+b;n.call(i.setClipUrl,x?"clip"+u._uid+x:null)}var s,l,u=e._fullLayout,c=[],f={},h=[];for(l=0;l<u.images.length;l++){var d=u.images[l];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){s=d.xref+d.yref;var p=u._plots[s];if(!p){h.push(d);continue}p.mainplot&&(s=p.mainplot.id),f[s]||(f[s]=[]),f[s].push(d)}else"above"===d.layer?c.push(d):h.push(d)}var m={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},v=u._imageLowerLayer.selectAll("image").data(h),g=u._imageUpperLayer.selectAll("image").data(c);v.enter().append("image"),g.enter().append("image"),v.exit().remove(),g.exit().remove(),v.each(function(e){t.bind(this)(e),n.bind(this)(e)}),g.each(function(e){t.bind(this)(e),n.bind(this)(e)});var y=Object.keys(u._plots);for(l=0;l<y.length;l++){s=y[l];var b=u._plots[s];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(f[s]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(e){t.bind(this)(e),n.bind(this)(e)})}}}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:n(541),supplyLayoutDefaults:n(1334),draw:n(1335),convertCoords:n(1333)}},function(e,t,n){"use strict";e.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(542),a=n(170),s=n(305);e.exports=function(e,t,n){function l(e,t){return i.coerce(d,p,o,e,t)}for(var u,c,f,h,d=e.legend||{},p=t.legend={},m=0,v="normal",g=0;g<n.length;g++){var y=n[g];s.legendGetsTrace(y)&&(m++,r.traceIs(y,"pie")&&m++),(r.traceIs(y,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(v=s.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(v=s.isReversed({traceorder:v})?"reversed+grouped":"grouped")}if(!1!==i.coerce(e,t,a,"showlegend",m>1)){if(l("bgcolor",t.paper_bgcolor),l("bordercolor"),l("borderwidth"),i.coerceFont(l,"font",t.font),l("orientation"),"h"===p.orientation){var b=e.xaxis;b&&b.rangeslider&&b.rangeslider.visible?(u=0,f="left",c=1.1,h="bottom"):(u=0,f="left",c=-.1,h="top")}l("traceorder",v),s.isGrouped(t.legend)&&l("tracegroupgap"),l("x",u),l("xanchor",f),l("y",c),l("yanchor",h),i.noneOrAll(d,p,["x","y"])}}},function(e,t,n){"use strict";function r(e,t){function n(n){y.convertToTspans(n,function(){n.selectAll("tspan.line").attr({x:n.attr("x")}),e.call(a,t)})}var r=e.data()[0][0],i=t._fullLayout,o=r.trace,s=p.traceIs(o,"pie"),l=o.index,u=s?r.label:o.name,c=e.selectAll("text.legendtext").data([0]);c.enter().append("text").classed("legendtext",!0),c.attr({x:40,y:0,"data-unformatted":u}).style("text-anchor","start").classed("user-select-none",!0).call(v.font,i.legend.font).text(u),t._context.editable&&!s?c.call(y.makeEditable).call(n).on("edit",function(e){this.attr({"data-unformatted":e}),this.text(e).call(n),this.text()||(e="    ");var i,o=r.trace._fullInput||{};if(-1!==["ohlc","candlestick"].indexOf(o.type)){var a=r.trace.transforms;i=a[a.length-1].direction+".name"}else i="name";f.restyle(t,i,e,l)}):c.call(n)}function i(e,t){var n,r=1,i=e.selectAll("rect").data([0]);i.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(g.fill,"rgba(0,0,0,0)"),i.on("mousedown",function(){n=(new Date).getTime(),n-t._legendMouseDownTime<S?r+=1:(r=1,t._legendMouseDownTime=n)}),i.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>S&&(r=Math.max(r-1,1)),1===r?n._clickTimeout=setTimeout(function(){o(e,t,r)},S):2===r&&(n._clickTimeout&&clearTimeout(n._clickTimeout),t._legendMouseDownTime=0,o(e,t,r))}})}function o(e,t,n){if(!t._dragged&&!t._editing){var r,i,o=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],a=e.data()[0][0],s=t._fullData,l=a.trace,u=l.legendgroup,c=[];if(1===n&&E&&t.data&&t._context.showTips?(h.notifier("Double click on legend to isolate individual trace","long"),E=!1):E=!1,p.traceIs(l,"pie")){var d=a.label,m=o.indexOf(d);1===n?-1===m?o.push(d):o.splice(m,1):2===n&&(o=[],t.calcdata[0].forEach(function(e){d!==e.label&&o.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===o.length&&-1===m&&(o=[])),f.relayout(t,"hiddenlabels",o)}else{var v,g=[],y=[];for(v=0;v<s.length;v++)g.push(v),y.push("legendonly");if(""===u)c=[l.index],y[l.index]=!0;else for(v=0;v<s.length;v++)r=s[v],r.legendgroup===u&&(c.push(r.index),y[g.indexOf(v)]=!0);if(1===n)i=!0!==l.visible||"legendonly",f.restyle(t,"visible",i,c);else if(2===n){var b=!0;for(v=0;v<s.length;v++)if(s[v].visible!==y[v]){b=!1;break}b&&(y=!0);var x=[];for(v=0;v<s.length;v++)x.push(g[v]);f.restyle(t,"visible",y,x)}}}}function a(e,t){var n,r,i=e.data()[0][0],o=e.select("g[class*=math-group]"),a=t._fullLayout.legend,s=1.3*a.font.size;if(!i.trace.showlegend)return void e.remove();if(o.node()){var l=v.bBox(o.node());n=l.height,r=l.width,v.setTranslate(o,0,n/4)}else{var u=e.selectAll(".legendtext"),c=e.selectAll(".legendtext>tspan"),f=c[0].length||1;n=s*f,r=u.node()&&v.bBox(u.node()).width;var h=s*(.3+(1-f)/2);u.attr("y",h),c.attr("y",h)}n=Math.max(n,16)+3,i.height=n,i.width=r}function s(e,t,n){var r=e._fullLayout,i=r.legend,o=i.borderwidth,a=M.isGrouped(i);if(M.isVertical(i))a&&t.each(function(e,t){v.setTranslate(this,0,t*i.tracegroupgap)}),i.width=0,i.height=0,n.each(function(e){var t=e[0],n=t.height,r=t.width;v.setTranslate(this,o,5+o+i.height+n/2),i.height+=n,i.width=Math.max(i.width,r)}),i.width+=45+2*o,i.height+=10+2*o,a&&(i.height+=(i._lgroupsLength-1)*i.tracegroupgap),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),n.each(function(t){var n=t[0];c.select(this).select(".legendtoggle").call(v.setRect,0,-n.height/2,(e._context.editable?0:i.width)+40,n.height)});else if(a){i.width=0,i.height=0;for(var s=[i.width],l=t.data(),u=0,f=l.length;u<f;u++){var h=l[u].map(function(e){return e[0].width}),d=40+Math.max.apply(null,h);i.width+=i.tracegroupgap+d,s.push(i.width)}t.each(function(e,t){v.setTranslate(this,s[t],0)}),t.each(function(){var e=c.select(this),t=e.selectAll("g.traces"),n=0;t.each(function(e){var t=e[0],r=t.height;v.setTranslate(this,0,5+o+n+r/2),n+=r}),i.height=Math.max(i.height,n)}),i.height+=10+2*o,i.width+=2*o,i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),n.each(function(t){var n=t[0];c.select(this).select(".legendtoggle").call(v.setRect,0,-n.height/2,e._context.editable?0:i.width,n.height)})}else{i.width=0,i.height=0;var p=0,m=0,g=0,y=0;n.each(function(e){g=Math.max(40+e[0].width,g)}),n.each(function(e){var t=e[0],n=g,a=i.tracegroupgap||5;o+y+a+n>r.width-(r.margin.r+r.margin.l)&&(y=0,p+=m,i.height=i.height+m,m=0),v.setTranslate(this,o+y,5+o+t.height/2+p),i.width+=a+n,i.height=Math.max(i.height,t.height),y+=a+n,m=Math.max(t.height,m)}),i.width+=2*o,i.height+=10+2*o,i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),n.each(function(t){var n=t[0];c.select(this).select(".legendtoggle").call(v.setRect,0,-n.height/2,e._context.editable?0:i.width,n.height)})}}function l(e){var t=e._fullLayout,n=t.legend,r="left";k.isRightAnchor(n)?r="right":k.isCenterAnchor(n)&&(r="center");var i="top";k.isBottomAnchor(n)?i="bottom":k.isMiddleAnchor(n)&&(i="middle"),d.autoMargin(e,"legend",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:n.height*({top:1,middle:.5}[i]||0),t:n.height*({bottom:1,middle:.5}[i]||0)})}function u(e){var t=e._fullLayout,n=t.legend,r="left";k.isRightAnchor(n)?r="right":k.isCenterAnchor(n)&&(r="center"),d.autoMargin(e,"legend",{x:n.x,y:.5,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:0,t:0})}var c=n(2),f=n(25),h=n(0),d=n(16),p=n(6),m=n(92),v=n(12),g=n(3),y=n(43),b=n(1337),x=n(310),_=n(1340),w=n(543),M=n(305),k=n(220),E=!0,S=x.DBLCLICKDELAY;e.exports=function(e){function t(e,t){C.attr("data-scroll",t).call(v.setTranslate,0,t),D.call(v.setRect,F,e,b.scrollBarWidth,b.scrollBarHeight),T.select("rect").attr({y:y.borderwidth-t})}var n=e._fullLayout,a="legend"+n._uid;if(n._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var y=n.legend,x=n.showlegend&&_(e.calcdata,y),M=n.hiddenlabels||[];if(!n.showlegend||!x.length)return n._infolayer.selectAll(".legend").remove(),n._topdefs.select("#"+a).remove(),void d.autoMargin(e,"legend");var E=n._infolayer.selectAll("g.legend").data([0]);E.enter().append("g").attr({class:"legend","pointer-events":"all"});var T=n._topdefs.selectAll("#"+a).data([0]);T.enter().append("clipPath").attr("id",a).append("rect");var A=E.selectAll("rect.bg").data([0]);A.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),A.call(g.stroke,y.bordercolor),A.call(g.fill,y.bgcolor),A.style("stroke-width",y.borderwidth+"px");var C=E.selectAll("g.scrollbox").data([0]);C.enter().append("g").attr("class","scrollbox");var D=E.selectAll("rect.scrollbar").data([0]);D.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(g.fill,"#808BA4");var O=C.selectAll("g.groups").data(x);O.enter().append("g").attr("class","groups"),O.exit().remove();var P=O.selectAll("g.traces").data(h.identity);P.enter().append("g").attr("class","traces"),P.exit().remove(),P.call(w).style("opacity",function(e){var t=e[0].trace;return p.traceIs(t,"pie")?-1!==M.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){c.select(this).call(r,e).call(i,e)});var L=0!==E.enter().size();L&&(s(e,O,P),l(e));var I=n.width,N=n.height;s(e,O,P),y.height>N?u(e):l(e);var R=n._size,j=R.l+R.w*y.x,z=R.t+R.h*(1-y.y);k.isRightAnchor(y)?j-=y.width:k.isCenterAnchor(y)&&(j-=y.width/2),k.isBottomAnchor(y)?z-=y.height:k.isMiddleAnchor(y)&&(z-=y.height/2);var F=y.width,B=R.w;F>B?(j=R.l,F=B):(j+F>I&&(j=I-F),j<0&&(j=0),F=Math.min(I-j,y.width));var U=y.height,V=R.h;U>V?(z=R.t,U=V):(z+U>N&&(z=N-U),z<0&&(z=0),U=Math.min(N-z,y.height)),v.setTranslate(E,j,z);var H,Y,W=U-b.scrollBarHeight-2*b.scrollBarMargin,q=y.height-U;if(y.height<=U||e._context.staticPlot)A.attr({width:F-y.borderwidth,height:U-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),v.setTranslate(C,0,0),T.select("rect").attr({width:F-2*y.borderwidth,height:U-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth}),C.call(v.setClipUrl,a);else{H=b.scrollBarMargin,Y=C.attr("data-scroll")||0,A.attr({width:F-2*y.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:U-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),T.select("rect").attr({width:F-2*y.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:U-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth-Y}),C.call(v.setClipUrl,a),L&&t(H,Y),E.on("wheel",null),E.on("wheel",function(){Y=h.constrain(C.attr("data-scroll")-c.event.deltaY/W*q,-q,0),H=b.scrollBarMargin-Y/q*W,t(H,Y),0!==Y&&Y!==-q&&c.event.preventDefault()}),D.on(".drag",null),C.on(".drag",null);var G=c.behavior.drag().on("drag",function(){H=h.constrain(c.event.y-b.scrollBarHeight/2,b.scrollBarMargin,b.scrollBarMargin+W),Y=-(H-b.scrollBarMargin)/W*q,t(H,Y)});D.call(G),C.call(G)}if(e._context.editable){var X,Z,K,$;E.classed("cursor-move",!0),m.init({element:E.node(),prepFn:function(){var e=v.getTranslate(E);K=e.x,$=e.y},moveFn:function(e,t){var n=K+e,r=$+t;v.setTranslate(E,n,r),X=m.align(n,0,R.l,R.l+R.w,y.xanchor),Z=m.align(r,0,R.t+R.h,R.t,y.yanchor)},doneFn:function(t,r,i){if(t&&void 0!==X&&void 0!==Z)f.relayout(e,{"legend.x":X,"legend.y":Z});else{var a=n._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return i.clientX>=e.left&&i.clientX<=e.right&&i.clientY>=e.top&&i.clientY<=e.bottom});a.size()>0&&(1===r?E._clickTimeout=setTimeout(function(){o(a,e,r)},S):2===r&&(E._clickTimeout&&clearTimeout(E._clickTimeout),o(a,e,r)))}}})}}}},function(e,t,n){"use strict";var r=n(6),i=n(305);e.exports=function(e,t){function n(e,n){if(""!==e&&i.isGrouped(t))-1===l.indexOf(e)?(l.push(e),u=!0,s[e]=[[n]]):s[e].push([n]);else{var r="~~i"+f;l.push(r),s[r]=[[n]],f++}}var o,a,s={},l=[],u=!1,c={},f=0;for(o=0;o<e.length;o++){var h=e[o],d=h[0],p=d.trace,m=p.legendgroup;if(i.legendGetsTrace(p)&&p.showlegend)if(r.traceIs(p,"pie"))for(c[m]||(c[m]={}),a=0;a<h.length;a++){var v=h[a].label;c[m][v]||(n(m,{label:v,color:h[a].color,i:h[a].i,trace:p}),c[m][v]=!0)}else n(m,d)}if(!l.length)return[];var g,y,b=l.length;if(u&&i.isGrouped(t))for(y=new Array(b),o=0;o<b;o++)g=s[l[o]],y[o]=i.isReversed(t)?g.reverse():g;else{for(y=[new Array(b)],o=0;o<b;o++)g=s[l[o]][0],y[0][i.isReversed(t)?b-o-1:o]=g;b=1}return t._lgroupsLength=b,y}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:n(542),supplyLayoutDefaults:n(1338),draw:n(1339),style:n(543)}},function(e,t,n){"use strict";function r(e,t){var n,r,i=t.currentTarget,o=i.getAttribute("data-attr"),a=i.getAttribute("data-val")||!0,s=e._fullLayout,l={},u=h.list(e,null,!0),f="on";if("zoom"===o){var d,p="in"===a?.5:2,m=(1+p)/2,v=(1-p)/2;for(r=0;r<u.length;r++)if(n=u[r],!n.fixedrange)if(d=n._name,"auto"===a)l[d+".autorange"]=!0;else if("reset"===a){if(void 0===n._rangeInitial)l[d+".autorange"]=!0;else{var g=n._rangeInitial.slice();l[d+".range[0]"]=g[0],l[d+".range[1]"]=g[1]}void 0!==n._showSpikeInitial&&(l[d+".showspikes"]=n._showSpikeInitial,"on"!==f||n._showSpikeInitial||(f="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[m*y[0]+v*y[1],m*y[1]+v*y[0]];l[d+".range[0]"]=n.l2r(b[0]),l[d+".range[1]"]=n.l2r(b[1])}s._cartesianSpikesEnabled=f}else{if("hovermode"!==o||"x"!==a&&"y"!==a){if("hovermode"===o&&"closest"===a){for(r=0;r<u.length;r++)n=u[r],"on"!==f||n.showspikes||(f="off");s._cartesianSpikesEnabled=f}}else a=s._isHoriz?"y":"x",i.setAttribute("data-val",a),"closest"!==a&&(s._cartesianSpikesEnabled="off");l[o]=a}c.relayout(e,l)}function i(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,o=e._fullLayout,a=f.getSubplotIds(o,"gl3d"),s={},l=r.split("."),u=0;u<a.length;u++)s[a[u]+"."+l[1]]=i;c.relayout(e,s)}function o(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),i=e._fullLayout,o=f.getSubplotIds(i,"gl3d"),a={},s=0;s<o.length;s++){var l=o[s],u=l+".camera",h=i[l]._scene;"resetDefault"===r?a[u]=null:"resetLastSave"===r&&(a[u]=d.extendDeep({},h.cameraInitial))}c.relayout(e,a)}function a(e,t){var n=t.currentTarget,r=n._previousVal||!1,i=e.layout,o=e._fullLayout,a=f.getSubplotIds(o,"gl3d"),s=["xaxis","yaxis","zaxis"],l=["showspikes","spikesides","spikethickness","spikecolor"],u={},h={},p={};if(r)p=d.extendDeep(i,r),n._previousVal=null;else{p={"allaxes.showspikes":!1};for(var m=0;m<a.length;m++){var v=a[m],g=o[v],y=u[v]={};y.hovermode=g.hovermode,p[v+".hovermode"]=!1;for(var b=0;b<3;b++){var x=s[b];h=y[x]={};for(var _=0;_<l.length;_++){var w=l[_];h[w]=g[x][w]}}}n._previousVal=d.extendDeep({},u)}c.relayout(e,p)}function s(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,o=e._fullLayout,a=f.getSubplotIds(o,"geo"),s=0;s<a.length;s++){var l=o[a[s]]._subplot;if("zoom"===r){var u=l.projection.scale(),c="in"===i?2*u:.5*u;l.projection.scale(c),l.zoom.scale(c),l.render()}else"reset"===r&&l.zoomReset()}}function l(e){var t,n=e._fullLayout;t=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var r=!e._fullLayout.hovermode&&t;c.relayout(e,"hovermode",r)}function u(e){for(var t,n,r=e._fullLayout,i=h.list(e,null,!0),o={},a=0;a<i.length;a++)t=i[a],n=t._name,o[n+".showspikes"]="on"===r._cartesianSpikesEnabled;return o}var c=n(25),f=n(16),h=n(5),d=n(0),p=n(325),m=n(301),v=e.exports={};v.toImage={name:"toImage",title:"Download plot as a png",icon:m.camera,click:function(e){var t="png";d.notifier("Taking snapshot - this may take a few seconds","long"),d.isIE()&&(d.notifier("IE only supports svg.  Changing format to svg.","long"),t="svg"),p(e,{format:t}).then(function(e){d.notifier("Snapshot succeeded - "+e,"long")}).catch(function(){d.notifier("Sorry there was a problem downloading your snapshot!","long")})}},v.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:m.disk,click:function(e){f.sendDataToCloud(e)}},v.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:m.zoombox,click:r},v.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:m.pan,click:r},v.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:m.selectbox,click:r},v.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:m.lasso,click:r},v.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:m.zoom_plus,click:r},v.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:m.zoom_minus,click:r},v.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:m.autoscale,click:r},v.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:m.home,click:r},v.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:m.tooltip_basic,gravity:"ne",click:r},v.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:m.tooltip_compare,gravity:"ne",click:r},v.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:m.zoombox,click:i},v.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:m.pan,click:i},v.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:m["3d_rotate"],click:i},v.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:m["z-axis"],click:i},v.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:m.home,click:o},v.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:m.movie,click:o},v.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:a},v.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:m.zoom_plus,click:s},v.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:m.zoom_minus,click:s},v.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:m.autoscale,click:s},v.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:l},v.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:l},v.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:m.tooltip_basic,gravity:"ne",click:l},v.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:function(e,t){l(e),a(e,t)}},v.resetViews={name:"resetViews",title:"Reset views",icon:m.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),r(e,t),n.setAttribute("data-attr","resetLastSave"),o(e,t)}},v.toggleSpikelines={name:"toggleSpikelines",title:"Toggle Spike Lines",icon:m.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="closest"===t.hovermode&&"on"===t._cartesianSpikesEnabled?"off":"on";var n=u(e);n.hovermode="closest",c.relayout(e,n)}}},function(e,t,n){"use strict";function r(e,t,n){function r(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];-1===t.indexOf(i)&&n.push(f[i])}v.push(n)}var s=e._fullLayout,l=e._fullData,u=s._has("cartesian"),c=s._has("gl3d"),h=s._has("geo"),d=s._has("pie"),p=s._has("gl2d"),m=s._has("ternary"),v=[];if(r(["toImage","sendDataToCloud"]),(u||p||d||m)+h+c>1)return r(["resetViews","toggleHover"]),a(v,n);c&&(r(["zoom3d","pan3d","orbitRotation","tableRotation"]),r(["resetCameraDefault3d","resetCameraLastSave3d"]),r(["hoverClosest3d"])),h&&(r(["zoomInGeo","zoomOutGeo","resetGeo"]),r(["hoverClosestGeo"]));var g=i(s),y=[];return((u||p)&&!g||m)&&(y=["zoom2d","pan2d"]),(u||m)&&o(l)&&(y.push("select2d"),y.push("lasso2d")),y.length&&r(y),!u&&!p||g||m||r(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),u&&d?r(["toggleHover"]):p?r(["hoverClosestGl2d"]):u?r(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):d&&r(["hoverClosestPie"]),a(v,n)}function i(e){for(var t=l.list({_fullLayout:e},null,!0),n=!0,r=0;r<t.length;r++)if(!t[r].fixedrange){n=!1;break}return n}function o(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&("scatter"===r.type||"scatterternary"===r.type?(u.hasMarkers(r)||u.hasText(r))&&(t=!0):t=!0)}return t}function a(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function s(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"===typeof i){if(void 0===f[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=f[i]}}return e}var l=n(5),u=n(21),c=n(1344),f=n(1342);e.exports=function(e){var t=e._fullLayout,n=e._context,i=t._modeBar;if(!n.displayModeBar)return void(i&&(i.destroy(),delete t._modeBar));if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o,a=n.modeBarButtons;o=Array.isArray(a)&&a.length?s(a):r(e,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),i?i.update(e,o):t._modeBar=c(e,o)}},function(e,t,n){"use strict";function r(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}function i(e,t){var n=e._fullLayout,i=new r({graphInfo:e,container:n._paperdiv.node(),buttons:t});return n._privateplot&&o.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}var o=n(2),a=n(0),s=n(301),l=r.prototype;l.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(t),i=this.hasLogo!==n.displaylogo;(r||i)&&(this.removeAllButtons(),this.updateButtons(t),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)}),t.element.appendChild(n)})},l.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},l.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=e.title;void 0===r&&(r=e.name),(r||0===r)&&n.setAttribute("data-title",r),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"===typeof i&&(i=i(this.graphInfo)),n.setAttribute("data-val",i)),"function"!==typeof e.click)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&o.select(n).classed("active",!0),n.appendChild(this.createIcon(e.icon||s.question,e.name)),n.setAttribute("data-gravity",e.gravity||"n"),n},l.createIcon=function(e,t){var n=e.ascent-e.descent,r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"path");i.setAttribute("height","1em"),i.setAttribute("width",e.width/n+"em"),i.setAttribute("viewBox",[0,0,e.width,n].join(" "));var a="toggleSpikelines"===t?"matrix(1.5 0 0 -1.5 0 "+e.ascent+")":"matrix(1 0 0 -1 0 "+e.ascent+")";return o.setAttribute("d",e.path),o.setAttribute("transform",a),i.appendChild(o),i},l.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var r=e.getAttribute("data-val")||!0,i=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=o.select(e);if(s)i===n&&l.classed("active",!l.classed("active"));else{var u=null===i?i:a.nestedProperty(t,i).get();l.classed("active",u===r)}})},l.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},l.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title","Produced with Plotly"),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(s.plotlylogo)),e.appendChild(t),e},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){a.removeElement(this.container.querySelector(".modebar"))},e.exports=i},function(e,t,n){"use strict";function r(e,t,n){function r(e,t){return o.coerce(i,a,l,e,t)}for(var i,a,s=e.buttons||[],u=t.buttons=[],c=0;c<s.length;c++)if(i=s[c],a={},o.isPlainObject(i)){var f=r("step");"all"!==f&&(!n||"gregorian"===n||"month"!==f&&"year"!==f?r("stepmode"):a.stepmode="backward",r("count")),r("label"),a._index=c,u.push(a)}return u}function i(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),i=0,o=0;o<r.length;o++){var a=t[r[o]].domain;a&&(i=Math.max(a[1],i))}return[e.domain[0],i+u.yPad]}var o=n(0),a=n(3),s=n(306),l=n(545),u=n(546);e.exports=function(e,t,n,l,c){function f(e,t){return o.coerce(h,d,s,e,t)}var h=e.rangeselector||{},d=t.rangeselector={};if(f("visible",r(h,d,c).length>0)){var p=i(t,n,l);f("x",p[0]),f("y",p[1]),o.noneOrAll(e,t,["x","y"]),f("xanchor"),f("yanchor"),o.coerceFont(f,"font",n.font);var m=f("bgcolor");f("activecolor",a.contrast(m,u.lightAmount,u.darkAmount)),f("bordercolor"),f("borderwidth")}}},function(e,t,n){"use strict";function r(e){for(var t=g.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}function i(e){return e._id}function o(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function a(e,t,n){var r=e.selectAll("rect").data([0]);r.enter().append("rect").classed("selector-rect",!0),r.attr("shape-rendering","crispEdges"),r.attr({rx:b.rx,ry:b.ry}),r.call(p.stroke,t.bordercolor).call(p.fill,s(t,n)).style("stroke-width",t.borderwidth+"px")}function s(e,t){return t.isActive||t.isHovered?e.activecolor:e.bgcolor}function l(e,t,n){function r(e){v.convertToTspans(e)}var i=e.selectAll("text").data([0]);i.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),i.attr("text-anchor","middle"),i.call(m.font,t.font).text(u(n)).call(r)}function u(e){return e.label?e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function c(e,t,n,r){n.width=0,n.height=0;var i=n.borderwidth;t.each(function(){var e=f.select(this),t=e.select(".selector-text"),r=t.selectAll("tspan"),i=1.3*n.font.size,o=r[0].length||1,a=Math.max(i*o,16)+3;n.height=Math.max(n.height,a)}),t.each(function(){var e=f.select(this),t=e.select(".selector-rect"),r=e.select(".selector-text"),o=r.selectAll("tspan"),a=r.node()&&m.bBox(r.node()).width,s=1.3*n.font.size,l=o[0].length||1,u=Math.max(a+10,b.minButtonWidth);e.attr("transform","translate("+(i+n.width)+","+i+")"),t.attr({x:0,y:0,width:u,height:n.height});var c={x:u/2,y:n.height/2-(l-1)*s/2+3};r.attr(c),o.attr(c),n.width+=u+5}),t.selectAll("rect").attr("height",n.height);var o=e._fullLayout._size;n.lx=o.l+o.w*n.x,n.ly=o.t+o.h*(1-n.y);var a="left";y.isRightAnchor(n)&&(n.lx-=n.width,a="right"),y.isCenterAnchor(n)&&(n.lx-=n.width/2,a="center");var s="top";y.isBottomAnchor(n)&&(n.ly-=n.height,s="bottom"),y.isMiddleAnchor(n)&&(n.ly-=n.height/2,s="middle"),n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),d.autoMargin(e,r+"-range-selector",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[a]||0),r:n.width*({left:1,center:.5}[a]||0),b:n.height*({top:1,middle:.5}[s]||0),t:n.height*({bottom:1,middle:.5}[s]||0)})}var f=n(2),h=n(25),d=n(16),p=n(3),m=n(12),v=n(43),g=n(53),y=n(220),b=n(546),x=n(1347);e.exports=function(e){var t=e._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(r(e),i);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(t){var n=f.select(this),r=t,i=r.rangeselector,s=n.selectAll("g.button").data(i.buttons);s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(t){var n=f.select(this),s=x(r,t);t.isActive=o(r,t,s),n.call(a,i,t),n.call(l,i,t),n.on("click",function(){e._dragged||h.relayout(e,s)}),n.on("mouseover",function(){t.isHovered=!0,n.call(a,i,t)}),n.on("mouseout",function(){t.isHovered=!1,n.call(a,i,t)})}),c(e,s,i,r._name),n.attr("transform","translate("+i.lx+","+i.ly+")")})}},function(e,t,n){"use strict";function r(e,t){var n,r=e.range,o=new Date(e.r2l(r[1])),a=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+i.time[a].utc.offset(o,-s));break;case"todate":var l=i.time[a].utc.offset(o,-s);n=e.l2r(+i.time[a].utc.ceil(l))}return[n,r[1]]}var i=n(2);e.exports=function(e,t){var n=e._name,i={};if("all"===t.step)i[n+".autorange"]=!0;else{var o=r(e,t);i[n+".range[0]"]=o[0],i[n+".range[1]"]=o[1]}return i}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{layout:{"xaxis.rangeselector":n(306)}},layoutAttributes:n(306),handleDefaults:n(1345),draw:n(1346)}},function(e,t,n){"use strict";var r=n(5),i=n(547);e.exports=function(e){for(var t=r.list(e,"x",!0),n=0;n<t.length;n++){var o=t[n],a=o[i.name];a&&a.visible&&a.autorange&&o._min.length&&o._max.length&&(a._input.autorange=!0,a._input.range=a.range=r.getAutoRange(o))}}},function(e,t,n){"use strict";var r=n(0),i=n(307);e.exports=function(e,t,n){function o(e,t){return r.coerce(a,l,i,e,t)}if(e[n].rangeslider){r.isPlainObject(e[n].rangeslider)||(e[n].rangeslider={});var a=e[n].rangeslider,s=t[n],l=s.rangeslider={};if(o("visible")){if(o("bgcolor",t.plot_bgcolor),o("bordercolor"),o("borderwidth"),o("thickness"),o("autorange",!s.isValidRange(a.range)),o("range"),l.range){var u=l.range,c=s.range;u[0]=s.l2r(Math.min(s.r2l(u[0]),s.r2l(c[0]))),u[1]=s.l2r(Math.max(s.r2l(u[1]),s.r2l(c[1])))}s.cleanRange("rangeslider.range"),l._input=a}}}},function(e,t,n){"use strict";function r(e){var t=w.list({_fullLayout:e},"x",!0),n=E.name,r=[];if(e._has("gl2d"))return r;for(var i=0;i<t.length;i++){var o=t[i];o[n]&&o[n].visible&&r.push(o)}return r}function i(e,t,n,r){var i=e.select("rect."+E.slideBoxClassName).node(),a=e.select("rect."+E.grabAreaMinClassName).node(),s=e.select("rect."+E.grabAreaMaxClassName).node();e.on("mousedown",function(){function l(l){var u,c,y,b=+l.clientX-h;switch(f){case i:y="ew-resize",u=p+b,c=v+b;break;case a:y="col-resize",u=p+b,c=v;break;case s:y="col-resize",u=p,c=v+b;break;default:y="ew-resize",u=d,c=d+b}if(c<u){var x=c;c=u,u=x}r._pixelMin=u,r._pixelMax=c,k(m.select(g),y),o(e,t,n,r)}function u(){g.removeEventListener("mousemove",l),g.removeEventListener("mouseup",u),y.removeElement(g)}var c=m.event,f=c.target,h=c.clientX,d=h-e.node().getBoundingClientRect().left,p=r.d2p(n._rl[0]),v=r.d2p(n._rl[1]),g=M.coverSlip();g.addEventListener("mousemove",l),g.addEventListener("mouseup",u)})}function o(e,t,n,r){function i(e){return n.l2r(y.constrain(e,r._rl[0],r._rl[1]))}var o=i(r.p2d(r._pixelMin)),a=i(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){v.relayout(t,n._name+".range",[o,a])})}function a(e,t,n,r){function i(e){return y.constrain(e,0,r._width)}function o(e){return y.constrain(e,-a,r._width+a)}var a=E.handleWidth/2,s=i(r.d2p(n._rl[0])),l=i(r.d2p(n._rl[1]));e.select("rect."+E.slideBoxClassName).attr("x",s).attr("width",l-s),e.select("rect."+E.maskMinClassName).attr("width",s),e.select("rect."+E.maskMaxClassName).attr("x",l).attr("width",r._width-l);var u=Math.round(o(s-a))-.5,c=Math.round(o(l-a))+.5;e.select("g."+E.grabberMinClassName).attr("transform","translate("+u+",0.5)"),e.select("g."+E.grabberMaxClassName).attr("transform","translate("+c+",0.5)")}function s(e,t,n,r){var i=e.selectAll("rect."+E.bgClassName).data([0]);i.enter().append("rect").classed(E.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var o=r.borderwidth%2===0?r.borderwidth:r.borderwidth-1,a=-r._offsetShift,s=b.crispRound(t,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:"translate("+a+","+a+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":s})}function l(e,t,n,r){var i=t._fullLayout,o=i._topdefs.selectAll("#"+r._clipId).data([0]);o.enter().append("clipPath").attr("id",r._clipId).append("rect").attr({x:0,y:0}),o.select("rect").attr({width:r._width,height:r._height})}function u(e,t,n,r){var i=w.getSubplots(t,n),o=t.calcdata,a=e.selectAll("g."+E.rangePlotClassName).data(i,y.identity);a.enter().append("g").attr("class",function(e){return E.rangePlotClassName+" "+e}).call(b.setClipUrl,r._clipId),a.order(),a.exit().remove();var s;a.each(function(e,i){var a=m.select(this),l=0===i,u=w.getFromId(t,e,"y"),f=u._name,h={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:r.range.slice(),calendar:n.calendar},width:r._width,height:r._height,margin:{t:0,b:0,l:0,r:0}}};h.layout[f]={type:u.type,domain:[0,1],range:u.range.slice(),calendar:u.calendar},g.supplyDefaults(h);var d=h._fullLayout.xaxis,p=h._fullLayout[f],v={id:e,plotgroup:a,xaxis:d,yaxis:p};l?s=v:(v.mainplot="xy",v.mainplotinfo=s),_.rangePlot(t,v,c(o,e))})}function c(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i[0].trace;o.xaxis+o.yaxis===t&&n.push(i)}return n}function f(e,t,n,r){var i=e.selectAll("rect."+E.maskMinClassName).data([0]);i.enter().append("rect").classed(E.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),i.attr("height",r._height).call(x.fill,E.maskColor);var o=e.selectAll("rect."+E.maskMaxClassName).data([0]);o.enter().append("rect").classed(E.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),o.attr("height",r._height).call(x.fill,E.maskColor)}function h(e,t,n,r){if(!t._context.staticPlot){var i=e.selectAll("rect."+E.slideBoxClassName).data([0]);i.enter().append("rect").classed(E.slideBoxClassName,!0).attr("y",0).attr("cursor",E.slideBoxCursor).attr("shape-rendering","crispEdges"),i.attr({height:r._height,fill:E.slideBoxFill})}}function d(e,t,n,r){var i=e.selectAll("g."+E.grabberMinClassName).data([0]);i.enter().append("g").classed(E.grabberMinClassName,!0);var o=e.selectAll("g."+E.grabberMaxClassName).data([0]);o.enter().append("g").classed(E.grabberMaxClassName,!0);var a={x:0,width:E.handleWidth,rx:E.handleRadius,fill:x.background,stroke:x.defaultLine,"stroke-width":E.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(r._height/4),height:Math.round(r._height/2)},l=i.selectAll("rect."+E.handleMinClassName).data([0]);l.enter().append("rect").classed(E.handleMinClassName,!0).attr(a),l.attr(s);var u=o.selectAll("rect."+E.handleMaxClassName).data([0]);if(u.enter().append("rect").classed(E.handleMaxClassName,!0).attr(a),u.attr(s),!t._context.staticPlot){var c={width:E.grabAreaWidth,x:0,y:0,fill:E.grabAreaFill,cursor:E.grabAreaCursor},f=i.selectAll("rect."+E.grabAreaMinClassName).data([0]);f.enter().append("rect").classed(E.grabAreaMinClassName,!0).attr(c),f.attr("height",r._height);var h=o.selectAll("rect."+E.grabAreaMaxClassName).data([0]);h.enter().append("rect").classed(E.grabAreaMaxClassName,!0).attr(c),h.attr("height",r._height)}}function p(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];-1!==i.indexOf(E.name)&&g.autoMargin(e,i)}}var m=n(2),v=n(25),g=n(16),y=n(0),b=n(12),x=n(3),_=n(44),w=n(5),M=n(92),k=n(126),E=n(547);e.exports=function(e){function t(e){return e._name}var n=e._fullLayout,o=r(n),c=n._infolayer.selectAll("g."+E.containerClassName).data(o,t);c.enter().append("g").classed(E.containerClassName,!0).attr("pointer-events","all"),c.exit().each(function(e){var t=m.select(this),r=e[E.name];t.remove(),n._topdefs.select("#"+r._clipId).remove()}),c.exit().size()&&p(e),0!==o.length&&c.each(function(t){var r=m.select(this),o=t[E.name],c=n[w.id2name(t.anchor)],p=n.margin,v=n._size,y=t.domain,b=c.domain,x=(t._boundingBox||{}).height||0;o._id=E.name+t._id,o._clipId=o._id+"-"+n._uid,o._width=v.w*(y[1]-y[0]),o._height=(n.height-p.b-p.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2);var _=Math.round(p.l+v.w*y[0]),M=Math.round(p.t+v.h*(1-b[0])+x+o._offsetShift+E.extraPad);r.attr("transform","translate("+_+","+M+")");var k=t.r2l(o.range[0]),S=t.r2l(o.range[1]),T=S-k;o.p2d=function(e){return e/o._width*T+k},o.d2p=function(e){return(e-k)/T*o._width},o._rl=[k,S],r.call(s,e,t,o).call(l,e,t,o).call(u,e,t,o).call(f,e,t,o).call(h,e,t,o).call(d,e,t,o),i(r,e,t,o),a(r,e,t,o),g.autoMargin(e,o._id,{x:y[0],y:b[0],l:0,r:0,t:0,b:o._height+p.b+x,pad:E.extraPad+2*o._offsetShift})})}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"rangeslider",schema:{layout:{"xaxis.rangeslider":n(307)}},layoutAttributes:n(307),handleDefaults:n(1350),calcAutorange:n(1349),draw:n(1351)}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o="category"===e.type?Number:e.d2c;if(void 0!==t)return[o(t),o(n)];if(r){var l,u,c,f,h,d=1/0,p=-1/0,m=r.match(a.segmentRE);for("date"===e.type&&(o=s.decodeDate(o)),l=0;l<m.length;l++)u=m[l],void 0!==(c=i[u.charAt(0)].drawn)&&(!(f=m[l].substr(1).match(a.paramRE))||f.length<c||(h=o(f[c]),h<d&&(d=h),h>p&&(p=h)));return p>=d?[d,p]:void 0}}var i=n(0),o=n(5),a=n(549),s=n(308);e.exports=function(e){var t=e._fullLayout,n=i.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var s=0;s<n.length;s++){var l,u,c=n[s],f=c.line.width/2;"paper"!==c.xref&&(l=o.getFromId(e,c.xref),(u=r(l,c.x0,c.x1,c.path,a.paramIsX))&&o.expand(l,u,{ppad:f})),"paper"!==c.yref&&(l=o.getFromId(e,c.yref),(u=r(l,c.y0,c.y1,c.path,a.paramIsY))&&o.expand(l,u,{ppad:f}))}}},function(e,t,n){"use strict";var r=n(168),i=n(1357);e.exports=function(e,t){r(e,t,{name:"shapes",handleItemDefaults:i})}},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._shapeSubplotLayers.selectAll("path").remove();for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&i(e,n)}function i(e,t){function n(n){var r={"data-index":t,"fill-rule":"evenodd",d:a(e,i)},s=i.line.width?i.line.color:"rgba(0,0,0,0)",l=n.append("path").attr(r).style("opacity",i.opacity).call(h.stroke,s).call(h.fill,i.fillcolor).call(d.dashLine,i.line.dash,i.line.width),u=(i.xref+i.yref).replace(/paper/g,"");l.call(d.setClipUrl,u?"clip"+e._fullLayout._uid+u:null),e._context.editable&&o(e,l,i,t)}e._fullLayout._paper.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=(e.layout.shapes||[])[t],i=e._fullLayout.shapes[t];if(r&&!1!==i.visible)if("below"!==i.layer)n(e._fullLayout._shapeUpperLayer);else if("paper"===i.xref||"paper"===i.yref)n(e._fullLayout._shapeLowerLayer);else{var s=e._fullLayout._plots[i.xref+i.yref];if(s){var l=s.mainplot||s;n(l.shapelayer)}else n(e._fullLayout._shapeLowerLayer)}}function o(e,t,n,r){function i(e){var n=Z.right-Z.left,r=Z.bottom-Z.top,i=e.clientX-Z.left,o=e.clientY-Z.top,a=n>q&&r>G&&!e.shiftKey?p.getCursor(i/n,1-o/r):"move";m(t,a),W=a.split("-")[0]}function o(t){F=f.getFromId(e,n.xref),B=f.getFromId(e,n.yref),U=g.getDataToPixel(e,F),V=g.getDataToPixel(e,B,!0),H=g.getPixelToData(e,F),Y=g.getPixelToData(e,B,!0);var o="shapes["+r+"]";"path"===n.type?(j=n.path,z=o+".path"):(v=U(n.x0),y=V(n.y0),b=U(n.x1),x=V(n.y1),_=o+".x0",w=o+".y0",M=o+".x1",k=o+".y1"),v<b?(T=v,O=o+".x0",N="x0",A=b,P=o+".x1",R="x1"):(T=b,O=o+".x1",N="x1",A=v,P=o+".x0",R="x0"),y<x?(E=y,C=o+".y0",L="y0",S=x,D=o+".y1",I="y1"):(E=x,C=o+".y1",L="y1",S=y,D=o+".y0",I="y0"),d={},i(t),X.moveFn="move"===W?c:h}function s(n){m(t),n&&u.relayout(e,d)}function c(r,i){if("path"===n.type){var o=function(e){return H(U(e)+r)};F&&"date"===F.type&&(o=g.encodeDate(o));var s=function(e){return Y(V(e)+i)};B&&"date"===B.type&&(s=g.encodeDate(s)),n.path=l(j,o,s),d[z]=n.path}else d[_]=n.x0=H(v+r),d[w]=n.y0=Y(y+i),d[M]=n.x1=H(b+r),d[k]=n.y1=Y(x+i);t.attr("d",a(e,n))}function h(r,i){if("path"===n.type){var o=function(e){return H(U(e)+r)};F&&"date"===F.type&&(o=g.encodeDate(o));var s=function(e){return Y(V(e)+i)};B&&"date"===B.type&&(s=g.encodeDate(s)),n.path=l(j,o,s),d[z]=n.path}else{var u=~W.indexOf("n")?E+i:E,c=~W.indexOf("s")?S+i:S,f=~W.indexOf("w")?T+r:T,h=~W.indexOf("e")?A+r:A;c-u>G&&(d[C]=n[L]=Y(u),d[D]=n[I]=Y(c)),h-f>q&&(d[O]=n[N]=H(f),d[P]=n[R]=H(h))}t.attr("d",a(e,n))}var d,v,y,b,x,_,w,M,k,E,S,T,A,C,D,O,P,L,I,N,R,j,z,F,B,U,V,H,Y,W,q=10,G=10,X={setCursor:i,element:t.node(),prepFn:o,doneFn:s},Z=X.element.getBoundingClientRect();p.init(X)}function a(e,t){var n,r,i,o,a=t.type,l=f.getFromId(e,t.xref),u=f.getFromId(e,t.yref),c=e._fullLayout._size;if(l?(n=g.shapePositionToRange(l),r=function(e){return l._offset+l.r2p(n(e,!0))}):r=function(e){return c.l+c.w*e},u?(i=g.shapePositionToRange(u),o=function(e){return u._offset+u.r2p(i(e,!0))}):o=function(e){return c.t+c.h*(1-e)},"path"===a)return l&&"date"===l.type&&(r=g.decodeDate(r)),u&&"date"===u.type&&(o=g.decodeDate(o)),s(t.path,r,o);var h=r(t.x0),d=r(t.x1),p=o(t.y0),m=o(t.y1);if("line"===a)return"M"+h+","+p+"L"+d+","+m;if("rect"===a)return"M"+h+","+p+"H"+d+"V"+m+"H"+h+"Z";var v=(h+d)/2,y=(p+m)/2,b=Math.abs(v-h),x=Math.abs(y-p),_="A"+b+","+x,w=v+b+","+y;return"M"+w+_+" 0 1,1 "+v+","+(y-x)+_+" 0 0,1 "+w+"Z"}function s(e,t,n){return e.replace(v.segmentRE,function(e){var r=0,i=e.charAt(0),o=v.paramIsX[i],a=v.paramIsY[i],s=v.numParams[i],l=e.substr(1).replace(v.paramRE,function(e){return o[r]?e=t(e):a[r]&&(e=n(e)),r++,r>s&&(e="X"),e});return r>s&&(l=l.replace(/[\s,]*X.*/,""),c.log("Ignoring extra params in segment "+e)),i+l})}function l(e,t,n){return e.replace(v.segmentRE,function(e){var r=0,i=e.charAt(0),o=v.paramIsX[i],a=v.paramIsY[i],s=v.numParams[i];return i+e.substr(1).replace(v.paramRE,function(e){return r>=s?e:(o[r]?e=t(e):a[r]&&(e=n(e)),r++,e)})})}var u=n(25),c=n(0),f=n(5),h=n(3),d=n(12),p=n(92),m=n(126),v=n(549),g=n(308);e.exports={draw:r,drawOne:i}},function(e,t,n){"use strict";var r=n(1355);e.exports={moduleType:"component",name:"shapes",layoutAttributes:n(548),supplyLayoutDefaults:n(1354),calcAutorange:n(1353),draw:r.draw,drawOne:r.drawOne}},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(548),a=n(308);e.exports=function(e,t,n,s,l){function u(n,i){return r.coerce(e,t,o,n,i)}if(s=s||{},l=l||{},!u("visible",!l.itemIsNotPlainObject))return t;u("layer"),u("opacity"),u("fillcolor"),u("line.color"),u("line.width"),u("line.dash");for(var c=e.path?"path":"rect",f=u("type",c),h=["x","y"],d=0;d<2;d++){var p=h[d],m={_fullLayout:n},v=i.coerceRef(e,t,m,p,"","paper");if("path"!==f){var g,y,b;"paper"!==v?(g=i.getFromId(m,v),b=a.rangeToShapePosition(g),y=a.shapePositionToRange(g)):y=b=r.identity;var x=p+"0",_=p+"1",w=e[x],M=e[_];e[x]=y(e[x],!0),e[_]=y(e[_],!0),i.coercePosition(t,m,u,v,x,.25),i.coercePosition(t,m,u,v,_,.75),t[x]=b(t[x]),t[_]=b(t[_]),e[x]=w,e[_]=M}}return"path"===f?u("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"]),t}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return o.coerce(e,t,s,n,r)}r("visible",i(e,t).length>0)&&(r("active"),r("x"),r("y"),o.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),o.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),o.coerceFont(r,"currentvalue.font",t.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen"))}function i(e,t){function n(e,t){return o.coerce(r,i,c,e,t)}for(var r,i,a=e.steps||[],s=t.steps=[],l=0;l<a.length;l++)r=a[l],i={},o.isPlainObject(r)&&Array.isArray(r.args)&&(n("method"),n("args"),n("label","step-"+l),n("value",i.label),s.push(i));return s}var o=n(0),a=n(168),s=n(550),l=n(221),u=l.name,c=s.steps;e.exports=function(e,t){a(e,t,{name:u,handleItemDefaults:r})}},function(e,t,n){"use strict";function r(e){for(var t=e[A.name],n=[],r=0;r<t.length;r++){var i=t[r];i.visible&&i.steps.length&&n.push(i)}return n}function i(e){return e._index}function o(e,t){var n=e._tester.selectAll("g."+A.labelGroupClass).data(t.steps);n.enter().append("g").classed(A.labelGroupClass,!0);var r=0,i=0;if(n.each(function(e){var n=w.select(this),o=u(n,{step:e},t),a=o.node()&&E.bBox(o.node()).width||0;i=o.node()&&E.bBox(o.node()).height||0,r=Math.max(r,a)}),n.remove(),t.inputAreaWidth=Math.max(A.railWidth,A.gripHeight),t.currentValueMaxWidth=0,t.currentValueHeight=0,t.currentValueTotalHeight=0,t.currentvalue.visible){var o=e._tester.append("g");n.each(function(e){var n=s(o,t,e.label),r=n.node()&&E.bBox(n.node())||{width:0,height:0};t.currentValueMaxWidth=Math.max(t.currentValueMaxWidth,Math.ceil(r.width)),t.currentValueHeight=Math.max(t.currentValueHeight,Math.ceil(r.height))}),t.currentValueTotalHeight=t.currentValueHeight+t.currentvalue.offset,o.remove()}var a=e._fullLayout._size;t.lx=a.l+a.w*t.x,t.ly=a.t+a.h*(1-t.y),"fraction"===t.lenmode?t.outerLength=Math.round(a.w*t.len):t.outerLength=t.len,t.lenPad=Math.round(.5*A.gripWidth),t.inputAreaStart=0,t.inputAreaLength=Math.round(t.outerLength-t.pad.l-t.pad.r);var l=t.inputAreaLength-2*A.stepInset,c=l/(t.steps.length-1),f=r+A.labelPadding;t.labelStride=Math.max(1,Math.ceil(f/c)),t.labelHeight=i,t.height=t.currentValueTotalHeight+A.tickOffset+t.ticklen+A.labelOffset+t.labelHeight+t.pad.t+t.pad.b;var h="left";T.isRightAnchor(t)&&(t.lx-=t.outerLength,h="right"),T.isCenterAnchor(t)&&(t.lx-=t.outerLength/2,h="center");var d="top";T.isBottomAnchor(t)&&(t.ly-=t.height,d="bottom"),T.isMiddleAnchor(t)&&(t.ly-=t.height/2,d="middle"),t.outerLength=Math.ceil(t.outerLength),t.height=Math.ceil(t.height),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),M.autoMargin(e,A.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:t.outerLength*({right:1,center:.5}[h]||0),r:t.outerLength*({left:1,center:.5}[h]||0),b:t.height*({top:1,middle:.5}[d]||0),t:t.height*({bottom:1,middle:.5}[d]||0)})}function a(e,t,n){n.active>=n.steps.length&&(n.active=0),t.call(s,n).call(x,n).call(c,n).call(p,n).call(b,e,n).call(l,e,n),E.setTranslate(t,n.lx+n.pad.l,n.ly+n.pad.t),t.call(v,n,n.active/(n.steps.length-1),!1),t.call(s,n)}function s(e,t,n){if(t.currentvalue.visible){var r,i,o=e.selectAll("text").data([0]);switch(t.currentvalue.xanchor){case"right":r=t.inputAreaLength-A.currentValueInset-t.currentValueMaxWidth,i="left";break;case"center":r=.5*t.inputAreaLength,i="middle";break;default:r=A.currentValueInset,i="left"}o.enter().append("text").classed(A.labelClass,!0).classed("user-select-none",!0).attr("text-anchor",i);var a=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"===typeof n)a+=n;else{a+=t.steps[t.active].label}return t.currentvalue.suffix&&(a+=t.currentvalue.suffix),o.call(E.font,t.currentvalue.font).text(a).call(S.convertToTspans),E.setTranslate(o,r,t.currentValueHeight),o}}function l(e,t,n){var r=e.selectAll("rect."+A.gripRectClass).data([0]);r.enter().append("rect").classed(A.gripRectClass,!0).call(d,t,e,n).style("pointer-events","all"),r.attr({width:A.gripWidth,height:A.gripHeight,rx:A.gripRadius,ry:A.gripRadius}).call(k.stroke,n.bordercolor).call(k.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function u(e,t,n){var r=e.selectAll("text").data([0]);return r.enter().append("text").classed(A.labelClass,!0).classed("user-select-none",!0).attr("text-anchor","middle"),r.call(E.font,n.font).text(t.step.label).call(S.convertToTspans),r}function c(e,t){var n=e.selectAll("g."+A.labelsClass).data([0]);n.enter().append("g").classed(A.labelsClass,!0);var r=n.selectAll("g."+A.labelGroupClass).data(t.labelSteps);r.enter().append("g").classed(A.labelGroupClass,!0),r.exit().remove(),r.each(function(e){var n=w.select(this);n.call(u,e,t),E.setTranslate(n,g(t,e.fraction),A.tickOffset+t.ticklen+t.labelHeight+A.labelOffset+t.currentValueTotalHeight)})}function f(e,t,n,r,i){var o=Math.round(r*(n.steps.length-1));o!==n.active&&h(e,t,n,o,!0,i)}function h(e,t,n,r,i,o){var a=n.active;n._input.active=n.active=r;var l=n.steps[n.active];t.call(v,n,n.active/(n.steps.length-1),o),t.call(s,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:i,previousActive:a}),l&&l.method&&i&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=i,t._nextMethod.doTransition=o):(t._nextMethod={step:l,doCallback:i,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(M.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function d(e,t,n){function r(){return n.data()[0]}var i=n.node(),o=w.select(t);e.on("mousedown",function(){var e=r();t.emit("plotly_sliderstart",{slider:e});var a=n.select("."+A.gripRectClass);w.event.stopPropagation(),w.event.preventDefault(),a.call(k.fill,e.activebgcolor);var s=y(e,w.mouse(i)[0]);f(t,n,e,s,!0),e._dragging=!0,o.on("mousemove",function(){var e=r(),o=y(e,w.mouse(i)[0]);f(t,n,e,o,!1)}),o.on("mouseup",function(){var e=r();e._dragging=!1,a.call(k.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function p(e,t){var n=e.selectAll("rect."+A.tickRectClass).data(t.steps);n.enter().append("rect").classed(A.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var r=n%t.labelStride===0,i=w.select(this);i.attr({height:r?t.ticklen:t.minorticklen}).call(k.fill,t.tickcolor),E.setTranslate(i,g(t,n/(t.steps.length-1))-.5*t.tickwidth,(r?A.tickOffset:A.minorTickOffset)+t.currentValueTotalHeight)})}function m(e){e.labelSteps=[];for(var t=e.steps.length,n=0;n<t;n+=e.labelStride)e.labelSteps.push({fraction:n/(t-1),step:e.steps[n]})}function v(e,t,n,r){var i=e.select("rect."+A.gripRectClass),o=g(t,n);if(!t._invokingCommand){var a=i;r&&t.transition.duration>0&&(a=a.transition().duration(t.transition.duration).ease(t.transition.easing)),a.attr("transform","translate("+(o-.5*A.gripWidth)+","+t.currentValueTotalHeight+")")}}function g(e,t){return e.inputAreaStart+A.stepInset+(e.inputAreaLength-2*A.stepInset)*Math.min(1,Math.max(0,t))}function y(e,t){return Math.min(1,Math.max(0,(t-A.stepInset-e.inputAreaStart)/(e.inputAreaLength-2*A.stepInset-2*e.inputAreaStart)))}function b(e,t,n){var r=e.selectAll("rect."+A.railTouchRectClass).data([0]);r.enter().append("rect").classed(A.railTouchRectClass,!0).call(d,t,e,n).style("pointer-events","all"),r.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,A.tickOffset+n.ticklen+n.labelHeight)}).call(k.fill,n.bgcolor).attr("opacity",0),E.setTranslate(r,0,n.currentValueTotalHeight)}function x(e,t){var n=e.selectAll("rect."+A.railRectClass).data([0]);n.enter().append("rect").classed(A.railRectClass,!0);var r=t.inputAreaLength-2*A.railInset;n.attr({width:r,height:A.railWidth,rx:A.railRadius,ry:A.railRadius,"shape-rendering":"crispEdges"}).call(k.stroke,t.bordercolor).call(k.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),E.setTranslate(n,A.railInset,.5*(t.inputAreaWidth-A.railWidth)+t.currentValueTotalHeight)}function _(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];-1!==i.indexOf(A.autoMarginIdRoot)&&M.autoMargin(e,i)}}var w=n(2),M=n(16),k=n(3),E=n(12),S=n(43),T=n(220),A=n(221);e.exports=function(e){var t=e._fullLayout,n=r(t),s=t._infolayer.selectAll("g."+A.containerClassName).data(n.length>0?[0]:[]);if(s.enter().append("g").classed(A.containerClassName,!0).style("cursor","ew-resize"),s.exit().remove(),s.exit().size()&&_(e),0!==n.length){var l=s.selectAll("g."+A.groupClassName).data(n,i);l.enter().append("g").classed(A.groupClassName,!0),l.exit().each(function(t){w.select(this).remove(),t._commandObserver.remove(),delete t._commandObserver,M.autoMargin(e,A.autoMarginIdRoot+t._index)});for(var u=0;u<n.length;u++){var c=n[u];o(e,c)}l.each(function(t){if(!(t.steps.length<2)){var n=w.select(this);m(t),M.manageCommandObserver(e,t,t.steps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||h(e,n,r,t.index,!1,!0))}),a(e,w.select(this),t)}})}}},function(e,t,n){"use strict";var r=n(221);e.exports={moduleType:"component",name:r.name,layoutAttributes:n(550),supplyLayoutDefaults:n(1358),draw:n(1359)}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return o.coerce(e,t,s,n,r)}r("visible",i(e,t).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),o.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),o.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function i(e,t){function n(e,t){return o.coerce(r,i,c,e,t)}for(var r,i,a=e.buttons||[],s=t.buttons=[],l=0;l<a.length;l++)r=a[l],i={},o.isPlainObject(r)&&Array.isArray(r.args)&&(n("method"),n("args"),n("label"),i._index=l,s.push(i));return s}var o=n(0),a=n(168),s=n(551),l=n(309),u=l.name,c=s.buttons;e.exports=function(e,t){a(e,t,{name:u,handleItemDefaults:r})}},function(e,t,n){"use strict";function r(e){for(var t=e[A.name],n=[],r=0;r<t.length;r++){var i=t[r];i.visible&&n.push(i)}return n}function i(e){return e._index}function o(e){return-1===+e.attr(A.menuIndexAttrName)}function a(e,t){return+e.attr(A.menuIndexAttrName)===t._index}function s(e,t,n,r,i,o,a,s){t._input.active=t.active=a,"buttons"===t.type?u(e,r,null,null,t):"dropdown"===t.type&&(i.attr(A.menuIndexAttrName,"-1"),l(e,r,i,o,t),s||u(e,r,i,o,t))}function l(e,t,n,r,i){var o=t.selectAll("g."+A.headerClassName).data([0]);o.enter().append("g").classed(A.headerClassName,!0).style("pointer-events","all");var s=i.active,l=i.buttons[s]||A.blankHeaderOpts,c={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},f={width:i.headerWidth,height:i.headerHeight};o.call(h,i,l).call(b,i,c,f);var d=t.selectAll("text."+A.headerArrowClassName).data([0]);d.enter().append("text").classed(A.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(E.font,i.font).text("▼"),d.attr({x:i.headerWidth-A.arrowOffsetX+i.pad.l,y:i.headerHeight/2+A.textOffsetY+i.pad.t}),o.on("click",function(){n.call(x),n.attr(A.menuIndexAttrName,a(n,i)?-1:String(i._index)),u(e,t,n,r,i)}),o.on("mouseover",function(){o.call(v)}),o.on("mouseout",function(){o.call(g,i)}),E.setTranslate(t,i.lx,i.ly)}function u(e,t,n,r,i){n||(n=t,n.attr("pointer-events","all"));var a=o(n)&&"buttons"!==i.type?[]:i.buttons,l="dropdown"===i.type?A.dropdownButtonClassName:A.buttonClassName,u=n.selectAll("g."+l).data(a),d=u.enter().append("g").classed(l,!0),p=u.exit();"dropdown"===i.type?(d.attr("opacity","0").transition().attr("opacity","1"),p.transition().attr("opacity","0").remove()):p.remove();var y=0,x=0,_=-1!==["up","down"].indexOf(i.direction);"dropdown"===i.type&&(_?x=i.headerHeight+A.gapButtonHeader:y=i.headerWidth+A.gapButtonHeader),"dropdown"===i.type&&"up"===i.direction&&(x=-A.gapButtonHeader+A.gapButton-i.openHeight),"dropdown"===i.type&&"left"===i.direction&&(y=-A.gapButtonHeader+A.gapButton-i.openWidth);var k={x:i.lx+y+i.pad.l,y:i.ly+x+i.pad.t,yPad:A.gapButton,xPad:A.gapButton,index:0},E={l:k.x+i.borderwidth,t:k.y+i.borderwidth};u.each(function(o,a){var l=w.select(this);l.call(h,i,o).call(b,i,k),l.on("click",function(){w.event.defaultPrevented||(s(e,i,o,t,n,r,a),M.executeAPICommand(e,o.method,o.args),e.emit("plotly_buttonclicked",{menu:i,button:o,active:i.active}))}),l.on("mouseover",function(){l.call(v)}),l.on("mouseout",function(){l.call(g,i),u.call(m,i)})}),u.call(m,i),_?(E.w=Math.max(i.openWidth,i.headerWidth),E.h=k.y-E.t):(E.w=k.x-E.l,E.h=Math.max(i.openHeight,i.headerHeight)),E.direction=i.direction,r&&(u.size()?c(e,t,n,r,i,E):f(r))}function c(e,t,n,r,i,o){var a,s,l,u=i.direction,c="up"===u||"down"===u,f=i.active;if(c)for(s=0,l=0;l<f;l++)s+=i.heights[l]+A.gapButton;else for(a=0,l=0;l<f;l++)a+=i.widths[l]+A.gapButton;r.enable(o,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr("opacity","0").each("end",function(){n=!1,t||e.disable()})}function h(e,t,n){e.call(d,t).call(p,t,n)}function d(e,t){var n=e.selectAll("rect").data([0]);n.enter().append("rect").classed(A.itemRectClassName,!0).attr({rx:A.rx,ry:A.ry,"shape-rendering":"crispEdges"}),n.call(k.stroke,t.bordercolor).call(k.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function p(e,t,n){var r=e.selectAll("text").data([0]);r.enter().append("text").classed(A.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),r.call(E.font,t.font).text(n.label).call(S.convertToTspans)}function m(e,t){var n=t.active;e.each(function(e,r){var i=w.select(this);r===n&&t.showactive&&i.select("rect."+A.itemRectClassName).call(k.fill,A.activeColor)})}function v(e){e.select("rect."+A.itemRectClassName).call(k.fill,A.hoverColor)}function g(e,t){e.select("rect."+A.itemRectClassName).call(k.fill,t.bgcolor)}function y(e,t){t.width1=0,t.height1=0,t.heights=[],t.widths=[],t.totalWidth=0,t.totalHeight=0,t.openWidth=0,t.openHeight=0,t.lx=0,t.ly=0;var n=e._tester.selectAll("g."+A.dropdownButtonClassName).data(t.buttons);n.enter().append("g").classed(A.dropdownButtonClassName,!0);var r=-1!==["up","down"].indexOf(t.direction);n.each(function(e,n){var i=w.select(this);i.call(h,t,e);var o=i.select("."+A.itemTextClassName),a=o.selectAll("tspan"),s=o.node()&&E.bBox(o.node()).width,l=Math.max(s+A.textPadX,A.minWidth),u=t.font.size*A.fontSizeToHeight,c=a[0].length||1,f=Math.max(u*c,A.minHeight)+A.textOffsetY;f=Math.ceil(f),l=Math.ceil(l),t.widths[n]=l,t.heights[n]=f,t.height1=Math.max(t.height1,f),t.width1=Math.max(t.width1,l),r?(t.totalWidth=Math.max(t.totalWidth,l),t.openWidth=t.totalWidth,t.totalHeight+=f+A.gapButton,t.openHeight+=f+A.gapButton):(t.totalWidth+=l+A.gapButton,t.openWidth+=l+A.gapButton,t.totalHeight=Math.max(t.totalHeight,f),t.openHeight=t.totalHeight)}),r?t.totalHeight-=A.gapButton:t.totalWidth-=A.gapButton,t.headerWidth=t.width1+A.arrowPadX,t.headerHeight=t.height1,"dropdown"===t.type&&(r?(t.width1+=A.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=A.arrowPadX),n.remove();var i=t.totalWidth+t.pad.l+t.pad.r,o=t.totalHeight+t.pad.t+t.pad.b,a=e._fullLayout._size;t.lx=a.l+a.w*t.x,t.ly=a.t+a.h*(1-t.y);var s="left";T.isRightAnchor(t)&&(t.lx-=i,s="right"),T.isCenterAnchor(t)&&(t.lx-=i/2,s="center");var l="top";T.isBottomAnchor(t)&&(t.ly-=o,l="bottom"),T.isMiddleAnchor(t)&&(t.ly-=o/2,l="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),M.autoMargin(e,A.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:i*({right:1,center:.5}[s]||0),r:i*({left:1,center:.5}[s]||0),b:o*({top:1,middle:.5}[l]||0),t:o*({bottom:1,middle:.5}[l]||0)})}function b(e,t,n,r){r=r||{};var i=e.select("."+A.itemRectClassName),o=e.select("."+A.itemTextClassName),a=o.selectAll("tspan"),s=t.borderwidth,l=n.index;E.setTranslate(e,s+n.x,s+n.y);var u=-1!==["up","down"].indexOf(t.direction);i.attr({x:0,y:0,width:r.width||(u?t.width1:t.widths[l]),height:r.height||(u?t.heights[l]:t.height1)});var c=t.font.size*A.fontSizeToHeight,f=a[0].length||1,h=(f-1)*c/4,d={x:A.textOffsetX,y:t.heights[l]/2-h+A.textOffsetY};o.attr(d),a.attr(d),u?n.y+=t.heights[l]+n.yPad:n.x+=t.widths[l]+n.xPad,n.index++}function x(e){e.selectAll("g."+A.dropdownButtonClassName).remove()}function _(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];-1!==i.indexOf(A.autoMarginIdRoot)&&M.autoMargin(e,i)}}var w=n(2),M=n(16),k=n(3),E=n(12),S=n(43),T=n(220),A=n(309),C=n(1364);e.exports=function(e){var t=e._fullLayout,n=r(t),o=t._infolayer.selectAll("g."+A.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(A.containerClassName,!0).style("cursor","pointer"),o.exit().remove(),o.exit().size()&&_(e),0!==n.length){var c=o.selectAll("g."+A.headerGroupClassName).data(n,i);c.enter().append("g").classed(A.headerGroupClassName,!0);var f=o.selectAll("g."+A.dropdownButtonGroupClassName).data([0]);f.enter().append("g").classed(A.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var h=0;h<n.length;h++){var d=n[h];y(e,d)}var p="updatemenus"+t._uid,m=new C(e,f,p);c.enter().size()&&f.call(x).attr(A.menuIndexAttrName,"-1"),c.exit().each(function(t){w.select(this).remove(),f.call(x).attr(A.menuIndexAttrName,"-1"),M.autoMargin(e,A.autoMarginIdRoot+t._index)}),c.each(function(t){var n=w.select(this),r="dropdown"===t.type?f:null;M.manageCommandObserver(e,t,t.buttons,function(i){s(e,t,t.buttons[i.index],n,r,m,i.index,!0)}),"dropdown"===t.type?(l(e,n,f,m,t),a(f,t)&&u(e,n,f,m,t)):u(e,n,null,null,t)})}}},function(e,t,n){"use strict";var r=n(309);e.exports={moduleType:"component",name:r.name,layoutAttributes:n(551),supplyLayoutDefaults:n(1361),draw:n(1362)}},function(e,t,n){"use strict";function r(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.exports=r;var i=n(2),o=n(3),a=n(12),s=n(0);r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(e,t,n){var s=this.gd._fullLayout,l=s.width,u=s.height;this.position=e;var c,f,h,d,p=this.position.l,m=this.position.w,v=this.position.t,g=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,_="right"===y,w="up"===y,M=m,k=g;b||x||_||w||(this.position.direction="down",b=!0),b||w?(c=p,f=c+M,b?(h=v,d=Math.min(h+k,u),k=d-h):(d=v+k,h=Math.max(d-k,0),k=d-h)):(h=v,d=h+k,x?(f=p+M,c=Math.max(f-M,0),M=f-c):(c=p,f=Math.min(c+M,l),M=f-c)),this._box={l:c,t:h,w:M,h:k};var E=m>M,S=r.barLength+2*r.barPad,T=r.barWidth+2*r.barPad,A=p,C=v+g;C+T>u&&(C=u-T);var D=this.container.selectAll("rect.scrollbar-horizontal").data(E?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-horizontal",!0).call(o.fill,r.barColor),E?(this.hbar=D.attr({rx:r.barRadius,ry:r.barRadius,x:A,y:C,width:S,height:T}),this._hbarXMin=A+S/2,this._hbarTranslateMax=M-S):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=g>k,P=r.barWidth+2*r.barPad,L=r.barLength+2*r.barPad,I=p+m,N=v;I+P>l&&(I=l-P);var R=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(o.fill,r.barColor),O?(this.vbar=R.attr({rx:r.barRadius,ry:r.barRadius,x:I,y:N,width:P,height:L}),this._vbarYMin=N+L/2,this._vbarTranslateMax=k-L):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,z=c-.5,F=O?f+P+.5:f+.5,B=h-.5,U=E?d+T+.5:d+.5,V=s._topdefs.selectAll("#"+j).data(E||O?[0]:[]);if(V.exit().remove(),V.enter().append("clipPath").attr("id",j).append("rect"),E||O?(this._clipRect=V.select("rect").attr({x:Math.floor(z),y:Math.floor(B),width:Math.ceil(F)-Math.floor(z),height:Math.ceil(U)-Math.floor(B)}),this.container.call(a.setClipUrl,j),this.bg.attr({x:p,y:v,width:m,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),E||O){var H=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var Y=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));E&&this.hbar.on(".drag",null).call(Y),O&&this.vbar.on(".drag",null).call(Y)}this.setTranslate(t,n)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=i.event.dx),this.vbar&&(t-=i.event.dy),this.setTranslate(e,t)},r.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=i.event.deltaY),this.vbar&&(t+=i.event.deltaY),this.setTranslate(e,t)},r.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,r=n+this._hbarTranslateMax;e=(s.constrain(i.event.x,n,r)-n)/(r-n)*(this.position.w-this._box.w)}if(this.vbar){var o=t+this._vbarYMin,a=o+this._vbarTranslateMax;t=(s.constrain(i.event.y,o,a)-o)/(a-o)*(this.position.h-this._box.h)}this.setTranslate(e,t)},r.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=s.constrain(e||0,0,n),t=s.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(a.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var o=t/r;this.vbar.call(a.setTranslate,e,t+o*this._vbarTranslateMax)}}},function(e,t,n){"use strict";var r=n(25);t.version="1.26.1",n(931).polyfill(),n(1284),n(1366),t.plot=r.plot,t.newPlot=r.newPlot,t.restyle=r.restyle,t.relayout=r.relayout,t.redraw=r.redraw,t.update=r.update,t.extendTraces=r.extendTraces,t.prependTraces=r.prependTraces,t.addTraces=r.addTraces,t.deleteTraces=r.deleteTraces,t.moveTraces=r.moveTraces,t.purge=r.purge,t.setPlotConfig=n(1383),t.register=n(318),t.toImage=n(566),t.downloadImage=n(325),t.validate=n(1385),t.addFrames=r.addFrames,t.deleteFrames=r.deleteFrames,t.animate=r.animate,t.register(n(629)),t.register([n(1341),n(1320),n(1356),n(1336),n(1363),n(1360),n(1352),n(1348)]),t.Icons=n(301),t.Plots=r.Plots,t.Fx=r.Fx,t.Snapshot=n(1426),t.PlotSchema=n(224),t.Queue=n(562),t.d3=n(2)},function(e,t,n){"use strict";"undefined"!==typeof MathJax?(t.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):t.MathJax=!1},function(e,t,n){"use strict";e.exports=function(e,t,n,r){Array.isArray(e)&&(t[n]=e[r])}},function(e,t,n){"use strict";var r=n(4),i=n(27).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(e){return"string"===typeof e&&(e=e.replace(o,"")),r(e)?Number(e):i}},function(e,t,n){"use strict";var r=n(4),i=n(38),o=n(538),a=Object.keys(n(91)),s=n(313),l=/^([2-9]|[1-9][0-9]+)$/;t.valObjects={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){Array.isArray(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max"],coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(e,t,n,r){if("string"!==typeof e){var i="number"===typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",a.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){t.set(o(e,n))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?(Math.abs(e)>180&&(e-=360*Math.round(e/360)),t.set(+e)):t.set(n)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(e,t,n){var r=n.length;if("string"===typeof e&&e.substr(0,r)===n&&l.test(e.substr(r)))return void t.set(e);t.set(n)},validateFunction:function(e,t){var n=t.dflt,r=n.length;return e===n||"string"===typeof e&&!(e.substr(0,r)!==n||!l.test(e.substr(r)))}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras"],coerceFunction:function(e,t,n,r){if("string"!==typeof e)return void t.set(n);if(-1!==(r.extras||[]).indexOf(e))return void t.set(e);for(var i=e.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?t.set(i.join("+")):t.set(n)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(e,n,r,i){if(!Array.isArray(e))return void n.set(r);var o=i.items,a=[];r=Array.isArray(r)?r:[];for(var s=0;s<o.length;s++)t.coerce(e,a,o,"["+s+"]",r[s]);n.set(a)},validateFunction:function(e,n){if(!Array.isArray(e))return!1;var r=n.items;if(!n.freeLength&&e.length!==r.length)return!1;for(var i=0;i<e.length;i++){if(!t.validate(e[i],n.items[i]))return!1}return!0}}},t.coerce=function(e,n,r,i,o){var a=s(r,i).get(),l=s(e,i),u=s(n,i),c=l.get();return void 0===o&&(o=a.dflt),a.arrayOk&&Array.isArray(c)?(u.set(c),c):(t.valObjects[a.valType].coerceFunction(c,u,o,a),u.get())},t.coerce2=function(e,n,r,i,o){var a=s(e,i),l=t.coerce(e,n,r,i,o),u=a.get();return void 0!==u&&null!==u&&l},t.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},t.validate=function(e,n){var r=t.valObjects[n.valType];if(n.arrayOk&&Array.isArray(e))return!0;if(r.validateFunction)return r.validateFunction(e,n);var i={},o=i,a={set:function(e){o=e}};return r.coerceFunction(e,a,i,n),o!==i}},function(e,t,n){"use strict";function r(e){return e&&M.componentsRegistry.calendars&&"string"===typeof e&&"gregorian"!==e}function i(e,t){return String(e+Math.pow(10,t)).substr(1)}function o(e,t,n,r,o){if((t||n||r||o)&&(e+=" "+i(t,2)+":"+i(n,2),(r||o)&&(e+=":"+i(r,2),o))){for(var a=4;o%10===0;)a-=1,o/=10;e+="."+i(o,a)}return e}function a(e,t,n){e=e.replace(L,function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"});var i=new Date(Math.floor(t+.05));if(r(n))try{e=M.getComponentMethod("calendars","worldCalFmt")(e,t,n)}catch(e){return"Invalid"}return k(e)(i)}function s(e,t){var n=m(e+.05,y),r=i(Math.floor(n/b),2)+":"+i(m(Math.floor(n/x),60),2);if("M"!==t){d(t)||(t=0);var o=Math.min(m(e/_,60),I[t]),a=(100+o).toFixed(t).substr(1);t>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+a}return r}function l(e){return e.formatDate("yyyy")}function u(e){return e.formatDate("M yyyy")}function c(e){return e.formatDate("M d")}function f(e){return e.formatDate("M d, yyyy")}var h=n(2),d=n(4),p=n(167).error,m=n(559),v=n(27),g=v.BADNUM,y=v.ONEDAY,b=v.ONEHOUR,x=v.ONEMIN,_=v.ONESEC,w=v.EPOCHJD,M=n(6),k=h.time.format.utc,E=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,S=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,T=(new Date).getFullYear()-70;t.dateTick0=function(e,t){return r(e)?t?M.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:M.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},t.dfltRange=function(e){return r(e)?M.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},t.isJSDate=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.getTime};var A,C;t.dateTime2ms=function(e,n){if(t.isJSDate(e))return e=Number(e)-e.getTimezoneOffset()*x,e>=A&&e<=C?e:g;if("string"!==typeof e&&"number"!==typeof e)return g;e=String(e);var i=r(n),o=e.charAt(0);!i||"G"!==o&&"g"!==o||(e=e.substr(1),n="");var a=i&&"chinese"===n.substr(0,7),s=e.match(a?S:E);if(!s)return g;var l=s[1],u=s[3]||"1",c=Number(s[5]||1),f=Number(s[7]||0),h=Number(s[9]||0),d=Number(s[11]||0);if(i){if(2===l.length)return g;l=Number(l);var p;try{var m=M.getComponentMethod("calendars","getCal")(n);if(a){var v="i"===u.charAt(u.length-1);u=parseInt(u,10),p=m.newDate(l,m.toMonthIndex(l,u,v),c)}else p=m.newDate(l,Number(u),c)}catch(e){return g}return p?(p.toJD()-w)*y+f*b+h*x+d*_:g}l=2===l.length?(Number(l)+2e3-T)%100+T:Number(l),u-=1;var k=new Date(Date.UTC(2e3,u,c,f,h));return k.setUTCFullYear(l),k.getUTCMonth()!==u?g:k.getUTCDate()!==c?g:k.getTime()+d*_},A=t.MIN_MS=t.dateTime2ms("-9999"),C=t.MAX_MS=t.dateTime2ms("9999-12-31 23:59:59.9999"),t.isDateTime=function(e,n){return t.dateTime2ms(e,n)!==g};var D=90*y,O=3*b,P=5*x;t.ms2DateTime=function(e,t,n){if("number"!==typeof e||!(e>=A&&e<=C))return g;t||(t=0);var i,a,s,l,u,c,f=Math.floor(10*m(e+.05,1)),h=Math.round(e-f/10);if(r(n)){var d=Math.floor(h/y)+w,p=Math.floor(m(e,y));try{i=M.getComponentMethod("calendars","getCal")(n).fromJD(d).formatDate("yyyy-mm-dd")}catch(e){i=k("G%Y-%m-%d")(new Date(h))}if("-"===i.charAt(0))for(;i.length<11;)i="-0"+i.substr(1);else for(;i.length<10;)i="0"+i;a=t<D?Math.floor(p/b):0,s=t<D?Math.floor(p%b/x):0,l=t<O?Math.floor(p%x/_):0,u=t<P?p%_*10+f:0}else c=new Date(h),i=k("%Y-%m-%d")(c),a=t<D?c.getUTCHours():0,s=t<D?c.getUTCMinutes():0,l=t<O?c.getUTCSeconds():0,u=t<P?10*c.getUTCMilliseconds()+f:0;return o(i,a,s,l,u)},t.ms2DateTimeLocal=function(e){if(!(e>=A+y&&e<=C-y))return g;var t=Math.floor(10*m(e+.05,1)),n=new Date(Math.round(e-t/10));return o(h.time.format("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},t.cleanDate=function(e,n,i){if(t.isJSDate(e)||"number"===typeof e){if(r(i))return p("JS Dates and milliseconds are incompatible with world calendars",e),n;if(!(e=t.ms2DateTimeLocal(+e))&&void 0!==n)return n}else if(!t.isDateTime(e,i))return p("unrecognized date",e),n;return e};var L=/%\d?f/g,I=[59,59.9,59.99,59.999,59.9999],N=k("%Y"),R=k("%b %Y"),j=k("%b %-d"),z=k("%b %-d, %Y");t.formatDate=function(e,t,n,i){var o,h;if(i=r(i)&&i,t)return a(t,e,i);if(i)try{var d=Math.floor((e+.05)/y)+w,p=M.getComponentMethod("calendars","getCal")(i).fromJD(d);"y"===n?h=l(p):"m"===n?h=u(p):"d"===n?(o=l(p),h=c(p)):(o=f(p),h=s(e,n))}catch(e){return"Invalid"}else{var m=new Date(Math.floor(e+.05));"y"===n?h=N(m):"m"===n?h=R(m):"d"===n?(o=N(m),h=j(m)):(o=z(m),h=s(e,n))}return h+(o?"\n"+o:"")};var F=3*y;t.incrementMonth=function(e,t,n){n=r(n)&&n;var i=m(e,y);if(e=Math.round(e-i),n)try{var o=Math.round(e/y)+w,a=M.getComponentMethod("calendars","getCal")(n),s=a.fromJD(o);return t%12?a.add(s,t,"m"):a.add(s,t/12,"y"),(s.toJD()-w)*y+i}catch(t){p("invalid ms "+e+" in calendar "+n)}var l=new Date(e+F);return l.setUTCMonth(l.getUTCMonth()+t)+i-F},t.findExactDates=function(e,t){for(var n,i,o=0,a=0,s=0,l=0,u=r(t)&&M.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(i=e[c],d(i)){if(!(i%y))if(u)try{n=u.fromJD(i/y+w),1===n.day()?1===n.month()?o++:a++:s++}catch(e){}else n=new Date(i),1===n.getUTCDate()?0===n.getUTCMonth()?o++:a++:s++}else l++;a+=o,s+=a;var f=e.length-l;return{exactYears:o/f,exactMonths:a/f,exactDays:s/f}}},function(e,t,n){"use strict";e.exports=function(e,t){return Array.isArray(e)||(e=[]),e.length=t,e}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var o=e[i];1!==t[o]&&(t[o]=1,n[r++]=o)}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];!0===r.visible&&t.push(r)}return t}},function(e,t,n){"use strict";e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=[];e.exports=function(e,t){function n(e){e.duration(700).style("opacity",0).each("end",function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),r.select(this).remove()})}if(-1===o.indexOf(e)){o.push(e);var a=1e3;i(t)?a=t:"long"===t&&(a=3e3);var s=r.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);s.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(n)});for(var i=t.append("p"),o=e.split(/<br\s*\/?>/g),s=0;s<o.length;s++)s&&i.append("br"),i.append("span").text(o[s]);t.transition().duration(700).style("opacity",1).transition().delay(a).call(n)})}}},function(e,t,n){"use strict";var r=n(126),i="data-savedcursor";e.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&e.attr(i,s.substr(7)).classed(s,!1)}e.attr(i)||e.attr(i,"!!")}r(e,t)}else n&&(e.attr(i,null),"!!"===n?r(e):r(e,n))}},function(e,t,n){"use strict";var r=n(312),i=n(166);e.exports=function e(t,n){for(var o=Object.keys(n||{}),a=0;a<o.length;a++){var s=o[a],l=n[s],u=t[s];if("_"===s.charAt(0)||"function"===typeof l){if(s in t)continue;t[s]=l}else if(r(l)&&r(u)&&i(l[0]))for(var c=0;c<l.length;c++)i(l[c])&&i(u[c])&&e(u[c],l[c]);else i(l)&&i(u)&&(e(u,l),Object.keys(u).length||delete t[s])}}},function(e,t,n){"use strict";var r=n(4);t.aggNums=function(e,n,i,o){var a,s;if(o||(o=i.length),r(n)||(n=!1),Array.isArray(i[0])){for(s=new Array(o),a=0;a<o;a++)s[a]=t.aggNums(e,n,i[a]);i=s}for(a=0;a<o;a++)r(n)?r(i[a])&&(n=e(+n,+i[a])):n=i[a];return n},t.len=function(e){return t.aggNums(function(e){return e+1},0,e)},t.mean=function(e,n){return n||(n=t.len(e)),t.aggNums(function(e,t){return e+t},0,e)/n},t.variance=function(e,n,i){return n||(n=t.len(e)),r(i)||(i=t.mean(e,n)),t.aggNums(function(e,t){return e+Math.pow(t-i,2)},0,e)/n},t.stdev=function(e,n,r){return Math.sqrt(t.variance(e,n,r))},t.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},function(e,t,n){"use strict";function r(e,t){for(var n=new Float32Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e,t){for(var n=new Float64Array(t),r=0;r<t;r++)n[r]=e[r];return n}e.exports=function(e,t){if(e instanceof Float32Array)return r(e,t);if(e instanceof Float64Array)return i(e,t);throw new Error("This array type is not yet supported by `truncate`.")}},function(e,t,n){"use strict";function r(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=h.cleanId(n,r))}function i(e){var t="middle",n="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right"),t+" "+n}function o(e,t){return t in e&&"object"===typeof e[t]&&0===Object.keys(e[t]).length}function a(e){var t=e.search(p);if(t>0)return e.substr(0,t)}var s=n(4),l=n(457),u=n(6),c=n(0),f=n(16),h=n(5),d=n(3);t.getGraphDiv=function(e){var t;if("string"===typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e},t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&c.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var t,n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1);var i=h.list({_fullLayout:e});for(t=0;t<i.length;t++){var a=i[t];a.anchor&&"free"!==a.anchor&&(a.anchor=h.cleanId(a.anchor)),a.overlaying&&(a.overlaying=h.cleanId(a.overlaying)),a.type||(a.isdate?a.type="date":a.islog?a.type="log":!1===a.isdate&&!1===a.islog&&(a.type="linear")),"withzero"!==a.autorange&&"tozero"!==a.autorange||(a.autorange=!0,a.rangemode="tozero"),delete a.islog,delete a.isdate,delete a.categories,o(a,"domain")&&delete a.domain,void 0!==a.autotick&&(void 0===a.tickmode&&(a.tickmode=a.autotick?"auto":"linear"),delete a.autotick)}var s=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<s;t++){var u=e.annotations[t];c.isPlainObject(u)&&(u.ref&&("paper"===u.ref?(u.xref="paper",u.yref="paper"):"data"===u.ref&&(u.xref="x",u.yref="y"),delete u.ref),r(u,"xref"),r(u,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<p;t++){var m=e.shapes[t];c.isPlainObject(m)&&(r(m,"xref"),r(m,"yref"))}var v=e.legend;v&&(v.x>3?(v.x=1.02,v.xanchor="left"):v.x<-2&&(v.x=-.02,v.xanchor="right"),v.y>3?(v.y=1.02,v.yanchor="bottom"):v.y<-2&&(v.y=-.02,v.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var g=f.getSubplotIds(e,"gl3d");for(t=0;t<g.length;t++){var y=e[g[t]],b=y.cameraposition;if(Array.isArray(b)&&4===b[0].length){var x=b[0],_=b[1],w=b[2],M=l([],x),k=[];for(n=0;n<3;++n)k[n]=_[t]+w*M[2+4*n];y.camera={eye:{x:k[0],y:k[1],z:k[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:M[1],y:M[5],z:M[9]}},delete y.cameraposition}}return d.clean(e),e},t.cleanData=function(e,n){for(var r=[],a=(e.concat(Array.isArray(n)?n:[]).filter(function(e){return"uid"in e}).map(function(e){return e.uid})),s=0;s<e.length;s++){var l,p=e[s];if(!("uid"in p)||-1!==r.indexOf(p.uid)){var m;for(l=0;l<100&&(m=c.randstr(a),-1!==r.indexOf(m));l++);p.uid=c.randstr(a),a.push(p.uid)}if(r.push(p.uid),"histogramy"===p.type&&"xbins"in p&&!("ybins"in p)&&(p.ybins=p.xbins,delete p.xbins),p.error_y&&"opacity"in p.error_y){var v=d.defaults,g=p.error_y.color||(u.traceIs(p,"bar")?d.defaultLine:v[s%v.length]);p.error_y.color=d.addOpacity(d.rgb(g),d.opacity(g)*p.error_y.opacity),delete p.error_y.opacity}if("bardir"in p&&("h"!==p.bardir||!u.traceIs(p,"bar")&&"histogram"!==p.type.substr(0,9)||(p.orientation="h",t.swapXYData(p)),delete p.bardir),"histogramy"===p.type&&t.swapXYData(p),"histogramx"!==p.type&&"histogramy"!==p.type||(p.type="histogram"),"scl"in p&&(p.colorscale=p.scl,delete p.scl),"reversescl"in p&&(p.reversescale=p.reversescl,delete p.reversescl),p.xaxis&&(p.xaxis=h.cleanId(p.xaxis,"x")),p.yaxis&&(p.yaxis=h.cleanId(p.yaxis,"y")),u.traceIs(p,"gl3d")&&p.scene&&(p.scene=f.subplotsRegistry.gl3d.cleanId(p.scene)),u.traceIs(p,"pie")||u.traceIs(p,"bar")||(Array.isArray(p.textposition)?p.textposition=p.textposition.map(i):p.textposition&&(p.textposition=i(p.textposition))),u.traceIs(p,"2dMap")&&("YIGnBu"===p.colorscale&&(p.colorscale="YlGnBu"),"YIOrRd"===p.colorscale&&(p.colorscale="YlOrRd")),u.traceIs(p,"markerColorscale")&&p.marker){var y=p.marker;"YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd")}if("surface"===p.type&&c.isPlainObject(p.contours)){var b=["x","y","z"];for(l=0;l<b.length;l++){var x=p.contours[b[l]];c.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if(Array.isArray(p.transforms)){var _=p.transforms;for(l=0;l<_.length;l++){var w=_[l];c.isPlainObject(w)&&("filter"===w.type&&(w.filtersrc&&(w.target=w.filtersrc,delete w.filtersrc),w.calendar&&(w.valuecalendar||(w.valuecalendar=w.calendar),delete w.calendar)))}}o(p,"line")&&delete p.line,"marker"in p&&(o(p.marker,"line")&&delete p.marker.line,o(p,"marker")&&delete p.marker),d.clean(p)}},t.swapXYData=function(e){var t;if(c.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);c.swapAttrs(e,["error_?.copy_ystyle"]),r&&c.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},t.coerceTraceIndices=function(e,t){return s(t)?[t]:Array.isArray(t)&&t.length?t:e.data.map(function(e,t){return t})},t.manageArrayContainers=function(e,t,n){var r=e.obj,i=e.parts,o=i.length,a=i[o-1],l=s(a);if(l&&null===t){var u=i.slice(0,o-1).join(".");c.nestedProperty(r,u).get().splice(a,1)}else l&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var p=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;t.hasParent=function(e,t){for(var n=a(t);n;){if(n in e)return!0;n=a(n)}return!1}},function(e,t,n){"use strict";var r=n(313),i=n(166),o=n(314),a=n(167),s=n(6);t.containerArrayMatch=n(565);var l=t.isAddVal=function(e){return"add"===e||i(e)},u=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,n,i){var c=t.astr,f=s.getComponentMethod(c,"supplyLayoutDefaults"),h=s.getComponentMethod(c,"draw"),d=s.getComponentMethod(c,"drawOne"),p=i.replot||i.recalc||f===o||h===o,m=e.layout,v=e._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",c);var g=n[""][""];if(u(g))t.set(null);else{if(!Array.isArray(g))return a.warn("Unrecognized full array edit value",c,g),!0;t.set(g)}return!p&&(f(m,v),h(e),!0)}var y,b,x,_,w,M,k,E=Object.keys(n).map(Number).sort(),S=t.get(),T=S||[],A=r(v,c).get(),C=[],D=-1,O=T.length;for(y=0;y<E.length;y++)if(x=E[y],_=n[x],w=Object.keys(_),M=_[""],k=l(M),x<0||x>T.length-(k?0:1))a.warn("index out of range",c,x);else if(void 0!==M)w.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",c,x),u(M)?C.push(x):k?("add"===M&&(M={}),T.splice(x,0,M),A&&A.splice(x,0,{})):a.warn("Unrecognized full object edit value",c,x,M),-1===D&&(D=x);else for(b=0;b<w.length;b++)r(T[x],w[b]).set(_[w[b]]);for(y=C.length-1;y>=0;y--)T.splice(C[y],1),A&&A.splice(C[y],1);if(T.length?S||t.set(T):t.set(null),p)return!1;if(f(m,v),d!==o){var P;if(-1===D)P=E;else{for(O=Math.max(T.length,O),P=[],y=0;y<E.length&&!((x=E[y])>=D);y++)P.push(x);for(y=D;y<O;y++)P.push(y)}for(y=0;y<P.length;y++)d(e,P[y])}else h(e);return!0}},function(e,t,n){"use strict";function r(e,t){e._fullLayout._paperdiv.style("background","white"),y.defaultConfig.setBackground(e,t)}function i(e,t){e._context||(e._context=b.extendFlat({},y.defaultConfig));var n=e._context;t&&(Object.keys(t).forEach(function(e){e in n&&("setBackground"===e&&"opaque"===t[e]?n[e]=r:n[e]=t[e])}),t.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio)),n.staticPlot&&(n.editable=!1,n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1)}function o(e,t,n){var r=v.select(e).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=r.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t),n&&(e.layout=n),E.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=E.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var o=e.framework.svg(),a=1,s=e._fullLayout.title;""!==s&&s||(a=0);var l=function(){this.call(C.convertToTspans)},u=o.select(".title-group text").call(l);if(e._context.editable){u.attr({"data-unformatted":s}),s&&"Click to enter title"!==s||(a=.2,u.attr({"data-unformatted":"Click to enter title"}).text("Click to enter title").style({opacity:a}).on("mouseover.opacity",function(){v.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){v.select(this).transition().duration(1e3).style("opacity",0)}));var c=function(){this.call(C.makeEditable).on("edit",function(t){e.framework({layout:{title:t}}),this.attr({"data-unformatted":t}).text(t).call(l),this.call(c)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(l)})};u.call(c)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),M.addLinks(e),Promise.resolve()}function a(e,t){var n,r,i=t+1,o=[];for(n=0;n<e.length;n++)r=e[n],r<0?o.push(i+r):o.push(r);return o}function s(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function l(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),s(e,t,"currentIndices"),"undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&s(e,n,"newIndices"),"undefined"!==typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function u(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!==typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if("undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function c(e,t,n,r){var i=b.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"===typeof n)throw new Error("indices must be an integer or array of integers");s(e,n,"indices");for(var o in t){if(!Array.isArray(t[o])||t[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function f(e,t,n,r){var i,o,s,l,u,c=b.isPlainObject(r),f=[];Array.isArray(n)||(n=[n]),n=a(n,e.data.length-1);for(var h in t)for(var d=0;d<n.length;d++){if(i=e.data[n[d]],s=b.nestedProperty(i,h),o=s.get(),l=t[h][d],!Array.isArray(l))throw new Error("attribute: "+h+" index: "+d+" must be an array");if(!Array.isArray(o))throw new Error("cannot extend missing or non-array attribute: "+h);u=c?r[h][d]:r,g(u)||(u=-1),f.push({prop:s,target:o,insert:l,maxp:Math.floor(u)})}return f}function h(e,t,n,r,i,o){c(e,t,n,r);for(var a,s,l,u=f(e,t,n,r),h=[],d={},p={},m=0;m<u.length;m++)s=u[m].prop,l=u[m].maxp,a=i(u[m].target,u[m].insert),l>=0&&l<a.length&&(h=o(a,l)),l=u[m].target.length,s.set(a),Array.isArray(d[s.astr])||(d[s.astr]=[]),Array.isArray(p[s.astr])||(p[s.astr]=[]),d[s.astr].push(h),p[s.astr].push(l);return{update:d,maxPoints:p}}function d(e,t,n){function r(){return d.map(function(){})}function i(e){var t=y.Axes.id2name(e);-1===u.indexOf(t)&&u.push(t)}function o(e){return"LAYOUT"+e+".autorange"}function a(e){return"LAYOUT"+e+".range"}function s(n,i,o){if(Array.isArray(n))return void n.forEach(function(e){s(e,i,o)});if(!(n in t||O.hasParent(t,n))){var a;a="LAYOUT"===n.substr(0,6)?b.nestedProperty(e.layout,n.replace("LAYOUT","")):b.nestedProperty(h[d[o]],n),n in v||(v[n]=r()),void 0===v[n][o]&&(v[n][o]=a.get()),void 0!==i&&a.set(i)}}var l,u,c=e._fullLayout,f=e._fullData,h=e.data,d=O.coerceTraceIndices(e,n),p={docalc:!1,docalcAutorange:!1,doplot:!1,dostyle:!1,docolorbars:!1,autorangeOn:!1,clearCalc:!1,fullReplot:!1},m={},v={},g={},x=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","open","high","low","close","base","width","offset","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","contours.operation","contours.value","contours.type","contours.value[0]","contours.value[1]","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale","xcalendar","ycalendar","cumulative","cumulative.enabled","cumulative.direction","cumulative.currentbin","a0","da","b0","db","atype","btype","cheaterslope","carpet","sum"],_=["color","smoothing","title","titlefont","titlefont.size","titlefont.family","titlefont.color","titleoffset","type","autorange","rangemode","range","fixedrange","cheatertype","tickmode","nticks","tickvals","ticktext","ticks","mirror","ticklen","tickwidth","tickcolor","showticklabels","tickfont","tickfont.size","tickfont.family","tickfont.color","tickprefix","showtickprefix","ticksuffix","showticksuffix","showexponent","exponentformat","separatethousands","tickformat","categoryorder","categoryarray","labelpadding","labelprefix","labelsuffix","labelfont","labelfont.family","labelfont.size","labelfont.color","showline","linecolor","linewidth","gridcolor","gridwidth","showgrid","minorgridcount","minorgridwidth","minorgridcolor","startline","startlinecolor","startlinewidth","endline","endlinewidth","endlinecolor","tick0","dtick","arraytick0","arraydtick","hoverformat","tickangle"];for(l=0;l<_.length;l++)x.push("aaxis."+_[l]),x.push("baxis."+_[l]);for(l=0;l<d.length;l++)if(w.traceIs(f[d[l]],"box")){x.push("name");break}var k=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean","tickwidth"],E=["zmin","zmax","zauto","xgap","ygap","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],S=["type","x","y","x0","y0","orientation","xaxis","yaxis"],T=["zmin","zmax"],A=["xbins.start","xbins.end","xbins.size"],C=["ybins.start","ybins.end","ybins.size"],D=["contours.start","contours.end","contours.size"],P=["cartesian","pie","ternary"];c._basePlotModules.forEach(function(e){-1===P.indexOf(e.name)&&(p.docalc=!0)});for(var L in t){if(O.hasParent(t,L))throw new Error("cannot set "+L+"and a parent attribute simultaneously");var I,N,R,j,z,F=t[L];if(m[L]=F,"LAYOUT"!==L.substr(0,6)){for(v[L]=r(),l=0;l<d.length;l++)if(I=h[d[l]],N=f[d[l]],R=b.nestedProperty(I,L),j=R.get(),void 0!==(z=Array.isArray(F)?F[l%F.length]:F)){if(-1!==T.indexOf(L))s("zauto",!1,l);else if("colorscale"===L)s("autocolorscale",!1,l);else if("autocolorscale"===L)s("colorscale",void 0,l);else if("marker.colorscale"===L)s("marker.autocolorscale",!1,l);else if("marker.autocolorscale"===L)s("marker.colorscale",void 0,l);else if("zauto"===L)s(T,void 0,l);else if(-1!==A.indexOf(L))s("autobinx",!1,l);else if("autobinx"===L)s(A,void 0,l);else if(-1!==C.indexOf(L))s("autobiny",!1,l);else if("autobiny"===L)s(C,void 0,l);else if(-1!==D.indexOf(L))s("autocontour",!1,l);else if("autocontour"===L)s(D,void 0,l);else if(-1!==["x0","dx"].indexOf(L)&&N.x&&"scaled"!==N.xtype)s("xtype","scaled",l);else if(-1!==["y0","dy"].indexOf(L)&&N.y&&"scaled"!==N.ytype)s("ytype","scaled",l);else if("colorbar.thicknessmode"===L&&R.get()!==z&&-1!==["fraction","pixels"].indexOf(z)&&N.colorbar){var B=-1!==["top","bottom"].indexOf(N.colorbar.orient)?c.height-c.margin.t-c.margin.b:c.width-c.margin.l-c.margin.r;s("colorbar.thickness",N.colorbar.thickness*("fraction"===z?1/B:B),l)}else if("colorbar.lenmode"===L&&R.get()!==z&&-1!==["fraction","pixels"].indexOf(z)&&N.colorbar){var U=-1!==["top","bottom"].indexOf(N.colorbar.orient)?c.width-c.margin.l-c.margin.r:c.height-c.margin.t-c.margin.b;s("colorbar.len",N.colorbar.len*("fraction"===z?1/U:U),l)}else"colorbar.tick0"===L||"colorbar.dtick"===L?s("colorbar.tickmode","linear",l):"colorbar.tickmode"===L&&s(["colorbar.tick0","colorbar.dtick"],void 0,l);if("type"===L&&"pie"===z!==("pie"===j)){var V="x",H="y";"bar"!==z&&"bar"!==j||"h"!==I.orientation||(V="y",H="x"),b.swapAttrs(I,["?","?src"],"labels",V),b.swapAttrs(I,["d?","?0"],"label",V),b.swapAttrs(I,["?","?src"],"values",H),"pie"===j?(b.nestedProperty(I,"marker.color").set(b.nestedProperty(I,"marker.colors").get()),c._pielayer.selectAll("g.trace").remove()):w.traceIs(I,"cartesian")&&(b.nestedProperty(I,"marker.colors").set(b.nestedProperty(I,"marker.color").get()),g[I.xaxis||"x"]=!0,g[I.yaxis||"y"]=!0)}v[L][l]=j;var Y=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==Y.indexOf(L)){if("orientation"===L){if(R.set(z),R.get()===v[L][l])continue}else"orientationaxes"===L&&(I.orientation={v:"h",h:"v"}[N.orientation]);O.swapXYData(I)}else if(-1!==M.dataArrayContainers.indexOf(R.parts[0]))O.manageArrayContainers(R,z,v),p.docalc=!0;else{var W=(N._module||{}).attributes||{},q=b.nestedProperty(W,L).get()||{};q.valType||(p.docalc=!0),q.arrayOk&&(Array.isArray(z)||Array.isArray(j))&&(p.docalc=!0),R.set(z)}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(L)&&y.Axes.swap(e,d),"orientationaxes"===L){var G=b.nestedProperty(e.layout,"hovermode");"x"===G.get()?G.set("y"):"y"===G.get()&&G.set("x")}-1!==d.indexOf(0)&&-1!==S.indexOf(L)&&(y.Axes.clearTypes(e,d),p.docalc=!0),-1!==["autobinx","autobiny","zauto"].indexOf(L)&&!1===z||(p.dostyle=!0),(-1!==["colorbar","line"].indexOf(R.parts[0])||"marker"===R.parts[0]&&"colorbar"===R.parts[1])&&(p.docolorbars=!0);var X=L.indexOf("["),Z=-1===X?L:L.substr(0,X);if(-1!==x.indexOf(Z)){if(-1!==["orientation","type"].indexOf(L)){for(u=[],l=0;l<d.length;l++){var K=h[d[l]];w.traceIs(K,"cartesian")&&(i(K.xaxis||"x"),i(K.yaxis||"y"),"type"===L&&s(["autobinx","autobiny"],!0,l))}s(u.map(o),!0,0),s(u.map(a),[0,1],0)}p.docalc=!0}else-1!==E.indexOf(Z)?p.doplot=!0:0===Z.indexOf("aaxis")||0===Z.indexOf("baxis")?p.doplot=!0:-1!==k.indexOf(Z)&&(p.docalcAutorange=!0)}else R=b.nestedProperty(e.layout,L.replace("LAYOUT","")),v[L]=[R.get()],R.set(Array.isArray(F)?F[0]:F),p.docalc=!0}y.Axes.list(e).forEach(function(e){e.autorange&&(p.autorangeOn=!0)});var $=Object.keys(g);e:for(l=0;l<$.length;l++){for(var J=$[l],Q=J.charAt(0),ee=Q+"axis",te=0;te<h.length;te++)if(w.traceIs(h[te],"cartesian")&&(h[te][ee]||Q)===J)continue e;s("LAYOUT"+y.Axes.id2name(J),null,0)}return(p.docalc||p.docalcAutorange&&p.autorangeOn)&&(p.clearCalc=!0),(p.docalc||p.doplot||p.docalcAutorange)&&(p.fullReplot=!0),{flags:p,undoit:v,redoit:m,traces:d,eventData:b.extendDeepNoArrays([],[m,d])}}function p(e,t){function n(e,r){if(Array.isArray(e))return void e.forEach(function(e){n(e,r)});if(!(e in t||O.hasParent(t,e))){var i=b.nestedProperty(l,e);e in x||(x[e]=i.get()),void 0!==r&&i.set(r)}}function r(t,n){if(!b.isPlainObject(t))return!1;var r=t[n+"ref"]||n,i=y.Axes.getFromId(e,r);return i||r.charAt(0)!==n||(i=y.Axes.getFromId(e,n)),(i||{}).autorange}function i(e){var t=N.name2id(e.split(".")[0]);_[t]=1}var o,a,s,l=e.layout,u=e._fullLayout,c=Object.keys(t),f=y.Axes.list(e),h={};for(a=0;a<c.length;a++)if(0===c[a].indexOf("allaxes")){for(s=0;s<f.length;s++){var d=f[s]._id.substr(1),p=-1!==d.indexOf("scene")?d+".":"",m=c[a].replace("allaxes",p+f[s]._name);t[m]||(t[m]=t[c[a]])}delete t[c[a]]}var v={dolegend:!1,doticks:!1,dolayoutstyle:!1,doplot:!1,docalc:!1,domodebar:!1,docamera:!1,layoutReplot:!1},g={},x={},_={};for(var k in t){if(O.hasParent(t,k))throw new Error("cannot set "+k+"and a parent attribute simultaneously");var E=b.nestedProperty(l,k),S=t[k],T=E.parts.length,A="string"===typeof E.parts[T-1]?T-1:T-2,C=E.parts[0],P=E.parts[A],I=E.parts[A-1]+"."+P,R=E.parts.slice(0,A).join("."),j=b.nestedProperty(e.layout,R).get(),z=b.nestedProperty(u,R).get();if(void 0!==S){if(g[k]=S,x[k]="reverse"===P?S:E.get(),-1!==["width","height"].indexOf(k)&&null===S?u[k]=e._initialAutoSize[k]:I.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?(n(R+".autorange",!1),i(I)):I.match(/^[xyz]axis[0-9]*\.autorange$/)?(n([R+".range[0]",R+".range[1]"],void 0),i(I)):I.match(/^aspectratio\.[xyz]$/)?n(C+".aspectmode","manual"):I.match(/^aspectmode$/)?n([R+".x",R+".y",R+".z"],void 0):"tick0"===P||"dtick"===P?n(R+".tickmode","linear"):"tickmode"===P?n([R+".tick0",R+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(P)&&!Object.keys(S||{}).length?v.docalc=!0:/[xy]axis[0-9]*\.categoryorder$/.test(I)?v.docalc=!0:/[xy]axis[0-9]*\.categoryarray/.test(I)&&(v.docalc=!0),-1!==I.indexOf("rangeslider")&&(v.docalc=!0),"type"===P){var F=j,B="linear"===z.type&&"log"===S,U="log"===z.type&&"linear"===S;if(B||U){if(F&&F.range)if(z.autorange)B&&(F.range=F.range[1]>F.range[0]?[1,2]:[2,1]);else{var V=F.range[0],H=F.range[1];B?(V<=0&&H<=0&&n(R+".autorange",!0),V<=0?V=H/1e6:H<=0&&(H=V/1e6),n(R+".range[0]",Math.log(V)/Math.LN10),n(R+".range[1]",Math.log(H)/Math.LN10)):(n(R+".range[0]",Math.pow(10,V)),n(R+".range[1]",Math.pow(10,H)))}else n(R+".autorange",!0);w.getComponentMethod("annotations","convertCoords")(e,z,S,n),w.getComponentMethod("images","convertCoords")(e,z,S,n)}else n(R+".autorange",!0)}else if(P.match(L.AX_NAME_PATTERN)){var Y=b.nestedProperty(u,k).get(),W=(S||{}).type;W&&"-"!==W||(W="linear"),w.getComponentMethod("annotations","convertCoords")(e,Y,W,n),w.getComponentMethod("images","convertCoords")(e,Y,W,n)}var q=D.containerArrayMatch(k);if(q){o=q.array,a=q.index;var G=q.property,X=b.nestedProperty(l,o),Z=(X||[])[a]||{};if(""===a)-1===k.indexOf("updatemenus")&&(v.docalc=!0);else if(""===G){var K=S;D.isAddVal(S)?x[k]=null:D.isRemoveVal(S)?(x[k]=Z,K=Z):b.warn("unrecognized full object value",t),(r(K,"x")||r(K,"y")&&-1===k.indexOf("updatemenus"))&&(v.docalc=!0)}else!r(Z,"x")&&!r(Z,"y")||b.containsAny(k,["color","opacity","align","dash","updatemenus"])||(v.docalc=!0);h[o]||(h[o]={});var $=h[o][a];$||($=h[o][a]={}),$[G]=S,delete t[k]}else if("reverse"===P)j.range?j.range.reverse():(n(R+".autorange",!0),j.range=[1,0]),z.autorange?v.docalc=!0:v.doplot=!0;else{var J=String(E.parts[1]||"");0===C.indexOf("scene")?"camera"===E.parts[1]?v.docamera=!0:v.doplot=!0:0===C.indexOf("geo")?v.doplot=!0:0===C.indexOf("ternary")?v.doplot=!0:"paper_bgcolor"===k?v.doplot=!0:"margin"===C||"autorange"===J||"rangemode"===J||"type"===J||"domain"===J||"fixedrange"===J||"scaleanchor"===J||"scaleratio"===J||-1!==k.indexOf("calendar")||k.match(/^(bar|box|font)/)?v.docalc=!0:!u._has("gl2d")||-1===k.indexOf("axis")&&"plot_bgcolor"!==k?"hiddenlabels"===k?v.docalc=!0:-1!==C.indexOf("legend")?v.dolegend=!0:-1!==k.indexOf("title")?v.doticks=!0:-1!==C.indexOf("bgcolor")?v.dolayoutstyle=!0:T>1&&b.containsAny(J,["tick","exponent","grid","zeroline"])?v.doticks=!0:-1!==k.indexOf(".linewidth")&&-1!==k.indexOf("axis")?v.doticks=v.dolayoutstyle=!0:T>1&&-1!==J.indexOf("line")?v.dolayoutstyle=!0:T>1&&"mirror"===J?v.doticks=v.dolayoutstyle=!0:"margin.pad"===k?v.doticks=v.dolayoutstyle=!0:-1!==["hovermode","dragmode"].indexOf(k)||-1!==k.indexOf("spike")?v.domodebar=!0:-1===["height","width","autosize"].indexOf(k)&&(v.doplot=!0):v.doplot=!0,E.set(S)}}}for(o in h){D.applyContainerArrayChanges(e,b.nestedProperty(l,o),h[o],v)||(v.doplot=!0)}var Q=u._axisConstraintGroups;for(var ee in _)for(a=0;a<Q.length;a++){var te=Q[a];if(te[ee]){v.docalc=!0;for(var ne in te)_[ne]||(N.getFromId(e,ne)._constraintShrinkable=!0)}}var re=u.width,ie=u.height;return e.layout.autosize&&M.plotAutoSize(e,e.layout,u),(t.height||t.width||u.width!==re||u.height!==ie)&&(v.docalc=!0),(v.doplot||v.docalc)&&(v.layoutReplot=!0),{flags:v,undoit:x,redoit:g,eventData:b.extendDeep({},g)}}function m(e){var t=v.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];v.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=b.randstr(r)}n._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var i=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=i.append("g").classed("imagelayer",!0),n._shapeLowerLayer=i.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0);var o=n._paper.append("g").classed("layer-above",!0);n._imageUpperLayer=o.append("g").classed("imagelayer",!0),n._shapeUpperLayer=o.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}var v=n(2),g=n(4),y=n(25),b=n(0),x=n(311),_=n(562),w=n(6),M=n(16),k=n(40),E=n(1417),S=n(12),T=n(79),A=n(67),C=n(43),D=n(1381),O=n(1380),P=n(1384),L=n(33),I=n(569),N=n(53);y.plot=function(e,t,n,r){function a(){if(g)return y.addFrames(e,g)}function s(){for(var t=A._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);return b.syncOrAsync([P.layoutStyles,h,k.init],e)}function l(){var t,n,r,i=e.calcdata;for(w.getComponentMethod("legend","draw")(e),w.getComponentMethod("rangeselector","draw")(e),w.getComponentMethod("sliders","draw")(e),w.getComponentMethod("updatemenus","draw")(e),t=0;t<i.length;t++)n=i[t],r=n[0].trace,!0===r.visible&&r._module.colorbar?r._module.colorbar(e,n):M.autoMargin(e,"cb"+r.uid);return M.doAutoMargin(e),M.previousPromises(e)}function u(){var t=JSON.stringify(A._size)===L?[]:[l,P.layoutStyles];return t=t.concat(k.init),b.syncOrAsync(t,e)}function c(){if(C){for(var t,n,r=M.getSubplotIds(A,"cartesian"),i=A._modules,o=0;o<r.length;o++){t=A._plots[r[o]];for(var a=0;a<i.length;a++)n=i[a],n.setPositions&&n.setPositions(e,t)}return T.calc(e),b.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),f,w.getComponentMethod("rangeslider","calcAutorange")],e)}}function f(){if(!e._transitioning){for(var t=y.Axes.list(e,"",!0),n=0;n<t.length;n++)y.Axes.doAutoRange(t[n]);I(e),E&&y.Axes.saveRangeInitial(e)}}function h(){return y.Axes.doTicks(e,"redraw")}function d(){var t,n=e.calcdata;for(t=0;t<n.length;t++){var r=n[t][0].trace,i=!0===r.visible,o=r.uid;if(!i||!w.traceIs(r,"2dMap")){var a=".hm"+o+",.contour"+o+",#clip"+o;A._paper.selectAll(a).remove(),A._infolayer.selectAll("g.rangeslider-container").selectAll(a).remove()}i&&r._module.colorbar||A._infolayer.selectAll(".cb"+o).remove()}var s=A._basePlotModules;for(t=0;t<s.length;t++)s[t].plot(e);var l=A._paper.selectAll(".layer-subplot");return A._shapeSubplotLayers=l.selectAll(".shapelayer"),M.style(e),w.getComponentMethod("shapes","draw")(e),w.getComponentMethod("annotations","draw")(e),M.addLinks(e),A._replotting=!1,M.previousPromises(e)}function p(){w.getComponentMethod("shapes","draw")(e),w.getComponentMethod("images","draw")(e),w.getComponentMethod("annotations","draw")(e),w.getComponentMethod("legend","draw")(e),w.getComponentMethod("rangeslider","draw")(e),w.getComponentMethod("rangeselector","draw")(e),w.getComponentMethod("sliders","draw")(e),w.getComponentMethod("updatemenus","draw")(e)}var g;if(e=O.getGraphDiv(e),x.init(e),b.isPlainObject(t)){var _=t;t=_.data,n=_.layout,r=_.config,g=_.frames}if(!1===x.triggerHandler(e,"plotly_beforeplot",[t,n,r]))return Promise.reject();t||n||b.isPlotDiv(e)||b.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),i(e,r),n||(n={}),v.select(e).classed("js-plotly-plot",!0),S.makeTester(e),e._promises=[];var E=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(O.cleanData(t,e.data),E?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!E||(e.layout=O.cleanLayout(n)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,M.supplyDefaults(e);var A=e._fullLayout;if(t&&t[0]&&t[0].r)return o(e,t,n);A._replotting=!0,E&&m(e),e.framework!==m&&(e.framework=m,m(e)),E&&y.Axes.saveShowSpikeInitial(e);var C=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;C&&M.doCalcdata(e);for(var D=0;D<e.calcdata.length;D++)e.calcdata[D][0].trace=e._fullData[D];var L=JSON.stringify(A._size),N=[M.previousPromises,a,s,l,u,c,P.layoutStyles,h,d,p,M.rehover];return b.syncOrAsync(N,e),Promise.all(e._promises).then(function(){return e.emit("plotly_afterplot"),e})},y.redraw=function(e){if(e=O.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return O.cleanData(e.data,e.data),O.cleanLayout(e.layout),e.calcdata=void 0,y.plot(e).then(function(){return e.emit("plotly_redraw"),e})},y.newPlot=function(e,t,n,r){return e=O.getGraphDiv(e),M.cleanPlot([],{},e._fullData||{},e._fullLayout||{}),M.purge(e),y.plot(e,t,n,r)},y.extendTraces=function e(t,n,r,i){t=O.getGraphDiv(t);var o=h(t,n,r,i,function(e,t){return e.concat(t)},function(e,t){return e.splice(0,e.length-t)}),a=y.redraw(t),s=[t,o.update,r,o.maxPoints];return _.add(t,y.prependTraces,s,e,arguments),a},y.prependTraces=function e(t,n,r,i){t=O.getGraphDiv(t);var o=h(t,n,r,i,function(e,t){return t.concat(e)},function(e,t){return e.splice(t,e.length)}),a=y.redraw(t),s=[t,o.update,r,o.maxPoints];return _.add(t,y.extendTraces,s,e,arguments),a},y.addTraces=function e(t,n,r){t=O.getGraphDiv(t);var i,o,a=[],s=y.deleteTraces,c=e,f=[t,a],h=[t,n];for(u(t,n,r),Array.isArray(n)||(n=[n]),n=n.map(function(e){return b.extendFlat({},e)}),O.cleanData(n,t.data),i=0;i<n.length;i++)t.data.push(n[i]);for(i=0;i<n.length;i++)a.push(-n.length+i);if("undefined"===typeof r)return o=y.redraw(t),_.add(t,s,f,c,h),o;Array.isArray(r)||(r=[r]);try{l(t,a,r)}catch(e){throw t.data.splice(t.data.length-n.length,n.length),e}return _.startSequence(t),_.add(t,s,f,c,h),o=y.moveTraces(t,a,r),_.stopSequence(t),o},y.deleteTraces=function e(t,n){t=O.getGraphDiv(t);var r,i,o=[],l=y.addTraces,u=e,c=[t,o,n],f=[t,n];if("undefined"===typeof n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),s(t,n,"indices"),n=a(n,t.data.length-1),n.sort(b.sorterDes),r=0;r<n.length;r+=1)i=t.data.splice(n[r],1)[0],o.push(i);var h=y.redraw(t);return _.add(t,l,c,u,f),h},y.moveTraces=function e(t,n,r){t=O.getGraphDiv(t);var i,o=[],s=[],u=e,c=e,f=[t,r,n],h=[t,n,r];if(l(t,n,r),n=Array.isArray(n)?n:[n],"undefined"===typeof r)for(r=[],i=0;i<n.length;i++)r.push(-n.length+i);for(r=Array.isArray(r)?r:[r],n=a(n,t.data.length-1),r=a(r,t.data.length-1),i=0;i<t.data.length;i++)-1===n.indexOf(i)&&o.push(t.data[i]);for(i=0;i<n.length;i++)s.push({newIndex:r[i],trace:t.data[n[i]]});for(s.sort(function(e,t){return e.newIndex-t.newIndex}),i=0;i<s.length;i+=1)o.splice(s[i].newIndex,0,s[i].trace);t.data=o;var d=y.redraw(t);return _.add(t,u,f,c,h),d},y.restyle=function e(t,n,r,i){t=O.getGraphDiv(t),O.clearPromiseQueue(t);var o={};if("string"===typeof n)o[n]=r;else{if(!b.isPlainObject(n))return b.warn("Restyle fail.",n,r,i),Promise.reject();o=b.extendFlat({},n),void 0===i&&(i=r)}Object.keys(o).length&&(t.changed=!0);var a=d(t,o,i),s=a.flags;s.clearCalc&&(t.calcdata=void 0);var l=[];s.fullReplot?l.push(y.plot):(l.push(M.previousPromises),M.supplyDefaults(t),s.dostyle&&l.push(P.doTraceStyle),s.docolorbars&&l.push(P.doColorBars)),l.push(M.rehover),_.add(t,e,[t,a.undoit,a.traces],e,[t,a.redoit,a.traces]);var u=b.syncOrAsync(l,t);return u&&u.then||(u=Promise.resolve()),u.then(function(){return t.emit("plotly_restyle",a.eventData),t})},y.relayout=function e(t,n,r){if(t=O.getGraphDiv(t),O.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var i={};if("string"===typeof n)i[n]=r;else{if(!b.isPlainObject(n))return b.warn("Relayout fail.",n,r),Promise.reject();i=b.extendFlat({},n)}Object.keys(i).length&&(t.changed=!0);var o=p(t,i),a=o.flags;a.docalc&&(t.calcdata=void 0);var s=[M.previousPromises];a.layoutReplot?s.push(P.layoutReplot):Object.keys(i).length&&(M.supplyDefaults(t),a.dolegend&&s.push(P.doLegend),a.dolayoutstyle&&s.push(P.layoutStyles),a.doticks&&s.push(P.doTicksRelayout),a.domodebar&&s.push(P.doModeBar),a.docamera&&s.push(P.doCamera)),s.push(M.rehover),_.add(t,e,[t,o.undoit],e,[t,o.redoit]);var l=b.syncOrAsync(s,t);return l&&l.then||(l=Promise.resolve(t)),l.then(function(){return t.emit("plotly_relayout",o.eventData),t})},y.update=function e(t,n,r,i){if(t=O.getGraphDiv(t),O.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);b.isPlainObject(n)||(n={}),b.isPlainObject(r)||(r={}),Object.keys(n).length&&(t.changed=!0),Object.keys(r).length&&(t.changed=!0);var o=d(t,b.extendFlat({},n),i),a=o.flags,s=p(t,b.extendFlat({},r)),l=s.flags;(a.clearCalc||l.docalc)&&(t.calcdata=void 0);var u=[];if(a.fullReplot&&l.layoutReplot){var c=t.data,f=t.layout;t.data=void 0,t.layout=void 0,u.push(function(){return y.plot(t,c,f)})}else a.fullReplot?u.push(y.plot):l.layoutReplot?u.push(P.layoutReplot):(u.push(M.previousPromises),M.supplyDefaults(t),a.dostyle&&u.push(P.doTraceStyle),a.docolorbars&&u.push(P.doColorBars),l.dolegend&&u.push(P.doLegend),l.dolayoutstyle&&u.push(P.layoutStyles),l.doticks&&u.push(P.doTicksRelayout),l.domodebar&&u.push(P.doModeBar),l.doCamera&&u.push(P.doCamera));u.push(M.rehover),_.add(t,e,[t,o.undoit,s.undoit,o.traces],e,[t,o.redoit,s.redoit,o.traces]);var h=b.syncOrAsync(u,t);return h&&h.then||(h=Promise.resolve(t)),h.then(function(){return t.emit("plotly_update",{data:o.eventData,layout:s.eventData}),t})},y.animate=function(e,t,n){function r(e){return Array.isArray(s)?e>=s.length?s[0]:s[e]:s}function i(e){return Array.isArray(l)?e>=l.length?l[0]:l[e]:l}function o(e,t){var n=0;return function(){if(e&&++n===t)return e()}}if(e=O.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]),n=M.supplyAnimationDefaults(n);var s=n.transition,l=n.frame;return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise(function(l,u){function c(){e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function f(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var t=a._currentFrame=a._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,a._lastFrameAt=Date.now(),a._timeToNext=t.frameOpts.duration,M.transition(e,t.frame.data,t.frame.layout,O.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else c()}function h(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var t=function(){a._animationRaf=window.requestAnimationFrame(t),Date.now()-a._lastFrameAt>a._timeToNext&&f()};t()}function d(e){return Array.isArray(s)?v>=s.length?e.transitionOpts=s[v]:e.transitionOpts=s[0]:e.transitionOpts=s,v++,e}var p,m,v=0,g=[],y=void 0===t||null===t,x=Array.isArray(t);if(y||x||!b.isPlainObject(t)){if(y||-1!==["string","number"].indexOf(typeof t))for(p=0;p<a._frames.length;p++)(m=a._frames[p])&&(y||String(m.group)===String(t))&&g.push({type:"byname",name:String(m.name),data:d({name:m.name})});else if(x)for(p=0;p<t.length;p++){var _=t[p];-1!==["number","string"].indexOf(typeof _)?(_=String(_),g.push({type:"byname",name:_,data:d({name:_})})):b.isPlainObject(_)&&g.push({type:"object",data:d(b.extendFlat({},_))})}}else g.push({type:"object",data:d(b.extendFlat({},t))});for(p=0;p<g.length;p++)if(m=g[p],"byname"===m.type&&!a._frameHash[m.data.name])return b.warn('animate failure: frame not found: "'+m.data.name+'"'),void u();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var t=a._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&g.reverse();var w=e._fullLayout._currentFrame;if(w&&n.fromcurrent){var k=-1;for(p=0;p<g.length;p++)if(m=g[p],"byname"===m.type&&m.name===w){k=p;break}if(k>0&&k<g.length-1){var E=[];for(p=0;p<g.length;p++)m=g[p],("byname"!==g[p].type||p>k)&&E.push(m);g=E}}g.length>0?function(t){if(0!==t.length){for(var s=0;s<t.length;s++){var c;c="byname"===t[s].type?M.computeFrame(e,t[s].name):t[s].data;var f=i(s),d=r(s);d.duration=Math.min(d.duration,f.duration);var p={frame:c,name:t[s].name,frameOpts:f,transitionOpts:d};s===t.length-1&&(p.onComplete=o(l,2),p.onInterrupt=u),a._frameQueue.push(p)}"immediate"===n.mode&&(a._lastFrameAt=-1/0),a._animationRaf||h()}}(g):(e.emit("plotly_animated"),l())})},y.addFrames=function(e,t,n){e=O.getGraphDiv(e);var r=0;if(null===t||void 0===t)return Promise.resolve();if(!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var i,o,a,s,l=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var c=l.length+2*t.length,f=[];for(i=t.length-1;i>=0;i--)if(b.isPlainObject(t[i])){var h=(u[t[i].name]||{}).name,d=t[i].name;h&&d&&"number"===typeof d&&u[h]&&(r++,b.warn('addFrames: overwriting frame "'+u[h].name+'" with a frame whose name of type "number" also equates to "'+h+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),r>5&&b.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),f.push({frame:M.supplyFrameDefaults(t[i]),index:n&&void 0!==n[i]&&null!==n[i]?n[i]:c+i})}f.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var p=[],m=[],v=l.length;for(i=f.length-1;i>=0;i--){if(o=f[i].frame,"number"===typeof o.name&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!o.name)for(;u[o.name="frame "+e._transitionData._counter++];);if(u[o.name]){for(a=0;a<l.length&&(l[a]||{}).name!==o.name;a++);p.push({type:"replace",index:a,value:o}),m.unshift({type:"replace",index:a,value:l[a]})}else s=Math.max(0,Math.min(f[i].index,v)),p.push({type:"insert",index:s,value:o}),m.unshift({type:"delete",index:s}),v++}var g=M.modifyFrames,y=M.modifyFrames,x=[e,m],w=[e,p];return _&&_.add(e,g,x,y,w),M.modifyFrames(e,p)},y.deleteFrames=function(e,t){if(e=O.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,o=[],a=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for(t=t.slice(0),t.sort(),n=t.length-1;n>=0;n--)r=t[n],o.push({type:"delete",index:r}),a.unshift({type:"insert",index:r,value:i[r]});var s=M.modifyFrames,l=M.modifyFrames,u=[e,a],c=[e,o];return _&&_.add(e,s,u,l,c),M.modifyFrames(e,o)},y.purge=function(e){e=O.getGraphDiv(e);var t=e._fullLayout||{},n=e._fullData||[];return M.cleanPlot([],{},n,t),M.purge(e),x.purge(e),t._container&&t._container.remove(),delete e._context,delete e._replotPending,delete e._mouseDownTime,delete e._legendMouseDownTime,delete e._hmpixcount,delete e._hmlumcount,e}},function(e,t,n){"use strict";var r=n(25),i=n(0);e.exports=function(e){return i.extendFlat(r.defaultConfig,e)}},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&(o[0]<t[1]&&o[1]>t[0]))return!0}return!1}var i=n(2),o=n(25),a=n(6),s=n(16),l=n(0),u=n(3),c=n(12),f=n(222),h=n(544);t.layoutStyles=function(e){return l.syncOrAsync([s.doAutoMargin,t.lsInner],e)},t.lsInner=function(e){var n,a=e._fullLayout,s=a._size,l=o.Axes.list(e);for(n=0;n<l.length;n++)l[n]._linepositions={};a._paperdiv.style({width:a.width+"px",height:a.height+"px"}).selectAll(".main-svg").call(c.setSize,a.width,a.height),e._context.setBackground(e,a.paper_bgcolor);var f=a._paper.selectAll("g.subplot"),d=[],p=[];f.each(function(t){var n=a._plots[t];if(n.mainplot)return n.bg&&n.bg.remove(),void(n.bg=void 0);var i=o.Axes.getFromId(e,t,"x"),s=o.Axes.getFromId(e,t,"y"),l=i.domain,u=s.domain,c=[];r(l,u,p)?c=[0]:(d.push(t),p.push([l,u]));var f=n.plotgroup.selectAll(".bg").data(c);f.enter().append("rect").classed("bg",!0),f.exit().remove(),f.each(function(){n.bg=f;var e=n.plotgroup.node();e.insertBefore(this,e.childNodes[0])})});var m=a._bgLayer.selectAll(".bg").data(d);m.enter().append("rect").classed("bg",!0),m.exit().remove(),m.each(function(e){a._plots[e].bg=i.select(this)});var v=[];return f.each(function(t){var n=a._plots[t],r=o.Axes.getFromId(e,t,"x"),i=o.Axes.getFromId(e,t,"y");r.setScale(),i.setScale(),n.bg&&n.bg.call(c.setRect,r._offset-s.p,i._offset-s.p,r._length+2*s.p,i._length+2*s.p).call(u.fill,a.plot_bgcolor).style("stroke-width",0),n.clipId="clip"+a._uid+t+"plot";var l=a._defs.selectAll("g.clips").selectAll("#"+n.clipId).data([0]);l.enter().append("clipPath").attr({class:"plotclip",id:n.clipId}).append("rect"),l.selectAll("rect").attr({width:r._length,height:i._length}),n.plot.call(c.setTranslate,r._offset,i._offset),n.plot.call(c.setClipUrl,n.clipId);var f=c.crispRound(e,r.linewidth,1),h=c.crispRound(e,i.linewidth,1),d=s.p+h,p="M"+-d+",",m="h"+(r._length+2*d),g="free"===r.anchor&&-1===v.indexOf(r._id),y=s.h*(1-(r.position||0))+f/2%1,b=r.anchor===i._id&&(r.mirror||"top"!==r.side)||"all"===r.mirror||"allticks"===r.mirror||r.mirrors&&r.mirrors[i._id+"bottom"],x=i._length+s.p+f/2,_=r.anchor===i._id&&(r.mirror||"top"===r.side)||"all"===r.mirror||"allticks"===r.mirror||r.mirrors&&r.mirrors[i._id+"top"],w=-s.p-f/2,M=s.p,k=b?0:f,E=_?0:f,S=","+(-M-E)+"v"+(i._length+2*M+E+k),T="free"===i.anchor&&-1===v.indexOf(i._id),A=s.w*(i.position||0)+h/2%1,C=i.anchor===r._id&&(i.mirror||"right"!==i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[r._id+"left"],D=-s.p-h/2,O=i.anchor===r._id&&(i.mirror||"right"===i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[r._id+"right"],P=r._length+s.p+h/2;r._linepositions[t]=[b?x:void 0,_?w:void 0,g?y:void 0],r.anchor===i._id?r._linepositions[t][3]="top"===r.side?w:x:g&&(r._linepositions[t][3]=y),i._linepositions[t]=[C?D:void 0,O?P:void 0,T?A:void 0],i.anchor===r._id?i._linepositions[t][3]="right"===i.side?P:D:T&&(i._linepositions[t][3]=A);var L="translate("+r._offset+","+i._offset+")",I=L,N=L;g&&(I="translate("+r._offset+","+s.t+")",w+=i._offset-s.t,x+=i._offset-s.t),T&&(N="translate("+s.l+","+i._offset+")",D+=r._offset-s.l,P+=r._offset-s.l),n.xlines.attr("transform",I).attr("d",(b?p+x+m:"")+(_?p+w+m:"")+(g?p+y+m:"")||"M0,0").style("stroke-width",f+"px").call(u.stroke,r.showline?r.linecolor:"rgba(0,0,0,0)"),n.ylines.attr("transform",N).attr("d",(C?"M"+D+S:"")+(O?"M"+P+S:"")+(T?"M"+A+S:"")||"M0,0").attr("stroke-width",h+"px").call(u.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)"),n.xaxislayer.attr("transform",I),n.yaxislayer.attr("transform",N),n.gridlayer.attr("transform",L),n.zerolinelayer.attr("transform",L),n.draglayer.attr("transform",L),g&&v.push(r._id),T&&v.push(i._id)}),o.Axes.makeClipPaths(e),t.drawMainTitle(e),h.manage(e),e._promises.length&&Promise.all(e._promises)},t.drawMainTitle=function(e){var t=e._fullLayout;f.draw(e,"gtitle",{propContainer:t,propName:"title",dfltName:"Plot",attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},t.doTraceStyle=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t],r=((n[0]||{}).trace||{})._module||{},i=r.arraysToCalcdata;i&&i(n,n[0].trace)}return s.style(e),a.getComponentMethod("legend","draw")(e),s.previousPromises(e)},t.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t][0];if((n.t||{}).cb){var r=n.trace,i=n.t.cb;a.traceIs(r,"contour")&&i.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?i._opts.line.color:r.line.color}),a.traceIs(r,"markerColorscale")?i.options(r.marker.colorbar)():i.options(r.colorbar)()}}return s.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,o.plot(e,"",t)},t.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),s.previousPromises(e)},t.doTicksRelayout=function(e){return o.Axes.doTicks(e,"redraw"),t.drawMainTitle(e),s.previousPromises(e)},t.doModeBar=function(e){var t,n,r=e._fullLayout;for(h.manage(e),o.Fx.init(e),t=s.getSubplotIds(r,"gl3d"),n=0;n<t.length;n++){r[t[n]]._scene.updateFx(r.dragmode,r.hovermode)}return s.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,n=s.getSubplotIds(t,"gl3d"),r=0;r<n.length;r++){var i=t[n[r]];i._scene.setCamera(i.camera)}}},function(e,t,n){"use strict";function r(e,t,n,i,o,u){u=u||[];for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];if("transforms"!==d){var v=u.slice();v.push(d);var g=e[d],y=t[d],b=l(n,d),x="info_array"===(b||{}).valType,_="colorscale"===(b||{}).valType;if(s(n,d))if(p(g)&&p(y))r(g,y,b,i,o,v);else if(b.items&&!x&&m(g)){var w,M,k=b.items,E=k[Object.keys(k)[0]],S=[];for(w=0;w<y.length;w++){var T=y[w]._index||w;M=v.slice(),M.push(T),p(g[T])&&p(y[w])&&(S.push(T),r(g[T],y[w],E,i,o,M))}for(w=0;w<g.length;w++)M=v.slice(),M.push(w),p(g[w])?-1===S.indexOf(w)&&i.push(a("unused",o,M)):i.push(a("object",o,M,g[w]))}else!p(g)&&p(y)?i.push(a("object",o,v,g)):m(g)||!m(y)||x||_?d in t?f.validate(g,b)||i.push(a("value",o,v,g)):i.push(a("unused",o,v,g)):i.push(a("array",o,v,g));else i.push(a("schema",o,v))}}return i}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n].type,i=e.traces[r].layoutAttributes;i&&f.extendFlat(e.layout.layoutAttributes,i)}return e.layout.layoutAttributes}function o(e){return m(e)?"In data trace "+e[1]+", ":"In "+e+", "}function a(e,t,n,r){n=n||"";var i,o;m(t)?(i=t[0],o=t[1]):(i=t,o=null);var a=c(n),s=v[e](t,a,r);return f.log(s),{code:e,container:i,trace:o,path:n,astr:a,msg:s}}function s(e,t){var n=u(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function l(e,t){return e[u(t).keyMinusId]}function u(e){var t=/([2-9]|[1-9][0-9]+)$/,n=e.split(t)[0];return{keyMinusId:n,id:e.substr(n.length,e.length)}}function c(e){if(!m(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"===typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}var f=n(0),h=n(16),d=n(224),p=f.isPlainObject,m=Array.isArray;e.exports=function(e,t){var n,o,s=d.get(),l=[],u={};m(e)?(u.data=f.extendDeep([],e),n=e):(u.data=[],n=[],l.push(a("array","data"))),p(t)?(u.layout=f.extendDeep({},t),o=t):(u.layout={},o={},arguments.length>1&&l.push(a("object","layout"))),h.supplyDefaults(u);for(var c=u._fullData,v=n.length,g=0;g<v;g++){var y=n[g],b=["data",g];if(p(y)){var x=c[g],_=x.type,w=s.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===x.visible&&!1!==y.visible&&l.push(a("invisible",b)),r(y,x,w,l,b);var M=y.transforms,k=x.transforms;if(M){m(M)||l.push(a("array",b,["transforms"])),b.push("transforms");for(var E=0;E<M.length;E++){var S=["transforms",E],T=M[E].type;if(p(M[E])){var A=s.transforms[T]?s.transforms[T].attributes:{};A.type={valType:"enumerated",values:Object.keys(s.transforms)},r(M[E],k[E],A,l,b,S)}else l.push(a("object",b,S))}}}else l.push(a("object",b))}return r(o,u._fullLayout,i(s,c),l,"layout"),0===l.length?void 0:l};var v={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":o(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":o(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return o(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=p(n)?"container":"key";return o(e)+r+" "+t+" did not get coerced"},invisible:function(e){return"Trace "+e[1]+" got defaulted to be not visible"},value:function(e,t,n){return[o(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}}},function(e,t,n){"use strict";function r(e,t,n,r){var i,o,s,l,u=r[a(t)].type,c=[];for(o=0;o<n.length;o++)(s=n[o])!==t&&(l=r[a(s)],l.type!==u||l.fixedrange||c.push(s));for(i=0;i<e.length;i++)if(e[i][t]){var f=e[i],h=[];for(o=0;o<c.length;o++)s=c[o],f[s]||h.push(s);return{linkableAxes:h,thisGroup:f}}return{linkableAxes:c,thisGroup:null}}function i(e,t,n,r,i){var o,a,s,l,u;null===t?(t={},t[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(o=0;o<e.length;o++)if(s=e[o],o!==u&&s[r]){var f=s[r];for(a=0;a<c.length;a++)l=c[a],s[l]=f*i*t[l];return void e.splice(u,1)}if(1!==i)for(a=0;a<c.length;a++)t[c[a]]*=i;t[r]=1}var o=n(0),a=n(53).id2name;e.exports=function(e,t,n,a,s){var l=s._axisConstraintGroups;if(!t.fixedrange&&e.scaleanchor){var u=r(l,t._id,a,s),c=o.coerce(e,t,{scaleanchor:{valType:"enumerated",values:u.linkableAxes}},"scaleanchor");if(c){var f=n("scaleratio");f||(f=t.scaleratio=1),i(l,u.thisGroup,t._id,c,f)}else-1!==a.indexOf(e.scaleanchor)&&o.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){var s=e.draglayer.selectAll("."+t).data([0]);return s.enter().append("rect").classed("drag",!0).classed(t,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),s.call(T.setRect,r,i,o,a).call(A,n),s.node()}function i(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function o(e,t){var n,r=e.range[t],i=Math.abs(r-e.range[1-t]);return"date"===e.type?r:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,x.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,x.format("."+String(n)+"g")(r))}function a(e,t,n,r){var i,o,s,l;for(i=0;i<e.length;i++)o=e[i],o.fixedrange||(s=o._rl[0],l=o._rl[1]-s,o.range=[o.l2r(s+l*t),o.l2r(s+l*n)]);if(r&&r.length){var u=(t+(1-n))/2;a(r,u,1-u)}}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function l(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function u(e,t){return e?"nsew"===e?"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function c(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",i+"Z")}function f(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function h(e){e.selectAll(".select-outline").remove()}function d(e,t,n,r,i,o){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),i||(e.transition().style("fill",o>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function p(e){x.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function m(e){return-1!==["lasso","select"].indexOf(e)}function v(e,t){return"M"+(e.l-.5)+","+(t-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(e.r+.5)+","+(t-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function g(e,t){return"M"+(t-R-.5)+","+(e.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(t-R-.5)+","+(e.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function y(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,R)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function b(e,t,n){var r,i,o,a,s,l,u=!1,c={},f={};for(r=0;r<e.length;r++){for(a=e[r],i=0;i<t.length;i++)if(a[t[i]]){for(s in a)-1===("x"===s.charAt(0)?t:n).indexOf(s)&&(c[s]=1);for(o=0;o<n.length;o++)a[n[o]]&&(u=!0)}for(i=0;i<n.length;i++)if(a[n[i]])for(l in a)-1===("x"===l.charAt(0)?t:n).indexOf(l)&&(f[l]=1)}return u&&(k.extendFlat(c,f),f={}),{x:c,y:f,xy:u}}var x=n(2),_=n(38),w=n(25),M=n(6),k=n(0),E=n(43),S=n(3),T=n(12),A=n(126),C=n(92),D=n(5).doTicks,O=n(53).getFromId,P=n(573),L=n(572),I=n(33),N=I.MINDRAG,R=I.MINZOOM,j=!0;e.exports=function(e,t,n,S,A,z,F,B){function U(){Q=[t.xaxis],ee=[t.yaxis];var n=Q[0],r=ee[0];re=n._length,ie=r._length;var o=fe._axisConstraintGroups,a=[n._id],s=[r._id];J=[t].concat(F&&B?t.overlays:[]);for(var l=1;l<J.length;l++){var c=J[l].xaxis,f=J[l].yaxis;-1===Q.indexOf(c)&&(Q.push(c),a.push(c._id)),-1===ee.indexOf(f)&&(ee.push(f),s.push(f._id))}oe=i(Q,B),ae=i(ee,F),se=u(ae+oe,fe.dragmode),te=n._offset,ne=r._offset;var h=b(o,a,s);le=h.xy,ue=[];for(var d in h.x)ue.push(O(e,d));ce=[];for(var p in h.y)ce.push(O(e,p))}function V(t,n,r){var i=pe.getBoundingClientRect();ve=n-i.left,ge=r-i.top,ye={l:ve,r:ve,w:0,t:ge,b:ge,h:0},be=e._hmpixcount?e._hmlumcount/e._hmpixcount:_(e._fullLayout.plot_bgcolor).getLuminance(),xe="M0,0H"+re+"V"+ie+"H0V0",_e=!1,we="xy",Me=c(he,be,te,ne,xe),ke=f(he,te,ne),h(he)}function H(t,n){function r(){we="",ye.r=ye.l,ye.t=ye.b,ke.attr("d","M0,0Z")}if(e._transitioningWithDuration)return!1;var i=Math.max(0,Math.min(re,t+ve)),o=Math.max(0,Math.min(ie,n+ge)),a=Math.abs(i-ve),s=Math.abs(o-ge);ye.l=Math.min(ve,i),ye.r=Math.max(ve,i),ye.t=Math.min(ge,o),ye.b=Math.max(ge,o),le?a>R||s>R?(we="xy",a/re>s/ie?(s=a*ie/re,ge>o?ye.t=ge-s:ye.b=ge+s):(a=s*re/ie,ve>i?ye.l=ve-a:ye.r=ve+a),ke.attr("d",y(ye))):r():!ae||s<Math.min(Math.max(.6*a,N),R)?a<N?r():(ye.t=0,ye.b=ie,we="x",ke.attr("d",v(ye,ge))):!oe||a<Math.min(.6*s,R)?(ye.l=0,ye.r=re,we="y",ke.attr("d",g(ye,ve))):(we="xy",ke.attr("d",y(ye))),ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,d(Me,ke,ye,xe,_e,be),_e=!0}function Y(t,n){if(Math.min(ye.h,ye.w)<2*N)return 2===n&&Z(),p(e);"xy"!==we&&"x"!==we||a(Q,ye.l/re,ye.r/re,ue),"xy"!==we&&"y"!==we||a(ee,(ie-ye.b)/ie,(ie-ye.t)/ie,ce),p(e),K(we),j&&e.data&&e._context.showTips&&(k.notifier("Double-click to<br>zoom back out","long"),j=!1)}function W(t,n){var r=1===(F+B).length;if(t)K();else if(2!==n||r){if(1===n&&r){var i=F?ee[0]:Q[0],a="s"===F||"w"===B?0:1,s=i._name+".range["+a+"]",l=o(i,a),u="left",c="middle";if(i.fixedrange)return;F?(c="n"===F?"top":"bottom","right"===i.side&&(u="right")):"e"===B&&(u="right"),e._context.showAxisRangeEntryBoxes&&x.select(pe).call(E.makeEditable,null,{immediate:!0,background:fe.paper_bgcolor,text:String(l),fill:i.tickfont?i.tickfont.color:"#444",horizontalAlign:u,verticalAlign:c}).on("edit",function(t){var n=i.d2r(t);void 0!==n&&w.relayout(e,s,n)})}}else Z()}function q(t){function n(e,t,n){function r(t){return e.l2r(o+(t-o)*n)}if(!e.fixedrange){var i=k.simpleMap(e.range,e.r2l),o=i[0]+(i[1]-i[0])*t;e.range=i.map(r)}}if(e._context.scrollZoom||fe._enablescrollzoom){if(e._transitioningWithDuration)return k.pauseEvent(t);var r=e.querySelector(".plotly");if(U(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(Se);var i=-t.deltaY;if(isFinite(i)||(i=t.wheelDelta/10),!isFinite(i))return void k.log("Did not find wheel motion attributes: ",t);var o,a=Math.exp(-Math.min(Math.max(i,-20),20)/100),s=Ae.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(t.clientX-s.left)/s.width,u=(s.bottom-t.clientY)/s.height;if(B||le){for(B||(l=.5),o=0;o<Q.length;o++)n(Q[o],l,a);Ee[2]*=a,Ee[0]+=Ee[2]*l*(1/a-1)}if(F||le){for(F||(u=.5),o=0;o<ee.length;o++)n(ee[o],u,a);Ee[3]*=a,Ee[1]+=Ee[3]*(1-u)*(1/a-1)}return $(Ee),X(F,B),Se=setTimeout(function(){Ee=[0,0,re,ie];var e;e=le?"xy":(B?"x":"")+(F?"y":""),K(e)},Te),k.pauseEvent(t)}}}function G(t,n){function r(e,t,n){for(var r,i,o=1-t,a=0;a<e.length;a++){var s=e[a];if(!s.fixedrange){r=s,i=s._rl[o]+(s._rl[t]-s._rl[o])/l(n/s._length);var u=s.l2r(i);!1!==u&&void 0!==u&&(s.range[t]=u)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[o])}if(!e._transitioningWithDuration){if(U(),"ew"===oe||"ns"===ae)return oe&&s(Q,t),ae&&s(ee,n),$([oe?-t:0,ae?-n:0,re,ie]),void X(ae,oe);if(le&&oe&&ae){var i="w"===oe===("n"===ae)?1:-1,o=(t/re+i*n/ie)/2;t=o*re,n=i*o*ie}"w"===oe?t=r(Q,0,t):"e"===oe?t=r(Q,1,-t):oe||(t=0),"n"===ae?n=r(ee,1,n):"s"===ae?n=r(ee,0,-n):ae||(n=0);var a="w"===oe?t:0,u="n"===ae?n:0;if(le){var c;if(!oe&&1===ae.length){for(c=0;c<Q.length;c++)Q[c].range=Q[c]._r.slice(),L(Q[c],1-n/ie);t=n*re/ie,a=t/2}if(!ae&&1===oe.length){for(c=0;c<ee.length;c++)ee[c].range=ee[c]._r.slice(),L(ee[c],1-t/re);n=t*ie/re,u=n/2}}$([a,u,re-t,ie-n]),X(ae,oe)}}function X(t,n){function r(e){for(o=0;o<e.length;o++)e[o].fixedrange||a.push(e[o]._id)}function i(r,i,s){for(o=0;o<r.length;o++){var l=r[o];if((n&&-1!==a.indexOf(l.xref)||t&&-1!==a.indexOf(l.yref))&&(i(e,o),s))return}}var o,a=[];for((n||le)&&(r(Q),r(ue)),(t||le)&&(r(ee),r(ce)),o=0;o<a.length;o++)D(e,a[o],!0);i(fe.annotations||[],M.getComponentMethod("annotations","drawOne")),i(fe.shapes||[],M.getComponentMethod("shapes","drawOne")),i(fe.images||[],M.getComponentMethod("images","draw"),!0)}function Z(){if(!e._transitioningWithDuration){var t,n,r,i=e._context.doubleClick,o=(oe?Q:[]).concat(ae?ee:[]),a={};if("reset+autosize"===i)for(i="autosize",n=0;n<o.length;n++)if(t=o[n],t._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){i="reset";break}if("autosize"===i)for(n=0;n<o.length;n++)t=o[n],t.fixedrange||(a[t._name+".autorange"]=!0);else if("reset"===i)for((oe||le)&&(o=o.concat(ue)),ae&&!le&&(o=o.concat(ce)),le&&(oe?ae||(o=o.concat(ee)):o=o.concat(Q)),n=0;n<o.length;n++)t=o[n],t._rangeInitial?(r=t._rangeInitial,a[t._name+".range[0]"]=r[0],a[t._name+".range[1]"]=r[1]):a[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),w.relayout(e,a)}}function K(t){void 0===t&&(t=(B?"x":"")+(F?"y":""));var n,r={};"xy"===t?n=Q.concat(ee):"x"===t?n=Q:"y"===t&&(n=ee);for(var i=0;i<n.length;i++){var o=n[i];o._r[0]!==o.range[0]&&(r[o._name+".range[0]"]=o.range[0]),o._r[1]!==o.range[1]&&(r[o._name+".range[1]"]=o.range[1]),o.range=o._input.range=o._r.slice()}$([0,0,re,ie]),w.relayout(e,r)}function $(e){function t(e){return e.fixedrange?0:h&&-1!==ue.indexOf(e)?c:d&&-1!==(le?ue:ce).indexOf(e)?f:0}function n(e,t){return t?(e.range=e._r.slice(),L(e,t),e._length*(1-t)/2):0}var r,i,o,a,s,l=fe._plots,u=Object.keys(l),c=e[2]/Q[0]._length,f=e[3]/ee[0]._length,h=B||le,d=F||le;for(r=0;r<u.length;r++){var p=l[u[r]],m=p.xaxis,v=p.yaxis,g=h&&!m.fixedrange&&-1!==Q.indexOf(m),y=d&&!v.fixedrange&&-1!==ee.indexOf(v);if(g?(i=c,a=e[0]):(i=t(m),a=n(m,i)),y?(o=f,s=e[1]):(o=t(v),s=n(v,o)),i||o){i||(i=1),o||(o=1);var b=m._offset-a/i,x=v._offset-s/o;fe._defs.selectAll("#"+p.clipId).call(T.setTranslate,a,s).call(T.setScale,i,o),p.plot.call(T.setTranslate,b,x).call(T.setScale,1/i,1/o).select(".scatterlayer").selectAll(".points").selectAll(".point").call(T.setPointGroupScale,i,o)}}}var J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe=e._fullLayout,he=e._fullLayout._zoomlayer,de=F+B==="nsew";U();var pe=r(t,F+B+"drag",se,n,S,A,z);if(!ae&&!oe&&!m(fe.dragmode))return pe.onmousedown=null,pe.style.pointerEvents=de?"all":"none",pe;var me={element:pe,gd:e,plotinfo:t,doubleclick:Z,prepFn:function(t,n,r){var i=e._fullLayout.dragmode;de?t.shiftKey&&(i="pan"===i?"zoom":"pan"):i="pan",me.minDrag="lasso"===i?1:void 0,"zoom"===i?(me.moveFn=H,me.doneFn=Y,me.minDrag=1,V(t,n,r)):"pan"===i?(me.moveFn=G,me.doneFn=W,h(he)):m(i)&&(me.xaxes=Q,me.yaxes=ee,P(t,n,r,me,i))}};C.init(me);var ve,ge,ye,be,xe,_e,we,Me,ke,Ee=[0,0,re,ie],Se=null,Te=I.REDRAWDELAY,Ae=t.mainplot?fe._plots[t.mainplot]:t;return F.length*B.length!==1&&(void 0!==pe.onwheel?pe.onwheel=q:void 0!==pe.onmousewheel&&(pe.onmousewheel=q)),pe}},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(3),a=n(170),s=n(33),l=n(57),u=n(574),c=n(320),f=n(1386),h=n(571),d=n(53);e.exports=function(e,t,n){function p(e,t){return Number(e.substr(5)||1)-Number(t.substr(5)||1)}function m(e,t){return i.coerce(F,B,l,e,t)}function v(e){var t={x:I,y:L}[e];return i.simpleMap(t,d.name2id)}var g,y=Object.keys(e),b=[],x=[],_=[],w=[],M=[],k=[],E={},S={};for(g=0;g<n.length;g++){var T,A,C=n[g];if(r.traceIs(C,"cartesian"))T=b,A=x;else{if(!r.traceIs(C,"gl2d"))continue;T=_,A=w}var D=d.id2name(C.xaxis),O=d.id2name(C.yaxis);if(r.traceIs(C,"carpet")&&("carpet"!==C.type||C._cheater)||D&&i.pushUnique(k,D),"carpet"===C.type&&C._cheater&&D&&i.pushUnique(M,D),D&&-1===T.indexOf(D)&&T.push(D),O&&-1===A.indexOf(O)&&A.push(O),r.traceIs(C,"2dMap")&&(E[D]=!0,E[O]=!0),r.traceIs(C,"oriented")){S["h"===C.orientation?O:D]=!0}}if(!t._has("gl3d")&&!t._has("geo"))for(g=0;g<y.length;g++){var P=y[g];-1===_.indexOf(P)&&-1===b.indexOf(P)&&s.xAxisMatch.test(P)?b.push(P):-1===w.indexOf(P)&&-1===x.indexOf(P)&&s.yAxisMatch.test(P)&&x.push(P)}b.length&&x.length&&i.pushUnique(t._basePlotModules,r.subplotsRegistry.cartesian);var L=b.concat(_).sort(p),I=x.concat(w).sort(p),N=L.concat(I),R=o.background;L.length&&I.length&&(R=i.coerce(e,t,a,"plot_bgcolor"));var j,z,F,B,U=o.combine(R,t.paper_bgcolor),V={x:v("x"),y:v("y")};for(g=0;g<N.length;g++){j=N[g],i.isPlainObject(e[j])||(e[j]={}),F=e[j],B=t[j]={},u(F,B,m,n,j),z=j.charAt(0);var H=function(t,n){for(var r={x:L,y:I}[t],i=[],o=0;o<r.length;o++){var a=r[o];a===n||(e[a]||{}).overlaying||i.push(d.name2id(a))}return i}(z,j),Y={letter:z,font:t.font,outerTicks:E[j],showGrid:!S[j],data:n,bgColor:U,calendar:t.calendar,cheateronly:"x"===z&&-1!==M.indexOf(j)&&-1===k.indexOf(j)};c(F,B,m,Y,t);m("showspikes")&&(m("spikecolor"),m("spikethickness"),m("spikedash"),m("spikemode"));var W={letter:z,counterAxes:V[z],overlayableAxes:H};h(F,B,m,W),B._input=F}var q=r.getComponentMethod("rangeslider","handleDefaults"),G=r.getComponentMethod("rangeselector","handleDefaults");for(g=0;g<L.length;g++)j=L[g],F=e[j],B=t[j],q(e,t,j),"date"===B.type&&G(F,B,t,I,B.calendar),m("fixedrange");for(g=0;g<I.length;g++){j=I[g],F=e[j],B=t[j];var X=t[d.id2name(B.anchor)];m("fixedrange",X&&X.rangeslider&&X.rangeslider.visible)}t._axisConstraintGroups=[];var Z=V.x.concat(V.y);for(g=0;g<N.length;g++)j=N[g],z=j.charAt(0),F=e[j],B=t[j],f(F,B,m,Z,t)}},function(e,t,n){"use strict";var r=n(2),i=n(25),o=n(6),a=n(12),s=n(5),l=/((x|y)([2-9]|[1-9][0-9]+)?)axis$/;e.exports=function(e,t,n,u){function c(t,n){function r(t,n){for(i=0;i<t.length;i++){var r=t[i];-1===a.indexOf(r.xref)&&-1===a.indexOf(r.yref)||n(e,i)}}var i,a=[];for(a=[t._id,n._id],i=0;i<a.length;i++)s.doTicks(e,a[i],!0);r(v.annotations||[],o.getComponentMethod("annotations","drawOne")),r(v.shapes||[],o.getComponentMethod("shapes","drawOne")),r(v.images||[],o.getComponentMethod("images","draw"))}function f(e){var t=e.xaxis,n=e.yaxis;v._defs.selectAll("#"+e.clipId).call(a.setTranslate,0,0).call(a.setScale,1,1),e.plot.call(a.setTranslate,t._offset,n._offset).call(a.setScale,1,1).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1,1)}function h(t,n){var r,i,o,s=y[t.xaxis._id],l=y[t.yaxis._id],u=[];if(s){r=e._fullLayout[s.axisName],i=r._r,o=s.to,u[0]=(i[0]*(1-n)+n*o[0]-i[0])/(i[1]-i[0])*t.xaxis._length;var f=i[1]-i[0],h=o[1]-o[0];r.range[0]=i[0]*(1-n)+n*o[0],r.range[1]=i[1]*(1-n)+n*o[1],u[2]=t.xaxis._length*(1-n+n*h/f)}else u[0]=0,u[2]=t.xaxis._length;if(l){r=e._fullLayout[l.axisName],i=r._r,o=l.to,u[1]=(i[1]*(1-n)+n*o[1]-i[1])/(i[0]-i[1])*t.yaxis._length;var d=i[1]-i[0],p=o[1]-o[0];r.range[0]=i[0]*(1-n)+n*o[0],r.range[1]=i[1]*(1-n)+n*o[1],u[3]=t.yaxis._length*(1-n+n*p/d)}else u[1]=0,u[3]=t.yaxis._length;c(t.xaxis,t.yaxis);var m=t.xaxis,g=t.yaxis,b=!!s,x=!!l,_=b?m._length/u[2]:1,w=x?g._length/u[3]:1,M=b?u[0]:0,k=x?u[1]:0,E=b?u[0]/u[2]*m._length:0,S=x?u[1]/u[3]*g._length:0,T=m._offset-E,A=g._offset-S;v._defs.selectAll("#"+t.clipId).call(a.setTranslate,M,k).call(a.setScale,1/_,1/w),t.plot.call(a.setTranslate,T,A).call(a.setScale,_,w).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1/_,1/w)}function d(){for(var t={},n=0;n<b.length;n++){var r=e._fullLayout[y[b[n]].axisName],o=y[b[n]].to;t[r._name+".range[0]"]=o[0],t[r._name+".range[1]"]=o[1],r.range=o.slice()}return _&&_(),i.relayout(e,t).then(function(){for(var e=0;e<x.length;e++)f(x[e])})}function p(){for(var t={},n=0;n<b.length;n++){var r=e._fullLayout[b[n]+"axis"];t[r._name+".range[0]"]=r.range[0],t[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return i.relayout(e,t).then(function(){for(var e=0;e<x.length;e++)f(x[e])})}function m(){M=Date.now();for(var e=Math.min(1,(M-w)/n.duration),t=E(e),r=0;r<x.length;r++)h(x[r],t);M-w>n.duration?(d(),k=window.cancelAnimationFrame(m)):k=window.requestAnimationFrame(m)}var v=e._fullLayout,g=[],y=function(e){var t,n,r,i,o,a={};for(t in e)if(n=t.split("."),r=n[0].match(l)){var s=r[1],u=s+"axis";if(i=v[u],o={},Array.isArray(e[t])?o.to=e[t].slice(0):Array.isArray(e[t].range)&&(o.to=e[t].range.slice(0)),!o.to)continue;o.axisName=u,o.length=i._length,g.push(s),a[s]=o}return a}(t),b=Object.keys(y),x=function(e,t,n){var r,i,o,a=e._plots,s=[];for(r in a){var l=a[r];if(-1===s.indexOf(l)){var u=l.xaxis._id,c=l.yaxis._id,f=l.xaxis.range,h=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),i=n[u]?n[u].to:f,o=n[c]?n[c].to:h,f[0]===i[0]&&f[1]===i[1]&&h[0]===o[0]&&h[1]===o[1]||-1===t.indexOf(u)&&-1===t.indexOf(c)||s.push(l)}}return s}(v,b,y);if(!x.length)return!1;var _;u&&(_=u());var w,M,k,E=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(k),k=null,p()}),w=Date.now(),k=window.requestAnimationFrame(m),Promise.resolve()}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return i=u.nestedProperty(r,t.prop).get(),o=n[t.type]=n[t.type]||{},o.hasOwnProperty(t.prop)&&o[t.prop]!==i&&(a=!0),o[t.prop]=i,{changed:a,value:i}}function i(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function o(e,t){var n=[],r=t[0],i={};if("string"===typeof r)i[r]=t[1];else{if(!u.isPlainObject(r))return n;i=r}return s(i,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function a(e,t){var n,r,i,o,a=[];if(r=t[0],i=t[1],n=t[2],o={},"string"===typeof r)o[r]=i;else{if(!u.isPlainObject(r))return a;o=r,void 0===n&&(n=i)}return void 0===n&&(n=null),s(o,function(t,r,i){var o;if(Array.isArray(i)){var s=Math.min(i.length,e.data.length);n&&(s=Math.min(s,n.length)),o=[];for(var l=0;l<s;l++)o[l]=n?n[l]:l}else o=n?n.slice(0):null;if(null===o)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(o)){if(!Array.isArray(i)){var u=i;i=[];for(var c=0;c<o.length;c++)i[c]=u}i.length=Math.min(o.length,i.length)}a.push({type:"data",prop:t,traces:o,value:i})},"",0),a}function s(e,t,n,r){Object.keys(e).forEach(function(i){var o=e[i];if("_"!==i[0]){var a=n+(r>0?".":"")+i;u.isPlainObject(o)?s(o,t,a,r+1):t(a,i,o)}})}var l=n(25),u=n(0);t.manageCommandObserver=function(e,n,i,o){var a={},s=!0;n&&n._commandObserver&&(a=n._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var l=t.hasSimpleAPICommandBindings(e,i,a.lookupTable);if(n&&n._commandObserver){if(l)return a;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,a}if(l){r(e,l,a.cache),a.check=function(){if(s){var t=r(e,l,a.cache);return t.changed&&o&&void 0!==a.lookupTable[t.value]&&(a.disable(),Promise.resolve(o({value:t.value,type:l.type,prop:l.prop,traces:l.traces,index:a.lookupTable[t.value]})).then(a.enable,a.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],a.check);a.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],a.check)}}else u.warn("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){s=!1},a.enable=function(){s=!0},n&&(n._commandObserver=a),a},t.hasSimpleAPICommandBindings=function(e,n,r){var i,o,a=n.length;for(i=0;i<a;i++){var s,l=n[i],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var f=t.computeAPICommandBindings(e,u,c);if(1!==f.length)return!1;if(o){if(s=f[0],s.type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var h=0;h<o.traces.length;h++)if(o.traces[h]!==s.traces[h])return!1}else if(s.prop!==o.prop)return!1}else o=f[0],Array.isArray(o.traces)&&o.traces.sort();s=f[0];var d=s.value;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}r&&(r[d]=i)}return o},t.executeAPICommand=function(e,t,n){var r=l[t],i=[e];Array.isArray(n)||(n=[]);for(var o=0;o<n.length;o++)i.push(n[o]);return r.apply(null,i).catch(function(e){return u.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},t.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=a(e,n);break;case"relayout":r=o(e,n);break;case"update":r=a(e,[n[0],n[2]]).concat(o(e,[n[1]]));break;case"animate":r=i(e,n);break;default:r=[]}return r}},function(e,t,n){"use strict";function r(e){this.id=e.id,this.graphDiv=e.graphDiv,this.container=e.container,this.topojsonURL=e.topojsonURL,this.topojsonName=null,this.topojson=null,this.projectionType=null,this.projection=null,this.clipAngle=null,this.setScale=null,this.path=null,this.zoom=null,this.zoomReset=null,this.makeFramework(),this.traceHash={}}function i(e,t,n){return u.geo.graticule().extent([[e[0],t[0]],[e[1],t[1]]]).step(n)}function o(e,t,n){var r=b.layerNameToAdjective[t];e.select("."+t).selectAll("path").attr("stroke","none").call(c.fill,n[r+"color"])}function a(e,t,n){var r=b.layerNameToAdjective[t];e.select("."+t).selectAll("path").attr("fill","none").call(c.stroke,n[r+"color"]).call(f.dashLine,"",n[r+"width"])}function s(e,t,n){e.select("."+t+"graticule").selectAll("path").attr("fill","none").call(c.stroke,n[t].gridcolor).call(f.dashLine,"",n[t].gridwidth)}function l(e){var t={type:"linear",showexponent:"all",exponentformat:d.layoutAttributes.exponentformat.dflt};return d.setConvert(t,e),t}var u=n(2),c=n(3),f=n(12),h=n(16),d=n(5),p=n(40),m=n(1395),v=n(1396),g=n(1397),y=n(1398),b=n(100),x=n(316),_=n(668).feature;m(u),e.exports=r;var w=r.prototype;w.plot=function(e,t,n){var r,i,o=this,a=t[o.id],s=t._size;o.projection=null,o.setScale=v(a,s),o.makeProjection(a),o.makePath(),o.adjustLayout(a,s),o.zoom=g(o,a),o.zoomReset=y(o,a),o.mockAxis=l(t),o.framework.call(o.zoom).on("dblclick.zoom",o.zoomReset),o.framework.on("mousemove",function(){var e=u.mouse(this),t=o.projection.invert(e);if(t&&!isNaN(t[0])&&!isNaN(t[1])){var n=u.event;n.xpx=e[0],n.ypx=e[1],o.xaxis.c2p=function(){return e[0]},o.xaxis.p2c=function(){return t[0]},o.yaxis.c2p=function(){return e[1]},o.yaxis.p2c=function(){return t[1]},p.hover(o.graphDiv,n,o.id)}}),o.framework.on("mouseout",function(){p.loneUnhover(t._toppaper)}),o.framework.on("click",function(){p.click(o.graphDiv,u.event)}),r=x.getTopojsonName(a),null===o.topojson||r!==o.topojsonName?(o.topojsonName=r,void 0!==PlotlyGeoAssets.topojson[o.topojsonName]?(o.topojson=PlotlyGeoAssets.topojson[o.topojsonName],o.onceTopojsonIsLoaded(e,a)):(i=x.getTopojsonPath(o.topojsonURL,o.topojsonName),n.push(new Promise(function(t,n){u.json(i,function(r,s){if(r)return void n(404===r.status?new Error(["plotly.js could not find topojson file at",i,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",i].join(" ")));o.topojson=s,PlotlyGeoAssets.topojson[o.topojsonName]=s,o.onceTopojsonIsLoaded(e,a),t()})})))):o.onceTopojsonIsLoaded(e,a)},w.onceTopojsonIsLoaded=function(e,t){this.drawLayout(t),h.generalUpdatePerTraceModule(this,e,t),this.render()},w.makeProjection=function(e){var t,n=e.projection,r=n.type,i=null===this.projection||r!==this.projectionType;i?(this.projectionType=r,t=this.projection=u.geo[b.projNames[r]]()):t=this.projection,t.translate(n._translate0).precision(b.precision),e._isAlbersUsa||t.rotate(n._rotate).center(n._center),e._clipAngle?(this.clipAngle=e._clipAngle,t.clipAngle(e._clipAngle-b.clipPad)):this.clipAngle=null,n.parallels&&t.parallels(n.parallels),i&&this.setScale(t),t.translate(n._translate).scale(n._scale)},w.makePath=function(){this.path=u.geo.path().projection(this.projection)},w.makeFramework=function(){var e=this.graphDiv._fullLayout,t="clip"+e._uid+this.id,n=e._defs.selectAll("g.clips").data([0]);n.enter().append("g").classed("clips",!0),(this.clipDef=n.selectAll("#"+t).data([0])).enter().append("clipPath").attr("id",t).append("rect");var r=this.framework=u.select(this.container).append("g");r.attr("class","geo "+this.id).style("pointer-events","all").call(f.setClipUrl,t),r.append("g").attr("class","bglayer").append("rect"),r.append("g").attr("class","baselayer"),r.append("g").attr("class","choroplethlayer"),r.append("g").attr("class","baselayeroverchoropleth"),r.append("g").attr("class","scattergeolayer"),r.on("dblclick.zoom",null),this.xaxis={_id:"x"},this.yaxis={_id:"y"}},w.adjustLayout=function(e,t){var n=e.domain,r=t.l+t.w*n.x[0]+e._marginX,i=t.t+t.h*(1-n.y[1])+e._marginY;f.setTranslate(this.framework,r,i);var o={x:0,y:0,width:e._width,height:e._height};this.clipDef.select("rect").attr(o),this.framework.select(".bglayer").select("rect").attr(o).call(c.fill,e.bgcolor),this.xaxis._offset=r,this.xaxis._length=e._width,this.yaxis._offset=i,this.yaxis._length=e._height},w.drawTopo=function(e,t,n){if(!0===n["show"+t]){var r=this.topojson,i="frame"===t?b.sphereSVG:_(r,r.objects[t]);e.append("g").datum(i).attr("class",t).append("path").attr("class","basepath")}},w.drawGraticule=function(e,t,n){var r=n[t];if(!0===r.showgrid){var o=b.scopeDefaults[n.scope],a=o.lonaxisRange,s=o.lataxisRange,l="lonaxis"===t?[r.dtick]:[0,r.dtick],u=i(a,s,l);e.append("g").datum(u).attr("class",t+"graticule").append("path").attr("class","graticulepath")}},w.drawLayout=function(e){var t,n=this.framework.select("g.baselayer"),r=b.baseLayers,i=b.axesNames;n.selectAll("*").remove();for(var o=0;o<r.length;o++)t=r[o],-1!==i.indexOf(t)?this.drawGraticule(n,t,e):this.drawTopo(n,t,e);this.styleLayout(e)},w.styleLayer=function(e,t,n){var r=b.fillLayers,i=b.lineLayers;-1!==r.indexOf(t)?o(e,t,n):-1!==i.indexOf(t)&&a(e,t,n)},w.styleLayout=function(e){for(var t,n=this.framework.select("g.baselayer"),r=b.baseLayers,i=b.axesNames,o=0;o<r.length;o++)t=r[o],-1!==i.indexOf(t)?s(n,t,e):this.styleLayer(n,t,e)},w.isLonLatOverEdges=function(e){var t=this.clipAngle;if(null===t)return!1;var n=this.projection.rotate();return u.geo.distance(e,[-n[0],-n[1]])>t*Math.PI/180},w.render=function(){function e(e){var t=n.projection(e.lonlat);return t?"translate("+t[0]+","+t[1]+")":null}function t(e){return n.isLonLatOverEdges(e.lonlat)?"0":"1.0"}var n=this,r=n.framework,i=r.select("g.choroplethlayer"),o=r.select("g.scattergeolayer"),a=n.path;r.selectAll("path.basepath").attr("d",a),r.selectAll("path.graticulepath").attr("d",a),i.selectAll("path.choroplethlocation").attr("d",a),i.selectAll("path.basepath").attr("d",a),o.selectAll("path.js-line").attr("d",a),null!==n.clipAngle?(o.selectAll("path.point").style("opacity",t).attr("transform",e),o.selectAll("text").style("opacity",t).attr("transform",e)):(o.selectAll("path.point").attr("transform",e),o.selectAll("text").attr("transform",e))}},function(e,t,n){"use strict";e.exports={geo:{valType:"subplotid",role:"info",dflt:"geo",description:["Sets a reference between this trace's geospatial coordinates and","a geographic map.","If *geo* (the default value), the geospatial coordinates refer to","`layout.geo`.","If *geo2*, the geospatial coordinates refer to `layout.geo2`,","and so on."].join(" ")}}},function(e,t,n){"use strict";var r=n(0),i=n(100),o=n(577);e.exports=function(e,t){function n(e,t){return r.coerce(a,s,o,e,t)}for(var a,s,l=i.axesNames,u=0;u<l.length;u++){var c=l[u];a=e[c]||{},s={};var f=function(e){var n,r,o,a,s,l,u=t.scope;return"world"===u?(n=t.projection,r=n.type,o=n.rotation,s=i[e+"Span"],l=void 0!==s[r]?s[r]/2:s["*"]/2,a="lonaxis"===e?o.lon:o.lat,[a-l,a+l]):i.scopeDefaults[u][e+"Range"]}(c),h=n("range",f);r.noneOrAll(a.range,s.range,[0,1]),n("tick0",h[0]),n("dtick","lonaxis"===c?30:10);n("showgrid")&&(n("gridcolor"),n("gridwidth")),t[c]=s,t[c]._fullRange=f}}},function(e,t,n){"use strict";function r(e,t,n){var r,i=n("scope"),a="world"!==i,l=o.scopeDefaults[i],u=n("resolution"),c=n("projection.type",l.projType),f="albers usa"===c,h=-1!==c.indexOf("conic");if(h){n("projection.parallels",l.projParallels||[0,60])}if(f)t.scope="usa";else{var d=l.projRotate||[0,0,0];n("projection.rotation.lon",d[0]),n("projection.rotation.lat",d[1]),n("projection.rotation.roll",d[2]),r=n("showcoastlines",!a),r&&(n("coastlinecolor"),n("coastlinewidth")),r=n("showocean"),r&&n("oceancolor")}n("projection.scale"),r=n("showland"),r&&n("landcolor"),r=n("showlakes"),r&&n("lakecolor"),r=n("showrivers"),r&&(n("rivercolor"),n("riverwidth")),r=n("showcountries",a&&"usa"!==i),r&&(n("countrycolor"),n("countrywidth")),("usa"===i||"north america"===i&&50===u)&&(n("showsubunits",!0),n("subunitcolor"),n("subunitwidth")),a||(r=n("showframe",!0))&&(n("framecolor"),n("framewidth")),n("bgcolor"),s(e,t),t._isHighRes=50===u,t._clipAngle=o.lonaxisSpan[c]/2,t._isAlbersUsa=f,t._isConic=h,t._isScoped=a;var p=t.projection.rotation||{};t.projection._rotate=[-p.lon||0,-p.lat||0,p.roll||0]}var i=n(229),o=n(100),a=n(578),s=n(1393);e.exports=function(e,t,n){i(e,t,n,{type:"geo",attributes:a,handleDefaults:r,partition:"y"})}},function(e,t,n){"use strict";function r(e){function t(e,t){return{type:"Feature",id:e.id,properties:e.properties,geometry:n(e.geometry,t)}}function n(t,r){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(e){return n(e,r)})};if(!T.hasOwnProperty(t.type))return null;var i=T[t.type];return e.geo.stream(t,r(i)),i.result()}function r(){}function i(e){if((t=e.length)<4)return!1;for(var t,n=0,r=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++n<t;)r+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return r<=0}function o(e,t){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],f=e[s],h=f[0],d=f[1];c>r^d>r&&n<(h-u)*(r-c)/(d-c)+u&&(i=!i)}return i}function a(e){return e?e/Math.sin(e):1}function s(e){return e>1?O:e<-1?-O:Math.asin(e)}function l(e){return e>1?0:e<-1?D:Math.acos(e)}function u(e,t){var n=(2+O)*Math.sin(t);t/=2;for(var r=0,i=1/0;r<10&&Math.abs(i)>A;r++){var o=Math.cos(t);t-=i=(t+Math.sin(t)*(o+2)-n)/(2*o*(1+o))}return[2/Math.sqrt(D*(4+D))*e*(1+Math.cos(t)),2*Math.sqrt(D/(4+D))*Math.sin(t)]}function c(e,t){function n(n,r){var i=R(n/t,r);return i[0]*=e,i}return arguments.length<2&&(t=e),1===t?R:t===1/0?h:(n.invert=function(n,r){var i=R.invert(n/e,r);return i[0]*=t,i},n)}function f(){var e=2,t=N(c),n=t(e);return n.coefficient=function(n){return arguments.length?t(e=+n):e},n}function h(e,t){return[e*Math.cos(t)/Math.cos(t/=2),2*Math.sin(t)]}function d(e,t){return[3*e/(2*D)*Math.sqrt(D*D/3-t*t),t]}function p(e,t){return[e,1.25*Math.log(Math.tan(D/4+.4*t))]}function m(e){return function(t){var n,r=e*Math.sin(t),i=30;do{t-=n=(t+Math.sin(t)-r)/(1+Math.cos(t))}while(Math.abs(n)>A&&--i>0);return t/2}}function v(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function g(e,t){var n,r=Math.min(18,36*Math.abs(t)/D),i=Math.floor(r),o=r-i,a=(n=z[i])[0],s=n[1],l=(n=z[++i])[0],u=n[1],c=(n=z[Math.min(19,++i)])[0],f=n[1];return[e*(l+o*(c-a)/2+o*o*(c-2*l+a)/2),(t>0?O:-O)*(u+o*(f-s)/2+o*o*(f-2*u+s)/2)]}function y(e,t){return[e*Math.cos(t),t]}function b(e,t){var n=Math.cos(t),r=a(l(n*Math.cos(e/=2)));return[2*n*Math.sin(e)*r,Math.sin(t)*r]}function x(e,t){var n=b(e,t);return[(n[0]+e/O)/2,(n[1]+t)/2]}e.geo.project=function(e,t){var r=t.stream;if(!r)throw new Error("not yet supported");return(e&&_.hasOwnProperty(e.type)?_[e.type]:n)(e,r)};var _={Feature:t,FeatureCollection:function(e,n){return{type:"FeatureCollection",features:e.features.map(function(e){return t(e,n)})}}},w=[],M=[],k={point:function(e,t){w.push([e,t])},result:function(){var e=w.length?w.length<2?{type:"Point",coordinates:w[0]}:{type:"MultiPoint",coordinates:w}:null;return w=[],e}},E={lineStart:r,point:function(e,t){w.push([e,t])},lineEnd:function(){w.length&&(M.push(w),w=[])},result:function(){var e=M.length?M.length<2?{type:"LineString",coordinates:M[0]}:{type:"MultiLineString",coordinates:M}:null;return M=[],e}},S={polygonStart:r,lineStart:r,point:function(e,t){w.push([e,t])},lineEnd:function(){var e=w.length;if(e){do{w.push(w[0].slice())}while(++e<4);M.push(w),w=[]}},polygonEnd:r,result:function(){if(!M.length)return null;var e=[],t=[];return M.forEach(function(n){i(n)?e.push([n]):t.push(n)}),t.forEach(function(t){var n=t[0];e.some(function(e){if(o(e[0],n))return e.push(t),!0})||e.push([t])}),M=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}},T={Point:k,MultiPoint:k,LineString:E,MultiLineString:E,Polygon:S,MultiPolygon:S,Sphere:S},A=1e-6,C=A*A,D=Math.PI,O=D/2,P=(Math.sqrt(D),D/180),L=180/D,I=e.geo.projection,N=e.geo.projectionMutator;e.geo.interrupt=function(t){function n(e,n){for(var r=n<0?-1:1,i=l[+(n<0)],o=0,a=i.length-1;o<a&&e>i[o][2][0];++o);var s=t(e-i[o][1][0],n);return s[0]+=t(i[o][1][0],r*n>r*i[o][0][1]?i[o][0][1]:n)[0],s}function r(){s=l.map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],o=t(e[1][0],e[0][1])[1],a=t(e[1][0],e[1][1])[1];return o>a&&(n=o,o=a,a=n),[[r,o],[i,a]]})})}function i(){for(var t=1e-6,n=[],r=0,i=l[0].length;r<i;++r){var a=l[0][r],s=180*a[0][0]/D,u=180*a[0][1]/D,c=180*a[1][1]/D,f=180*a[2][0]/D,h=180*a[2][1]/D;n.push(o([[s+t,u+t],[s+t,c-t],[f-t,c-t],[f-t,h+t]],30))}for(var r=l[1].length-1;r>=0;--r){var a=l[1][r],s=180*a[0][0]/D,u=180*a[0][1]/D,c=180*a[1][1]/D,f=180*a[2][0]/D,h=180*a[2][1]/D;n.push(o([[f-t,h-t],[f-t,c+t],[s+t,c+t],[s+t,u-t]],30))}return{type:"Polygon",coordinates:[e.merge(n)]}}function o(e,t){for(var n,r,i,o=-1,a=e.length,s=e[0],l=[];++o<a;){n=e[o],r=(n[0]-s[0])/t,i=(n[1]-s[1])/t;for(var u=0;u<t;++u)l.push([s[0]+u*r,s[1]+u*i]);s=n}return l.push(n),l}function a(e,t){return Math.abs(e[0]-t[0])<A&&Math.abs(e[1]-t[1])<A}var s,l=[[[[-D,0],[0,O],[D,0]]],[[[-D,0],[0,-O],[D,0]]]];t.invert&&(n.invert=function(e,r){for(var i=s[+(r<0)],o=l[+(r<0)],u=0,c=i.length;u<c;++u){var f=i[u];if(f[0][0]<=e&&e<f[1][0]&&f[0][1]<=r&&r<f[1][1]){var h=t.invert(e-t(o[u][1][0],0)[0],r);return h[0]+=o[u][1][0],a(n(h[0],h[1]),[e,r])?h:null}}});var u=e.geo.projection(n),c=u.stream;return u.stream=function(t){var n=u.rotate(),r=c(t),o=(u.rotate([0,0]),c(t));return u.rotate(n),r.sphere=function(){e.geo.stream(i(),o)},r},u.lobes=function(e){return arguments.length?(l=e.map(function(e){return e.map(function(e){return[[e[0][0]*D/180,e[0][1]*D/180],[e[1][0]*D/180,e[1][1]*D/180],[e[2][0]*D/180,e[2][1]*D/180]]})}),r(),u):l.map(function(e){return e.map(function(e){return[[180*e[0][0]/D,180*e[0][1]/D],[180*e[1][0]/D,180*e[1][1]/D],[180*e[2][0]/D,180*e[2][1]/D]]})})},u},u.invert=function(e,t){var n=.5*t*Math.sqrt((4+D)/D),r=s(n),i=Math.cos(r);return[e/(2/Math.sqrt(D*(4+D))*(1+i)),s((r+n*(i+2))/(2+O))]},(e.geo.eckert4=function(){return I(u)}).raw=u;var R=e.geo.azimuthalEqualArea.raw;h.invert=function(e,t){var n=2*s(t/2);return[e*Math.cos(n/2)/Math.cos(n),n]},(e.geo.hammer=f).raw=c,d.invert=function(e,t){return[2/3*D*e/Math.sqrt(D*D/3-t*t),t]},(e.geo.kavrayskiy7=function(){return I(d)}).raw=d,p.invert=function(e,t){return[e,2.5*Math.atan(Math.exp(.8*t))-.625*D]},(e.geo.miller=function(){return I(p)}).raw=p;var j=(m(D),function(e,t,n){function r(n,r){return[e*n*Math.cos(r=i(r)),t*Math.sin(r)]}var i=m(n);return r.invert=function(r,i){var o=s(i/t);return[r/(e*Math.cos(o)),s((2*o+Math.sin(2*o))/n)]},r}(Math.SQRT2/O,Math.SQRT2,D));(e.geo.mollweide=function(){return I(j)}).raw=j,v.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Math.abs(n)>A&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},(e.geo.naturalEarth=function(){return I(v)}).raw=v;var z=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];z.forEach(function(e){e[1]*=1.0144}),g.invert=function(e,t){var n=t/O,r=90*n,i=Math.min(18,Math.abs(r/5)),o=Math.max(0,Math.floor(i));do{var a=z[o][1],s=z[o+1][1],l=z[Math.min(19,o+2)][1],u=l-a,c=l-2*s+a,f=2*(Math.abs(n)-s)/u,h=c/u,d=f*(1-h*f*(1-2*h*f));if(d>=0||1===o){r=(t>=0?5:-5)*(d+i);var p,m=50;do{i=Math.min(18,Math.abs(r)/5),o=Math.floor(i),d=i-o,a=z[o][1],s=z[o+1][1],l=z[Math.min(19,o+2)][1],r-=(p=(t>=0?O:-O)*(s+d*(l-a)/2+d*d*(l-2*s+a)/2)-t)*L}while(Math.abs(p)>C&&--m>0);break}}while(--o>=0);var v=z[o][0],g=z[o+1][0],y=z[Math.min(19,o+2)][0];return[e/(g+d*(y-v)/2+d*d*(y-2*g+v)/2),r*P]},(e.geo.robinson=function(){return I(g)}).raw=g,y.invert=function(e,t){return[e/Math.cos(t),t]},(e.geo.sinusoidal=function(){return I(y)}).raw=y,b.invert=function(e,t){if(!(e*e+4*t*t>D*D+A)){var n=e,r=t,i=25;do{var o,a=Math.sin(n),s=Math.sin(n/2),u=Math.cos(n/2),c=Math.sin(r),f=Math.cos(r),h=Math.sin(2*r),d=c*c,p=f*f,m=s*s,v=1-p*u*u,g=v?l(f*u)*Math.sqrt(o=1/v):o=0,y=2*g*f*s-e,b=g*c-t,x=o*(p*m+g*f*u*d),_=o*(.5*a*h-2*g*c*s),w=.25*o*(h*s-g*c*p*a),M=o*(d*u+g*m*f),k=_*w-M*x;if(!k)break;var E=(b*_-y*M)/k,S=(y*w-b*x)/k;n-=E,r-=S}while((Math.abs(E)>A||Math.abs(S)>A)&&--i>0);return[n,r]}},(e.geo.aitoff=function(){return I(b)}).raw=b,x.invert=function(e,t){var n=e,r=t,i=25;do{var o,a=Math.cos(r),s=Math.sin(r),u=Math.sin(2*r),c=s*s,f=a*a,h=Math.sin(n),d=Math.cos(n/2),p=Math.sin(n/2),m=p*p,v=1-f*d*d,g=v?l(a*d)*Math.sqrt(o=1/v):o=0,y=.5*(2*g*a*p+n/O)-e,b=.5*(g*s+r)-t,x=.5*o*(f*m+g*a*d*c)+.5/O,_=o*(h*u/4-g*s*p),w=.125*o*(u*p-g*s*f*h),M=.5*o*(c*d+g*m*a)+.5,k=_*w-M*x,E=(b*_-y*M)/k,S=(y*w-b*x)/k;n-=E,r-=S}while((Math.abs(E)>A||Math.abs(S)>A)&&--i>0);return[n,r]},(e.geo.winkel3=function(){return I(x)}).raw=x}e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.projection,r=e.lonaxis,a=e.lataxis,l=e.domain,u=e.framewidth||0,c=t.w*(l.x[1]-l.x[0]),f=t.h*(l.y[1]-l.y[0]),h=r.range[0]+s,d=r.range[1]-s,p=a.range[0]+s,m=a.range[1]-s,v=r._fullRange[0]+s,g=r._fullRange[1]-s,y=a._fullRange[0]+s,b=a._fullRange[1]-s;n._translate0=[t.l+c/2,t.t+f/2];var x=d-h,_=m-p,w=[h+x/2,p+_/2],M=n._rotate;return n._center=[w[0]+M[0],w[1]+M[1]],function(t){function r(e){return Math.min(_*c/(e[1][0]-e[0][0]),_*f/(e[1][1]-e[0][1]))}var a,s,l,x,_=t.scale(),w=n._translate0,M=i(h,p,d,m),k=i(v,y,g,b);l=o(t,M),a=r(l),x=o(t,k),n._fullScale=r(x),t.scale(a),l=o(t,M),s=[w[0]-l[0][0]+u,w[1]-l[0][1]+u],n._translate=s,t.translate(s),l=o(t,M),e._isAlbersUsa||t.clipExtent(l),a=n.scale*a,n._scale=a,e._width=Math.round(l[1][0])+u,e._height=Math.round(l[1][1])+u,e._marginX=(c-Math.round(l[1][0]))/2,e._marginY=(f-Math.round(l[1][1]))/2}}function i(e,t,n,r){var i=(n-e)/4;return{type:"Polygon",coordinates:[[[e,t],[e,r],[e+i,r],[e+2*i,r],[e+3*i,r],[n,r],[n,t],[n-i,t],[n-2*i,t],[n-3*i,t],[e,t]]]}}function o(e,t){return a.geo.path().projection(e).bounds(t)}var a=n(2),s=n(100).clipPad;e.exports=r},function(e,t,n){"use strict";function r(e,t){return(t._isScoped?o:t._clipAngle?s:a)(e,t.projection)}function i(e,t){var n=t._fullScale;return _.behavior.zoom().translate(e.translate()).scale(e.scale()).scaleExtent([.5*n,100*n])}function o(e,t){function n(){_.select(this).style(k)}function r(){a.scale(_.event.scale).translate(_.event.translate),e.render()}function o(){_.select(this).style(E)}var a=e.projection,s=i(a,t);return s.on("zoomstart",n).on("zoom",r).on("zoomend",o),s}function a(e,t){function n(e){return v.invert(e)}function r(e){var t=v(n(e));return Math.abs(t[0]-e[0])>y||Math.abs(t[1]-e[1])>y}function o(){_.select(this).style(k),l=_.mouse(this),u=v.rotate(),c=v.translate(),f=u,h=n(l)}function a(){if(d=_.mouse(this),r(l))return g.scale(v.scale()),void g.translate(v.translate());v.scale(_.event.scale),v.translate([c[0],_.event.translate[1]]),h?n(d)&&(m=n(d),p=[f[0]+(m[0]-h[0]),u[1],u[2]],v.rotate(p),f=p):(l=d,h=n(l)),e.render()}function s(){_.select(this).style(E)}var l,u,c,f,h,d,p,m,v=e.projection,g=i(v,t),y=2;return g.on("zoomstart",o).on("zoom",a).on("zoomend",s),g}function s(e,t){function n(e){g++||e({type:"zoomstart"})}function r(e){e({type:"zoom"})}function o(e){--g||e({type:"zoomend"})}var a,s=e.projection,d={r:s.rotate(),k:s.scale()},p=i(s,t),m=x(p,"zoomstart","zoom","zoomend"),g=0,y=p.on;return p.on("zoomstart",function(){_.select(this).style(k);var e=_.mouse(this),t=s.rotate(),i=t,o=s.translate(),g=u(t);a=l(s,e),y.call(p,"zoom",function(){var n=_.mouse(this);if(s.scale(d.k=_.event.scale),a){if(l(s,n)){s.rotate(t).translate(o);var u=l(s,n),p=f(a,u),y=v(c(g,p)),b=d.r=h(y,a,i);isFinite(b[0])&&isFinite(b[1])&&isFinite(b[2])||(b=i),s.rotate(b),i=b}}else e=n,a=l(s,e);r(m.of(this,arguments))}),n(m.of(this,arguments))}).on("zoomend",function(){_.select(this).style(E),y.call(p,"zoom",null),o(m.of(this,arguments))}).on("zoom.redraw",function(){e.render()}),_.rebind(p,m,"on")}function l(e,t){var n=e.invert(t);return n&&isFinite(n[0])&&isFinite(n[1])&&g(n)}function u(e){var t=.5*e[0]*w,n=.5*e[1]*w,r=.5*e[2]*w,i=Math.sin(t),o=Math.cos(t),a=Math.sin(n),s=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return[o*s*u+i*a*l,i*s*u-o*a*l,o*a*u+i*s*l,o*s*l-i*a*u]}function c(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],l=t[2],u=t[3];return[n*a-r*s-i*l-o*u,n*s+r*a+i*u-o*l,n*l-r*u+i*a+o*s,n*u+r*l-i*s+o*a]}function f(e,t){if(e&&t){var n=b(e,t),r=Math.sqrt(y(n,n)),i=.5*Math.acos(Math.max(-1,Math.min(1,y(e,t)))),o=Math.sin(i)/r;return r&&[Math.cos(i),n[2]*o,-n[1]*o,n[0]*o]}}function h(e,t,n){var r=m(t,2,e[0]);r=m(r,1,e[1]),r=m(r,0,e[2]-n[2]);var i,o,a=t[0],s=t[1],l=t[2],u=r[0],c=r[1],f=r[2],h=Math.atan2(s,a)*M,p=Math.sqrt(a*a+s*s);Math.abs(c)>p?(o=(c>0?90:-90)-h,i=0):(o=Math.asin(c/p)*M-h,i=Math.sqrt(p*p-c*c));var v=180-o-2*h,g=(Math.atan2(f,u)-Math.atan2(l,i))*M,y=(Math.atan2(f,u)-Math.atan2(l,-i))*M;return d(n[0],n[1],o,g)<=d(n[0],n[1],v,y)?[o,g,n[2]]:[v,y,n[2]]}function d(e,t,n,r){var i=p(n-e),o=p(r-t);return Math.sqrt(i*i+o*o)}function p(e){return(e%360+540)%360-180}function m(e,t,n){var r=n*w,i=e.slice(),o=0===t?1:0,a=2===t?1:2,s=Math.cos(r),l=Math.sin(r);return i[o]=e[o]*s-e[a]*l,i[a]=e[a]*s+e[o]*l,i}function v(e){return[Math.atan2(2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[1]*e[1]+e[2]*e[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(e[0]*e[2]-e[3]*e[1]))))*M,Math.atan2(2*(e[0]*e[3]+e[1]*e[2]),1-2*(e[2]*e[2]+e[3]*e[3]))*M]}function g(e){var t=e[0]*w,n=e[1]*w,r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function y(e,t){for(var n=0,r=0,i=e.length;r<i;++r)n+=e[r]*t[r];return n}function b(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function x(e){for(var t=0,n=arguments.length,r=[];++t<n;)r.push(arguments[t]);var i=_.dispatch.apply(null,r);return i.of=function(t,n){return function(r){var o;try{o=r.sourceEvent=_.event,r.target=e,_.event=r,i[r.type].apply(t,n)}finally{_.event=o}}},i}var _=n(2),w=Math.PI/180,M=180/Math.PI,k={cursor:"pointer"},E={cursor:"auto"};e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.projection,r=e.zoom;return function(){e.makeProjection(t),e.makePath(),r.scale(n.scale()),r.translate(n.translate()),e.render()}}},function(e,t,n){"use strict";function r(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function i(e){function t(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function n(){for(var t=e.graphDiv._fullLayout._axisConstraintGroups,n=e.xaxis._id,r=e.yaxis._id,i=0;i<t.length;i++)if(-1!==t[i][n]){if(-1!==t[i][r])return!0;break}return!1}var i=e.mouseContainer,l=e.glplot,u=new r(i,l);return u.mouseListener=o(i,function(r,i,o){function a(t,n,r){var i=Math.min(n,r),o=Math.max(n,r);i!==o?(h[t]=i,h[t+2]=o,u.dataBox=h,e.setRanges(h)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}var c,f,h=e.calcDataBox(),d=l.viewBox,p=u.lastPos[0],m=u.lastPos[1],v=s.MINDRAG*l.pixelRatio,g=s.MINZOOM*l.pixelRatio;switch(i*=l.pixelRatio,o*=l.pixelRatio,o=d[3]-d[1]-o,e.fullLayout.dragmode){case"zoom":if(r){var y=i/(d[2]-d[0])*(h[2]-h[0])+h[0],b=o/(d[3]-d[1])*(h[3]-h[1])+h[1];u.boxInited||(u.boxStart[0]=y,u.boxStart[1]=b,u.dragStart[0]=i,u.dragStart[1]=o),u.boxEnd[0]=y,u.boxEnd[1]=b,u.boxInited=!0,u.boxEnabled||u.boxStart[0]===u.boxEnd[0]&&u.boxStart[1]===u.boxEnd[1]||(u.boxEnabled=!0);var x=Math.abs(u.dragStart[0]-i)<g,_=Math.abs(u.dragStart[1]-o)<g;if(!n()||x&&_)x&&(u.boxEnd[0]=u.boxStart[0]),_&&(u.boxEnd[1]=u.boxStart[1]);else{c=u.boxEnd[0]-u.boxStart[0],f=u.boxEnd[1]-u.boxStart[1];var w=(h[3]-h[1])/(h[2]-h[0]);Math.abs(c*w)>Math.abs(f)?(u.boxEnd[1]=u.boxStart[1]+Math.abs(c)*w*(Math.sign(f)||1),u.boxEnd[1]<h[1]?(u.boxEnd[1]=h[1],u.boxEnd[0]=u.boxStart[0]+(h[1]-u.boxStart[1])/Math.abs(w)):u.boxEnd[1]>h[3]&&(u.boxEnd[1]=h[3],u.boxEnd[0]=u.boxStart[0]+(h[3]-u.boxStart[1])/Math.abs(w))):(u.boxEnd[0]=u.boxStart[0]+Math.abs(f)/w*(Math.sign(c)||1),u.boxEnd[0]<h[0]?(u.boxEnd[0]=h[0],u.boxEnd[1]=u.boxStart[1]+(h[0]-u.boxStart[0])*Math.abs(w)):u.boxEnd[0]>h[2]&&(u.boxEnd[0]=h[2],u.boxEnd[1]=u.boxStart[1]+(h[2]-u.boxStart[0])*Math.abs(w)))}}else u.boxEnabled&&(c=u.boxStart[0]!==u.boxEnd[0],f=u.boxStart[1]!==u.boxEnd[1],c||f?(c&&(a(0,u.boxStart[0],u.boxEnd[0]),e.xaxis.autorange=!1),f&&(a(1,u.boxStart[1],u.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),u.boxEnabled=!1,u.boxInited=!1);break;case"pan":u.boxEnabled=!1,u.boxInited=!1,r?(u.panning||(u.dragStart[0]=i,u.dragStart[1]=o),Math.abs(u.dragStart[0]-i)<v&&(i=u.dragStart[0]),Math.abs(u.dragStart[1]-o)<v&&(o=u.dragStart[1]),c=(p-i)*(h[2]-h[0])/(l.viewBox[2]-l.viewBox[0]),f=(m-o)*(h[3]-h[1])/(l.viewBox[3]-l.viewBox[1]),h[0]+=c,h[2]+=c,h[1]+=f,h[3]+=f,e.setRanges(h),u.panning=!0,u.lastInputTime=Date.now(),t(),e.cameraChanged(),e.handleAnnotations()):u.panning&&(u.panning=!1,e.relayoutCallback())}u.lastPos[0]=i,u.lastPos[1]=o}),u.wheelListener=a(i,function(n,r){var i=e.calcDataBox(),o=l.viewBox,a=u.lastPos[0],s=u.lastPos[1];switch(e.fullLayout.dragmode){case"zoom":break;case"pan":var c=Math.exp(.1*r/(o[3]-o[1])),f=a/(o[2]-o[0])*(i[2]-i[0])+i[0],h=s/(o[3]-o[1])*(i[3]-i[1])+i[1];i[0]=(i[0]-f)*c+f,i[2]=(i[2]-f)*c+f,i[1]=(i[1]-h)*c+h,i[3]=(i[3]-h)*c+h,e.setRanges(i),u.lastInputTime=Date.now(),t(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback()}return!0}),u}var o=n(218),a=n(300),s=n(33);e.exports=i},function(e,t,n){"use strict";function r(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}function i(e){return new r(e)}var o=n(16),a=n(5),s=n(223),l=n(68),u=r.prototype,c=["xaxis","yaxis"];u.merge=function(e){this.titleEnable=!1,this.backgroundColor=l(e.plot_bgcolor);var t,n,r,i,o,a,u,f,h,d,p;for(d=0;d<2;++d){for(t=c[d],n=e[this.scene[t]._name],r=/Click to enter .+ title/.test(n.title)?"":n.title,p=0;p<=2;p+=2)this.labelEnable[d+p]=!1,this.labels[d+p]=s(r),this.labelColor[d+p]=l(n.titlefont.color),this.labelFont[d+p]=n.titlefont.family,this.labelSize[d+p]=n.titlefont.size,this.labelPad[d+p]=this.getLabelPad(t,n),this.tickEnable[d+p]=!1,this.tickColor[d+p]=l((n.tickfont||{}).color),this.tickAngle[d+p]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[d+p]=this.getTickPad(n),this.tickMarkLength[d+p]=0,this.tickMarkWidth[d+p]=n.tickwidth||0,this.tickMarkColor[d+p]=l(n.tickcolor),this.borderLineEnable[d+p]=!1,this.borderLineColor[d+p]=l(n.linecolor),this.borderLineWidth[d+p]=n.linewidth||0;u=this.hasSharedAxis(n),o=this.hasAxisInDfltPos(t,n)&&!u,a=this.hasAxisInAltrPos(t,n)&&!u,i=n.mirror||!1,f=u?-1!==String(i).indexOf("all"):!!i,h=u?"allticks"===i:-1!==String(i).indexOf("ticks"),o?this.labelEnable[d]=!0:a&&(this.labelEnable[d+2]=!0),o?this.tickEnable[d]=n.showticklabels:a&&(this.tickEnable[d+2]=n.showticklabels),(o||f)&&(this.borderLineEnable[d]=n.showline),(a||f)&&(this.borderLineEnable[d+2]=n.showline),(o||h)&&(this.tickMarkLength[d]=this.getTickMarkLength(n)),(a||h)&&(this.tickMarkLength[d+2]=this.getTickMarkLength(n)),this.gridLineEnable[d]=n.showgrid,this.gridLineColor[d]=l(n.gridcolor),this.gridLineWidth[d]=n.gridwidth,this.zeroLineEnable[d]=n.zeroline,this.zeroLineColor[d]=l(n.zerolinecolor),this.zeroLineWidth[d]=n.zerolinewidth}},u.hasSharedAxis=function(e){var t=this.scene,n=o.getSubplotIds(t.fullLayout,"gl2d");return 0!==a.findSubplotsWithAxis(n,e).indexOf(t.id)},u.hasAxisInDfltPos=function(e,t){var n=t.side;return"xaxis"===e?"bottom"===n:"yaxis"===e?"left"===n:void 0},u.hasAxisInAltrPos=function(e,t){var n=t.side;return"xaxis"===e?"top"===n:"yaxis"===e?"right"===n:void 0},u.getLabelPad=function(e,t){var n=t.titlefont.size,r=t.showticklabels;return"xaxis"===e?"top"===t.side?n*(1.5+(r?1:0))-10:n*(1.5+(r?.5:0))-10:"yaxis"===e?"right"===t.side?10+n*(1.5+(r?1:.5)):10+n*(1.5+(r?.5:0)):void 0},u.getTickPad=function(e){return"outside"===e.ticks?10+e.ticklen:15},u.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return"inside"===e.ticks?-t:t},e.exports=i},function(e,t,n){"use strict";function r(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.fullData=null,this.updateRefs(t),this.makeFramework(),this.glplotOptions=p(this),this.glplotOptions.merge(t),this.glplot=c(this.glplotOptions),this.camera=m(this),this.traces={},this.spikes=f(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.bounds=[1/0,1/0,-1/0,-1/0],this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw()}function i(e,t){for(var n=0;n<2;++n){var r=e[n],i=t[n];if(r.length!==i.length)return!0;for(var o=0;o<r.length;++o)if(r[o].x!==i[o].x)return!0}return!1}var o,a,s=n(6),l=n(5),u=n(40),c=n(1002),f=n(1038),h=n(1033),d=n(676),p=n(1400),m=n(1399),v=n(223),g=n(564),y=n(569),b=["xaxis","yaxis"];e.exports=r;var x=r.prototype;x.makeFramework=function(){if(this.staticPlot){if(!a&&(o=document.createElement("canvas"),!(a=d({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=a}else{var e=document.createElement("canvas"),t=d({canvas:e,premultipliedAlpha:!0});t||g(this),this.canvas=e,this.gl=t}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n),n.className+="user-select-none";var r=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.position="absolute",r.style.top=r.style.left="0px",r.style.width=r.style.height="100%",r.style["z-index"]=20,r.style["pointer-events"]="none";var i=this.mouseContainer=document.createElement("div");i.style.position="absolute";var s=this.container;s.appendChild(n),s.appendChild(r),s.appendChild(i)},x.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas),this.glplot.setDirty(),this.glplot.draw();var t=this.glplot.gl,n=t.drawingBufferWidth,r=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new Uint8Array(n*r*4);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,i);for(var a=0,s=r-1;a<s;++a,--s)for(var l=0;l<n;++l)for(var u=0;u<4;++u){var c=i[4*(n*a+l)+u];i[4*(n*a+l)+u]=i[4*(n*s+l)+u],i[4*(n*s+l)+u]=c}var f=document.createElement("canvas");f.width=n,f.height=r;var h=f.getContext("2d"),d=h.createImageData(n,r);d.data.set(i),h.putImageData(d,0,0);var p;switch(e){case"jpeg":p=f.toDataURL("image/jpeg");break;case"webp":p=f.toDataURL("image/webp");break;default:p=f.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),p},x.updateSize=function(e){e||(e=this.canvas);var t=this.pixelRatio,n=this.fullLayout,r=n.width,i=n.height,o=0|Math.ceil(t*r),a=0|Math.ceil(t*i);return e.width===o&&e.height===a||(e.width=o,e.height=a),this.redraw&&this.redraw(),e},x.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale(),this.xaxis._length=this.glplot.viewBox[2]-this.glplot.viewBox[0],this.yaxis._length=this.glplot.viewBox[3]-this.glplot.viewBox[1];for(var e=[l.calcTicks(this.xaxis),l.calcTicks(this.yaxis)],t=0;t<2;++t)for(var n=0;n<e[t].length;++n)e[t][n].text=v(e[t][n].text+"");return e},x.updateRefs=function(e){this.fullLayout=e;var t=l.subplotMatch,n="xaxis"+this.id.match(t)[1],r="yaxis"+this.id.match(t)[2];this.xaxis=this.fullLayout[n],this.yaxis=this.fullLayout[r]},x.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,n=this.yaxis,r=e.layout;r.xaxis.autorange=t.autorange,r.xaxis.range=t.range.slice(0),r.yaxis.autorange=n.autorange,r.yaxis.range=n.range.slice(0);var i={lastInputTime:this.camera.lastInputTime};i[t._name]=t.range.slice(0),i[n._name]=n.range.slice(0),e.emit("plotly_relayout",i)},x.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks();i(t,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},x.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,n=0;n<t.length;n++){var r=t[n];r.xref===this.xaxis._id&&r.yref===this.yaxis._id&&s.getComponentMethod("annotations","drawOne")(e,n)}},x.destroy=function(){var e=this.traces;e&&Object.keys(e).map(function(t){e[t].dispose(),delete e[t]}),this.glplot.dispose(),this.staticPlot||this.container.removeChild(this.canvas),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0},x.plot=function(e,t,n){var r=this.glplot;this.updateRefs(n),this.updateTraces(e,t);var i=n.width,o=n.height;this.updateSize(this.canvas);var a=this.glplotOptions;a.merge(n),a.screenBox=[0,0,i,o];var s=n._size,u=this.xaxis.domain,c=this.yaxis.domain;a.viewBox=[s.l+u[0]*s.w,s.b+c[0]*s.h,i-s.r-(1-u[1])*s.w,o-s.t-(1-c[1])*s.h],this.mouseContainer.style.width=s.w*(u[1]-u[0])+"px",this.mouseContainer.style.height=s.h*(c[1]-c[0])+"px",this.mouseContainer.height=s.h*(c[1]-c[0]),this.mouseContainer.style.left=s.l+u[0]*s.w+"px",this.mouseContainer.style.top=s.t+(1-c[1])*s.h+"px";var f=this.bounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;var h,d,p=Object.keys(this.traces);for(d=0;d<p.length;++d)for(var m=this.traces[p[d]],v=0;v<2;++v)f[v]=Math.min(f[v],m.bounds[v]),f[v+2]=Math.max(f[v+2],m.bounds[v+2]);for(d=0;d<2;++d)f[d]>f[d+2]&&(f[d]=-1,f[d+2]=1),h=this[b[d]],h._length=a.viewBox[d+2]-a.viewBox[d],l.doAutoRange(h),h.setScale();var g={_axisConstraintGroups:this.graphDiv._fullLayout._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis};y({_fullLayout:g}),a.ticks=this.computeTickMarks(),a.dataBox=this.calcDataBox(),a.merge(n),r.update(a),this.glplot.draw()},x.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,n=e.range,r=t.range,i=e.r2l,o=t.r2l;return[i(n[0]),o(r[0]),i(n[1]),o(r[1])]},x.setRanges=function(e){var t=this.xaxis,n=this.yaxis,r=t.l2r,i=n.l2r;t.range=[r(e[0]),r(e[2])],n.range=[i(e[1]),i(e[3])]},x.updateTraces=function(e,t){var n,r,i,o=Object.keys(this.traces);this.fullData=e;e:for(n=0;n<o.length;n++){var a=o[n],s=this.traces[a];for(r=0;r<e.length;r++)if(i=e[r],i.uid===a&&i.type===s.type)continue e;s.dispose(),delete this.traces[a]}for(n=0;n<e.length;n++){i=e[n];var l=t[n],u=this.traces[i.uid];u?u.update(i,l):(u=i._module.plot(this,i,l),this.traces[i.uid]=u)}this.glplot.objects.sort(function(e,t){return e._trace.index-t._trace.index})},x.emitPointAction=function(e,t){for(var n,r=e.trace.uid,i=0;i<this.fullData.length;i++)this.fullData[i].uid===r&&(n=this.fullData[i]);this.graphDiv.emit(t,{points:[{x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:n.index,pointNumber:e.pointIndex,data:n._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis}]})},x.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,n=t.mouseListener,r=1===this.lastButtonState&&0===n.buttons,i=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var o,a=n.x*e.pixelRatio,s=this.canvas.height-e.pixelRatio*n.y;if(t.boxEnabled&&"zoom"===i.dragmode){this.selectBox.enabled=!0;for(var l=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],c=0;c<2;c++)t.boxStart[c]===t.boxEnd[c]&&(l[c]=e.dataBox[c],l[c+2]=e.dataBox[c+2]);e.setDirty()}else if(!t.panning){this.selectBox.enabled=!1;var f=i._size,h=this.xaxis.domain,d=this.yaxis.domain;o=e.pick(a/e.pixelRatio+f.l+h[0]*f.w,s/e.pixelRatio-(f.t+(1-d[1])*f.h));var p=o&&o.object._trace.handlePick(o);if(p&&r&&this.emitPointAction(p,"plotly_click"),o&&"skip"!==o.object._trace.hoverinfo&&i.hovermode&&p&&(!this.lastPickResult||this.lastPickResult.traceUid!==p.trace.uid||this.lastPickResult.dataCoord[0]!==p.dataCoord[0]||this.lastPickResult.dataCoord[1]!==p.dataCoord[1])){var m=p;this.lastPickResult={traceUid:p.trace?p.trace.uid:null,dataCoord:p.dataCoord.slice()},this.spikes.update({center:o.dataCoord}),m.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(o.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(o.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(p,"plotly_hover");var v=m.hoverinfo;if("all"!==v){var g=v.split("+");-1===g.indexOf("x")&&(m.traceCoord[0]=void 0),-1===g.indexOf("y")&&(m.traceCoord[1]=void 0),-1===g.indexOf("z")&&(m.traceCoord[2]=void 0),-1===g.indexOf("text")&&(m.textLabel=void 0),-1===g.indexOf("name")&&(m.name=void 0)}u.loneHover({x:m.screenCoord[0],y:m.screenCoord[1],xLabel:this.hoverFormatter("xaxis",m.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",m.traceCoord[1]),zLabel:m.traceCoord[2],text:m.textLabel,name:m.name,color:m.color},{container:this.svgContainer})}}!o&&this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),u.loneUnhover(this.svgContainer)),e.draw()}},x.hoverFormatter=function(e,t){if(void 0!==t){var n=this[e];return l.tickText(n,n.c2l(t),"hover").text}}},function(e,t,n){"use strict";function r(e,t){e=e||document.body,t=t||{};var n=[.01,1/0];"distanceLimits"in t&&(n[0]=t.distanceLimits[0],n[1]=t.distanceLimits[1]),"zoomMin"in t&&(n[0]=t.zoomMin),"zoomMax"in t&&(n[1]=t.zoomMax);var r=o({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:n}),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0,c=e.clientWidth,f=e.clientHeight,h={keyBindingMode:"rotate",view:r,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:r.modes,tick:function(){var t=i(),n=this.delay,o=t-2*n;r.idle(t-n),r.recalcMatrix(o),r.flush(t-(100+2*n));for(var a=!0,s=r.computedMatrix,h=0;h<16;++h)a=a&&l[h]===s[h],l[h]=s[h];var d=e.clientWidth===c&&e.clientHeight===f;return c=e.clientWidth,f=e.clientHeight,a?!d:(u=Math.exp(r.computedRadius[0]),!0)},lookAt:function(e,t,n){r.lookAt(r.lastT(),e,t,n)},rotate:function(e,t,n){r.rotate(r.lastT(),e,t,n)},pan:function(e,t,n){r.pan(r.lastT(),e,t,n)},translate:function(e,t,n){r.translate(r.lastT(),e,t,n)}};Object.defineProperties(h,{matrix:{get:function(){return r.computedMatrix},set:function(e){return r.setMatrix(r.lastT(),e),r.computedMatrix},enumerable:!0},mode:{get:function(){return r.getMode()},set:function(e){var t=r.computedUp.slice(),n=r.computedEye.slice(),o=r.computedCenter.slice();if(r.setMode(e),"turntable"===e){var a=i();r._active.lookAt(a,n,o,t),r._active.lookAt(a+500,n,o,[0,0,1]),r._active.flush(a)}return r.getMode()},enumerable:!0},center:{get:function(){return r.computedCenter},set:function(e){return r.lookAt(r.lastT(),null,e),r.computedCenter},enumerable:!0},eye:{get:function(){return r.computedEye},set:function(e){return r.lookAt(r.lastT(),e),r.computedEye},enumerable:!0},up:{get:function(){return r.computedUp},set:function(e){return r.lookAt(r.lastT(),null,null,e),r.computedUp},enumerable:!0},distance:{get:function(){return u},set:function(e){return r.setDistance(r.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return r.getDistanceLimits(n)},set:function(e){return r.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",function(e){return e.preventDefault(),!1});var d=0,p=0;return a(e,function(t,n,o,a){var s=h.keyBindingMode;if(!1!==s){var l="rotate"===s,c="pan"===s,f="zoom"===s,m=!!a.control,v=!!a.alt,g=!!a.shift,y=!!(1&t),b=!!(2&t),x=!!(4&t),_=1/e.clientHeight,w=_*(n-d),M=_*(o-p),k=h.flipX?1:-1,E=h.flipY?1:-1,S=i(),T=Math.PI*h.rotateSpeed;if((l&&y&&!m&&!v&&!g||y&&!m&&!v&&g)&&r.rotate(S,k*T*w,-E*T*M,0),(c&&y&&!m&&!v&&!g||b||y&&m&&!v&&!g)&&r.pan(S,-h.translateSpeed*w*u,h.translateSpeed*M*u,0),f&&y&&!m&&!v&&!g||x||y&&!m&&v&&!g){var A=-h.zoomSpeed*M/window.innerHeight*(S-r.lastT())*100;r.pan(S,0,0,u*(Math.exp(A)-1))}return d=n,p=o,!0}}),s(e,function(e,t){if(!1!==h.keyBindingMode){var n=h.flipX?1:-1,o=h.flipY?1:-1,a=i();if(Math.abs(e)>Math.abs(t))r.rotate(a,0,0,-e*n*Math.PI*h.rotateSpeed/window.innerWidth);else{var s=-h.zoomSpeed*o*t/window.innerHeight*(a-r.lastT())/100;r.pan(a,0,0,u*(Math.exp(s)-1))}}},!0),h}e.exports=r;var i=n(661),o=n(432),a=n(218),s=n(300)},function(e,t,n){"use strict";e.exports={scene:{valType:"subplotid",role:"info",dflt:"scene",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}}},function(e,t,n){"use strict";var r=n(38).mix,i=n(0),o=n(579),a=n(574),s=n(320),l=["xaxis","yaxis","zaxis"];e.exports=function(e,t,n){function u(e,t){return i.coerce(c,f,o,e,t)}for(var c,f,h=0;h<l.length;h++){var d=l[h];c=e[d]||{},f=t[d]={_id:d[0]+n.scene,_name:d},a(c,f,u,n.data),s(c,f,u,{font:n.font,letter:d[0],data:n.data,showGrid:!0,bgColor:n.bgColor,calendar:n.calendar}),u("gridcolor",r(f.color,n.bgColor,13600/187).toRgbString()),u("title",d[0]),f.setScale=i.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",f.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},function(e,t,n){"use strict";function r(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}function i(e){var t=new r;return t.merge(e),t}var o=n(223),a=n(68),s=["xaxis","yaxis","zaxis"];r.prototype.merge=function(e){for(var t=this,n=0;n<3;++n){var r=e[s[n]];r.visible?(t.labels[n]=o(r.title),"titlefont"in r&&(r.titlefont.color&&(t.labelColor[n]=a(r.titlefont.color)),r.titlefont.family&&(t.labelFont[n]=r.titlefont.family),r.titlefont.size&&(t.labelSize[n]=r.titlefont.size)),"showline"in r&&(t.lineEnable[n]=r.showline),"linecolor"in r&&(t.lineColor[n]=a(r.linecolor)),"linewidth"in r&&(t.lineWidth[n]=r.linewidth),"showgrid"in r&&(t.gridEnable[n]=r.showgrid),"gridcolor"in r&&(t.gridColor[n]=a(r.gridcolor)),"gridwidth"in r&&(t.gridWidth[n]=r.gridwidth),"log"===r.type?t.zeroEnable[n]=!1:"zeroline"in r&&(t.zeroEnable[n]=r.zeroline),"zerolinecolor"in r&&(t.zeroLineColor[n]=a(r.zerolinecolor)),"zerolinewidth"in r&&(t.zeroLineWidth[n]=r.zerolinewidth),"ticks"in r&&r.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in r&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=r.ticklen),"tickcolor"in r&&(t.lineTickColor[n]=a(r.tickcolor)),"tickwidth"in r&&(t.lineTickWidth[n]=r.tickwidth),"tickangle"in r&&(t.tickAngle[n]="auto"===r.tickangle?0:Math.PI*-r.tickangle/180),"showticklabels"in r&&(t.tickEnable[n]=r.showticklabels),"tickfont"in r&&(r.tickfont.color&&(t.tickColor[n]=a(r.tickfont.color)),r.tickfont.family&&(t.tickFont[n]=r.tickfont.family),r.tickfont.size&&(t.tickSize[n]=r.tickfont.size)),"mirror"in r?-1!==["ticks","all","allticks"].indexOf(r.mirror)?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):!0===r.mirror?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in r&&!1!==r.showbackground?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=a(r.backgroundcolor)):t.backgroundEnable[n]=!1):(t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1)}},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=n("bgcolor"),a=o.combine(i,r.paper_bgcolor),u=Object.keys(s.camera),c=0;c<u.length;c++)n("camera."+u[c]+".x"),n("camera."+u[c]+".y"),n("camera."+u[c]+".z");var f=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),h=f?"manual":"auto",d=n("aspectmode",h);f||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},"manual"===d&&(t.aspectmode="auto")),l(e,t,{font:r.font,scene:r.id,data:r.fullData,bgColor:a,calendar:r.calendar}),n("dragmode",r.getDfltFromLayout("dragmode")),n("hovermode",r.getDfltFromLayout("hovermode"))}var i=n(0),o=n(3),a=n(229),s=n(580),l=n(1404);e.exports=function(e,t,n){function o(t){if(!l){return i.validate(e[t],s[t])?e[t]:void 0}}var l=t._basePlotModules.length>1;a(e,t,n,{type:"gl3d",attributes:s,handleDefaults:r,font:t.font,fullData:n,getDfltFromLayout:o,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},function(e,t,n){"use strict";function r(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}function i(e){var t=new r;return t.merge(e),t}var o=n(68),a=["xaxis","yaxis","zaxis"];r.prototype.merge=function(e){for(var t=0;t<3;++t){var n=e[a[t]];n.visible?(this.enabled[t]=n.showspikes,this.colors[t]=o(n.spikecolor),this.drawSides[t]=n.spikesides,this.lineWidth[t]=n.spikethickness):(this.enabled[t]=!1,this.drawSides[t]=!1)}},e.exports=i},function(e,t,n){"use strict";function r(e){for(var t=new Array(3),n=0;n<3;++n){for(var r=e[n],i=new Array(r.length),o=0;o<r.length;++o)i[o]=r[o].x;t[n]=i}return t}function i(e){for(var t=e.axesOptions,n=e.glplot.axesPixels,i=e.fullSceneLayout,c=[[],[],[]],f=0;f<3;++f){var h=i[l[f]];if(h._length=(n[f].hi-n[f].lo)*n[f].pixelsPerDataUnit/e.dataScale[f],Math.abs(h._length)===1/0)c[f]=[];else{h.range[0]=n[f].lo/e.dataScale[f],h.range[1]=n[f].hi/e.dataScale[f],h._m=1/(e.dataScale[f]*n[f].pixelsPerDataUnit),h.range[0]===h.range[1]&&(h.range[0]-=1,h.range[1]+=1);var d=h.tickmode;if("auto"===h.tickmode){h.tickmode="linear";var p=h.nticks||a.constrain(h._length/40,4,9);o.autoTicks(h,Math.abs(h.range[1]-h.range[0])/p)}for(var m=o.calcTicks(h),v=0;v<m.length;++v)m[v].x=m[v].x*e.dataScale[f],m[v].text=s(m[v].text);c[f]=m,h.tickmode=d}}t.ticks=c;for(var f=0;f<3;++f){u[f]=.5*(e.glplot.bounds[0][f]+e.glplot.bounds[1][f]);for(var v=0;v<2;++v)t.bounds[v][f]=e.glplot.bounds[v][f]}e.contourLevels=r(c)}e.exports=i;var o=n(5),a=n(0),s=n(223),l=["xaxis","yaxis","zaxis"],u=[0,0,0]},function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}function i(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}e.exports=i},function(e,t,n){"use strict";function r(e){function t(t,n){var r=e.fullSceneLayout[t];return m.tickText(r,r.d2l(n),"hover").text}var n,r=e.svgContainer,i=e.container.getBoundingClientRect(),o=i.width,a=i.height;r.setAttributeNS(null,"viewBox","0 0 "+o+" "+a),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",a),M(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),l=null,u=e.glplot.selection,c=0;c<s.length;++c)n=e.traces[s[c]],"skip"!==n.data.hoverinfo&&n.handlePick(u)&&(l=n),n.setContourLevels&&n.setContourLevels();var f;if(null!==l){var h=x(e.glplot.cameraParams,u.dataCoordinate);n=l.data;var d=n.hoverinfo,p=t("xaxis",u.traceCoordinate[0]),g=t("yaxis",u.traceCoordinate[1]),y=t("zaxis",u.traceCoordinate[2]);if("all"!==d){var b=d.split("+");-1===b.indexOf("x")&&(p=void 0),-1===b.indexOf("y")&&(g=void 0),-1===b.indexOf("z")&&(y=void 0),-1===b.indexOf("text")&&(u.textLabel=void 0),-1===b.indexOf("name")&&(l.name=void 0)}e.fullSceneLayout.hovermode&&v.loneHover({x:(.5+.5*h[0]/h[3])*o,y:(.5-.5*h[1]/h[3])*a,xLabel:p,yLabel:g,zLabel:y,text:u.textLabel,name:l.name,color:l.color},{container:r});var _={points:[{x:p,y:g,z:y,data:n._input,fullData:n,curveNumber:n.index,pointNumber:u.data.index}]};u.buttons&&u.distance<5?e.graphDiv.emit("plotly_click",_):e.graphDiv.emit("plotly_hover",_),f=_}else v.loneUnhover(r),e.graphDiv.emit("plotly_unhover",f)}function i(e,t,n,i){var o={canvas:n,gl:i,container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1};if(e.staticMode){if(!f&&(c=document.createElement("canvas"),!(f=d({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");o.pixelRatio=e.pixelRatio,o.gl=f,o.canvas=c}try{e.glplot=h(o)}catch(t){y(e)}var a=function(e){if(!1!==e.fullSceneLayout.dragmode){var t={};t[e.id]=u(e.camera),e.saveCamera(e.graphDiv.layout),e.graphDiv.emit("plotly_relayout",t)}};if(e.glplot.canvas.addEventListener("mouseup",a.bind(null,e)),e.glplot.canvas.addEventListener("wheel",a.bind(null,e)),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(e){p.warn("Lost WebGL context."),e.preventDefault()}),!e.camera){var s=e.fullSceneLayout.camera;e.camera=b(e.container,{center:[s.center.x,s.center.y,s.center.z],eye:[s.eye.x,s.eye.y,s.eye.z],up:[s.up.x,s.up.y,s.up.z],zoomMin:.1,zoomMax:100,mode:"orbit"})}return e.glplot.camera=e.camera,e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=r.bind(null,e),e.traces={},!0}function o(e,t){var n=document.createElement("div"),r=e.container;this.graphDiv=e.graphDiv;var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.position="absolute",o.style.top=o.style.left="0px",o.style.width=o.style.height="100%",o.style["z-index"]=20,o.style["pointer-events"]="none",n.appendChild(o),this.svgContainer=o,n.id=e.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=t,this.id=e.id||"scene",this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=_(t[this.id]),this.spikeOptions=w(t[this.id]),this.container=n,this.staticMode=!!e.staticPlot,this.pixelRatio=e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],i(this,t)}function a(e,t,n,r,i){for(var o,a=0;a<t.length;++a)if(Array.isArray(t[a]))for(var s=0;s<t[a].length;++s)o=e.d2l(t[a][s],0,i),!isNaN(o)&&isFinite(o)&&(r[0][n]=Math.min(r[0][n],o),r[1][n]=Math.max(r[1][n],o));else o=e.d2l(t[a],0,i),!isNaN(o)&&isFinite(o)&&(r[0][n]=Math.min(r[0][n],o),r[1][n]=Math.max(r[1][n],o))}function s(e,t,n){var r=e.fullSceneLayout;a(r.xaxis,t.x,0,n,t.xcalendar),a(r.yaxis,t.y,1,n,t.ycalendar),a(r.zaxis,t.z,2,n,t.zcalendar)}function l(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function u(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]}}}var c,f,h=n(1004),d=n(676),p=n(0),m=n(5),v=n(40),g=n(68),y=n(564),b=n(1402),x=n(1409),_=n(1405),w=n(1407),M=n(1408),k=o.prototype;k.recoverContext=function(){function e(){return n.isContextLost()?void requestAnimationFrame(e):i(t,t.fullLayout,r,n)?void t.plot.apply(t,t.plotArgs):void p.error("Catastrophic and unrecoverable WebGL error. Context lost.")}var t=this,n=this.glplot.gl,r=this.glplot.canvas;this.glplot.dispose(),requestAnimationFrame(e)};var E=["xaxis","yaxis","zaxis"];k.plot=function(e,t,n){if(this.plotArgs=[e,t,n],!this.glplot.contextLost){var r,i,o,a,l,u,c=t[this.id],f=n[this.id];c.bgcolor?this.glplot.clearColor=g(c.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullLayout=t,this.fullSceneLayout=c,this.glplotLayout=c,this.axesOptions.merge(c),this.spikeOptions.merge(c),this.setCamera(c.camera),this.updateFx(c.dragmode,c.hovermode),this.glplot.update({}),this.setConvert(l),e?Array.isArray(e)||(e=[e]):e=[];var h=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<e.length;++o)r=e[o],!0===r.visible&&s(this,r,h);var d=[1,1,1];for(a=0;a<3;++a)h[0][a]>h[1][a]?d[a]=1:h[1][a]===h[0][a]?d[a]=1:d[a]=1/(h[1][a]-h[0][a]);for(this.dataScale=d,o=0;o<e.length;++o)r=e[o],!0===r.visible&&(i=this.traces[r.uid],i?i.update(r):(i=r._module.plot(this,r),this.traces[r.uid]=i),i.name=r.name);var p=Object.keys(this.traces);e:for(o=0;o<p.length;++o){for(a=0;a<e.length;++a)if(e[a].uid===p[o]&&!0===e[a].visible)continue e;i=this.traces[p[o]],i.dispose(),delete this.traces[p[o]]}this.glplot.objects.sort(function(e,t){return e._trace.data.index-t._trace.data.index});var m=[[0,0,0],[0,0,0]],v=[],y={};for(o=0;o<3;++o){if(l=c[E[o]],u=l.type,u in y?(y[u].acc*=d[o],y[u].count+=1):y[u]={acc:d[o],count:1},l.autorange){for(m[0][o]=1/0,m[1][o]=-1/0,a=0;a<this.glplot.objects.length;++a){var b=this.glplot.objects[a].bounds;m[0][o]=Math.min(m[0][o],b[0][o]/d[o]),m[1][o]=Math.max(m[1][o],b[1][o]/d[o])}if("rangemode"in l&&"tozero"===l.rangemode&&(m[0][o]=Math.min(m[0][o],0),m[1][o]=Math.max(m[1][o],0)),m[0][o]>m[1][o])m[0][o]=-1,m[1][o]=1;else{var x=m[1][o]-m[0][o];m[0][o]-=x/32,m[1][o]+=x/32}}else{var _=c[E[o]].range;m[0][o]=_[0],m[1][o]=_[1]}m[0][o]===m[1][o]&&(m[0][o]-=1,m[1][o]+=1),v[o]=m[1][o]-m[0][o],this.glplot.bounds[0][o]=m[0][o]*d[o],this.glplot.bounds[1][o]=m[1][o]*d[o]}var w=[1,1,1];for(o=0;o<3;++o){l=c[E[o]],u=l.type;var M=y[u];w[o]=Math.pow(M.acc,1/M.count)/d[o]}var k;if("auto"===c.aspectmode)k=Math.max.apply(null,w)/Math.min.apply(null,w)<=4?w:[1,1,1];else if("cube"===c.aspectmode)k=[1,1,1];else if("data"===c.aspectmode)k=w;else{if("manual"!==c.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var S=c.aspectratio;k=[S.x,S.y,S.z]}c.aspectratio.x=f.aspectratio.x=k[0],c.aspectratio.y=f.aspectratio.y=k[1],c.aspectratio.z=f.aspectratio.z=k[2],this.glplot.aspect=k;var T=c.domain||null,A=t._size||null;if(T&&A){var C=this.container.style;C.position="absolute",C.left=A.l+T.x[0]*A.w+"px",C.top=A.t+(1-T.y[1])*A.h+"px",C.width=A.w*(T.x[1]-T.x[0])+"px",C.height=A.h*(T.y[1]-T.y[0])+"px"}this.glplot.redraw()}},k.destroy=function(){this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null},k.getCamera=function(){return this.glplot.camera.view.recalcMatrix(this.camera.view.lastT()),u(this.glplot.camera)},k.setCamera=function(e){this.glplot.camera.lookAt.apply(this,l(e))},k.saveCamera=function(e){var t=this.getCamera(),n=p.nestedProperty(e,this.id+".camera"),r=n.get(),i=!1;if(void 0===r)i=!0;else for(var o=0;o<3;o++)for(var a=0;a<3;a++)if(!function(e,t,n,r){var i=["up","center","eye"],o=["x","y","z"];return t[i[n]]&&e[i[n]][o[r]]===t[i[n]][o[r]]}(t,r,o,a)){i=!0;break}return i&&n.set(t),i},k.updateFx=function(e,t){var n=this.camera;n&&("orbit"===e?(n.mode="orbit",n.keyBindingMode="rotate"):"turntable"===e?(n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate"):n.keyBindingMode=e),this.fullSceneLayout.hovermode=t},k.toImage=function(e){e||(e="png"),this.staticMode&&this.container.appendChild(c),this.glplot.redraw();var t=this.glplot.gl,n=t.drawingBufferWidth,r=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new Uint8Array(n*r*4);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,i);for(var o=0,a=r-1;o<a;++o,--a)for(var s=0;s<n;++s)for(var l=0;l<4;++l){var u=i[4*(n*o+s)+l];i[4*(n*o+s)+l]=i[4*(n*a+s)+l],i[4*(n*a+s)+l]=u}var f=document.createElement("canvas");f.width=n,f.height=r;var h=f.getContext("2d"),d=h.createImageData(n,r);d.data.set(i),h.putImageData(d,0,0);var p;switch(e){case"jpeg":p=f.toDataURL("image/jpeg");break;case"webp":p=f.toDataURL("image/webp");break;default:p=f.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(c),p},k.setConvert=function(){for(var e=0;e<3;++e){var t=this.fullSceneLayout[E[e]];m.setConvert(t,this.fullLayout),t.setScale=p.noop}},e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=e._fullLayout,r=e._context;if(""===r.mapboxAccessToken)return"";for(var i=r.mapboxAccessToken,o=0;o<t.length;o++){var a=n[t[o]];if(a.accesstoken){i=a.accesstoken;break}}if(!i)throw new Error(l.noAccessTokenErrorMsg);return i}var i=n(511),o=n(16),a=n(67),s=n(1414),l=n(581);t.name="mapbox",t.attr="subplot",t.idRoot="mapbox",t.idRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,t.attrRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,t.attributes={subplot:{valType:"subplotid",role:"info",dflt:"mapbox",description:["Sets a reference between this trace's data coordinates and","a mapbox subplot.","If *mapbox* (the default value), the data refer to `layout.mapbox`.","If *mapbox2*, the data refer to `layout.mapbox2`, and so on."].join(" ")}},t.layoutAttributes=n(228),t.supplyLayoutDefaults=n(1413),t.plot=function(e){var t=e._fullLayout,n=e.calcdata,a=o.getSubplotIds(t,"mapbox"),l=r(e,a);i.accessToken=l;for(var u=0;u<a.length;u++){var c=a[u],f=o.getSubplotCalcData(n,"mapbox",c),h=t[c],d=h._subplot;h.accesstoken=l,d||(d=s({gd:e,container:t._glcontainer.node(),id:c,fullLayout:t,staticPlot:e._context.staticPlot}),t[c]._subplot=d),d.plot(f,t,e._promises)}},t.clean=function(e,t,n,r){for(var i=o.getSubplotIds(r,"mapbox"),a=0;a<i.length;a++){var s=i[a];!t[s]&&r[s]._subplot&&r[s]._subplot.destroy()}},t.toSVG=function(e){for(var t=e._fullLayout,n=o.getSubplotIds(t,"mapbox"),r=t._size,i=0;i<n.length;i++){var s=t[n[i]],l=s.domain,u=s._subplot,c=u.toImage("png");t._glimages.append("svg:image").attr({xmlns:a.svg,"xlink:href":c,x:r.l+r.w*l.x[0],y:r.t+r.h*(1-l.y[1]),width:r.w*(l.x[1]-l.x[0]),height:r.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}}},function(e,t,n){"use strict";function r(e,t){this.mapbox=e,this.map=e.map,this.uid=e.uid+"-layer"+t,this.idSource=this.uid+"-source",this.idLayer=this.uid+"-layer",this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}function i(e){var t=e.source;return s.isPlainObject(t)||"string"===typeof t&&t.length>0}function o(e){var t={},n={};switch(e.type){case"circle":s.extendFlat(n,{"circle-radius":e.circle.radius,"circle-color":e.color,"circle-opacity":e.opacity});break;case"line":s.extendFlat(n,{"line-width":e.line.width,"line-color":e.color,"line-opacity":e.opacity});break;case"fill":s.extendFlat(n,{"fill-color":e.color,"fill-outline-color":e.fill.outlinecolor,"fill-opacity":e.opacity});break;case"symbol":var r=e.symbol,i=l(r.textposition,r.iconsize);s.extendFlat(t,{"icon-image":r.icon+"-15","icon-size":r.iconsize/10,"text-field":r.text,"text-size":r.textfont.size,"text-anchor":i.anchor,"text-offset":i.offset}),s.extendFlat(n,{"icon-color":e.color,"text-color":r.textfont.color,"text-opacity":e.opacity})}return{layout:t,paint:n}}function a(e){var t,n=e.sourcetype,r=e.source,i={type:n},o="string"===typeof r;return"geojson"===n?t="data":"vector"===n&&(t=o?"url":"tiles"),i[t]=r,i}var s=n(0),l=n(582),u=r.prototype;u.update=function(e){this.visible?this.needsNewSource(e)?(this.updateLayer(e),this.updateSource(e)):this.needsNewLayer(e)&&this.updateLayer(e):(this.updateSource(e),this.updateLayer(e)),this.updateStyle(e),this.visible=i(e)},u.needsNewSource=function(e){return this.sourceType!==e.sourcetype||this.source!==e.source||this.layerType!==e.type},u.needsNewLayer=function(e){return this.layerType!==e.type||this.below!==e.below},u.updateSource=function(e){var t=this.map;if(t.getSource(this.idSource)&&t.removeSource(this.idSource),this.sourceType=e.sourcetype,this.source=e.source,i(e)){var n=a(e);t.addSource(this.idSource,n)}},u.updateLayer=function(e){var t=this.map;if(t.getLayer(this.idLayer)&&t.removeLayer(this.idLayer),this.layerType=e.type,i(e)){t.addLayer({id:this.idLayer,source:this.idSource,"source-layer":e.sourcelayer||"",type:e.type},e.below);var n={visibility:"visible"};this.mapbox.setOptions(this.idLayer,"setLayoutProperty",n)}},u.updateStyle=function(e){var t=o(e);i(e)&&(this.mapbox.setOptions(this.idLayer,"setLayoutProperty",t.layout),this.mapbox.setOptions(this.idLayer,"setPaintProperty",t.paint))},u.dispose=function(){var e=this.map;e.removeLayer(this.idLayer),e.removeSource(this.idSource)},e.exports=function(e,t,n){var i=new r(e,t);return i.update(n),i}},function(e,t,n){"use strict";function r(e,t,n){n("accesstoken"),n("style"),n("center.lon"),n("center.lat"),n("zoom"),n("bearing"),n("pitch"),i(e,t),t._input=e}function i(e,t){function n(e,t){return o.coerce(r,i,s.layers,e,t)}for(var r,i,a=e.layers||[],l=t.layers=[],u=0;u<a.length;u++)if(r=a[u],i={},o.isPlainObject(r)){var c=n("sourcetype");n("source"),"vector"===c&&n("sourcelayer");var f=n("type");n("below"),n("color"),n("opacity"),"circle"===f&&n("circle.radius"),"line"===f&&n("line.width"),"fill"===f&&n("fill.outlinecolor"),"symbol"===f&&(n("symbol.icon"),n("symbol.iconsize"),n("symbol.text"),o.coerceFont(n,"symbol.textfont"),n("symbol.textposition")),i._index=u,l.push(i)}}var o=n(0),a=n(229),s=n(228);e.exports=function(e,t,n){a(e,t,n,{type:"mapbox",attributes:s,handleDefaults:r,partition:"y"})}},function(e,t,n){"use strict";function r(e){this.id=e.id,this.gd=e.gd,this.container=e.container,this.isStatic=e.staticPlot;var t=e.fullLayout;this.uid=t._uid+"-"+this.id,this.opts=t[this.id],this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(t),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[]}function i(e){var t=f.style.values,n=f.style.dflt,r={};return u.isPlainObject(e)?(r.id=e.id,r.style=e):"string"===typeof e?(r.id=e,r.style=-1!==t.indexOf(e)?o(e):e):(r.id=n,r.style=o(n)),r}function o(e){return c.styleUrlPrefix+e+"-"+c.styleUrlSuffix}function a(e){return[e.lon,e.lat]}var s=n(511),l=n(40),u=n(0),c=n(581),f=n(228),h=n(1412),d=r.prototype;e.exports=function(e){return new r(e)},d.plot=function(e,t,n){var r=this,i=r.opts=t[this.id];r.map&&i.accesstoken!==r.accessToken&&(r.map.remove(),r.map=null,r.styleObj=null,r.traceHash=[],r.layerList={});var o;o=r.map?new Promise(function(n,i){r.updateMap(e,t,n,i)}):new Promise(function(n,i){r.createMap(e,t,n,i)}),n.push(o)},d.createMap=function(e,t,n,r){function o(){l.loneUnhover(t._toppaper)}var f=this,h=f.gd,d=f.opts,p=f.styleObj=i(d.style);f.accessToken=d.accesstoken;var m=f.map=new s.Map({container:f.div,style:p.style,center:a(d.center),zoom:d.zoom,bearing:d.bearing,pitch:d.pitch,interactive:!f.isStatic,preserveDrawingBuffer:f.isStatic}),v=c.controlContainerClassName,g=f.div.getElementsByClassName(v)[0];f.div.removeChild(g),m._canvas.canvas.style.left="0px",m._canvas.canvas.style.top="0px",f.rejectOnError(r),m.once("load",function(){f.updateData(e),f.updateLayout(t),f.resolveOnRender(n)}),m.on("moveend",function(e){if(f.map){var t=f.getView();if(d._input.center=d.center=t.center,d._input.zoom=d.zoom=t.zoom,d._input.bearing=d.bearing=t.bearing,d._input.pitch=d.pitch=t.pitch,e.originalEvent){var n={};n[f.id]=u.extendFlat({},t),h.emit("plotly_relayout",n)}}}),m.on("mousemove",function(e){var t=f.div.getBoundingClientRect();e.clientX=e.point.x+t.left,e.clientY=e.point.y+t.top,e.target.getBoundingClientRect=function(){return t},f.xaxis.p2c=function(){return e.lngLat.lng},f.yaxis.p2c=function(){return e.lngLat.lat},l.hover(h,e,f.id)}),m.on("click",function(e){l.click(h,e.originalEvent)}),m.on("dragstart",o),m.on("zoomstart",o)},d.updateMap=function(e,t,n,r){var o=this,a=o.map;o.rejectOnError(r);var s=i(o.opts.style);o.styleObj.id!==s.id?(o.styleObj=s,a.setStyle(s.style),a.style.once("load",function(){o.traceHash={},o.updateData(e),o.updateLayout(t),o.resolveOnRender(n)})):(o.updateData(e),o.updateLayout(t),o.resolveOnRender(n))},d.updateData=function(e){var t,n,r,i,o=this.traceHash;for(r=0;r<e.length;r++){var a=e[r];n=a[0].trace,t=o[n.uid],t?t.update(a):n._module&&(o[n.uid]=n._module.plot(this,a))}var s=Object.keys(o);e:for(r=0;r<s.length;r++){var l=s[r];for(i=0;i<e.length;i++)if(n=e[i][0].trace,l===n.uid)continue e;t=o[l],t.dispose(),delete o[l]}},d.updateLayout=function(e){var t=this.map,n=this.opts;t.setCenter(a(n.center)),t.setZoom(n.zoom),t.setBearing(n.bearing),t.setPitch(n.pitch),this.updateLayers(),this.updateFramework(e),this.map.resize()},d.resolveOnRender=function(e){var t=this.map;t.on("render",function n(){t.loaded()&&(t.off("render",n),e())})},d.rejectOnError=function(e){function t(){e(new Error(c.mapOnErrorMsg))}var n=this.map;n.once("error",t),n.once("style.error",t),n.once("source.error",t),n.once("tile.error",t),n.once("layer.error",t)},d.createFramework=function(e){var t=this,n=t.div=document.createElement("div");n.id=t.uid,n.style.position="absolute",t.container.appendChild(n),t.xaxis={_id:"x",c2p:function(e){return t.project(e).x}},t.yaxis={_id:"y",c2p:function(e){return t.project(e).y}},t.updateFramework(e)},d.updateFramework=function(e){var t=e[this.id].domain,n=e._size,r=this.div.style;r.width=n.w*(t.x[1]-t.x[0])+"px",r.height=n.h*(t.y[1]-t.y[0])+"px",r.left=n.l+t.x[0]*n.w+"px",r.top=n.t+(1-t.y[1])*n.h+"px",this.xaxis._offset=n.l+t.x[0]*n.w,this.xaxis._length=n.w*(t.x[1]-t.x[0]),this.yaxis._offset=n.t+(1-t.y[1])*n.h,this.yaxis._length=n.h*(t.y[1]-t.y[0])},d.updateLayers=function(){var e,t=this.opts,n=t.layers,r=this.layerList;if(n.length!==r.length){for(e=0;e<r.length;e++)r[e].dispose();for(r=this.layerList=[],e=0;e<n.length;e++)r.push(h(this,e,n[e]))}else for(e=0;e<n.length;e++)r[e].update(n[e])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null),this.container.removeChild(this.div)},d.toImage=function(){return this.map.getCanvas().toDataURL()},d.initSource=function(e){var t={type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[]}}};return this.map.addSource(e,t)},d.setSourceData=function(e,t){this.map.getSource(e).setData(t)},d.setOptions=function(e,t,n){for(var r=this.map,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];r[t](e,a,n[a])}},d.project=function(e){return this.map.project(new s.LngLat(e[0],e[1]))},d.getView=function(){var e=this.map,t=e.getCenter();return{center:{lon:t.lng,lat:t.lat},zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}},function(e,t,n){"use strict";var r=n(34),i=r.marker;e.exports={r:r.r,t:r.t,marker:{color:i.color,size:i.size,symbol:i.symbol,opacity:i.opacity}}},function(e,t,n){"use strict";function r(e,t){var n={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",e,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",e,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",e,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",e,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return o({},t,n)}var i=n(57),o=n(8).extendFlat,a=o({},i.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});e.exports={radialaxis:r("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:a,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:r("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:a}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}}},function(e,t,n){"use strict";(e.exports=n(584)).manager=n(1418)},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=n(584),s=n(1419),l=i.extendDeepAll,u=e.exports={};u.framework=function(e){function t(t,i){return i&&(f=i),r.select(r.select(f).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?l(n,t):t,o||(o=a.Axis()),c=a.adapter.plotly().convert(n),o.config(c).render(f),e.data=n.data,e.layout=n.layout,u.fillLayout(e),n}var n,i,o,c,f,h=new s;return t.isPolar=!0,t.svg=function(){return o.svg()},t.getConfig=function(){return n},t.getLiveConfig=function(){return a.adapter.plotly().convert(o.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:o.angularScale(),r:o.radialScale()}},t.setUndoPoint=function(){var e=this,t=a.util.cloneJson(n);!function(t,n){h.add({undo:function(){n&&e(n)},redo:function(){e(t)}})}(t,i),i=a.util.cloneJson(t)},t.undo=function(){h.undo()},t.redo=function(){h.redo()},t},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),i=e.framework&&e.framework.svg&&e.framework.svg(),a={width:800,height:600,paper_bgcolor:o.background,_container:t,_paperdiv:n,_paper:i};e._fullLayout=l(a,e.layout)}},function(e,t,n){"use strict";e.exports=function(){function e(e,t){return e?(i=!0,e[t](),i=!1,this):this}var t,n=[],r=-1,i=!1;return{add:function(e){return i?this:(n.splice(r+1,n.length-r),n.push(e),r=n.length-1,this)},setCallback:function(e){t=e},undo:function(){var i=n[r];return i?(e(i,"undo"),r-=1,t&&t(i.undo),this):this},redo:function(){var i=n[r+1];return i?(e(i,"redo"),r+=1,t&&t(i.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},function(e,t,n){"use strict";var r=n(1424),i=n(16);t.name="ternary",t.attr="subplot",t.idRoot="ternary",t.idRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,t.attrRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,t.attributes=n(1421),t.layoutAttributes=n(586),t.supplyLayoutDefaults=n(1423),t.plot=function(e){for(var t=e._fullLayout,n=e.calcdata,o=i.getSubplotIds(t,"ternary"),a=0;a<o.length;a++){var s=o[a],l=i.getSubplotCalcData(n,"ternary",s),u=t[s]._subplot;u||(u=new r({id:s,graphDiv:e,container:t._ternarylayer.node()},t),t[s]._subplot=u),u.plot(l,t,e._promises)}},t.clean=function(e,t,n,r){for(var o=i.getSubplotIds(r,"ternary"),a=0;a<o.length;a++){var s=o[a],l=r[s]._subplot;!t[s]&&l&&(l.plotContainer.remove(),l.clipDef.remove())}}},function(e,t,n){"use strict";e.exports={subplot:{valType:"subplotid",role:"info",dflt:"ternary",description:["Sets a reference between this trace's data coordinates and","a ternary subplot.","If *ternary* (the default value), the data refer to `layout.ternary`.","If *ternary2*, the data refer to `layout.ternary2`, and so on."].join(" ")}}},function(e,t,n){"use strict";var r=n(38).mix,i=n(0),o=n(585),a=n(226),s=n(321),l=n(227);e.exports=function(e,t,n){function u(n,r){return i.coerce(e,t,o,n,r)}t.type="linear";var c=u("color"),f=c===e.color?c:n.font.color,h=t._name,d=h.charAt(0).toUpperCase(),p="Component "+d,m=u("title",p);t._hovertitle=m===p?m:d,i.coerceFont(u,"titlefont",{family:n.font.family,size:Math.round(1.2*n.font.size),color:f}),u("min"),l(e,t,u,"linear"),a(e,t,u,"linear",{noHover:!1}),s(e,t,u,{outerTicks:!0}),u("showticklabels")&&(i.coerceFont(u,"tickfont",{family:n.font.family,size:n.font.size,color:f}),u("tickangle"),u("tickformat")),u("hoverformat"),u("showline")&&(u("linecolor",c),u("linewidth")),u("showgrid")&&(u("gridcolor",r(c,n.bgColor,60).toRgbString()),u("gridwidth"))}},function(e,t,n){"use strict";function r(e,t,n,r){var o=n("bgcolor"),a=n("sum");r.bgColor=i.combine(o,r.paper_bgcolor);for(var u,c,f,h=0;h<l.length;h++)u=l[h],c=e[u]||{},f=t[u]={_name:u,type:"linear"},s(c,f,r);var d=t.aaxis,p=t.baxis,m=t.caxis;d.min+p.min+m.min>=a&&(d.min=0,p.min=0,m.min=0,e.aaxis&&delete e.aaxis.min,e.baxis&&delete e.baxis.min,e.caxis&&delete e.caxis.min)}var i=n(3),o=n(229),a=n(586),s=n(1422),l=["aaxis","baxis","caxis"];e.exports=function(e,t,n){o(e,t,n,{type:"ternary",attributes:a,handleDefaults:r,font:t.font,paper_bgcolor:t.paper_bgcolor})}},function(e,t,n){"use strict";function r(e,t){this.id=e.id,this.graphDiv=e.graphDiv,this.init(t),this.makeFramework()}function i(e){o.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}var o=n(2),a=n(38),s=n(25),l=n(0),u=n(3),c=n(12),f=n(169),h=n(8).extendFlat,d=n(16),p=n(5),m=n(92),v=n(222),g=n(573),y=n(33),b=n(40);e.exports=r;var x=r.prototype;x.init=function(e){this.container=e._ternarylayer,this.defs=e._defs,this.layoutId=e._uid,this.traceHash={}},x.plot=function(e,t){var n=this,r=t[n.id],i=t._size;n.adjustLayout(r,i),d.generalUpdatePerTraceModule(n,e,r),n.layers.plotbg.select("path").call(u.fill,r.bgcolor)},x.makeFramework=function(){var e=this,t=e.defs.selectAll("g.clips").data([0]);t.enter().append("g").classed("clips",!0);var n="clip"+e.layoutId+e.id;e.clipDef=t.selectAll("#"+n).data([0]),e.clipDef.enter().append("clipPath").attr("id",n).append("path").attr("d","M0,0Z"),e.plotContainer=e.container.selectAll("g."+e.id).data([0]),e.plotContainer.enter().append("g").classed(e.id,!0),e.layers={};var r=["draglayer","plotbg","backplot","grids","frontplot","zoom","aaxis","baxis","caxis","axlines"];e.plotContainer.selectAll("g.toplevel").data(r).enter().append("g").attr("class",function(e){return"toplevel "+e}).each(function(t){var n=o.select(this);e.layers[t]=n,"frontplot"===t?n.append("g").classed("scatterlayer",!0):"backplot"===t?n.append("g").classed("maplayer",!0):"plotbg"===t?n.append("path").attr("d","M0,0Z"):"axlines"===t&&n.selectAll("path").data(["aline","bline","cline"]).enter().append("path").each(function(e){o.select(this).classed(e,!0)})}),e.plotContainer.select(".grids").selectAll("g.grid").data(["agrid","bgrid","cgrid"]).enter().append("g").attr("class",function(e){return"grid "+e}).each(function(t){e.layers[t]=o.select(this)}),e.plotContainer.selectAll(".backplot,.frontplot,.grids").call(c.setClipUrl,n),e.graphDiv._context.staticPlot||e.initInteractions()};var _=Math.sqrt(4/3);x.adjustLayout=function(e,t){var n,r,i,o,a,s,l=this,c=e.domain,d=(c.x[0]+c.x[1])/2,p=(c.y[0]+c.y[1])/2,m=c.x[1]-c.x[0],v=c.y[1]-c.y[0],g=m*t.w,y=v*t.h,b=e.sum,x=e.aaxis.min,w=e.baxis.min,M=e.caxis.min;g>_*y?(o=y,i=o*_):(i=g,o=i/_),a=m*i/g,s=v*o/y,n=t.l+t.w*d-i/2,r=t.t+t.h*(1-p)-o/2,l.x0=n,l.y0=r,l.w=i,l.h=o,l.sum=b,l.xaxis={type:"linear",range:[x+2*M-b,b-x-2*w],domain:[d-a/2,d+a/2],_id:"x"},f(l.xaxis,l.graphDiv._fullLayout),l.xaxis.setScale(),l.yaxis={type:"linear",range:[x,b-w-M],domain:[p-s/2,p+s/2],_id:"y"},f(l.yaxis,l.graphDiv._fullLayout),l.yaxis.setScale();var k=l.yaxis.domain[0],E=l.aaxis=h({},e.aaxis,{visible:!0,range:[x,b-w-M],side:"left",_counterangle:30,tickangle:(+e.aaxis.tickangle||0)-30,domain:[k,k+s*_],_axislayer:l.layers.aaxis,_gridlayer:l.layers.agrid,_pos:0,_id:"y",_length:i,_gridpath:"M0,0l"+o+",-"+i/2});f(E,l.graphDiv._fullLayout),E.setScale();var S=l.baxis=h({},e.baxis,{visible:!0,range:[b-x-M,w],side:"bottom",_counterangle:30,domain:l.xaxis.domain,_axislayer:l.layers.baxis,_gridlayer:l.layers.bgrid,_counteraxis:l.aaxis,_pos:0,_id:"x",_length:i,_gridpath:"M0,0l-"+i/2+",-"+o});f(S,l.graphDiv._fullLayout),S.setScale(),E._counteraxis=S;var T=l.caxis=h({},e.caxis,{visible:!0,range:[b-x-w,M],side:"right",_counterangle:30,tickangle:(+e.caxis.tickangle||0)+30,domain:[k,k+s*_],_axislayer:l.layers.caxis,_gridlayer:l.layers.cgrid,_counteraxis:l.baxis,_pos:0,_id:"y",_length:i,_gridpath:"M0,0l-"+o+","+i/2});f(T,l.graphDiv._fullLayout),T.setScale();var A="M"+n+","+(r+o)+"h"+i+"l-"+i/2+",-"+o+"Z";l.clipDef.select("path").attr("d",A),l.layers.plotbg.select("path").attr("d",A);var C="translate("+n+","+r+")";l.plotContainer.selectAll(".scatterlayer,.maplayer,.zoom").attr("transform",C);var D="translate("+n+","+(r+o)+")";l.layers.baxis.attr("transform",D),l.layers.bgrid.attr("transform",D);var O="translate("+(n+i/2)+","+r+")rotate(30)";l.layers.aaxis.attr("transform",O),l.layers.agrid.attr("transform",O);var P="translate("+(n+i/2)+","+r+")rotate(-30)";l.layers.caxis.attr("transform",P),l.layers.cgrid.attr("transform",P),l.drawAxes(!0),l.plotContainer.selectAll(".crisp").classed("crisp",!1);var L=l.layers.axlines;L.select(".aline").attr("d",E.showline?"M"+n+","+(r+o)+"l"+i/2+",-"+o:"M0,0").call(u.stroke,E.linecolor||"#000").style("stroke-width",(E.linewidth||0)+"px"),L.select(".bline").attr("d",S.showline?"M"+n+","+(r+o)+"h"+i:"M0,0").call(u.stroke,S.linecolor||"#000").style("stroke-width",(S.linewidth||0)+"px"),L.select(".cline").attr("d",T.showline?"M"+(n+i/2)+","+r+"l"+i/2+","+o:"M0,0").call(u.stroke,T.linecolor||"#000").style("stroke-width",(T.linewidth||0)+"px")},x.drawAxes=function(e){var t=this,n=t.graphDiv,r=t.id.substr(7)+"title",i=t.aaxis,o=t.baxis,a=t.caxis;if(p.doTicks(n,i,!0),p.doTicks(n,o,!0),p.doTicks(n,a,!0),e){var s=Math.max(i.showticklabels?i.tickfont.size/2:0,(a.showticklabels?.75*a.tickfont.size:0)+("outside"===a.ticks?.87*a.ticklen:0));v.draw(n,"a"+r,{propContainer:i,propName:t.id+".aaxis.title",dfltName:"Component A",attributes:{x:t.x0+t.w/2,y:t.y0-i.titlefont.size/3-s,"text-anchor":"middle"}});var l=(o.showticklabels?o.tickfont.size:0)+("outside"===o.ticks?o.ticklen:0)+3;v.draw(n,"b"+r,{propContainer:o,propName:t.id+".baxis.title",dfltName:"Component B",attributes:{x:t.x0-l,y:t.y0+t.h+.83*o.titlefont.size+l,"text-anchor":"middle"}}),v.draw(n,"c"+r,{propContainer:a,propName:t.id+".caxis.title",dfltName:"Component C",attributes:{x:t.x0+t.w+l,y:t.y0+t.h+.83*a.titlefont.size+l,"text-anchor":"middle"}})}};var w=y.MINZOOM/2+.87,M="m-0.87,.5h"+w+"v3h-"+(w+5.2)+"l"+(w/2+2.6)+",-"+(.87*w+4.5)+"l2.6,1.5l-"+w/2+","+.87*w+"Z",k="m0.87,.5h-"+w+"v3h"+(w+5.2)+"l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-2.6,1.5l"+w/2+","+.87*w+"Z",E="m0,1l"+w/2+","+.87*w+"l2.6,-1.5l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-"+(w/2+2.6)+","+(.87*w+4.5)+"l2.6,1.5l"+w/2+",-"+.87*w+"Z",S=!0;x.initInteractions=function(){function e(e,t,n){var r=R.getBoundingClientRect();x=t-r.left,w=n-r.top,T={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},C=T,A=N.aaxis.range[1]-T.a,D=a(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),O="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",P=!1,L=z.append("path").attr("class","zoombox").style({fill:D>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",O),I=z.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),p()}function t(e,t){return 1-t/N.h}function n(e,t){return 1-(e+(N.h-t)/Math.sqrt(3))/N.w}function r(e,t){return(e-(N.h-t)/Math.sqrt(3))/N.w}function o(e,i){var o=x+e,a=w+i,s=Math.max(0,Math.min(1,t(x,w),t(o,a))),l=Math.max(0,Math.min(1,n(x,w),n(o,a))),u=Math.max(0,Math.min(1,r(x,w),r(o,a))),c=(s/2+u)*N.w,f=(1-s/2-l)*N.w,h=(c+f)/2,d=f-c,p=(1-s)*N.h,m=p-d/_;d<y.MINZOOM?(C=T,L.attr("d",O),I.attr("d","M0,0Z")):(C={a:T.a+s*A,b:T.b+l*A,c:T.c+u*A},L.attr("d",O+"M"+c+","+p+"H"+f+"L"+h+","+m+"L"+c+","+p+"Z"),I.attr("d","M"+x+","+w+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+c+","+p+M+"M"+f+","+p+k+"M"+h+","+m+E)),P||(L.transition().style("fill",D>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),I.transition().style("opacity",1).duration(200),P=!0)}function c(e,t){if(C===T)return 2===t&&v(),i(j);i(j);var n={};n[N.id+".aaxis.min"]=C.a,n[N.id+".baxis.min"]=C.b,n[N.id+".caxis.min"]=C.c,s.relayout(j,n),S&&j.data&&j._context.showTips&&(l.notifier("Double-click to<br>zoom back out","long"),S=!1)}function f(){T={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},C=T}function h(e,t){var n=e/N.xaxis._m,r=t/N.yaxis._m;C={a:T.a-r,b:T.b+(n+r)/2,c:T.c-(n-r)/2};var i=[C.a,C.b,C.c].sort(),o={a:i.indexOf(C.a),b:i.indexOf(C.b),c:i.indexOf(C.c)};i[0]<0&&(i[1]+i[0]/2<0?(i[2]+=i[0]+i[1],i[0]=i[1]=0):(i[2]+=i[0]/2,i[1]+=i[0]/2,i[0]=0),C={a:i[o.a],b:i[o.b],c:i[o.c]},t=(T.a-C.a)*N.yaxis._m,e=(T.c-C.c-T.b+C.b)*N.xaxis._m);var a="translate("+(N.x0+e)+","+(N.y0+t)+")";N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",a),N.aaxis.range=[C.a,N.sum-C.b-C.c],N.baxis.range=[N.sum-C.a-C.c,C.b],N.caxis.range=[N.sum-C.a-C.b,C.c],N.drawAxes(!1),N.plotContainer.selectAll(".crisp").classed("crisp",!1)}function d(e,t){if(e){var n={};n[N.id+".aaxis.min"]=C.a,n[N.id+".baxis.min"]=C.b,n[N.id+".caxis.min"]=C.c,s.relayout(j,n)}else 2===t&&v()}function p(){N.plotContainer.selectAll(".select-outline").remove()}function v(){var e={};e[N.id+".aaxis.min"]=0,e[N.id+".baxis.min"]=0,e[N.id+".caxis.min"]=0,j.emit("plotly_doubleclick",null),s.relayout(j,e)}var x,w,T,A,C,D,O,P,L,I,N=this,R=N.layers.plotbg.select("path").node(),j=N.graphDiv,z=N.layers.zoom,F={element:R,gd:j,plotinfo:{plot:z},doubleclick:v,subplot:N.id,prepFn:function(t,n,r){F.xaxes=[N.xaxis],F.yaxes=[N.yaxis];var i=j._fullLayout.dragmode;t.shiftKey&&(i="pan"===i?"zoom":"pan"),F.minDrag="lasso"===i?1:void 0,"zoom"===i?(F.moveFn=o,F.doneFn=c,e(t,n,r)):"pan"===i?(F.moveFn=h,F.doneFn=d,f(),p()):"select"!==i&&"lasso"!==i||g(t,n,r,F,i)}};R.onmousemove=function(e){b.hover(j,e,N.id),j._fullLayout._lasthover=R,j._fullLayout._hoversubplot=N.id},R.onmouseout=function(e){j._dragging||m.unhover(j,e)},R.onclick=function(e){b.click(j,e)},m.init(F)}},function(e,t,n){"use strict";var r=function(e,t){var n=document.createElement("a"),r="download"in n,i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(o,a){"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),i&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),o(t)),t||(t="download"),r&&(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),o(t)),"undefined"!==typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([e]),t),o(t)),a(new Error("download error"))})};e.exports=r},function(e,t,n){"use strict";var r=n(326),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:n(324),toSVG:n(328),svgToImg:n(327),toImage:n(1427),downloadImage:n(325)};e.exports=i},function(e,t,n){"use strict";function r(e,t){function n(){var e=s.getDelay(h._fullLayout);setTimeout(function(){var e=u(h),n=document.createElement("canvas");n.id=a.randstr(),r=c({format:t.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:n,emitter:r,svg:e}),r.clean=function(){h&&document.body.removeChild(h)}},e)}var r=new i,f=l(e,{format:"png"}),h=f.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var d=s.getRedrawFunc(h);return o.plot(h,f.data,f.layout,f.config).then(d).then(n).catch(function(e){r.emit("error",e)}),r}var i=n(247).EventEmitter,o=n(25),a=n(0),s=n(326),l=n(324),u=n(328),c=n(327);e.exports=r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(90),a=n(88),s=n(329);e.exports=function(e,t){var n,l,u,c,f,h=i.getFromId(e,t.xaxis||"x"),d=i.getFromId(e,t.yaxis||"y"),p=t.orientation||(t.x&&!t.y?"h":"v");"h"===p?(n=h,u=h.makeCalcdata(t,"x"),l=d.makeCalcdata(t,"y"),f=t.xcalendar):(n=d,u=d.makeCalcdata(t,"y"),l=h.makeCalcdata(t,"x"),f=t.ycalendar);var m=Math.min(l.length,u.length),v=new Array(m);for(c=0;c<m;c++)v[c]={p:l[c],s:u[c]};var g,y=t.base;if(Array.isArray(y)){for(c=0;c<Math.min(y.length,v.length);c++)g=n.d2c(y[c],0,f),v[c].b=r(g)?g:0;for(;c<v.length;c++)v[c].b=0}else for(g=n.d2c(y,0,f),g=r(g)?g:0,c=0;c<v.length;c++)v[c].b=g;return o(t,"marker")&&a(t,t.marker.color,"marker","c"),o(t,"marker.line")&&a(t,t.marker.line.color,"marker.line","c"),s(v,t),v}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(353),a=n(592),s=n(125),l=n(230);e.exports=function(e,t,n,u){function c(n,i){return r.coerce(e,t,l,n,i)}var f=r.coerceFont;if(!o(e,t,u,c))return void(t.visible=!1);c("orientation",t.x&&!t.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext");var h=c("textposition"),d=Array.isArray(h)||"auto"===h,p=d||"inside"===h,m=d||"outside"===h;if(p||m){var v=f(c,"textfont",u.font);p&&f(c,"insidetextfont",v),m&&f(c,"outsidetextfont",v)}a(e,t,c,n,u),s(e,t,i.defaultLine,{axis:"y"}),s(e,t,i.defaultLine,{axis:"x",inherit:"y"})}},function(e,t,n){"use strict";var r={};r.attributes=n(230),r.layoutAttributes=n(330),r.supplyDefaults=n(1429),r.supplyLayoutDefaults=n(588),r.calc=n(1428),r.setPositions=n(590),r.colorbar=n(80),r.arraysToCalcdata=n(329),r.plot=n(589),r.style=n(591),r.hoverPoints=n(587),r.moduleType="trace",r.name="bar",r.basePlotModule=n(44),r.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],r.meta={description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.traces=e,this.separateNegativeValues=t,this.dontMergeOverlappingData=n;for(var r=[],a=0;a<e.length;a++)for(var s=e[a],l=0;l<s.length;l++){var u=s[l];u.p!==o&&r.push(u.p)}this.positions=r;var c=i.distinctVals(this.positions);this.distinctPositions=c.vals,this.minDiff=c.minDiff,this.binWidth=this.minDiff,this.bins={}}e.exports=r;var i=n(0),o=n(27).BADNUM;r.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},r.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},r.prototype.getLabel=function(e,t){return(t<0&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?e:Math.round(e/this.binWidth))}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(5);e.exports=function(e,t){var n,a,s,l,u,c,f,h,d,p=o.getFromId(e,t.xaxis||"x"),m=o.getFromId(e,t.yaxis||"y"),v=t.orientation,g=[];"h"===v?(n=p,a="x",u=m,c="y"):(n=m,a="y",u=p,c="x"),s=n.makeCalcdata(t,a),o.expand(n,s,{padded:!0}),f=function(e,t,n,o,a){var s;return n in t?f=o.makeCalcdata(t,n):(s=n+"0"in t?t[n+"0"]:"name"in t&&("category"===o.type||r(t.name)&&-1!==["linear","log"].indexOf(o.type)||i.isDateTime(t.name)&&"date"===o.type)?t.name:e.numboxes,s=o.d2c(s,0,t[n+"calendar"]),f=a.map(function(){return s})),f}(e,t,c,u,s);var y=i.distinctVals(f);return h=y.vals,d=y.minDiff/2,l=function(e,t,n,o,a){var s,l,u,c,f=o.length,h=t.length,d=[],p=[];for(s=0;s<f;++s)l=o[s],e[s]={pos:l},p[s]=l-a,d[s]=[];for(p.push(o[f-1]+a),s=0;s<h;++s)c=t[s],r(c)&&(u=i.findBin(n[s],p))>=0&&u<h&&d[u].push(c);return d}(g,s,f,h,d),function(e,t){var n,r,o,a;for(a=0;a<t.length;++a)n=t[a].sort(i.sorterAsc),r=n.length,o=e[a],o.val=n,o.min=n[0],o.max=n[r-1],o.mean=i.mean(n,r),o.sd=i.stdev(n,r,o.mean),o.q1=i.interp(n,.25),o.med=i.interp(n,.5),o.q3=i.interp(n,.75),o.lf=Math.min(o.q1,n[Math.min(i.findBin(2.5*o.q1-1.5*o.q3,n,!0)+1,r-1)]),o.uf=Math.max(o.q3,n[Math.max(i.findBin(2.5*o.q3-1.5*o.q1,n),0)]),o.lo=4*o.q1-3*o.q3,o.uo=4*o.q3-3*o.q1}(g,l),g=g.filter(function(e){return e.val&&e.val.length}),g.length?(g[0].t={boxnum:e.numboxes,dPos:d},e.numboxes++,g):[{t:{emptybox:!0}}]}},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(3),a=n(331);e.exports=function(e,t,n,s){function l(n,i){return r.coerce(e,t,a,n,i)}var u,c=l("y"),f=l("x");if(c&&c.length)u="v",f||l("x0");else{if(!f||!f.length)return void(t.visible=!1);u="h",l("y0")}i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],s),l("orientation",u),l("line.color",(e.marker||{}).color||n),l("line.width",2),l("fillcolor",o.addOpacity(t.line.color,.5)),l("whiskerwidth"),l("boxmean");var h=r.coerce2(e,t,a,"marker.outliercolor"),d=l("marker.line.outliercolor"),p=h||d?l("boxpoints","suspectedoutliers"):l("boxpoints");p&&(l("jitter","all"===p?.3:0),l("pointpos","all"===p?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.color",t.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===p&&(l("marker.line.outliercolor",t.marker.color),l("marker.line.outlierwidth")))}},function(e,t,n){"use strict";var r=n(5),i=n(40),o=n(0),a=n(3);e.exports=function(e,t,n,s){var l,u,c,f,h,d,p,m,v,g=e.cd,y=g[0].trace,b=g[0].t,x=e.xa,_=e.ya,w=[];if(f="closest"===s?2.5*b.bdPos:b.bdPos,"h"===y.orientation?(l=function(e){return i.inbox(e.min-t,e.max-t)},u=function(e){var t=e.pos+b.bPos-n;return i.inbox(t-f,t+f)},h="y",d=_,m="x",v=x):(l=function(e){var n=e.pos+b.bPos-t;return i.inbox(n-f,n+f)},u=function(e){return i.inbox(e.min-n,e.max-n)},h="x",d=x,m="y",v=_),c=i.getDistanceFunction(s,l,u),i.getClosest(g,c,e),!1!==e.index){var M=g[e.index],k=y.line.color,E=(y.marker||{}).color;a.opacity(k)&&y.line.width?e.color=k:a.opacity(E)&&y.boxpoints?e.color=E:e.color=y.fillcolor,e[h+"0"]=d.c2p(M.pos+b.bPos-b.bdPos,!0),e[h+"1"]=d.c2p(M.pos+b.bPos+b.bdPos,!0),r.tickText(d,d.c2l(M.pos),"hover").text,e[h+"LabelVal"]=M.pos;var S,T,A={},C=["med","min","q1","q3","max"];y.boxmean&&C.push("mean"),y.boxpoints&&[].push.apply(C,["lf","uf"]);for(var D=0;D<C.length;D++)(S=C[D])in M&&!(M[S]in A)&&(A[M[S]]=!0,p=v.c2p(M[S],!0),T=o.extendFlat({},e),T[m+"0"]=T[m+"1"]=p,T[m+"LabelVal"]=M[S],T.attr=S,"mean"===S&&"sd"in M&&"sd"===y.boxmean&&(T[m+"err"]=M.sd),e.name="",w.push(T));return w}}},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(594);e.exports=function(e,t,n){function a(n,r){return i.coerce(e,t,o,n,r)}for(var s,l=0;l<n.length;l++)if(r.traceIs(n[l],"box")){s=!0;break}s&&(a("boxmode"),a("boxgap"),a("boxgroupgap"))}},function(e,t,n){"use strict";function r(){l=2e9}function i(){var e=l;return l=(69069*l+1)%4294967296,Math.abs(l-e)<429496729?i():l/4294967296}var o=n(2),a=n(0),s=n(12),l=2e9;e.exports=function(e,t,n){var l,u,c=e._fullLayout,f=t.xaxis,h=t.yaxis;t.plot.select(".boxlayer").selectAll("g.trace.boxes").data(n).enter().append("g").attr("class","trace boxes").each(function(t){var n=t[0].t,d=t[0].trace,p="group"===c.boxmode&&e.numboxes>1,m=n.dPos*(1-c.boxgap)*(1-c.boxgroupgap)/(p?e.numboxes:1),v=p?2*n.dPos*((n.boxnum+.5)/e.numboxes-.5)*(1-c.boxgap):0,g=m*d.whiskerwidth;if(!0!==d.visible||n.emptybox)return void o.select(this).remove();"h"===d.orientation?(l=h,u=f):(l=f,u=h),n.bPos=v,n.bdPos=m,r(),o.select(this).selectAll("path.box").data(a.identity).enter().append("path").attr("class","box").each(function(e){var t=l.c2p(e.pos+v,!0),n=l.c2p(e.pos+v-m,!0),r=l.c2p(e.pos+v+m,!0),i=l.c2p(e.pos+v-g,!0),s=l.c2p(e.pos+v+g,!0),c=u.c2p(e.q1,!0),f=u.c2p(e.q3,!0),h=a.constrain(u.c2p(e.med,!0),Math.min(c,f)+1,Math.max(c,f)-1),p=u.c2p(!1===d.boxpoints?e.min:e.lf,!0),y=u.c2p(!1===d.boxpoints?e.max:e.uf,!0);"h"===d.orientation?o.select(this).attr("d","M"+h+","+n+"V"+r+"M"+c+","+n+"V"+r+"H"+f+"V"+n+"ZM"+c+","+t+"H"+p+"M"+f+","+t+"H"+y+(0===d.whiskerwidth?"":"M"+p+","+i+"V"+s+"M"+y+","+i+"V"+s)):o.select(this).attr("d","M"+n+","+h+"H"+r+"M"+n+","+c+"H"+r+"V"+f+"H"+n+"ZM"+t+","+c+"V"+p+"M"+t+","+f+"V"+y+(0===d.whiskerwidth?"":"M"+i+","+p+"H"+s+"M"+i+","+y+"H"+s))}),d.boxpoints&&o.select(this).selectAll("g.points").data(function(e){return e.forEach(function(e){e.t=n,e.trace=d}),e}).enter().append("g").attr("class","points").selectAll("path").data(function(e){var t,n,r,o,s,l,u,c="all"===d.boxpoints?e.val:e.val.filter(function(t){return t<e.lf||t>e.uf}),f=Math.max((e.max-e.min)/10,e.q3-e.q1),h=1e-9*f,p=.01*f,g=[],y=0;if(d.jitter){if(0===f)for(y=1,g=new Array(c.length),t=0;t<c.length;t++)g[t]=1;else for(t=0;t<c.length;t++)n=Math.max(0,t-5),o=c[n],r=Math.min(c.length-1,t+5),s=c[r],"all"!==d.boxpoints&&(c[t]<e.lf?s=Math.min(s,e.lf):o=Math.max(o,e.uf)),l=Math.sqrt(p*(r-n)/(s-o+h))||0,l=a.constrain(Math.abs(l),0,1),g.push(l),y=Math.max(l,y);u=2*d.jitter/y}return c.map(function(t,n){var r,o=d.pointpos;return d.jitter&&(o+=u*g[n]*(i()-.5)),r="h"===d.orientation?{y:e.pos+o*m+v,x:t}:{x:e.pos+o*m+v,y:t},"suspectedoutliers"===d.boxpoints&&t<e.uo&&t>e.lo&&(r.so=!0),r})}).enter().append("path").call(s.translatePoints,f,h),d.boxmean&&o.select(this).selectAll("path.mean").data(a.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(e){var t=l.c2p(e.pos+v,!0),n=l.c2p(e.pos+v-m,!0),r=l.c2p(e.pos+v+m,!0),i=u.c2p(e.mean,!0),a=u.c2p(e.mean-e.sd,!0),s=u.c2p(e.mean+e.sd,!0);"h"===d.orientation?o.select(this).attr("d","M"+i+","+n+"V"+r+("sd"!==d.boxmean?"":"m0,0L"+a+","+t+"L"+i+","+n+"L"+s+","+t+"Z")):o.select(this).attr("d","M"+n+","+i+"H"+r+("sd"!==d.boxmean?"":"m0,0L"+t+","+a+"L"+n+","+i+"L"+t+","+s+"Z"))})})}},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(0);e.exports=function(e,t){var n,a,s,l,u=e._fullLayout,c=t.xaxis,f=t.yaxis,h=["v","h"];for(a=0;a<h.length;++a){var d,p,m,v=h[a],g=[],y=[],b=0,x=0;for(n="h"===v?f:c,s=0;s<e.calcdata.length;++s)d=e.calcdata[s],p=d[0].t,m=d[0].trace,!0===m.visible&&r.traceIs(m,"box")&&!p.emptybox&&m.orientation===v&&m.xaxis===c._id&&m.yaxis===f._id&&(g.push(s),!1!==m.boxpoints&&(b=Math.max(b,m.jitter-m.pointpos-1),x=Math.max(x,m.jitter+m.pointpos-1)));for(s=0;s<g.length;s++)for(d=e.calcdata[g[s]],l=0;l<d.length;l++)y.push(d[l].pos);if(y.length){var _=o.distinctVals(y),w=_.minDiff/2;for(y.length===_.vals.length&&(e.numboxes=1),i.minDtick(n,_.minDiff,_.vals[0],!0),a=0;a<g.length;a++){var M=g[a];e.calcdata[M][0].t.dPos=w}var k=(1-u.boxgap)*(1-u.boxgroupgap)*w/e.numboxes;i.expand(n,_.vals,{vpadminus:w+b*k,vpadplus:w+x*k})}}}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(12);e.exports=function(e){r.select(e).selectAll("g.trace.boxes").style("opacity",function(e){return e[0].trace.opacity}).each(function(e){var t=e[0].trace,n=t.line.width;r.select(this).selectAll("path.box").style("stroke-width",n+"px").call(i.stroke,t.line.color).call(i.fill,t.fillcolor),r.select(this).selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(i.stroke,t.line.color),r.select(this).selectAll("g.points path").call(o.pointStyle,t)})}},function(e,t,n){"use strict";function r(e,t,n,r){a(e,t,n,r),n(r+".line.color"),n(r+".line.width",t.line.width),n(r+".fillcolor")}var i=n(0),o=n(622),a=n(621),s=n(235),l=n(595);e.exports=function(e,t,n,a){function u(n,r){return i.coerce(e,t,l,n,r)}if(s.pushDummyTransformOpts(e,t),0===o(e,t,u,a))return void(t.visible=!1);u("line.width"),r(e,t,u,"increasing"),r(e,t,u,"decreasing"),u("text"),u("whiskerwidth")}},function(e,t,n){"use strict";var r=n(318);e.exports={moduleType:"trace",name:"candlestick",basePlotModule:n(44),categories:["cartesian","showLegend","candlestick"],meta:{description:["The candlestick is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The boxes represent the spread between the `open` and `close` values and","the lines represent the spread between the `low` and `high` values","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing candles are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:n(595),supplyDefaults:n(1439)},r(n(593)),r(n(1441))},function(e,t,n){"use strict";function r(e,t,n){var r={type:"box",boxpoints:!1,visible:e.visible,hoverinfo:e.hoverinfo,opacity:e.opacity,xaxis:e.xaxis,yaxis:e.yaxis,transforms:o.makeTransform(e,t,n)},a=e[n];return a&&i.extendFlat(r,{x:e.x||[0],xcalendar:e.xcalendar,y:[].concat(e.low).concat(e.high),whiskerwidth:e.whiskerwidth,text:e.text,name:a.name,showlegend:a.showlegend,line:a.line,fillcolor:a.fillcolor}),r}var i=n(0),o=n(235);t.moduleType="transform",t.name="candlestick",t.attributes={},t.supplyDefaults=function(e,t,n,r){return o.clearEphemeralTransformOpts(r),o.copyOHLC(e,t),e},t.transform=function(e,t){for(var n=[],i=0;i<e.length;i++){var a=e[i];"candlestick"===a.type?n.push(r(a,t,"increasing"),r(a,t,"decreasing")):n.push(a)}return o.addRangeSlider(n,t.layout),n},t.calcTransform=function(e,t,n){for(var r=n.direction,i=o.getFilterFn(r),a=t.open,s=t.high,l=t.low,u=t.close,c=a.length,f=[],h=[],d=t._fullInput.x?function(e){var n=t.x[e];f.push(n,n,n,n,n,n)}:function(e){f.push(e,e,e,e,e,e)},p=0;p<c;p++)i(a[p],u[p])&&(d(p),function(e,t,n,r){h.push(n,e,r,r,r,t)}(a[p],s[p],l[p],u[p]));t.x=f,t.y=h}},function(e,t,n){"use strict";function r(e,t,n,r){["aaxis","baxis"].forEach(function(o){var a=o.charAt(0),s=e[o]||{},l={},u={tickfont:"x",id:a+"axis",letter:a,font:t.font,name:o,data:e[a],calendar:t.calendar,dfltColor:r,bgColor:n.paper_bgcolor,fullLayout:n};i(s,l,u),l._categories=l._categories||[],t[o]=l,e[o]||"-"===s.type||(e[o]={type:s.type})})}var i=n(1446);e.exports=function(e,t,n,i,o){i("a")||(i("da"),i("a0")),i("b")||(i("db"),i("b0")),r(e,t,n,o)}},function(e,t,n){"use strict";function r(e,t){if(!Array.isArray(e)||t>=10)return null;for(var n=1/0,i=-1/0,o=e.length,a=0;a<o;a++){var s=e[a];if(Array.isArray(s)){var l=r(s,t+1);l&&(n=Math.min(l[0],n),i=Math.max(l[1],i))}else n=Math.min(s,n),i=Math.max(s,i)}return[n,i]}e.exports=function(e){return r(e,0)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,a,s,l,u,c,f,h,d,p,m,v,g=Array.isArray(n)?"a":"b",y="a"===g?e.aaxis:e.baxis,b=y.smoothing,x="a"===g?e.a2i:e.b2j,_="a"===g?n:r,w="a"===g?r:n,M="a"===g?t.a.length:t.b.length,k="a"===g?t.b.length:t.a.length,E=Math.floor("a"===g?e.b2j(w):e.a2i(w)),S="a"===g?function(t){return e.evalxy([],t,E)}:function(t){return e.evalxy([],E,t)};b&&(a=Math.max(0,Math.min(k-2,E)),s=E-a,o="a"===g?function(t,n){return e.dxydi([],t,a,n,s)}:function(t,n){return e.dxydj([],a,t,s,n)});var T=x(_[0]),A=x(_[1]),C=T<A?1:-1,D=1e-8*(A-T),O=C>0?Math.floor:Math.ceil,P=C>0?Math.ceil:Math.floor,L=C>0?Math.min:Math.max,I=C>0?Math.max:Math.min,N=O(T+D),R=P(A-D);c=S(T);var j=[[c]];for(i=N;i*C<R*C;i+=C)l=[],p=I(T,i),m=L(A,i+C),v=m-p,u=Math.max(0,Math.min(M-2,Math.floor(.5*(p+m)))),f=S(m),b&&(h=o(u,p-u),d=o(u,m-u),l.push([c[0]+h[0]/3*v,c[1]+h[1]/3*v]),l.push([f[0]-d[0]/3*v,f[1]-d[1]/3*v])),l.push(f),j.push(l),c=f;return j}},function(e,t,n){"use strict";var r=n(8).extendFlat,i=n(45),o=n(31);e.exports={color:{valType:"color",role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},smoothing:{valType:"number",dflt:1,min:0,max:1.3,role:"info"},title:{valType:"string",role:"info",description:"Sets the title of this axis."},titlefont:r({},i,{description:["Sets this axis' title font."].join(" ")}),titleoffset:{valType:"number",role:"info",dflt:10,description:["An additional amount by which to offset the title from the tick","labels, given in pixels"].join(" ")},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",role:"info",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",role:"info"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",role:"info"},nticks:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tickvals:{valType:"data_array",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",role:"style",description:["Determines whether axis labels are drawn on the low side,","the high side, both, or neither side of the axis."].join(" ")},tickfont:r({},i,{description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},labelpadding:{valType:"integer",role:"style",dflt:10,description:"Extra padding between label and the axis"},labelprefix:{valType:"string",role:"style",description:"Sets a axis label prefix."},labelsuffix:{valType:"string",dflt:"",role:"style",description:"Sets a axis label suffix."},showline:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:o.defaultLine,role:"style",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},gridcolor:{valType:"color",role:"style",description:"Sets the axis line color."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},minorgridcount:{valType:"integer",min:0,dflt:0,role:"info",description:"Sets the number of minor grid ticks per major grid tick"},minorgridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the grid lines."},minorgridcolor:{valType:"color",dflt:o.lightLine,role:"style",description:"Sets the color of the grid lines."},startline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the starting value","of this axis.","If *true*, the start line is drawn on top of the grid lines."].join(" ")},startlinecolor:{valType:"color",role:"style",description:"Sets the line color of the start line."},startlinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the start line."},endline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the final value","of this axis.","If *true*, the end line is drawn on top of the grid lines."].join(" ")},endlinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the end line."},endlinecolor:{valType:"color",role:"style",description:"Sets the line color of the end line."},tick0:{valType:"number",min:0,dflt:0,role:"info",description:"The starting index of grid lines along the axis"},dtick:{valType:"number",min:0,dflt:1,role:"info",description:"The stride between grid lines along the axis"},arraytick0:{valType:"integer",min:0,dflt:0,role:"info",description:"The starting index of grid lines along the axis"},arraydtick:{valType:"integer",min:1,dflt:1,role:"info",description:"The stride between grid lines along the axis"}}},function(e,t,n){"use strict";function r(e,t){if("-"===e.type){var n=e._id,r=n.charAt(0),i=r+"calendar",o=e[i];e.type=d(t,o)}}var i=n(332),o=n(3).addOpacity,a=n(6),s=n(0),l=n(227),u=n(226),c=n(568),f=n(169),h=n(570),d=n(225);e.exports=function(e,t,n){function d(n,r){return s.coerce(e,t,g,n,r)}function p(n,r){return s.coerce2(e,t,g,n,r)}var m=n.letter,v=n.font||{},g=i[m+"axis"];n.noHover=!0,n.name&&(t._name=n.name,t._id=n.name);var y=d("type");if("-"===y&&(n.data&&r(t,n.data),"-"===t.type?t.type="linear":y=e.type=t.type),d("smoothing"),d("cheatertype"),d("showticklabels"),d("labelprefix",m+" = "),d("labelsuffix"),d("showtickprefix"),d("showticksuffix"),d("separatethousands"),d("tickformat"),d("exponentformat"),d("showexponent"),d("categoryorder"),d("tickmode"),d("tickvals"),d("ticktext"),d("tick0"),d("dtick"),"array"===t.tickmode&&(d("arraytick0"),d("arraydtick")),d("labelpadding"),t._hovertitle=m,"date"===y){a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",n.calendar)}f(t,n.fullLayout);var b=d("color",n.dfltColor),x=b===e.color?b:v.color;d("title"),s.coerceFont(d,"titlefont",{family:v.family,size:Math.round(1.2*v.size),color:x}),d("titleoffset"),d("tickangle"),d("autorange",!t.isValidRange(e.range))&&d("rangemode"),d("range"),t.cleanRange(),d("fixedrange"),l(e,t,d,y),u(e,t,d,y,n),c(e,t,d);var _=p("gridcolor",o(b,.3)),w=p("gridwidth"),M=d("showgrid");M||(delete t.gridcolor,delete t.gridwidth);var k=p("startlinecolor",b),E=p("startlinewidth",w);d("startline",t.showgrid||!!k||!!E)||(delete t.startlinecolor,delete t.startlinewidth);var S=p("endlinecolor",b),T=p("endlinewidth",w);return d("endline",t.showgrid||!!S||!!T)||(delete t.endlinecolor,delete t.endlinewidth),M?(d("minorgridcount"),d("minorgridwidth",w),d("minorgridcolor",o(_,.06)),t.minorgridcount||(delete t.minorgridwidth,delete t.minorgridcolor)):(delete t.gridcolor,delete t.gridWidth),t._separators=n.fullLayout.separators,t._initialCategories="category"===y?h(m,t.categoryorder,t.categoryarray,n.data):[],"none"===t.showticklabels&&(delete t.tickfont,delete t.tickangle,delete t.showexponent,delete t.exponentformat,delete t.tickformat,delete t.showticksuffix,delete t.showtickprefix),t.showticksuffix||delete t.ticksuffix,t.showtickprefix||delete t.tickprefix,d("tickmode"),(!t.title||t.title&&0===t.title.length)&&(delete t.titlefont,delete t.titleoffset),t}},function(e,t,n){"use strict";var r=n(5),i=n(1452),o=n(1443),a=n(1461),s=n(1449),l=n(1450),u=n(1448),c=n(339),f=n(1465);e.exports=function(e,t){var n,h=r.getFromId(e,t.xaxis||"x"),d=r.getFromId(e,t.yaxis||"y"),p=t.aaxis,m=t.baxis,v=t._a=t.a,g=t._b=t.b,y={},b=t.y;if(t._cheater){var x="index"===p.cheatertype?v.length:v,_="index"===m.cheatertype?g.length:g;t.x=n=i(x,_,t.cheaterslope)}else n=t.x;t._x=t.x=n=c(n),t._y=t.y=b=c(b),f(n,v,g),f(b,v,g),t.setScale(),y.xp=t.xp=a(t.xp,n,h.c2p),y.yp=t.yp=a(t.yp,b,d.c2p);var w=o(n),M=o(b),k=.5*(w[1]-w[0]),E=.5*(w[1]+w[0]),S=.5*(M[1]-M[0]),T=.5*(M[1]+M[0]);return w=[E-1.3*k,E+1.3*k],M=[T-1.3*S,T+1.3*S],r.expand(h,w,{padded:!0}),r.expand(d,M,{padded:!0}),s(t,y,"a","b"),s(t,y,"b","a"),l(t,p),l(t,m),y.clipsegments=u(t.xctrl,t.yctrl,p,m),y.x=n,y.y=b,y.a=v,y.b=g,[y]}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,a,s=[],l=!!n.smoothing,u=!!r.smoothing,c=e[0].length-1,f=e.length-1;for(i=0,o=[],a=[];i<=c;i++)o[i]=e[0][i],a[i]=t[0][i];for(s.push({x:o,y:a,bicubic:l}),i=0,o=[],a=[];i<=f;i++)o[i]=e[i][c],a[i]=t[i][c];for(s.push({x:o,y:a,bicubic:u}),i=c,o=[],a=[];i>=0;i--)o[c-i]=e[f][i],a[c-i]=t[f][i];for(s.push({x:o,y:a,bicubic:l}),i=f,o=[],a=[];i>=0;i--)o[f-i]=e[i][0],a[f-i]=t[i][0];return s.push({x:o,y:a,bicubic:u}),s}},function(e,t,n){"use strict";var r=n(5),i=n(8).extendFlat;e.exports=function(e,t,n,o){function a(t){var r,i,a,s,l,u,c,f,h,d,p,v,g=[],y=[],b={};if("b"===n)for(i=e.b2j(t),a=Math.floor(Math.max(0,Math.min(I-2,i))),s=i-a,b.length=I,b.crossLength=L,b.xy=function(t){return e.evalxy([],t,i)},b.dxy=function(t,n){return e.dxydi([],t,a,n,s)},r=0;r<L;r++)u=Math.min(L-2,r),c=r-u,f=e.evalxy([],r,i),A.smoothing&&r>0&&(h=e.dxydi([],r-1,a,0,s),g.push(l[0]+h[0]/3),y.push(l[1]+h[1]/3),d=e.dxydi([],r-1,a,1,s),g.push(f[0]-d[0]/3),y.push(f[1]-d[1]/3)),g.push(f[0]),y.push(f[1]),l=f;else for(r=e.a2i(t),u=Math.floor(Math.max(0,Math.min(L-2,r))),c=r-u,b.length=L,b.crossLength=I,b.xy=function(t){return e.evalxy([],r,t)},b.dxy=function(t,n){return e.dxydj([],u,t,c,n)},i=0;i<I;i++)a=Math.min(I-2,i),s=i-a,f=e.evalxy([],r,i),A.smoothing&&i>0&&(p=e.dxydj([],u,i-1,c,0),g.push(l[0]+p[0]/3),y.push(l[1]+p[1]/3),v=e.dxydj([],u,i-1,c,1),g.push(f[0]-v[0]/3),y.push(f[1]-v[1]/3)),g.push(f[0]),y.push(f[1]),l=f;return b.axisLetter=n,b.axis=M,b.crossAxis=A,b.value=t,b.constvar=o,b.index=m,b.x=g,b.y=y,b.smoothing=A.smoothing,b}function s(t){var r,i,a,s,l,u=[],c=[],f={};if(f.length=w.length,f.crossLength=T.length,"b"===n)for(a=Math.max(0,Math.min(I-2,t)),l=Math.min(1,Math.max(0,t-a)),f.xy=function(n){return e.evalxy([],n,t)},f.dxy=function(t,n){return e.dxydi([],t,a,n,l)},r=0;r<O;r++)u[r]=C[t*N][r],c[r]=D[t*N][r];else for(i=Math.max(0,Math.min(L-2,t)),s=Math.min(1,Math.max(0,t-i)),f.xy=function(n){return e.evalxy([],t,n)},f.dxy=function(t,n){return e.dxydj([],i,t,s,n)},r=0;r<P;r++)u[r]=C[r][t*N],c[r]=D[r][t*N];return f.axisLetter=n,f.axis=M,f.crossAxis=A,f.value=w[t],f.constvar=o,f.index=t,f.x=u,f.y=c,f.smoothing=A.smoothing,f}var l,u,c,f,h,d,p,m,v,g,y,b,x,_,w=e[n],M=e[n+"axis"],k=M._gridlines=[],E=M._minorgridlines=[],S=M._boundarylines=[],T=e[o],A=e[o+"axis"];if("array"===M.tickmode)for(M.tickvals=[],l=0;l<w.length;l++)M.tickvals.push(w[l]);var C=e.xctrl,D=e.yctrl,O=C[0].length,P=C.length,L=e.a.length,I=e.b.length;r.calcTicks(M);var N=M.smoothing?3:1;if("array"===M.tickmode){for(f=5e-15,h=[Math.floor((w.length-1-M.arraytick0)/M.arraydtick*(1+f)),Math.ceil(-M.arraytick0/M.arraydtick/(1+f))].sort(function(e,t){return e-t}),d=h[0]-1,p=h[1]+1,m=d;m<p;m++)(u=M.arraytick0+M.arraydtick*m)<0||u>w.length-1||k.push(i(s(u),{color:M.gridcolor,width:M.gridwidth}));for(m=d;m<p;m++)if(c=M.arraytick0+M.arraydtick*m,y=Math.min(c+M.arraydtick,w.length-1),!(c<0||c>w.length-1)&&!(y<0||y>w.length-1))for(b=w[c],x=w[y],l=0;l<M.minorgridcount;l++)(_=y-c)<=0||(g=b+(x-b)*(l+1)/(M.minorgridcount+1)*(M.arraydtick/_))<w[0]||g>w[w.length-1]||E.push(i(a(g),{color:M.minorgridcolor,width:M.minorgridwidth}));M.startline&&S.push(i(s(0),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&S.push(i(s(w.length-1),{color:M.endlinecolor,width:M.endlinewidth}))}else{for(f=5e-15,h=[Math.floor((w[w.length-1]-M.tick0)/M.dtick*(1+f)),Math.ceil((w[0]-M.tick0)/M.dtick/(1+f))].sort(function(e,t){return e-t}),d=h[0],p=h[1],m=d;m<=p;m++)v=M.tick0+M.dtick*m,k.push(i(a(v),{color:M.gridcolor,width:M.gridwidth}));for(m=d-1;m<p+1;m++)for(v=M.tick0+M.dtick*m,l=0;l<M.minorgridcount;l++)(g=v+M.dtick*(l+1)/(M.minorgridcount+1))<w[0]||g>w[w.length-1]||E.push(i(a(g),{color:M.minorgridcolor,width:M.minorgridwidth}));M.startline&&S.push(i(a(w[0]),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&S.push(i(a(w[w.length-1]),{color:M.endlinecolor,width:M.endlinewidth}))}}},function(e,t,n){"use strict";var r=n(5),i=n(8).extendFlat;e.exports=function(e,t){var n,o,a,s=t._labels=[],l=t._gridlines;for(n=0;n<l.length;n++)a=l[n],-1!==["start","both"].indexOf(t.showticklabels)&&(o=r.tickText(t,a.value),i(o,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:0===n,isLast:n===l.length-1}),s.push(o)),-1!==["end","both"].indexOf(t.showticklabels)&&(o=r.tickText(t,a.value),i(o,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:0===n,isLast:n===l.length-1}),s.push(o))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=n[0]-t[0],s=n[1]-t[1],l=Math.pow(i*i+o*o,.25),u=Math.pow(a*a+s*s,.25),c=(u*u*i-l*l*a)*r,f=(u*u*o-l*l*s)*r,h=u*(l+u)*3,d=l*(l+u)*3;return[[t[0]+(h&&c/h),t[1]+(h&&f/h)],[t[0]-(d&&c/d),t[1]-(d&&f/d)]]}},function(e,t,n){"use strict";var r=n(0).isArray;e.exports=function(e,t,n){var i,o,a,s,l,u,c=[],f=r(e)?e.length:e,h=r(t)?t.length:t,d=r(e)?e:null,p=r(t)?t:null;d&&(a=(d.length-1)/(d[d.length-1]-d[0])/(f-1)),p&&(s=(p.length-1)/(p[p.length-1]-p[0])/(h-1));var m,v=1/0,g=-1/0;for(o=0;o<h;o++)for(c[o]=[],u=p?(p[o]-p[0])*s:o/(h-1),i=0;i<f;i++)l=d?(d[i]-d[0])*a:i/(f-1),m=l-u*n,v=Math.min(m,v),g=Math.max(m,g),c[o][i]=m;var y=1/(g-v),b=-v*y;for(o=0;o<h;o++)for(i=0;i<f;i++)c[o][i]=y*c[o][i]+b;return c}},function(e,t,n){"use strict";function r(e,t,n){var r=-.5*n[0]+1.5*t[0],i=-.5*n[1]+1.5*t[1];return[(2*r+e[0])/3,(2*i+e[1])/3]}var i=n(1451),o=n(0).ensureArray;e.exports=function(e,t,n,a,s,l){var u,c,f,h,d,p,m,v,g,y,b=n[0].length,x=n.length,_=s?3*b-2:b,w=l?3*x-2:x;for(e=o(e,w),t=o(t,w),f=0;f<w;f++)e[f]=o(e[f],_),t[f]=o(t[f],_);for(c=0,h=0;c<x;c++,h+=l?3:1)for(d=e[h],p=t[h],m=n[c],v=a[c],u=0,f=0;u<b;u++,f+=s?3:1)d[f]=m[u],p[f]=v[u];if(s)for(c=0,h=0;c<x;c++,h+=l?3:1){for(u=1,f=3;u<b-1;u++,f+=3)g=i([n[c][u-1],a[c][u-1]],[n[c][u],a[c][u]],[n[c][u+1],a[c][u+1]],s),e[h][f-1]=g[0][0],t[h][f-1]=g[0][1],e[h][f+1]=g[1][0],t[h][f+1]=g[1][1];y=r([e[h][0],t[h][0]],[e[h][2],t[h][2]],[e[h][3],t[h][3]]),e[h][1]=y[0],t[h][1]=y[1],y=r([e[h][_-1],t[h][_-1]],[e[h][_-3],t[h][_-3]],[e[h][_-4],t[h][_-4]]),e[h][_-2]=y[0],t[h][_-2]=y[1]}if(l)for(f=0;f<_;f++){for(h=3;h<w-3;h+=3)g=i([e[h-3][f],t[h-3][f]],[e[h][f],t[h][f]],[e[h+3][f],t[h+3][f]],l),e[h-1][f]=g[0][0],t[h-1][f]=g[0][1],e[h+1][f]=g[1][0],t[h+1][f]=g[1][1];y=r([e[0][f],t[0][f]],[e[2][f],t[2][f]],[e[3][f],t[3][f]]),e[1][f]=y[0],t[1][f]=y[1],y=r([e[w-1][f],t[w-1][f]],[e[w-3][f],t[w-3][f]],[e[w-4][f],t[w-4][f]]),e[w-2][f]=y[0],t[w-2][f]=y[1]}if(s&&l)for(h=1;h<w;h+=(h+1)%3===0?2:1){for(f=3;f<_-3;f+=3)g=i([e[h][f-3],t[h][f-3]],[e[h][f],t[h][f]],[e[h][f+3],t[h][f+3]],s),e[h][f-1]=.5*(e[h][f-1]+g[0][0]),t[h][f-1]=.5*(t[h][f-1]+g[0][1]),e[h][f+1]=.5*(e[h][f+1]+g[1][0]),t[h][f+1]=.5*(t[h][f+1]+g[1][1]);y=r([e[h][0],t[h][0]],[e[h][2],t[h][2]],[e[h][3],t[h][3]]),e[h][1]=.5*(e[h][1]+y[0]),t[h][1]=.5*(t[h][1]+y[1]),y=r([e[h][_-1],t[h][_-1]],[e[h][_-3],t[h][_-3]],[e[h][_-4],t[h][_-4]]),e[h][_-2]=.5*(e[h][_-2]+y[0]),t[h][_-2]=.5*(t[h][_-2]+y[1])}return[e,t]}},function(e,t,n){"use strict";e.exports={RELATIVE_CULL_TOLERANCE:1e-6}},function(e,t,n){"use strict";e.exports=function(e,t,n){return t&&n?function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c,f;n*=3,r*=3;var h=i*i,d=1-i,p=d*d,m=d*i*2,v=-3*p,g=3*(p-m),y=3*(m-h),b=3*h,x=o*o,_=x*o,w=1-o,M=w*w,k=M*w;for(f=0;f<e.length;f++)c=e[f],a=v*c[r][n]+g*c[r][n+1]+y*c[r][n+2]+b*c[r][n+3],s=v*c[r+1][n]+g*c[r+1][n+1]+y*c[r+1][n+2]+b*c[r+1][n+3],l=v*c[r+2][n]+g*c[r+2][n+1]+y*c[r+2][n+2]+b*c[r+2][n+3],u=v*c[r+3][n]+g*c[r+3][n+1]+y*c[r+3][n+2]+b*c[r+3][n+3],t[f]=k*a+3*(M*o*s+w*x*l)+_*u;return t}:t?function(t,n,r,i,o){t||(t=[]);var a,s,l,u;n*=3;var c=i*i,f=1-i,h=f*f,d=f*i*2,p=-3*h,m=3*(h-d),v=3*(d-c),g=3*c,y=1-o;for(l=0;l<e.length;l++)u=e[l],a=p*u[r][n]+m*u[r][n+1]+v*u[r][n+2]+g*u[r][n+3],s=p*u[r+1][n]+m*u[r+1][n+1]+v*u[r+1][n+2]+g*u[r+1][n+3],t[l]=y*a+o*s;return t}:n?function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c,f;r*=3;var h=o*o,d=h*o,p=1-o,m=p*p,v=m*p;for(c=0;c<e.length;c++)f=e[c],a=f[r][n+1]-f[r][n],s=f[r+1][n+1]-f[r+1][n],l=f[r+2][n+1]-f[r+2][n],u=f[r+3][n+1]-f[r+3][n],t[c]=v*a+3*(m*o*s+p*h*l)+d*u;return t}:function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c=1-o;for(l=0;l<e.length;l++)u=e[l],a=u[r][n+1]-u[r][n],s=u[r+1][n+1]-u[r+1][n],t[l]=c*a+o*s;return t}}},function(e,t,n){"use strict";e.exports=function(e,t,n){return t&&n?function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c,f;n*=3,r*=3;var h=i*i,d=h*i,p=1-i,m=p*p,v=m*p,g=o*o,y=1-o,b=y*y,x=y*o*2,_=-3*b,w=3*(b-x),M=3*(x-g),k=3*g;for(f=0;f<e.length;f++)c=e[f],a=_*c[r][n]+w*c[r+1][n]+M*c[r+2][n]+k*c[r+3][n],s=_*c[r][n+1]+w*c[r+1][n+1]+M*c[r+2][n+1]+k*c[r+3][n+1],l=_*c[r][n+2]+w*c[r+1][n+2]+M*c[r+2][n+2]+k*c[r+3][n+2],u=_*c[r][n+3]+w*c[r+1][n+3]+M*c[r+2][n+3]+k*c[r+3][n+3],t[f]=v*a+3*(m*i*s+p*h*l)+d*u;return t}:t?function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c,f;n*=3;var h=o*o,d=h*o,p=1-o,m=p*p,v=m*p;for(c=0;c<e.length;c++)f=e[c],a=f[r+1][n]-f[r][n],s=f[r+1][n+1]-f[r][n+1],l=f[r+1][n+2]-f[r][n+2],u=f[r+1][n+3]-f[r][n+3],t[c]=v*a+3*(m*o*s+p*h*l)+d*u;return t}:n?function(t,n,r,i,o){t||(t=[]);var a,s,l,u;r*=3;var c=1-i,f=o*o,h=1-o,d=h*h,p=h*o*2,m=-3*d,v=3*(d-p),g=3*(p-f),y=3*f;for(l=0;l<e.length;l++)u=e[l],a=m*u[r][n]+v*u[r+1][n]+g*u[r+2][n]+y*u[r+3][n],s=m*u[r][n+1]+v*u[r+1][n+1]+g*u[r+2][n+1]+y*u[r+3][n+1],t[l]=c*a+i*s;return t}:function(t,n,r,i,o){t||(t=[]);var a,s,l,u,c=1-i;for(l=0;l<e.length;l++)u=e[l],a=u[r+1][n]-u[r][n],s=u[r+1][n+1]-u[r][n+1],t[l]=c*a+i*s;return t}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){var o=t-2,a=n-2;return r&&i?function(t,n,r){t||(t=[]);var i,s,l,u,c,f,h=Math.max(0,Math.min(Math.floor(n),o)),d=Math.max(0,Math.min(Math.floor(r),a)),p=Math.max(0,Math.min(1,n-h)),m=Math.max(0,Math.min(1,r-d));h*=3,d*=3;var v=p*p,g=v*p,y=1-p,b=y*y,x=b*y,_=m*m,w=_*m,M=1-m,k=M*M,E=k*M;for(f=0;f<e.length;f++)c=e[f],i=x*c[d][h]+3*(b*p*c[d][h+1]+y*v*c[d][h+2])+g*c[d][h+3],s=x*c[d+1][h]+3*(b*p*c[d+1][h+1]+y*v*c[d+1][h+2])+g*c[d+1][h+3],l=x*c[d+2][h]+3*(b*p*c[d+2][h+1]+y*v*c[d+2][h+2])+g*c[d+2][h+3],u=x*c[d+3][h]+3*(b*p*c[d+3][h+1]+y*v*c[d+3][h+2])+g*c[d+3][h+3],t[f]=E*i+3*(k*m*s+M*_*l)+w*u;return t}:r?function(t,n,r){t||(t=[]);var i,s,l,u,c,f,h=Math.max(0,Math.min(Math.floor(n),o)),d=Math.max(0,Math.min(Math.floor(r),a)),p=Math.max(0,Math.min(1,n-h)),m=Math.max(0,Math.min(1,r-d));h*=3;var v=p*p,g=v*p,y=1-p,b=y*y,x=b*y,_=1-m;for(c=0;c<e.length;c++)f=e[c],i=_*f[d][h]+m*f[d+1][h],s=_*f[d][h+1]+m*f[d+1][h+1],l=_*f[d][h+2]+m*f[d+1][h+1],u=_*f[d][h+3]+m*f[d+1][h+1],t[c]=x*i+3*(b*p*s+y*v*l)+g*u;return t}:i?function(t,n,r){t||(t=[]);var i,s,l,u,c,f,h=Math.max(0,Math.min(Math.floor(n),o)),d=Math.max(0,Math.min(Math.floor(r),a)),p=Math.max(0,Math.min(1,n-h)),m=Math.max(0,Math.min(1,r-d));d*=3;var v=m*m,g=v*m,y=1-m,b=y*y,x=b*y,_=1-p;for(c=0;c<e.length;c++)f=e[c],i=_*f[d][h]+p*f[d][h+1],s=_*f[d+1][h]+p*f[d+1][h+1],l=_*f[d+2][h]+p*f[d+2][h+1],u=_*f[d+3][h]+p*f[d+3][h+1],t[c]=x*i+3*(b*m*s+y*v*l)+g*u;return t}:function(t,n,r){t||(t=[]);var i,s,l,u,c=Math.max(0,Math.min(Math.floor(n),o)),f=Math.max(0,Math.min(Math.floor(r),a)),h=Math.max(0,Math.min(1,n-c)),d=Math.max(0,Math.min(1,r-f)),p=1-d,m=1-h;for(l=0;l<e.length;l++)u=e[l],i=m*u[f][c]+h*u[f][c+1],s=m*u[f+1][c]+h*u[f+1][c+1],t[l]=p*i+d*s;return t}}},function(e,t,n){"use strict";var r=n(0),i=n(1466),o=n(1442),a=n(1464),s=n(332),l=n(31);e.exports=function(e,t,n,u){function c(n,i){return r.coerce(e,t,s,n,i)}var f=c("color",l.defaultLine);if(r.coerceFont(c,"font"),c("carpet"),o(e,t,u,c,f),!t.a||!t.b)return void(t.visible=!1);t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var h=i(e,t,c);return a(t),t._cheater&&c("cheaterslope"),h?void 0:void(t.visible=!1)}},function(e,t,n){"use strict";e.exports=function(e){return Array.isArray(e[0])}},function(e,t,n){"use strict";var r={};r.attributes=n(332),r.supplyDefaults=n(1458),r.plot=n(1463),r.calc=n(1447),r.animatable=!0,r.moduleType="trace",r.name="carpet",r.basePlotModule=n(44),r.categories=["cartesian","carpet","carpetAxis","notLegendIsolatable"],r.meta={description:["The data describing carpet axis layout is set in `y` and (optionally)","also `x`. If only `y` is present, `x` the plot is interpreted as a","cheater plot and is filled in using the `y` values.","`x` and `y` may either be 2D arrays matching with each dimension matching","that of `a` and `b`, or they may be 1D arrays with total length equal to","that of `a` and `b`."].join(" ")},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i;for(Array.isArray(e)?e.length>t.length&&(e=e.slice(0,t.length)):e=[],r=0;r<t.length;r++)for(Array.isArray(e[r])?e[r].length>t.length&&(e[r]=e[r].slice(0,t.length)):e[r]=[],i=0;i<t[0].length;i++)e[r][i]=n(t[r][i]);return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o){var a=i[0]*e.dpdx(t),s=i[1]*e.dpdy(n),l=1,u=1;if(o){var c=Math.sqrt(i[0]*i[0]+i[1]*i[1]),f=Math.sqrt(o[0]*o[0]+o[1]*o[1]),h=(i[0]*o[0]+i[1]*o[1])/c/f;u=Math.max(0,h)}var d=180*Math.atan2(s,a)/Math.PI;return d<-90?(d+=180,l=-l):d>90&&(d-=180,l=-l),{angle:d,flip:l,p:e.c2p(r,t,n),offsetMultplier:u}}},function(e,t,n){"use strict";function r(e,t,n){var r=e.selectAll(t+"."+n).data([0]);return r.enter().append(t).classed(n,!0),r}function i(e,t,n){var i=n[0],u=n[0].trace,c=t.xaxis,f=t.yaxis,h=u.aaxis,d=u.baxis,p=e._fullLayout,m=t.plot.selectAll(".carpetlayer"),v=r(p._defs,"g","clips"),g=r(m,"g","carpet"+u.uid).classed("trace",!0),y=r(g,"g","minorlayer"),b=r(g,"g","majorlayer"),x=r(g,"g","boundarylayer"),_=r(g,"g","labellayer");g.style("opacity",u.opacity),a(c,f,b,h,"a",h._gridlines),a(c,f,b,d,"b",d._gridlines),a(c,f,y,h,"a",h._minorgridlines),a(c,f,y,d,"b",d._minorgridlines),a(c,f,x,h,"a-boundary",h._boundarylines),a(c,f,x,d,"b-boundary",d._boundarylines),l(_,u,i,c,f,s(e._tester,c,f,u,i,_,h._labels,"a-label"),s(e._tester,c,f,u,i,_,d._labels,"b-label")),o(u,i,v,c,f)}function o(e,t,n,i,o){var a,s,l,u;e.clipPathId="clip"+e.uid+"carpet";var c=n.select("#"+e.clipPathId);c.size()||(c=n.append("clipPath").classed("carpetclip",!0));var f=r(c,"path","carpetboundary"),p=t.clipsegments,m=[];for(u=0;u<p.length;u++)a=p[u],s=h([],a.x,i.c2p),l=h([],a.y,o.c2p),m.push(d(s,l,a.bicubic));e.clipPathData="M"+m.join("L")+"Z",c.attr("id",e.clipPathId),f.attr("d",e.clipPathData)}function a(e,t,n,r,i,o){var a="const-"+i+"-lines",s=n.selectAll("."+a).data(o);s.enter().append("path").classed(a,!0).style("vector-effect","non-scaling-stroke"),s.each(function(n){var r=n,i=r.x,o=r.y,a=h([],i,e.c2p),s=h([],o,t.c2p),l="M"+d(a,s,r.smoothing);c.select(this).attr("d",l).style("stroke-width",r.width).style("stroke",r.color).style("fill","none")}),s.exit().remove()}function s(e,t,n,r,i,o,a,s){var l=o.selectAll("text."+s).data(a);l.enter().append("text").classed(s,!0);var u=0;return l.each(function(i){var o;if("auto"===i.axis.tickangle)o=p(r,t,n,i.xy,i.dxy);else{var a=(i.axis.tickangle+180)*Math.PI/180;o=p(r,t,n,i.xy,[Math.cos(a),Math.sin(a)])}var s=(i.endAnchor?-1:1)*o.flip,l=f.measureText(e,i.text,i.font);c.select(this).attr("text-anchor",s>0?"start":"end").text(i.text).attr("transform","translate("+o.p[0]+","+o.p[1]+") rotate("+o.angle+")translate("+i.axis.labelpadding*s+","+.3*l.height+")").call(f.font,i.font.family,i.font.size,i.font.color),u=Math.max(u,l.width+i.axis.labelpadding)}),l.exit().remove(),u}function l(e,t,n,r,i,o,a){var s,l,c,f;s=.5*(t.a[0]+t.a[t.a.length-1]),l=t.b[0],c=t.ab2xy(s,l,!0),f=t.dxyda_rough(s,l),u(e,t,n,c,f,t.aaxis,r,i,o,"a-title"),s=t.a[0],l=.5*(t.b[0]+t.b[t.b.length-1]),c=t.ab2xy(s,l,!0),f=t.dxydb_rough(s,l),u(e,t,n,c,f,t.baxis,r,i,a,"b-title")}function u(e,t,n,r,i,o,a,s,l,u){var h=[];o.title&&h.push(o.title);var d=e.selectAll("text."+u).data(h);d.enter().append("text").classed(u,!0),d.each(function(){var e=p(t,a,s,r,i);-1===["start","both"].indexOf(o.showticklabels)&&(l=0),l+=o.titlefont.size+o.titleoffset,c.select(this).text(o.title||"").attr("transform","translate("+e.p[0]+","+e.p[1]+") rotate("+e.angle+") translate(0,"+l+")").classed("user-select-none",!0).attr("text-anchor","middle").call(f.font,o.titlefont)}),d.exit().remove()}var c=n(2),f=n(12),h=n(597),d=n(596),p=n(1462);e.exports=function(e,t,n){for(var r=0;r<n.length;r++)i(e,t,n[r])}},function(e,t,n){"use strict";var r=n(1454),i=n(563).findBin,o=n(1453),a=n(1457),s=n(1455),l=n(1456);e.exports=function(e){var t=e.a,n=e.b,u=e.a.length,c=e.b.length,f=e.aaxis,h=e.baxis,d=t[0],p=t[u-1],m=n[0],v=n[c-1],g=t[t.length-1]-t[0],y=n[n.length-1]-n[0],b=g*r.RELATIVE_CULL_TOLERANCE,x=y*r.RELATIVE_CULL_TOLERANCE;d-=b,p+=b,m-=x,v+=x,e.isVisible=function(e,t){return e>d&&e<p&&t>m&&t<v},e.isOccluded=function(e,t){return e<d||e>p||t<m||t>v},f.c2p=function(e){return e},h.c2p=function(e){return e},e.setScale=function(){var t=e.x,n=e.y,r=o(e.xctrl,e.yctrl,t,n,f.smoothing,h.smoothing);e.xctrl=r[0],e.yctrl=r[1],e.evalxy=a([e.xctrl,e.yctrl],u,c,f.smoothing,h.smoothing),e.dxydi=s([e.xctrl,e.yctrl],f.smoothing,h.smoothing),e.dxydj=l([e.xctrl,e.yctrl],f.smoothing,h.smoothing)},e.i2a=function(e){var n=Math.max(0,Math.floor(e[0]),u-2),r=e[0]-n;return(1-r)*t[n]+r*t[n+1]},e.j2b=function(e){var t=Math.max(0,Math.floor(e[1]),u-2),r=e[1]-t;return(1-r)*n[t]+r*n[t+1]},e.ij2ab=function(t){return[e.i2a(t[0]),e.j2b(t[1])]},e.a2i=function(e){var n=Math.max(0,Math.min(i(e,t),u-2)),r=t[n],o=t[n+1];return Math.max(0,Math.min(u-1,n+(e-r)/(o-r)))},e.b2j=function(e){var t=Math.max(0,Math.min(i(e,n),c-2)),r=n[t],o=n[t+1];return Math.max(0,Math.min(c-1,t+(e-r)/(o-r)))},e.ab2ij=function(t){return[e.a2i(t[0]),e.b2j(t[1])]},e.i2c=function(t,n){return e.evalxy([],t,n)},e.ab2xy=function(r,i,o){if(!o&&(r<t[0]||r>t[u-1]|i<n[0]||i>n[c-1]))return[!1,!1];var a=e.a2i(r),s=e.b2j(i),l=e.evalxy([],a,s);if(o){var f,h,d,p,m=0,v=0,g=[];r<t[0]?(f=0,h=0,m=(r-t[0])/(t[1]-t[0])):r>t[u-1]?(f=u-2,h=1,m=(r-t[u-1])/(t[u-1]-t[u-2])):(f=Math.max(0,Math.min(u-2,Math.floor(a))),h=a-f),i<n[0]?(d=0,p=0,v=(i-n[0])/(n[1]-n[0])):i>n[c-1]?(d=c-2,p=1,v=(i-n[c-1])/(n[c-1]-n[c-2])):(d=Math.max(0,Math.min(c-2,Math.floor(s))),p=s-d),m&&(e.dxydi(g,f,d,h,p),l[0]+=g[0]*m,l[1]+=g[1]*m),v&&(e.dxydj(g,f,d,h,p),l[0]+=g[0]*v,l[1]+=g[1]*v)}return l},e.c2p=function(e,t,n){return[t.c2p(e[0]),n.c2p(e[1])]},e.p2x=function(e,t,n){return[t.p2c(e[0]),n.p2c(e[1])]},e.dadi=function(e){var n=Math.max(0,Math.min(t.length-2,e));return t[n+1]-t[n]},e.dbdj=function(e){var t=Math.max(0,Math.min(n.length-2,e));return n[t+1]-n[t]},e.dxyda=function(t,n,r,i){var o=e.dxydi(null,t,n,r,i),a=e.dadi(t,r);return[o[0]/a,o[1]/a]},e.dxydb=function(t,n,r,i){var o=e.dxydj(null,t,n,r,i),a=e.dbdj(n,i);return[o[0]/a,o[1]/a]},e.dxyda_rough=function(t,n,r){var i=g*(r||.1),o=e.ab2xy(t+i,n,!0),a=e.ab2xy(t-i,n,!0);return[.5*(o[0]-a[0])/i,.5*(o[1]-a[1])/i]},e.dxydb_rough=function(t,n,r){var i=y*(r||.1),o=e.ab2xy(t,n+i,!0),a=e.ab2xy(t,n-i,!0);return[.5*(o[0]-a[0])/i,.5*(o[1]-a[1])/i]},e.dpdx=function(e){return e._m},e.dpdy=function(e){return e._m}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){var i,o,a,s=[],l=[],u=e[0].length,c=e.length,f=0;for(i=0;i<u;i++)for(o=0;o<c;o++)void 0===e[o][i]&&(s.push(i),l.push(o),e[o][i]=function(t,n){var r,i=0,o=0;return t>0&&void 0!==(r=e[n][t-1])&&(o++,i+=r),t<u-1&&void 0!==(r=e[n][t+1])&&(o++,i+=r),n>0&&void 0!==(r=e[n-1][t])&&(o++,i+=r),n<c-1&&void 0!==(r=e[n+1][t])&&(o++,i+=r),i/Math.max(1,o)}(i,o)),f=Math.max(f,Math.abs(e[o][i]));if(!s.length)return e;var h,d,p,m,v,g,y,b,x,_,w,M=0,k=0,E=s.length;do{for(M=0,a=0;a<E;a++){i=s[a],o=l[a];var S,T,A,C,D,O,P=0,L=0;0===i?(D=Math.min(u-1,2),A=t[D],C=t[1],S=e[o][D],T=e[o][1],L+=T+(T-S)*(t[0]-C)/(C-A),P++):i===u-1&&(D=Math.max(0,u-3),A=t[D],C=t[u-2],S=e[o][D],T=e[o][u-2],L+=T+(T-S)*(t[u-1]-C)/(C-A),P++),(0===i||i===u-1)&&o>0&&o<c-1&&(h=n[o+1]-n[o],d=n[o]-n[o-1],L+=(d*e[o+1][i]+h*e[o-1][i])/(d+h),P++),0===o?(O=Math.min(c-1,2),A=n[O],C=n[1],S=e[O][i],T=e[1][i],L+=T+(T-S)*(n[0]-C)/(C-A),P++):o===c-1&&(O=Math.max(0,c-3),A=n[O],C=n[c-2],S=e[O][i],T=e[c-2][i],L+=T+(T-S)*(n[c-1]-C)/(C-A),P++),(0===o||o===c-1)&&i>0&&i<u-1&&(h=t[i+1]-t[i],d=t[i]-t[i-1],L+=(d*e[o][i+1]+h*e[o][i-1])/(d+h),P++),P?L/=P:(p=t[i+1]-t[i],m=t[i]-t[i-1],v=n[o+1]-n[o],g=n[o]-n[o-1],y=p*m*(p+m),b=v*g*(v+g),L=(y*(g*e[o+1][i]+v*e[o-1][i])+b*(m*e[o][i+1]+p*e[o][i-1]))/(b*(m+p)+y*(g+v))),x=L-e[o][i],_=x/f,M+=_*_,w=P?0:.85,e[o][i]+=x*(1+w)}M=Math.sqrt(M)}while(k++<100&&M>1e-5);return r.log("Smoother converged to",M,"after",k,"iterations"),e}},function(e,t,n){"use strict";var r=n(1459),i=n(340);e.exports=function(e,t,n){var o=[],a=n("x");a&&!r(a)&&o.push("x"),t._cheater=!a;var s=n("y");if(s&&!r(s)&&o.push("y"),a||s)return o.length&&i(t,t.aaxis,t.baxis,"a","b",o),!0}},function(e,t,n){"use strict";var r=n(88);e.exports=function(e,t){r(t,t.z,"","z")}},function(e,t,n){"use strict";var r=n(0),i=n(65),o=n(334);e.exports=function(e,t,n,a){function s(n,i){return r.coerce(e,t,o,n,i)}var l,u=s("locations");if(u&&(l=u.length),!u||!l)return void(t.visible=!1);var c=s("z");if(!Array.isArray(c))return void(t.visible=!1);c.length>l&&(t.z=c.slice(0,l)),s("locationmode"),s("text"),s("marker.line.color"),s("marker.line.width"),i(e,t,a,s,{prefix:"",cLetter:"z"}),s("hoverinfo",1===a._dataLength?"location+z+text":void 0)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.location=t.location,e.z=t.z,e}},function(e,t,n){"use strict";function r(e,t,n,r){var a=t.hoverinfo,s="all"===a?o.hoverinfo.flags:a.split("+"),l=-1!==s.indexOf("name"),u=-1!==s.indexOf("location"),c=-1!==s.indexOf("z"),f=-1!==s.indexOf("text"),h=!l&&u,d=[];h?e.nameOverride=n.id:(l&&(e.nameOverride=t.name),u&&d.push(n.id)),c&&d.push(function(e){return i.tickText(r,r.c2l(e),"hover").text}(n.z)),f&&d.push(n.tx),e.extraText=d.join("<br>")}var i=n(5),o=n(334);e.exports=function(e){var t=e.cd,n=t[0].trace,i=e.subplot,o=i.choroplethHoverPt;if(o){var a=i.projection(o.properties.ct);return e.x0=e.x1=a[0],e.y0=e.y1=a[1],e.index=o.index,e.location=o.id,e.z=o.z,r(e,n,o,i.mockAxis),[e]}}},function(e,t,n){"use strict";var r={};r.attributes=n(334),r.supplyDefaults=n(1468),r.colorbar=n(171),r.calc=n(1467),r.plot=n(1472),r.hoverPoints=n(1470),r.eventData=n(1469),r.moduleType="trace",r.name="choropleth",r.basePlotModule=n(576),r.categories=["geo","noOpacity"],r.meta={description:["The data that describes the choropleth value-to-color mapping","is set in `z`.","The geographic locations corresponding to each value in `z`","are set in `locations`."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n,r=[],i=e.locations,o=i.length,a=u(e,t),s=(e.marker||{}).line||{},l=0;l<o;l++)(n=c(e.locationmode,i[l],a))&&(n.z=e.z[l],void 0!==e.text&&(n.tx=e.text[l]),f(s.color,n,"mlc",l),f(s.width,n,"mlw",l),n.index=l,r.push(n));return r.length>0&&(r[0].trace=e),r}function i(e){e.framework.selectAll("g.trace.choropleth").each(function(e){var t=e[0].trace,n=o.select(this),r=t.marker||{},i=r.line||{},u=l.makeColorScaleFunc(l.extractScale(t.colorscale,t.zmin,t.zmax));n.selectAll("path.choroplethlocation").each(function(e){o.select(this).attr("fill",function(e){return u(e.z)}).call(a.stroke,e.mlc||i.color).call(s.dashLine,"",e.mlw||i.width||0)})})}var o=n(2),a=n(3),s=n(12),l=n(66),u=n(316).getTopojsonFeatures,c=n(555).locationToFeature,f=n(1367),h=n(100);e.exports=function(e,t,n){function a(e){return e[0].trace.uid}var s,l=e.framework,u=l.select("g.choroplethlayer"),c=l.select("g.baselayer"),f=l.select("g.baselayeroverchoropleth"),d=h.baseLayersOverChoropleth,p=u.selectAll("g.trace.choropleth").data(t,a);p.enter().append("g").attr("class","trace choropleth"),p.exit().remove(),p.each(function(t){var n=t[0].trace,i=r(n,e.topojson),a=o.select(this).selectAll("path.choroplethlocation").data(i);a.enter().append("path").classed("choroplethlocation",!0).on("mouseover",function(t){e.choroplethHoverPt=t}).on("mouseout",function(){e.choroplethHoverPt=null}),a.exit().remove()}),f.selectAll("*").remove();for(var m=0;m<d.length;m++)s=d[m],c.select("g."+s).remove(),e.drawTopo(f,s,n),e.styleLayer(f,s,n);i(e)}},function(e,t,n){"use strict";var r=n(0),i=n(172),o=n(343),a=n(600),s=n(338),l=n(231);e.exports=function(e,t,n,u){function c(n,i){return r.coerce(e,t,l,n,i)}if(!o(e,t,c,u))return void(t.visible=!1);c("text"),c("connectgaps",i(t)),a(e,t,c),s(e,t,c,u)}},function(e,t,n){"use strict";var r={};r.attributes=n(231),r.supplyDefaults=n(1473),r.calc=n(598),r.plot=n(604),r.style=n(605),r.colorbar=n(335),r.hoverPoints=n(602),r.moduleType="trace",r.name="contour",r.basePlotModule=n(44),r.categories=["cartesian","2dMap","contour"],r.meta={description:["The data from which contour lines are computed is set in `z`.","Data in `z` must be a {2D array} of numbers.","Say that `z` has N rows and M columns, then by default,","these N rows correspond to N y coordinates","(set in `y` or auto-generated) and the M columns","correspond to M x coordinates (set in `x` or auto-generated).","By setting `transpose` to *true*, the above behavior is flipped."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r={type:"linear",range:[e,t]};return a.autoTicks(r,(t-e)/(n||15)),r}function i(e,t){function n(e){E=t._input.zsmooth=t.zsmooth=!1,o.notifier("cannot fast-zsmooth: "+e)}var r,i,a,s,g,y,b,x,_=t.carpetTrace,w=_.aaxis,M=_.baxis,k=l.traceIs(t,"contour"),E=k?"best":t.zsmooth;if(w._minDtick=0,M._minDtick=0,c(t)&&f(t,w,M,"a","b",["z"]),r=t.a?w.makeCalcdata(t,"a"):[],s=t.b?M.makeCalcdata(t,"b"):[],i=t.a0||0,a=t.da||1,g=t.b0||0,y=t.db||1,b=h(t.z,t.transpose),t._emptypoints=m(b),t._interpz=p(b,t._emptypoints,t._interpz),"fast"===E)if("log"===w.type||"log"===M.type)n("log axis found");else{if(r.length){var S=(r[r.length-1]-r[0])/(r.length-1),T=Math.abs(S/100);for(x=0;x<r.length-1;x++)if(Math.abs(r[x+1]-r[x]-S)>T){n("a scale is not linear");break}}if(s.length&&"fast"===E){var A=(s[s.length-1]-s[0])/(s.length-1),C=Math.abs(A/100);for(x=0;x<s.length-1;x++)if(Math.abs(s[x+1]-s[x]-A)>C){n("b scale is not linear");break}}}var D=d(b),O="scaled"===t.xtype?"":r,P=v(t,O,i,a,D,w),L="scaled"===t.ytype?"":s,I=v(t,L,g,y,b.length,M),N={a:P,b:I,z:b};return"levels"===t.contours.type&&u(t,b,"","z"),[N]}var o=n(0),a=n(5),s=n(0).extendFlat,l=n(6),u=n(88),c=n(172),f=n(340),h=n(339),d=n(233),p=n(611),m=n(610),v=n(612),g=n(608),y=n(333);e.exports=function(e,t){var n=t.carpetTrace=y(e,t);if(n&&n.visible&&"legendonly"!==n.visible){if(!t.a||!t.b){var o=e.data[n.index],l=e.data[t.index];l.a||(l.a=o.a),l.b||(l.b=o.b),g(l,t,t._defaultColor,e._fullLayout)}var u=i(e,t),c=t.contours;if(!0===t.autocontour){var f=r(t.zmin,t.zmax,t.ncontours);c.size=f.dtick,c.start=a.tickFirst(f),f.range.reverse(),c.end=a.tickFirst(f),c.start===t.zmin&&(c.start+=c.size),c.end===t.zmax&&(c.end-=c.size),c.start>c.end&&(c.start=c.end=(c.start+c.end)/2),t._input.contours=s({},c)}else{var h=c.start,d=c.end,p=t._input.contours;if(h>d&&(c.start=p.start=d,d=c.end=p.end=h,h=c.start),!(c.size>0)){var m;m=h===d?1:r(h,d,t.ncontours).dtick,p.size=c.size=m}}return u}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,a,s=r.a.length,l=r.b.length,u=r.z,c=-1/0,f=1/0;for(i=0;i<l;i++)f=Math.min(f,u[i][0]),f=Math.min(f,u[i][s-1]),c=Math.max(c,u[i][0]),c=Math.max(c,u[i][s-1]);for(i=1;i<s-1;i++)f=Math.min(f,u[0][i]),f=Math.min(f,u[l-1][i]),c=Math.max(c,u[0][i]),c=Math.max(c,u[l-1][i]);switch(t){case">":case">=":r.contours.value>c&&(e[0].prefixBoundary=!0);break;case"<":case"<=":r.contours.value<f&&(e[0].prefixBoundary=!0);break;case"[]":case"()":o=Math.min.apply(null,r.contours.value),a=Math.max.apply(null,r.contours.value),a<f&&(e[0].prefixBoundary=!0),o>c&&(e[0].prefixBoundary=!0);break;case"][":case")(":o=Math.min.apply(null,r.contours.value),a=Math.max.apply(null,r.contours.value),o<f&&a>c&&(e[0].prefixBoundary=!0)}}},function(e,t,n){"use strict";function r(e,t){function n(e){return s(e)?+e:null}var r,i=Array.isArray(t);return-1!==a.INEQUALITY_OPS.indexOf(e)?r=n(i?t[0]:t):-1!==a.INTERVAL_OPS.indexOf(e)?r=i?[n(t[0]),n(t[1])]:[n(t),n(t)]:-1!==a.SET_OPS.indexOf(e)&&(r=i?t.map(n):[n(t)]),r}function i(e){return function(t){t=r(e,t);var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return{start:n,end:i,size:i-n}}}function o(e){return function(t){return t=r(e,t),{start:t,end:1/0,size:1/0}}}var a=n(607),s=n(4);e.exports["[]"]=i("[]"),e.exports["()"]=i("()"),e.exports["[)"]=i("[)"),e.exports["(]"]=i("(]"),e.exports["]["]=i("]["),e.exports[")("]=i(")("),e.exports[")["]=i(")["),e.exports["]("]=i("]("),e.exports[">"]=o(">"),e.exports[">="]=o(">="),e.exports["<"]=o("<"),e.exports["<="]=o("<="),e.exports["="]=o("=")},function(e,t,n){"use strict";var r=n(1477),i=n(4);e.exports=function(e,t){var n;-1===["=","<","<=",">",">="].indexOf(t.operation)?(e("contours.value",[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):0===t.length?t.value=[0,1]:t.length<2?(n=parseFloat(t.value[0]),t.value=[n,n+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:i(t.value)&&(n=parseFloat(t.value),t.value=[n,n+1])):(e("contours.value",0),i(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0));var o=r[t.operation](t.value);t.start=o.start,t.end=o.end,t.size=o.size}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){var n,i,o,a=function(e){return e.reverse()},s=function(e){return e};switch(t){case"][":case")[":case"](":case")(":var l=a;a=s,s=l;case"[]":case"[)":case"(]":case"()":if(2!==e.length)return void r.warn("Contour data invalid for the specified inequality range operation.");for(i=e[0],o=e[1],n=0;n<i.edgepaths.length;n++)i.edgepaths[n]=a(i.edgepaths[n]);for(n=0;n<i.paths.length;n++)i.paths[n]=a(i.paths[n]);for(;o.edgepaths.length;)i.edgepaths.push(s(o.edgepaths.shift()));for(;o.paths.length;)i.paths.push(s(o.paths.shift()));e.pop();break;case">=":case">":if(1!==e.length)return void r.warn("Contour data invalid for the specified inequality operation.");for(i=e[0],n=0;n<i.edgepaths.length;n++)i.edgepaths[n]=a(i.edgepaths[n]);for(n=0;n<i.paths.length;n++)i.paths[n]=a(i.paths[n])}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){for(var i=e.size,o=[],a=n.trace.carpetTrace,s=e.start;s<e.end+i/10;s+=i)if(o.push({level:s,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:a.aaxis,yaxis:a.baxis,x:n.a,y:n.b,z:n.z,smoothing:n.trace.line.smoothing}),o.length>1e3){r.warn("Too many contours, clipping at 1000",e);break}return o}},function(e,t,n){"use strict";var r={};r.attributes=n(606),r.supplyDefaults=n(608),r.colorbar=n(335),r.calc=n(1475),r.plot=n(1484),r.style=n(1485),r.moduleType="trace",r.name="contourcarpet",r.basePlotModule=n(44),r.categories=["cartesian","carpet","contour","symbols","showLegend","hasLines","carpetDependent"],r.meta={hrName:"contour_carpet",description:["Plots contours on either the first carpet axis or the","carpet axis with a matching `carpet` attribute. Data `z`","is interpreted as matching that of the corresponding carpet","axis."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(12),i=n(1444),o=n(0);e.exports=function(e,t,n,a,s,l,u,c){function f(e){return Math.abs(e[1]-n[0][1])<T}function h(e){return Math.abs(e[1]-n[2][1])<T}function d(e){return Math.abs(e[0]-n[0][0])<S}function p(e){return Math.abs(e[0]-n[2][0])<S}function m(e,t){var n,r,o,a,m="";for(f(e)&&!p(e)||h(e)&&!d(e)?(a=s.aaxis,o=i(s,l,[e[0],t[0]],.5*(e[1]+t[1]))):(a=s.baxis,o=i(s,l,.5*(e[0]+t[0]),[e[1],t[1]])),n=1;n<o.length;n++)for(m+=a.smoothing?"C":"L",r=0;r<o[n].length;r++){var v=o[n][r];m+=[u.c2p(v[0]),c.c2p(v[1])]+" "}return m}var v,g,y,b,x,_,w,M="",k=t.edgepaths.map(function(e,t){return t}),E=!0,S=1e-4*Math.abs(n[0][0]-n[2][0]),T=1e-4*Math.abs(n[0][1]-n[2][1]);for(v=0,g=null;k.length;){var A=t.edgepaths[v][0];for(g&&(M+=m(g,A)),w=r.smoothopen(t.edgepaths[v].map(a),t.smoothing),M+=E?w:w.replace(/^M/,"L"),k.splice(k.indexOf(v),1),g=t.edgepaths[v][t.edgepaths[v].length-1],x=-1,b=0;b<4;b++){if(!g){o.log("Missing end?",v,t);break}for(f(g)&&!p(g)?y=n[1]:d(g)?y=n[0]:h(g)?y=n[3]:p(g)&&(y=n[2]),_=0;_<t.edgepaths.length;_++){var C=t.edgepaths[_][0];Math.abs(g[0]-y[0])<S?Math.abs(g[0]-C[0])<S&&(C[1]-g[1])*(y[1]-C[1])>=0&&(y=C,x=_):Math.abs(g[1]-y[1])<T?Math.abs(g[1]-C[1])<T&&(C[0]-g[0])*(y[0]-C[0])>=0&&(y=C,x=_):o.log("endpt to newendpt is not vert. or horz.",g,y,C)}if(x>=0)break;M+=m(g,y),g=y}if(x===t.edgepaths.length){o.log("unclosed perimeter path");break}v=x,E=-1===k.indexOf(v),E&&(v=k[0],M+=m(g,y)+"Z",g=null)}for(v=0;v<t.paths.length;v++)M+=r.smoothclosed(t.paths[v].map(a),t.smoothing);return M}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,l,u,c;for(n=0;n<e.length;n++){for(o=e[n],a=o.pedgepaths=[],s=o.ppaths=[],r=0;r<o.edgepaths.length;r++){for(c=o.edgepaths[r],l=[],i=0;i<c.length;i++)l[i]=t(c[i]);a.push(l)}for(r=0;r<o.paths.length;r++){for(c=o.paths[r],u=[],i=0;i<c.length;i++)u[i]=t(c[i]);s.push(u)}}}},function(e,t,n){"use strict";function r(e,t,n){var r=e.selectAll(t+"."+n).data([0]);return r.enter().append(t).classed(n,!0),r}function i(e,t,n){function r(e){var t=c.ab2xy(e[0],e[1],!0);return[E.c2p(t[0]),S.c2p(t[1])]}var i=n[0].trace,c=i.carpetTrace=x(e,i),d=e.calcdata[c.index][0];if(c.visible&&"legendonly"!==c.visible){var g=n[0].a,w=n[0].b,M=i.contours,k=i.uid,E=t.xaxis,S=t.yaxis,T=e._fullLayout,A="contour"+k,C=y(M,t,n[0]),D="constraint"===i.contours.type;if(!0!==i.visible)return void T._infolayer.selectAll(".cb"+k).remove();var O=[[g[0],w[w.length-1]],[g[g.length-1],w[w.length-1]],[g[g.length-1],w[0]],[g[0],w[0]]];p(C);var P=1e-8*(g[g.length-1]-g[0]),L=1e-8*(w[w.length-1]-w[0]);m(C,P,L),"constraint"===i.contours.type&&(v(C,i.contours.operation),_(C,i.contours.operation,O,i)),b(C,r);var I,N,R,j,z=a(t,n,A),F=[];for(j=d.clipsegments.length-1;j>=0;j--)I=d.clipsegments[j],N=f([],I.x,E.c2p),R=f([],I.y,S.c2p),N.reverse(),R.reverse(),F.push(h(N,R,I.bicubic));var B="M"+F.join("L")+"Z";l(z,d.clipsegments,E,S,D,M.coloring),u(i,z,E,S,C,O,r,c,d,M.coloring,B),s(z,C,M),o(z,c)}}function o(e,t){e.attr("clip-path","url(#"+t.clipPathId+")")}function a(e,t,n){var r=e.plot.select(".maplayer").selectAll("g.contour."+n).classed("trace",!0).data(t);return r.enter().append("g").classed("contour",!0).classed(n,!0),r.exit().remove(),r}function s(e,t,n){var r=t[0].smoothing,i=e.selectAll("g.contourlevel").data(!1===n.showlines?[]:t);i.enter().append("g").classed("contourlevel",!0),i.exit().remove();var o=i.selectAll("path.openline").data(function(e){return e.pedgepaths});o.enter().append("path").classed("openline",!0),o.exit().remove(),o.attr("d",function(e){return d.smoothopen(e,r)}).style("vector-effect","non-scaling-stroke");var a=i.selectAll("path.closedline").data(function(e){return e.ppaths});a.enter().append("path").classed("closedline",!0),a.exit().remove(),a.attr("d",function(e){return d.smoothclosed(e,r)}).style("vector-effect","non-scaling-stroke").style("stroke-miterlimit",1)}function l(e,t,n,i,o,a){var s,l,u,c,d=r(e,"g","contourbg"),p=d.selectAll("path").data("fill"!==a||o?[]:[0]);p.enter().append("path"),p.exit().remove();var m=[];for(c=0;c<t.length;c++)s=t[c],l=f([],s.x,n.c2p),u=f([],s.y,i.c2p),m.push(h(l,u,s.bicubic));p.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function u(e,t,n,r,i,o,a,s,l,u,f){var h=t.selectAll("g.contourfill").data([0]);h.enter().append("g").classed("contourfill",!0);var d=h.selectAll("path").data("fill"===u?i:[]);d.enter().append("path"),d.exit().remove(),d.each(function(t){var i=g(e,t,o,a,s,l,n,r);t.prefixBoundary&&(i=f+i),i?c.select(this).attr("d",i).style("stroke","none"):c.select(this).remove()})}var c=n(2),f=n(597),h=n(596),d=n(12),p=n(603),m=n(601),v=n(1479),g=n(1482),y=n(1480),b=n(1483),x=n(333),_=n(1476);e.exports=function(e,t,n){for(var r=0;r<n.length;r++)i(e,t,n[r])}},function(e,t,n){"use strict";var r=n(2),i=n(12),o=n(234),a=n(337);e.exports=function(e){var t=r.select(e).selectAll("g.contour");t.style("opacity",function(e){return e.trace.opacity}),t.each(function(e){var t=r.select(this),n=e.trace,o=n.contours,s=n.line,l=o.size||1,u=o.start;if(isFinite(l)||(l=0),t.selectAll("g.contourlevel").each(function(){r.select(this).selectAll("path").call(i.lineGroupStyle,s.width,s.color,s.dash)}),"levels"===n.contours.type&&"none"!==n.contours.coloring){var c=a(n);t.selectAll("g.contourbg path").style("fill",c(u-l/2)),t.selectAll("g.contourfill path").style("fill",function(e,t){return c(u+(t+.5)*l)})}else t.selectAll("g.contourfill path").style("fill",n.fillcolor)}),o(e)}},function(e,t,n){"use strict";var r={};r.attributes=n(127),r.supplyDefaults=n(609),r.calc=n(232),r.plot=n(342),r.colorbar=n(171),r.style=n(234),r.hoverPoints=n(341),r.moduleType="trace",r.name="heatmap",r.basePlotModule=n(44),r.categories=["cartesian","2dMap"],r.meta={description:["The data that describes the heatmap value-to-color mapping","is set in `z`.","Data in `z` can either be a {2D array} of values (ragged or not)","or a 1D array of values.","In the case where `z` is a {2D array},","say that `z` has N rows and M columns.","Then, by default, the resulting heatmap will have N partitions along","the y axis and M partitions along the x axis.","In other words, the i-th row/ j-th column cell in `z`","is mapped to the i-th partition of the y axis","(starting from the bottom of the plot) and the j-th partition","of the x-axis (starting from the left of the plot).","This behavior can be flipped by using `transpose`.","Moreover, `x` (`y`) can be provided with M or M+1 (N or N+1) elements.","If M (N), then the coordinates correspond to the center of the","heatmap cells and the cells have equal width.","If M+1 (N+1), then the coordinates correspond to the edges of the","heatmap cells.","In the case where `z` is a 1D {array}, the x and y coordinates must be","provided in `x` and `y` respectively to form data triplets."].join(" ")},e.exports=r},function(e,t,n){"use strict";for(var r=n(127),i=n(56),o=n(32),a=n(8).extendFlat,s=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],l={},u=0;u<s.length;u++){var c=s[u];l[c]=r[c]}a(l,i,{autocolorscale:a({},i.autocolorscale,{dflt:!1})},{colorbar:o}),e.exports=l},function(e,t,n){"use strict";function r(e,t){this.scene=e,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=a(e.glplot,this.options),this.heatmap._trace=this}function i(e){for(var t=e.colorscale,n=e.zmin,r=e.zmax,i=t.length,o=new Array(i),a=new Array(4*i),s=0;s<i;s++){var u=t[s],c=l(u[1]);o[s]=n+u[0]*(r-n);for(var f=0;f<4;f++)a[4*s+f]=c[f]}return{colorLevels:o,colorValues:a}}function o(e,t,n){var i=new r(e,t.uid);return i.update(t,n),i}var a=n(970),s=n(5),l=n(68),u=r.prototype;u.handlePick=function(e){var t=this.options,n=t.shape,r=e.pointId,i=r%n[0],o=Math.floor(r/n[0]),a=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[i],t.y[o],t.z[a]],textLabel:this.textLabels[r],name:this.name,pointIndex:[i,o],hoverinfo:this.hoverinfo}},u.update=function(e,t){var n=t[0];this.name=e.name,this.hoverinfo=e.hoverinfo;var r=n.z;this.options.z=[].concat.apply([],r);var o=r[0].length,a=r.length;this.options.shape=[o,a],this.options.x=n.x,this.options.y=n.y;var l=i(e);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options),s.expand(this.scene.xaxis,n.x),s.expand(this.scene.yaxis,n.y)},u.dispose=function(){this.heatmap.dispose()},e.exports=o},function(e,t,n){"use strict";var r={};r.attributes=n(1487),r.supplyDefaults=n(609),r.colorbar=n(171),r.calc=n(232),r.plot=n(1488),r.moduleType="trace",r.name="heatmapgl",r.basePlotModule=n(322),r.categories=["gl2d","2dMap"],r.meta={description:["WebGL version of the heatmap trace type."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(t){s=e[t],e[t]/=2}function i(t){a=e[t],e[t]=s+a/2,s+=a}var o,a,s;if("half"===n)if("increasing"===t)for(r(0),o=1;o<e.length;o++)i(o);else for(r(e.length-1),o=e.length-2;o>=0;o--)i(o);else if("increasing"===t){for(o=1;o<e.length;o++)e[o]+=e[o-1];"exclude"===n&&(e.unshift(0),e.pop())}else{for(o=e.length-2;o>=0;o--)e[o]+=e[o+1];"exclude"===n&&(e.push(0),e.shift())}}var i=n(4),o=n(0),a=n(5),s=n(329),l=n(615),u=n(617),c=n(613),f=n(616);e.exports=function(e,t){if(!0===t.visible){var n,h=[],d=[],p=a.getFromId(e,"h"===t.orientation?t.yaxis||"y":t.xaxis||"x"),m="h"===t.orientation?"y":"x",v={x:"y",y:"x"}[m],g=t[m+"calendar"],y=t.cumulative;f(t,p,m);var b,x=p.makeCalcdata(t,m),_=m+"bins";!1===t["autobin"+m]&&_ in t?b=t[_]:(b=a.autoBin(x,p,t["nbins"+m],!1,g),y.enabled&&"include"!==y.currentbin&&("decreasing"===y.direction?b.start=p.c2r(p.r2c(b.start)-b.size):b.end=p.c2r(p.r2c(b.end)+b.size)),t._input[_]=t[_]=b);var w,M,k,E="string"===typeof b.size,S=E?[]:b,T=[],A=[],C=0,D=t.histnorm,O=t.histfunc,P=-1!==D.indexOf("density");y.enabled&&P&&(D=D.replace(/ ?density$/,""),P=!1);var L,I="max"===O||"min"===O,N=I?null:0,R=l.count,j=u[D],z=!1,F=function(e){return p.r2c(e,0,g)};for(Array.isArray(t[v])&&"count"!==O&&(L=t[v],z="avg"===O,R=l[O]),n=F(b.start),M=F(b.end)+(n-a.tickIncrement(n,b.size,!1,g))/1e6;n<M&&h.length<5e3;)w=a.tickIncrement(n,b.size,!1,g),h.push((n+w)/2),d.push(N),E&&S.push(n),P&&T.push(1/(w-n)),z&&A.push(0),n=w;E||"date"!==p.type||(S={start:F(S.start),end:F(S.end),size:S.size});var B=d.length;for(n=0;n<x.length;n++)(k=o.findBin(x[n],S))>=0&&k<B&&(C+=R(k,n,d,L,A));z&&(C=c(d,A)),j&&j(d,C,T),y.enabled&&r(d,y.direction,y.currentbin);var U=Math.min(h.length,d.length),V=[],H=0,Y=U-1;for(n=0;n<U;n++)if(d[n]){H=n;break}for(n=U-1;n>H;n--)if(d[n]){Y=n;break}for(n=H;n<=Y;n++)i(h[n])&&i(d[n])&&V.push({p:h[n],s:d[n],b:0});return s(V,t),V}}},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(3),a=n(614),s=n(592),l=n(125),u=n(344);e.exports=function(e,t,n,c){function f(n,r){return i.coerce(e,t,u,n,r)}var h=f("x"),d=f("y");f("cumulative.enabled")&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var p=f("orientation",d&&!h?"h":"v"),m=t["v"===p?"x":"y"];if(!m||!m.length)return void(t.visible=!1);r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],c),t["h"===p?"x":"y"]&&f("histfunc"),a(e,t,f,"h"===p?["y"]:["x"]),s(e,t,f,n,c),l(e,t,o.defaultLine,{axis:"y"}),l(e,t,o.defaultLine,{axis:"x",inherit:"y"})}},function(e,t,n){"use strict";var r={};r.attributes=n(344),r.layoutAttributes=n(330),r.supplyDefaults=n(1491),r.supplyLayoutDefaults=n(588),r.calc=n(1490),r.setPositions=n(590),r.plot=n(589),r.style=n(591),r.colorbar=n(80),r.hoverPoints=n(587),r.moduleType="trace",r.name="histogram",r.basePlotModule=n(44),r.categories=["cartesian","bar","histogram","oriented","errorBarsOK","showLegend"],r.meta={description:["The sample data from which statistics are computed is set in `x`","for vertically spanning histograms and","in `y` for horizontally spanning histograms.","Binning options are set `xbins` and `ybins` respectively","if no aggregation data is provided."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(615),a=n(617),s=n(613),l=n(616);e.exports=function(e,t){var n,u,c,f,h,d,p=i.getFromId(e,t.xaxis||"x"),m=t.x?p.makeCalcdata(t,"x"):[],v=i.getFromId(e,t.yaxis||"y"),g=t.y?v.makeCalcdata(t,"y"):[],y=t.xcalendar,b=t.ycalendar,x=function(e){return p.r2c(e,0,y)},_=function(e){return v.r2c(e,0,b)},w=function(e){return p.c2r(e,0,y)},M=function(e){return v.c2r(e,0,b)};l(t,p,"x"),l(t,v,"y");var k=Math.min(m.length,g.length);m.length>k&&m.splice(k,m.length-k),g.length>k&&g.splice(k,g.length-k),!t.autobinx&&"xbins"in t||(t.xbins=i.autoBin(m,p,t.nbinsx,"2d",y),"histogram2dcontour"===t.type&&(t.xbins.start=w(i.tickIncrement(x(t.xbins.start),t.xbins.size,!0,y)),t.xbins.end=w(i.tickIncrement(x(t.xbins.end),t.xbins.size,!1,y))),t._input.xbins=t.xbins),!t.autobiny&&"ybins"in t||(t.ybins=i.autoBin(g,v,t.nbinsy,"2d",b),"histogram2dcontour"===t.type&&(t.ybins.start=M(i.tickIncrement(_(t.ybins.start),t.ybins.size,!0,b)),t.ybins.end=M(i.tickIncrement(_(t.ybins.end),t.ybins.size,!1,b))),t._input.ybins=t.ybins),h=[];var E,S,T=[],A=[],C="string"===typeof t.xbins.size,D="string"===typeof t.ybins.size,O=C?[]:t.xbins,P=D?[]:t.ybins,L=0,I=[],N=t.histnorm,R=t.histfunc,j=-1!==N.indexOf("density"),z="max"===R||"min"===R,F=z?null:0,B=o.count,U=a[N],V=!1,H=[],Y=[],W="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";W&&"count"!==R&&(V="avg"===R,B=o[R]);var q=t.xbins,G=x(q.start),X=x(q.end)+(G-i.tickIncrement(G,q.size,!1,y))/1e6;for(d=G;d<X;d=i.tickIncrement(d,q.size,!1,y))T.push(F),C&&O.push(d),V&&A.push(0);C&&O.push(d);var Z=T.length;n=t.xbins.start;var K=x(n);for(u=(d-K)/Z,n=w(K+u/2),q=t.ybins,G=_(q.start),X=_(q.end)+(G-i.tickIncrement(G,q.size,!1,b))/1e6,d=G;d<X;d=i.tickIncrement(d,q.size,!1,b))h.push(T.concat()),D&&P.push(d),V&&I.push(A.concat());D&&P.push(d);var $=h.length;c=t.ybins.start;var J=_(c);for(f=(d-J)/$,c=M(J+f/2),j&&(H=T.map(function(e,t){return C?1/(O[t+1]-O[t]):1/u}),Y=h.map(function(e,t){return D?1/(P[t+1]-P[t]):1/f})),C||"date"!==p.type||(O={start:x(O.start),end:x(O.end),size:O.size}),D||"date"!==v.type||(P={start:_(P.start),end:_(P.end),size:P.size}),d=0;d<k;d++)E=r.findBin(m[d],O),S=r.findBin(g[d],P),E>=0&&E<Z&&S>=0&&S<$&&(L+=B(E,d,h[S],W,I[S]));if(V)for(S=0;S<$;S++)L+=s(h[S],I[S]);if(U)for(S=0;S<$;S++)U(h[S],L,H,Y[S]);return{x:m,x0:n,dx:u,y:g,y0:c,dy:f,z:h}}},function(e,t,n){"use strict";var r=n(0),i=n(618),o=n(65),a=n(345);e.exports=function(e,t,n,s){function l(n,i){return r.coerce(e,t,a,n,i)}i(e,t,l,s),!1===l("zsmooth")&&(l("xgap"),l("ygap")),o(e,t,s,l,{prefix:"",cLetter:"z"})}},function(e,t,n){"use strict";var r={};r.attributes=n(345),r.supplyDefaults=n(1494),r.calc=n(232),r.plot=n(342),r.colorbar=n(171),r.style=n(234),r.hoverPoints=n(341),r.moduleType="trace",r.name="histogram2d",r.basePlotModule=n(44),r.categories=["cartesian","2dMap","histogram"],r.meta={hrName:"histogram_2d",description:["The sample data from which statistics are computed is set in `x`","and `y` (where `x` and `y` represent marginal distributions,","binning is set in `xbins` and `ybins` in this case)","or `z` (where `z` represent the 2D distribution and binning set,","binning is set by `x` and `y` in this case).","The resulting distribution is visualized as a heatmap."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(618),o=n(600),a=n(338),s=n(619);e.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,s,n,i)}i(e,t,u,l),o(e,t,u),a(e,t,u,l)}},function(e,t,n){"use strict";var r={};r.attributes=n(619),r.supplyDefaults=n(1496),r.calc=n(598),r.plot=n(604),r.style=n(605),r.colorbar=n(335),r.hoverPoints=n(602),r.moduleType="trace",r.name="histogram2dcontour",r.basePlotModule=n(44),r.categories=["cartesian","2dMap","contour","histogram"],r.meta={hrName:"histogram_2d_contour",description:["The sample data from which statistics are computed is set in `x`","and `y` (where `x` and `y` represent marginal distributions,","binning is set in `xbins` and `ybins` in this case)","or `z` (where `z` represent the 2D distribution and binning set,","binning is set by `x` and `y` in this case).","The resulting distribution is visualized as a contour plot."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.color="#fff",this.data=null,this.showContour=!1}function i(e){return e.map(function(e){var t=e[0],n=u(e[1]),r=n.toRgb();return{index:t,rgb:[r.r,r.g,r.b,1]}})}function o(e){return e.map(d)}function a(e,t,n){for(var r=new Array(e.length),i=0;i<e.length;++i)r[i]=[e[i],t[i],n[i]];return r}function s(e,t){var n=e.glplot.gl,i=l({gl:n}),o=new r(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}var l=n(466),u=n(38),c=n(281),f=n(886),h=n(445),d=n(68),p=r.prototype;p.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index;return e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}},p.update=function(e){function t(e,t,n,r){return t.map(function(t){return e.d2l(t,0,r)*n})}var n=this.scene,r=n.fullSceneLayout;this.data=e;var s,l=a(t(r.xaxis,e.x,n.dataScale[0],e.xcalendar),t(r.yaxis,e.y,n.dataScale[1],e.ycalendar),t(r.zaxis,e.z,n.dataScale[2],e.zcalendar));if(e.i&&e.j&&e.k)s=a(e.i,e.j,e.k);else if(0===e.alphahull)s=h(l);else if(e.alphahull>0)s=f(e.alphahull,l);else{var u=["x","y","z"].indexOf(e.delaunayaxis);s=c(l.map(function(e){return[e[(u+1)%3],e[(u+2)%3]]}))}var p={positions:l,cells:s,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:d(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};e.intensity?(this.color="#fff",p.vertexIntensity=e.intensity,p.colormap=i(e.colorscale)):e.vertexcolor?(this.color=e.vertexcolors[0],p.vertexColors=o(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],p.cellColors=o(e.facecolor)):(this.color=e.color,p.meshColor=d(e.color)),this.mesh.update(p)},p.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=s},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(536),a=n(620);e.exports=function(e,t,n,s){function l(n,r){return i.coerce(e,t,a,n,r)}function u(e){var t=e.map(function(e){var t=l(e);return t&&Array.isArray(t)?t:null});return t.every(function(e){return e&&e.length===t[0].length})&&t}var c=u(["x","y","z"]),f=u(["i","j","k"]);if(!c)return void(t.visible=!1);f&&f.forEach(function(e){for(var t=0;t<e.length;++t)e[t]|=0}),r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],s),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","contour.show","contour.color","contour.width","colorscale","reversescale","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(e){l(e)}),"intensity"in e?(l("intensity"),l("showscale",!0)):(t.showscale=!1,"vertexcolor"in e?l("vertexcolor"):"facecolor"in e?l("facecolor"):l("color",n)),t.reversescale&&(t.colorscale=t.colorscale.map(function(e){return[1-e[0],e[1]]}).reverse()),t.showscale&&o(e,t,s)}},function(e,t,n){"use strict";var r={};r.attributes=n(620),r.supplyDefaults=n(1499),r.colorbar=n(171),r.plot=n(1498),r.moduleType="trace",r.name="mesh3d",r.basePlotModule=n(323),r.categories=["gl3d"],r.meta={description:["Draws sets of triangles with coordinates given by","three 1-dimensional arrays in `x`, `y`, `z` and","(1) a sets of `i`, `j`, `k` indices","(2) Delaunay triangulation or","(3) the Alpha-shape algorithm or","(4) the Convex-hull algorithm"].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){a(e,t,n,r),n(r+".line.color"),n(r+".line.width",t.line.width),n(r+".line.dash",t.line.dash)}var i=n(0),o=n(622),a=n(621),s=n(346),l=n(235);e.exports=function(e,t,n,a){function u(n,r){return i.coerce(e,t,s,n,r)}if(l.pushDummyTransformOpts(e,t),0===o(e,t,u,a))return void(t.visible=!1);u("line.width"),u("line.dash"),r(e,t,u,"increasing"),r(e,t,u,"decreasing"),u("text"),u("tickwidth")}},function(e,t,n){"use strict";var r=n(318);e.exports={moduleType:"trace",name:"ohlc",basePlotModule:n(44),categories:["cartesian","showLegend"],meta:{description:["The ohlc (short for Open-High-Low-Close) is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The tip of the lines represent the `low` and `high` values and","the horizontal segments represent the `open` and `close` values.","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing candles are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:n(346),supplyDefaults:n(1501)},r(n(629)),r(n(1503))},function(e,t,n){"use strict";function r(e,t,n){var r={type:"scatter",mode:"lines",connectgaps:!1,visible:e.visible,opacity:e.opacity,xaxis:e.xaxis,yaxis:e.yaxis,hoverinfo:i(e),transforms:s.makeTransform(e,t,n)},o=e[n];return o&&a.extendFlat(r,{x:e.x||[0],xcalendar:e.xcalendar,y:[].concat(e.low).concat(e.high),text:e.text,name:o.name,showlegend:o.showlegend,line:o.line}),r}function i(e){var t=e.hoverinfo;if("all"===t)return"x+text+name";var n=t.split("+"),r=n.indexOf("y"),i=n.indexOf("text");return-1!==r&&(n.splice(r,1),-1===i&&n.push("text")),n.join("+")}function o(e,t,n){var r=n._fullInput,i=r.tickwidth,o=r._minDiff;if(!o){var s=e._fullData,l=[];o=1/0;var u;for(u=0;u<s.length;u++){var c=s[u]._fullInput;if("ohlc"===c.type&&!0===c.visible&&c.xaxis===t._id&&(l.push(c),c.x&&c.x.length>1)){var f=a.simpleMap(c.x,t.d2c,0,n.xcalendar),h=a.distinctVals(f).minDiff;o=Math.min(o,h)}}for(o===1/0&&(o=1),u=0;u<l.length;u++)l[u]._minDiff=o}return o*i}var a=n(0),s=n(235),l=n(5),u=n(53);t.moduleType="transform",t.name="ohlc",t.attributes={},t.supplyDefaults=function(e,t,n,r){return s.clearEphemeralTransformOpts(r),s.copyOHLC(e,t),e},t.transform=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];"ohlc"===o.type?n.push(r(o,t,"increasing"),r(o,t,"decreasing")):n.push(o)}return s.addRangeSlider(n,t.layout),n},t.calcTransform=function(e,t,n){var r,i=n.direction,a=s.getFilterFn(i),c=u.getFromTrace(e,t,"x"),f=u.getFromTrace(e,t,"y"),h=o(e,c,t),d=t.open,p=t.high,m=t.low,v=t.close,g=t.text,y=d.length,b=[],x=[],_=[];r=t._fullInput.x?function(e){var n=t.x[e],r=t.xcalendar,i=c.d2c(n,0,r);b.push(c.c2d(i-h,0,r),n,n,n,n,c.c2d(i+h,0,r),null)}:function(e){b.push(e-h,e,e,e,e,e+h,null)};for(var w=function(e,t){return l.tickText(e,e.c2l(t),"hover").text},M=t._fullInput.hoverinfo,k=M.split("+"),E="all"===M,S=E||-1!==k.indexOf("y"),T=E||-1!==k.indexOf("text"),A=Array.isArray(g)?function(e){return g[e]||""}:function(){return g},C=0;C<y;C++)a(d[C],v[C])&&(r(C),function(e,t,n,r){x.push(e,e,t,n,r,r,null)}(d[C],p[C],m[C],v[C]),function(e,t,n,r,i){var o=[];S&&(o.push("Open: "+w(f,t)),o.push("High: "+w(f,n)),o.push("Low: "+w(f,r)),o.push("Close: "+w(f,i))),T&&o.push(A(e));var a=o.join("<br>");_.push(a,a,a,a,a,a,null)}(C,d[C],p[C],m[C],v[C]));t.x=b,t.y=x,t.text=_}},function(e,t,n){"use strict";var r=n(2),i=n(16),o=n(624),a=n(67),s=n(236);t.name="parcoords",t.attr="type",t.plot=function(e){var t=i.getSubplotCalcData(e.calcdata,"parcoords","parcoords");t.length&&o(e,t)},t.clean=function(e,t,n,r){var i=r._has&&r._has("parcoords"),o=t._has&&t._has("parcoords");i&&!o&&(r._paperdiv.selectAll(".parcoords-line-layers").remove(),r._paperdiv.selectAll(".parcoords-line-layers").remove(),r._paperdiv.selectAll(".parcoords").remove(),r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},t.toSVG=function(e){function t(t){var r=this,i=r.toDataURL("image/png"),o=n.append("svg:image"),l=e._fullLayout._size,u=e._fullData[t.model.key].domain;o.attr({xmlns:a.svg,"xlink:href":i,x:l.l+l.w*u.x[0]-s.overdrag,y:l.t+l.h*(1-u.y[1]),width:(u.x[1]-u.x[0])*l.w+2*s.overdrag,height:(u.y[1]-u.y[0])*l.h,preserveAspectRatio:"none"})}var n=e._fullLayout._glimages,i=r.selectAll(".svg-container");i.filter(function(e,t){return t===i.size()-1}).selectAll(".parcoords-lines.context, .parcoords-lines.focus").each(t),window.setTimeout(function(){r.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},function(e,t,n){"use strict";var r=n(90),i=n(88),o=n(0);e.exports=function(e,t){var n=!!t.line.colorscale&&o.isArray(t.line.color),a=n?t.line.color:Array.apply(0,Array(t.dimensions.reduce(function(e,t){return Math.max(e,t.values.length)},0))).map(function(){return.5}),s=n?t.line.colorscale:[[0,t.line.color],[1,t.line.color]];return r(t,"line")&&i(t,t.line.color,"line","c"),[{lineColor:a,cscale:s}]}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(16),a=n(66),s=n(163);e.exports=function(e,t){var n=t[0].trace,l=n.line,u="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+u).remove(),void 0===l||!l.showscale)return void o.autoMargin(e,u);var c=l.color,f=l.cmin,h=l.cmax;r(f)||(f=i.aggNums(Math.min,null,c)),r(h)||(h=i.aggNums(Math.max,null,c));var d=t[0].t.cb=s(e,u),p=a.makeColorScaleFunc(a.extractScale(l.colorscale,f,h),{noNumericCheck:!0});d.fillcolor(p).filllevels({start:f,end:h,size:(h-f)/254}).options(l.colorbar)()}},function(e,t,n){"use strict";function r(e,t,n,r,i){i("line.color",n),s(e,"line")&&o.isArray(e.line.color)?(i("line.colorscale"),l(e,t,r,i,{prefix:"line.",cLetter:"c"})):i("line.color",n)}function i(e,t){function n(e,t){return o.coerce(r,i,a.dimensions,e,t)}var r,i,s,l=e.dimensions||[],c=t.dimensions=[],f=1/0;for(l.length>u&&(o.log("parcoords traces support up to "+u+" dimensions at the moment"),l.splice(u)),s=0;s<l.length;s++)if(r=l[s],i={},o.isPlainObject(r)){var h=n("values"),d=n("visible",h.length>0);d&&(n("label"),n("tickvals"),n("ticktext"),n("tickformat"),n("range"),n("constraintrange"),f=Math.min(f,i.values.length)),i._index=s,c.push(i)}if(isFinite(f))for(s=0;s<c.length;s++)i=c[s],i.visible&&i.values.length>f&&(i.values=i.values.slice(0,f));return c}var o=n(0),a=n(623),s=n(90),l=n(65),u=n(236).maxDimensionCount;e.exports=function(e,t,n,s){function l(n,r){return o.coerce(e,t,a,n,r)}var u=i(e,t);r(e,t,n,s,l),l("domain.x"),l("domain.y"),Array.isArray(u)&&u.length||(t.visible=!1)}},function(e,t,n){"use strict";var r={};r.attributes=n(623),r.supplyDefaults=n(1507),r.calc=n(1505),r.plot=n(624),r.colorbar=n(1506),r.moduleType="trace",r.name="parcoords",r.basePlotModule=n(1504),r.categories=["gl","noOpacity"],r.meta={description:["Parallel coordinates for multidimensional exploratory data analysis.","The samples are specified in `dimensions`.","The colors are set in `line.color`."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e){e.read({x:0,y:0,width:1,height:1,data:x})}function i(e,t,n,r,i){var o=e._gl;o.enable(o.SCISSOR_TEST),o.scissor(t,n,r,i),e.clear({color:[0,0,0,0],depth:1})}function o(e,t,n,o,a,s){function l(r){var c;c=Math.min(o,a-r*o),s.offset=g*r*o,s.count=g*c,0===r&&(window.cancelAnimationFrame(n.currentRafs[u]),delete n.currentRafs[u],i(e,s.scissorX,s.scissorY,s.scissorWidth,s.viewBoxSize[1])),n.clearOnly||(t(s),r*o+c<a&&(n.currentRafs[u]=window.requestAnimationFrame(function(){l(r+1)})),n.drawCompleted=!1)}var u=s.key;n.drawCompleted||(r(e),n.drawCompleted=!0),l(0)}function a(e){return Math.max(m,Math.min(1-m,e))}function s(e,t,n){for(var r=[],i=0;i<256;i++){var o=e(i/255);r.push((t?b:o).concat(n))}return r}function l(e,t){return(e>>>8*t)%256/255}function u(e,t,n,r){for(var i=[],o=0;o<e;o++)for(var s=0;s<v;s++)i.push(s<t?n[s].paddedUnitValues[o]:s===v-1?a(r[o]):s>=v-4?l(o,v-2-s):.5);return i}function c(e,t,n){var r,i,o,a=[];for(i=0;i<e;i++)for(o=0;o<g;o++)for(r=0;r<y;r++)a.push(t[i*v+n*y+r]),n*y+r===v-1&&o%2===0&&(a[a.length-1]*=-1);return a}function f(e,t){var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],r=n.map(function(n){return c(e,t,n)}),i={};return r.forEach(function(e,t){i["p"+t.toString(16)]=e}),i}function h(e,t,n){return e+t<=n}var d=n(1665),p=n(236).verticalPadding,m=1e-6,v=64,g=2,y=4,b=[119,119,119],x=new Uint8Array(4),_=new Uint8Array(4);e.exports=function(e,t,n,r,a,l,c,m,v,g){function y(e){z[0]=e[0],z[1]=e[1]}function b(e,t,i,o,a,s,l,u,c,f,d){var v,g,y,b,x=[e,t],_=p/s,w=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})}),M=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(v=0;v<2;v++)for(b=x[v],g=0;g<4;g++)for(y=0;y<16;y++){var k=y+16*g;w[v][g][y]=y+16*g===b?1:0,M[v][g][y]=(!m&&h(y,16*g,P)?E[0===k?0:1+(k-1)%(E.length-1)].filter[v]:v)+(2*v-1)*_}return{key:l,resolution:[n,r],viewBoxPosition:[i+O,o],viewBoxSize:[a,s],i:e,ii:t,dim1A:w[0][0],dim1B:w[0][1],dim1C:w[0][2],dim1D:w[0][3],dim2A:w[1][0],dim2B:w[1][1],dim2C:w[1][2],dim2D:w[1][3],loA:M[0][0],loB:M[0][1],loC:M[0][2],loD:M[0][3],hiA:M[1][0],hiB:M[1][1],hiC:M[1][2],hiD:M[1][3],colorClamp:z,scatter:u||0,scissorX:c===f?0:i+O,scissorWidth:(c===d?n-i+O:a+.5)+(c===f?i+O:0),scissorY:o,scissorHeight:s}}function x(e,a,s){var l,u,c,f=1/0,h=-1/0;for(l=0;l<P;l++)e[l].dim2.canvasX>h&&(h=e[l].dim2.canvasX,c=l),e[l].dim1.canvasX<f&&(f=e[l].dim1.canvasX,u=l);for(0===P&&i(N,0,0,n,r),l=0;l<P;l++){var d=e[l],p=d.dim1,m=p.crossfilterDimensionIndex,v=d.canvasX,y=d.canvasY,x=d.dim2,_=x.crossfilterDimensionIndex,w=d.panelSizeX,M=d.panelSizeY,E=v+w;if(a||!F[m]||F[m][0]!==v||F[m][1]!==E){F[m]=[v,E];var S=b(m,_,v,y,w,M,p.crossfilterDimensionIndex,g||p.scatter?1:0,l,u,c);k.clearOnly=s,o(N,j,k,a?t.blockLineCount:T,T,S)}}}function w(e,t){return N.read({x:e,y:t,width:1,height:1,data:_}),_}function M(e,t,n,r){var i=new Uint8Array(4*n*r);return N.read({x:e,y:t,width:n,height:r,data:i}),i}var k={currentRafs:{},drawCompleted:!0,clearOnly:!1},E=a.slice(),S=E.length,T=E[0]?E[0].values.length:0,A=m,C=v?t.color.map(function(e,n){return n/t.color.length}):t.color,D=Math.max(1/255,Math.pow(1/C.length,1/3)),O=t.canvasOverdrag,P=l.length,L=u(T,S,E,C),I=f(T,L),N=d({canvas:e,attributes:{preserveDrawingBuffer:!0,antialias:!v}}),R=N.texture({shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest",data:s(c,m,Math.round(255*(m?D:1)))}),j=N({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:N.prop("scissorX"),y:N.prop("scissorY"),width:N.prop("scissorWidth"),height:N.prop("scissorHeight")}},dither:!1,vert:v?"precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nuniform float scatter;\n\nvarying vec4 fragColor;\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nvoid main() {\n\n    float x = 0.5 * sign(pf[3]) + 0.5;\n    float prominence = abs(pf[3]);\n    float depth = 1.0 - prominence;\n\n    mat4 pA = mat4(p0, p1, p2, p3);\n    mat4 pB = mat4(p4, p5, p6, p7);\n    mat4 pC = mat4(p8, p9, pa, pb);\n    mat4 pD = mat4(pc, pd, pe, abs(pf));\n\n    float show = float(mshow(pA, loA, hiA) &&\n                       mshow(pB, loB, hiB) &&\n                       mshow(pC, loC, hiC) &&\n                       mshow(pD, loD, hiD));\n\n    vec2 yy = show * vec2(val(pA, dim2A) + val(pB, dim2B) + val(pC, dim2C) + val(pD, dim2D),\n                          val(pA, dim1A) + val(pB, dim1B) + val(pC, dim1C) + val(pD, dim1D));\n\n    vec2 dimensionToggle = vec2(x, 1.0 - x);\n\n    vec2 scatterToggle = vec2(scatter, 1.0 - scatter);\n\n    float y = dot(yy, dimensionToggle);\n    mat2 xy = mat2(viewBoxSize * yy + dimensionToggle, viewBoxSize * vec2(x, y));\n\n    vec2 viewBoxXY = viewBoxPosition + xy * scatterToggle;\n\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    gl_Position = vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n\n    // pick coloring\n    fragColor = vec4(pf.rgb, 1.0);\n}\n":"precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nuniform float scatter;\n\nvarying vec4 fragColor;\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nvoid main() {\n\n    float x = 0.5 * sign(pf[3]) + 0.5;\n    float prominence = abs(pf[3]);\n    float depth = 1.0 - prominence;\n\n    mat4 pA = mat4(p0, p1, p2, p3);\n    mat4 pB = mat4(p4, p5, p6, p7);\n    mat4 pC = mat4(p8, p9, pa, pb);\n    mat4 pD = mat4(pc, pd, pe, abs(pf));\n\n    float show = float(mshow(pA, loA, hiA) &&\n                       mshow(pB, loB, hiB) &&\n                       mshow(pC, loC, hiC) &&\n                       mshow(pD, loD, hiD));\n\n    vec2 yy = show * vec2(val(pA, dim2A) + val(pB, dim2B) + val(pC, dim2C) + val(pD, dim2D),\n                          val(pA, dim1A) + val(pB, dim1B) + val(pC, dim1C) + val(pD, dim1D));\n\n    vec2 dimensionToggle = vec2(x, 1.0 - x);\n\n    vec2 scatterToggle = vec2(scatter, 1.0 - scatter);\n\n    float y = dot(yy, dimensionToggle);\n    mat2 xy = mat2(viewBoxSize * yy + dimensionToggle, viewBoxSize * vec2(x, y));\n\n    vec2 viewBoxXY = viewBoxPosition + xy * scatterToggle;\n\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    gl_Position = vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n\n    // visible coloring\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n",frag:"precision lowp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n",primitive:"lines",lineWidth:1,attributes:I,uniforms:{resolution:N.prop("resolution"),viewBoxPosition:N.prop("viewBoxPosition"),viewBoxSize:N.prop("viewBoxSize"),dim1A:N.prop("dim1A"),dim2A:N.prop("dim2A"),dim1B:N.prop("dim1B"),dim2B:N.prop("dim2B"),dim1C:N.prop("dim1C"),dim2C:N.prop("dim2C"),dim1D:N.prop("dim1D"),dim2D:N.prop("dim2D"),loA:N.prop("loA"),hiA:N.prop("hiA"),loB:N.prop("loB"),hiB:N.prop("hiB"),loC:N.prop("loC"),hiC:N.prop("hiC"),loD:N.prop("loD"),hiD:N.prop("hiD"),palette:R,colorClamp:N.prop("colorClamp"),scatter:N.prop("scatter")},offset:N.prop("offset"),count:N.prop("count")}),z=[0,1],F=[];return{setColorDomain:y,render:x,readPixel:w,readPixels:M,destroy:N.destroy}}},function(e,t,n){"use strict";function r(e){return e.key}function i(e){return[e]}function o(e){return!("visible"in e)||e.visible}function a(e){var t=e.range?e.range[0]:_.min(e.values),n=e.range?e.range[1]:_.max(e.values);return!isNaN(t)&&isFinite(t)||(t=0),!isNaN(n)&&isFinite(n)||(n=0),t===n&&(void 0===t?(t=0,n=1):0===t?(t-=1,n+=1):(t*=.9,n*=1.1)),[t,n]}function s(e,t){var n,r,i,o,a;for(n=0,r=e.range(),i=1/0,o=r[0],a;n<r.length;n++){if((a=Math.abs(r[n]-t))>i)return o;i=a,o=r[n]}return r[r.length-1]}function l(e,t,n){var r=a(n);return n.tickvals?_.scale.ordinal().domain(n.tickvals).range(n.tickvals.map(function(e){return(e-r[0])/(r[1]-r[0])}).map(function(n){return e-t+n*(t-(e-t))})):_.scale.linear().domain(r).range([e-t,t])}function u(e,t){return _.scale.linear().range([e-t,t])}function c(e){return _.scale.linear().domain(a(e))}function f(e){var t=a(e);return e.tickvals&&_.scale.ordinal().domain(e.tickvals).range(e.tickvals.map(function(e){return(e-t[0])/(t[1]-t[0])}))}function h(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return e[1]}),r=n.map(function(e){return _.rgb(e)}),i=function(e){return function(t){return t[e]}},o="rgb".split("").map(function(e){return _.scale.linear().clamp(!0).domain(t).range(r.map(i(e)))});return function(e){return o.map(function(t){return t(e)})}}function d(e){return e[0]}function p(e,t,n){var r=d(t),i=r.trace,a=r.lineColor,s=r.cscale,l=i.line,u=i.domain,f=i.dimensions,p=e.width,m=x.extendDeep({},l,{color:a.map(c({values:a,range:[l.cmin,l.cmax]})),blockLineCount:b.blockLineCount,canvasOverdrag:b.overdrag*b.canvasPixelRatio}),v=Math.floor(p*(u.x[1]-u.x[0])),g=Math.floor(e.height*(u.y[1]-u.y[0])),y=e.margin||{l:80,r:80,t:100,b:80},_=v,w=g;return{key:n,colCount:f.filter(o).length,dimensions:f,tickDistance:b.tickDistance,unitToColor:h(s),lines:m,translateX:u.x[0]*p,translateY:e.height-u.y[1]*e.height,pad:y,canvasWidth:_*b.canvasPixelRatio+2*m.canvasOverdrag,canvasHeight:w*b.canvasPixelRatio,width:_,height:w,canvasPixelRatio:b.canvasPixelRatio}}function m(e){var t=e.width,n=e.height,r=e.dimensions,i=e.canvasPixelRatio,a=function(n){return t*n/Math.max(1,e.colCount-1)},s=b.verticalPadding/(n*i),h=1-2*s,d=function(e){return s+h*e},p={key:e.key,xScale:a,model:e},m={};return p.dimensions=r.filter(o).map(function(t,r){var o=c(t),s=m[t.label];return m[t.label]=(s||0)+1,{key:t.label+(s?"__"+s:""),label:t.label,tickFormat:t.tickformat,tickvals:t.tickvals,ticktext:t.ticktext,ordinal:!!t.tickvals,scatter:b.scatter||t.scatter,xIndex:r,crossfilterDimensionIndex:r,visibleIndex:t._index,height:n,values:t.values,paddedUnitValues:t.values.map(o).map(d),xScale:a,x:a(r),canvasX:a(r)*i,unitScale:u(n,b.verticalPadding),domainScale:l(n,b.verticalPadding,t),ordinalScale:f(t),domainToUnitScale:o,filter:t.constraintrange?t.constraintrange.map(o):[0,1],parent:p,model:e}}),p}function v(e){return b.layers.map(function(t){return{key:t,context:"contextLineLayer"===t,pick:"pickLineLayer"===t,viewModel:e,model:e.model}})}function g(e){e.classed("axisExtentText",!0).attr("text-anchor","middle").style("font-weight",100).style("font-size","10px").style("cursor","default").style("user-select","none")}var y=n(1509),b=n(236),x=n(0),_=n(2);e.exports=function(e,t,n,o,a){function l(e){var t=e.selectAll("defs").data(i,r);t.enter().append("defs");var n=t.selectAll("#filterBarPattern").data(i,r);n.enter().append("pattern").attr("id","filterBarPattern").attr("patternUnits","userSpaceOnUse"),n.attr("x",-b.bar.width).attr("width",b.bar.capturewidth).attr("height",function(e){return e.model.height});var o=n.selectAll("rect").data(i,r);o.enter().append("rect").attr("shape-rendering","crispEdges"),o.attr("height",function(e){return e.model.height}).attr("width",b.bar.width).attr("x",b.bar.width/2).attr("fill",b.bar.fillcolor).attr("fill-opacity",b.bar.fillopacity).attr("stroke",b.bar.strokecolor).attr("stroke-opacity",b.bar.strokeopacity).attr("stroke-width",b.bar.strokewidth)}function u(e){return e.dimensions.some(function(e){return 0!==e.filter[0]||1!==e.filter[1]})}function c(e,t){for(var n=t.panels||(t.panels=[]),r=e.each(function(e){return e})[t.key].map(function(e){return e.__data__}),i=r.length-1,o=0;o<1;o++)for(var a=0;a<i;a++){var s=n[a+o*i]||(n[a+o*i]={}),l=r[a],u=r[a+1];s.dim1=l,s.dim2=u,s.canvasX=l.canvasX,s.panelSizeX=u.canvasX-l.canvasX,s.panelSizeY=t.model.canvasHeight/1,s.y=o*s.panelSizeY,s.canvasY=t.model.canvasHeight-s.y-s.panelSizeY}}function f(e,t){for(var n=t.panels||(t.panels=[]),r=e.each(function(e){return e})[t.key].map(function(e){return e.__data__}),i=r.length-1,o=i,a=0;a<i;a++)for(var s=0;s<i;s++){var l=n[s+a*i]||(n[s+a*i]={}),u=r[s],c=r[s+1];l.dim1=r[a+1],l.dim2=c,l.canvasX=u.canvasX,l.panelSizeX=c.canvasX-u.canvasX,l.panelSizeY=t.model.canvasHeight/o,l.y=a*l.panelSizeY,l.canvasY=t.model.canvasHeight-l.y-l.panelSizeY}}function h(e,t){return(b.scatter?f:c)(e,t)}function x(e){return e.ordinal?function(){return""}:_.format(e.tickFormat)}function w(){q=!0,E=!0}function M(e){S=!1;var t=e.parent,n=e.brush.extent(),r=t.dimensions,i=r[e.xIndex].filter,o=q&&n[0]===n[1];o&&(e.brush.clear(),_.select(this).select("rect.extent").attr("y",-100));var a=o?[0,1]:n.slice();if(a[0]!==i[0]||a[1]!==i[1]){r[e.xIndex].filter=a,t.focusLineLayer&&t.focusLineLayer.render(t.panels,!0);var s=u(t);!G&&s?(t.contextLineLayer&&t.contextLineLayer.render(t.panels,!0),G=!0):G&&!s&&(t.contextLineLayer&&t.contextLineLayer.render(t.panels,!0,!0),G=!1)}q=!1}function k(e){var t=e.parent,n=e.brush.extent(),r=n[0]===n[1],i=t.dimensions,o=i[e.xIndex].filter;if(!r&&e.ordinal&&(o[0]=s(e.ordinalScale,o[0]),o[1]=s(e.ordinalScale,o[1]),o[0]===o[1]&&(o[0]=Math.max(0,o[0]-.05),o[1]=Math.min(1,o[1]+.05)),_.select(this).transition().duration(150).call(e.brush.extent(o)),t.focusLineLayer.render(t.panels,!0)),t.pickLineLayer&&t.pickLineLayer.render(t.panels,!0),S=!0,E="ending",a&&a.filterChanged){var l=e.domainToUnitScale.invert,u=o.map(l);a.filterChanged(t.key,e.visibleIndex,u)}}var E=!1,S=!0,T=n.filter(function(e){return d(e).trace.visible}).map(p.bind(0,o)).map(m);e.selectAll(".parcoords-line-layers").remove();var A=e.selectAll(".parcoords-line-layers").data(T,r);A.enter().insert("div","."+t.attr("class").split(" ").join(" .")).classed("parcoords-line-layers",!0).style("box-sizing","content-box"),A.style("transform",function(e){return"translate("+(e.model.translateX-b.overdrag)+"px,"+e.model.translateY+"px)"});var C=A.selectAll(".parcoords-lines").data(v,r),D={renderers:[],dimensions:[]},O=null;C.enter().append("canvas").attr("class",function(e){return"parcoords-lines "+(e.context?"context":e.pick?"pick":"focus")}).style("box-sizing","content-box").style("float","left").style("clear","both").style("left",0).style("overflow","visible").style("position",function(e,t){return"absolute"}).filter(function(e){return e.pick}).on("mousemove",function(e){if(S&&e.lineLayer&&a&&a.hover){var t=_.event,n=this.width,r=this.height,i=_.mouse(this),o=i[0],s=i[1];if(o<0||s<0||o>=n||s>=r)return;var l=e.lineLayer.readPixel(o,r-1-s),u=0!==l[3],c=u?l[2]+256*(l[1]+256*l[0]):null,f={x:o,y:s,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:c};c!==O&&(u?a.hover(f):a.unhover&&a.unhover(f),O=c)}}),C.style("margin",function(e){var t=e.model.pad;return t.t+"px "+t.r+"px "+t.b+"px "+t.l+"px"}).attr("width",function(e){return e.model.canvasWidth}).attr("height",function(e){return e.model.canvasHeight}).style("width",function(e){return e.model.width+2*b.overdrag+"px"}).style("height",function(e){return e.model.height+"px"}).style("opacity",function(e){return e.pick?.01:1}),t.style("background","rgba(255, 255, 255, 0)");var P=t.selectAll(".parcoords").data(T,r);P.exit().remove(),P.enter().append("g").classed("parcoords",!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","none").call(l),P.attr("width",function(e){return e.model.width+e.model.pad.l+e.model.pad.r}).attr("height",function(e){return e.model.height+e.model.pad.t+e.model.pad.b}).attr("transform",function(e){return"translate("+e.model.translateX+","+e.model.translateY+")"});var L=P.selectAll(".parcoordsControlView").data(i,r);L.enter().append("g").classed("parcoordsControlView",!0).style("box-sizing","content-box"),L.attr("transform",function(e){return"translate("+e.model.pad.l+","+e.model.pad.t+")"});var I=L.selectAll(".yAxis").data(function(e){return e.dimensions},r);I.enter().append("g").classed("yAxis",!0).each(function(e){D.dimensions.push(e)}),L.each(function(e){h(I,e)}),C.each(function(e){e.lineLayer=y(this,e.model.lines,e.model.canvasWidth,e.model.canvasHeight,e.viewModel.dimensions,e.viewModel.panels,e.model.unitToColor,e.context,e.pick,b.scatter),e.viewModel[e.key]=e.lineLayer,D.renderers.push(function(){e.lineLayer.render(e.viewModel.panels,!0)}),e.lineLayer.render(e.viewModel.panels,!e.context)}),I.attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),I.call(_.behavior.drag().origin(function(e){return e}).on("drag",function(e){var t=e.parent;S=!1,E||(e.x=Math.max(-b.overdrag,Math.min(e.model.width+b.overdrag,_.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,I.sort(function(e,t){return e.x-t.x}).each(function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio}),h(I,t),I.filter(function(t){return 0!==Math.abs(e.xIndex-t.xIndex)}).attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),_.select(this).attr("transform","translate("+e.x+", 0)"),I.each(function(n,r,i){i===e.parent.key&&(t.dimensions[r]=n)}),t.contextLineLayer&&t.contextLineLayer.render(t.panels,!1,!u(t)),t.focusLineLayer.render&&t.focusLineLayer.render(t.panels))}).on("dragend",function(e){var t=e.parent;if(E)return void("ending"===E&&(E=!1));e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,h(I,t),_.select(this).attr("transform",function(e){return"translate("+e.x+", 0)"}),t.contextLineLayer&&t.contextLineLayer.render(t.panels,!1,!u(t)),t.focusLineLayer&&t.focusLineLayer.render(t.panels),t.pickLineLayer&&t.pickLineLayer.render(t.panels,!0),S=!0,a&&a.axesMoved&&a.axesMoved(t.key,t.dimensions.map(function(e){return e.crossfilterDimensionIndex}))})),I.exit().remove();var N=I.selectAll(".axisOverlays").data(i,r);N.enter().append("g").classed("axisOverlays",!0),N.selectAll(".axis").remove();var R=N.selectAll(".axis").data(i,r);R.enter().append("g").classed("axis",!0),R.each(function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,r=n.domain(),i=e.ticktext;_.select(this).call(_.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?r.map(function(e,t){return i&&i[t]||e}):null).tickFormat(e.ordinal?function(e){return e}:null).scale(n))}),R.selectAll(".domain, .tick").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),R.selectAll("text").style("font-weight",100).style("font-size","10px").style("fill","black").style("fill-opacity",1).style("stroke","none").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var j=N.selectAll(".axisHeading").data(i,r);j.enter().append("g").classed("axisHeading",!0);var z=j.selectAll(".axisTitle").data(i,r);z.enter().append("text").classed("axisTitle",!0).attr("text-anchor","middle").style("font-family","sans-serif").style("font-size","10px").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),z.attr("transform","translate(0,"+-b.axisTitleOffset+")").text(function(e){return e.label});var F=N.selectAll(".axisExtent").data(i,r);F.enter().append("g").classed("axisExtent",!0);var B=F.selectAll(".axisExtentTop").data(i,r);B.enter().append("g").classed("axisExtentTop",!0),B.attr("transform","translate(0,"+-b.axisExtentOffset+")");var U=B.selectAll(".axisExtentTopText").data(i,r);U.enter().append("text").classed("axisExtentTopText",!0).attr("alignment-baseline","after-edge").call(g),U.text(function(e){return x(e)(e.domainScale.domain().slice(-1)[0])});var V=F.selectAll(".axisExtentBottom").data(i,r);V.enter().append("g").classed("axisExtentBottom",!0),V.attr("transform",function(e){return"translate(0,"+(e.model.height+b.axisExtentOffset)+")"});var H=V.selectAll(".axisExtentBottomText").data(i,r);H.enter().append("text").classed("axisExtentBottomText",!0).attr("alignment-baseline","before-edge").call(g),H.text(function(e){return x(e)(e.domainScale.domain()[0])});var Y=N.selectAll(".axisBrush").data(i,r),W=Y.enter().append("g").classed("axisBrush",!0);Y.each(function(e){e.brush||(e.brush=_.svg.brush().y(e.unitScale).on("brushstart",w).on("brush",M).on("brushend",k),0===e.filter[0]&&1===e.filter[1]||e.brush.extent(e.filter),_.select(this).call(e.brush))}),W.selectAll("rect").attr("x",-b.bar.capturewidth/2).attr("width",b.bar.capturewidth),W.selectAll("rect.extent").attr("fill","url(#filterBarPattern)").style("cursor","ns-resize").filter(function(e){return 0===e.filter[0]&&1===e.filter[1]}).attr("y",-100),W.selectAll(".resize rect").attr("height",b.bar.handleheight).attr("opacity",0).style("visibility","visible"),W.selectAll(".resize.n rect").style("cursor","n-resize").attr("y",b.bar.handleoverlap-b.bar.handleheight),W.selectAll(".resize.s rect").style("cursor","s-resize").attr("y",b.bar.handleoverlap);var q=!1,G=!1;return D}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i[0].trace;o._module===t&&!0===o.visible&&n.push(i)}return n}var i=n(6);t.name="pie",t.plot=function(e){var t=i.getModule("pie"),n=r(e.calcdata,t);n.length&&t.plot(e,n)},t.clean=function(e,t,n,r){var i=r._has&&r._has("pie"),o=t._has&&t._has("pie");i&&!o&&r._pielayer.selectAll("g.trace").remove()}},function(e,t,n){"use strict";function r(e){if(!l){var t=a.defaults;l=t.slice();var n;for(n=0;n<t.length;n++)l.push(o(t[n]).lighten(20).toHexString());for(n=0;n<a.defaults.length;n++)l.push(o(t[n]).darken(20).toHexString())}return l[e%l.length]}var i=n(4),o=n(38),a=n(3),s=n(626);e.exports=function(e,t){var n,l,u,c,f,h,d=t.values,p=t.labels,m=[],v=e._fullLayout,g=v._piecolormap,y={},b=!1,x=0,_=v.hiddenlabels||[];if(t.dlabel)for(p=new Array(d.length),n=0;n<d.length;n++)p[n]=String(t.label0+n*t.dlabel);for(n=0;n<d.length;n++)l=d[n],i(l)&&((l=+l)<0||(u=p[n],void 0!==u&&""!==u||(u=n),u=String(u),void 0===y[u]&&(y[u]=!0,c=o(t.marker.colors[n]),c.isValid()?(c=a.addOpacity(c,c.getAlpha()),g[u]||(g[u]=c)):g[u]?c=g[u]:(c=!1,b=!0),f=-1!==_.indexOf(u),f||(x+=l),m.push({v:l,label:u,color:c,i:n,hidden:f}))));if(t.sort&&m.sort(function(e,t){return t.v-e.v}),b)for(n=0;n<m.length;n++)h=m[n],!1===h.color&&(g[h.label]=h.color=r(v._piedefaultcolorcount),v._piedefaultcolorcount++);if(m[0]&&(m[0].vTotal=x),t.textinfo&&"none"!==t.textinfo){var w,M=-1!==t.textinfo.indexOf("label"),k=-1!==t.textinfo.indexOf("text"),E=-1!==t.textinfo.indexOf("value"),S=-1!==t.textinfo.indexOf("percent"),T=v.separators;for(n=0;n<m.length;n++)h=m[n],w=M?[h.label]:[],k&&t.text[h.i]&&w.push(t.text[h.i]),E&&w.push(s.formatPieValue(h.v,T)),S&&w.push(s.formatPiePercent(h.v/x,T)),h.text=w.join("<br>")}return m};var l},function(e,t,n){"use strict";var r=n(0),i=n(625);e.exports=function(e,t,n,o){function a(n,o){return r.coerce(e,t,i,n,o)}var s=r.coerceFont,l=a("values");if(!Array.isArray(l)||!l.length)return void(t.visible=!1);var u=a("labels");Array.isArray(u)||(a("label0"),a("dlabel")),a("marker.line.width")&&a("marker.line.color");var c=a("marker.colors");Array.isArray(c)||(t.marker.colors=[]),a("scalegroup");var f=a("text"),h=a("textinfo",Array.isArray(f)?"text+percent":"percent");if(a("hovertext"),a("hoverinfo",1===o._dataLength?"label+text+value+percent":void 0),h&&"none"!==h){var d=a("textposition"),p=Array.isArray(d)||"auto"===d,m=p||"inside"===d,v=p||"outside"===d;if(m||v){var g=s(a,"textfont",o.font);m&&s(a,"insidetextfont",g),v&&s(a,"outsidetextfont",g)}}a("domain.x"),a("domain.y"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")}},function(e,t,n){"use strict";var r={};r.attributes=n(625),r.supplyDefaults=n(1513),r.supplyLayoutDefaults=n(1515),r.layoutAttributes=n(627),r.calc=n(1512),r.plot=n(1516),r.style=n(1517),r.styleOne=n(347),r.moduleType="trace",r.name="pie",r.basePlotModule=n(1511),r.categories=["pie","showLegend"],r.meta={description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(627);e.exports=function(e,t){!function(n,o){r.coerce(e,t,i,n,o)}("hiddenlabels")}},function(e,t,n){"use strict";function r(e,t,n){var r=Math.sqrt(e.width*e.width+e.height*e.height),o=e.width/e.height,a=Math.PI*Math.min(t.v/n.vTotal,.5),s=1-n.trace.hole,l=i(t,n),u={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(u.scale>=1)return u;var c=o+1/(2*Math.tan(a)),f=n.r*Math.min(1/(Math.sqrt(c*c+.5)+c),s/(Math.sqrt(o*o+s/2)+o)),h={scale:2*f/e.height,rCenter:Math.cos(f/n.r)-f*o/n.r,rotate:(180/Math.PI*t.midangle+720)%180-90},d=1/o,p=d+1/(2*Math.tan(a)),m=n.r*Math.min(1/(Math.sqrt(p*p+.5)+p),s/(Math.sqrt(d*d+s/2)+d)),v={scale:2*m/e.width,rCenter:Math.cos(m/n.r)-m/o/n.r,rotate:(180/Math.PI*t.midangle+810)%180-90},g=v.scale>h.scale?v:h;return u.scale<1&&g.scale>u.scale?g:u}function i(e,t){if(e.v===t.vTotal&&!t.trace.hole)return 1;var n=Math.PI*Math.min(e.v/t.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-t.trace.hole)/2)}function o(e,t){var n=t.pxmid[0],r=t.pxmid[1],i=e.width/2,o=e.height/2;return n<0&&(i*=-1),r<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(o)*(i>0?1:-1)/2,y:o/(1+n*n/(r*r)),outside:!0}}function a(e,t){function n(e,t){return e.pxmid[1]-t.pxmid[1]}function r(e,t){return t.pxmid[1]-e.pxmid[1]}var i,o,a,s,l,u,c,f,h,d,p,m,v;for(o=0;o<2;o++)for(a=o?n:r,l=o?Math.max:Math.min,c=o?1:-1,i=0;i<2;i++){for(s=i?Math.max:Math.min,u=i?1:-1,f=e[o][i],f.sort(a),h=e[1-o][i],d=h.concat(f),m=[],p=0;p<f.length;p++)void 0!==f[p].yLabelMid&&m.push(f[p]);for(v=!1,p=0;o&&p<h.length;p++)if(void 0!==h[p].yLabelMid){v=h[p];break}for(p=0;p<m.length;p++){var g=p&&m[p-1];v&&!p&&(g=v),function(e,n){n||(n={});var r,i,a,f,h,p,m=n.labelExtraY+(o?n.yLabelMax:n.yLabelMin),v=o?e.yLabelMin:e.yLabelMax,g=o?e.yLabelMax:e.yLabelMin,y=e.cyFinal+l(e.px0[1],e.px1[1]),b=m-v;if(b*c>0&&(e.labelExtraY=b),Array.isArray(t.pull))for(i=0;i<d.length;i++)(a=d[i])===e||(t.pull[e.i]||0)>=t.pull[a.i]||((e.pxmid[1]-a.pxmid[1])*c>0?(f=a.cyFinal+l(a.px0[1],a.px1[1]),(b=f-v-e.labelExtraY)*c>0&&(e.labelExtraY+=b)):(g+e.labelExtraY-y)*c>0&&(r=3*u*Math.abs(i-d.indexOf(e)),h=a.cxFinal+s(a.px0[0],a.px1[0]),(p=h+r-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*u>0&&(e.labelExtraX+=p)))}(m[p],g)}}}function s(e,t){var n,r,i,o,a,s,l,c,f,h,d=[];for(i=0;i<e.length;i++){if(a=e[i][0],s=a.trace,n=t.w*(s.domain.x[1]-s.domain.x[0]),r=t.h*(s.domain.y[1]-s.domain.y[0]),l=s.tiltaxis*Math.PI/180,c=s.pull,Array.isArray(c))for(c=0,o=0;o<s.pull.length;o++)s.pull[o]>c&&(c=s.pull[o]);a.r=Math.min(n/u(s.tilt,Math.sin(l),s.depth),r/u(s.tilt,Math.cos(l),s.depth))/(2+2*c),a.cx=t.l+t.w*(s.domain.x[1]+s.domain.x[0])/2,a.cy=t.t+t.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&-1===d.indexOf(s.scalegroup)&&d.push(s.scalegroup)}for(o=0;o<d.length;o++){for(h=1/0,f=d[o],i=0;i<e.length;i++)a=e[i][0],a.trace.scalegroup===f&&(h=Math.min(h,a.r*a.r/a.vTotal));for(i=0;i<e.length;i++)a=e[i][0],a.trace.scalegroup===f&&(a.r=Math.sqrt(h*a.vTotal))}}function l(e){function t(e){var t=f.r*Math.sin(e),n=-f.r*Math.cos(e);return d?[t*(1-s*r*r)+n*a*s,t*a*s+n*(1-s*i*i),Math.sin(o)*(n*i-t*r)]:[t,n]}var n,r,i,o,a,s,l,u,c,f=e[0],h=f.trace,d=h.tilt,p=h.rotation*Math.PI/180,m=2*Math.PI/f.vTotal,v="px0",g="px1";if("counterclockwise"===h.direction){for(l=0;l<e.length&&e[l].hidden;l++);if(l===e.length)return;p+=m*e[l].v,m*=-1,v="px1",g="px0"}for(d&&(o=d*Math.PI/180,n=h.tiltaxis*Math.PI/180,a=Math.sin(n)*Math.cos(n),s=1-Math.cos(o),r=Math.sin(n),i=Math.cos(n)),c=t(p),l=0;l<e.length;l++)u=e[l],u.hidden||(u[v]=c,p+=m*u.v/2,u.pxmid=t(p),u.midangle=p,p+=m*u.v/2,c=t(p),u[g]=c,u.largeArc=u.v>f.vTotal/2?1:0)}function u(e,t,n){if(!e)return 1;var r=Math.sin(e*Math.PI/180);return Math.max(.01,n*r*Math.abs(t)+2*Math.sqrt(1-r*r*t*t))}var c=n(2),f=n(40),h=n(3),d=n(12),p=n(43),m=n(626);e.exports=function(e,t){var n=e._fullLayout;s(t,n._size);var u=n._pielayer.selectAll("g.trace").data(t);u.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),u.exit().remove(),u.order(),u.each(function(t){var s=c.select(this),u=t[0],v=u.trace,g=(v.depth||0)*u.r*Math.sin(0)/2,y=v.tiltaxis||0,b=y*Math.PI/180,x=[g*Math.sin(b),g*Math.cos(b)],_=u.r*Math.cos(0),w=s.selectAll("g.part").data(v.tilt?["top","sides"]:["top"]);w.enter().append("g").attr("class",function(e){return e+" part"}),w.exit().remove(),w.order(),l(t),s.selectAll(".top").each(function(){var s=c.select(this).selectAll("g.slice").data(t);s.enter().append("g").classed("slice",!0),s.exit().remove();var l=[[[],[]],[[],[]]],g=!1;s.each(function(t){function a(r){r.originalEvent=c.event;var o=e._fullLayout,a=e._fullData[v.index],s=a.hoverinfo;if("all"===s&&(s="label+text+value+percent+name"),e._dragging||!1===o.hovermode||"none"===s||"skip"===s||!s)return void f.hover(e,r,"pie");var l=i(t,u),h=w+t.pxmid[0]*(1-l),d=M+t.pxmid[1]*(1-l),p=n.separators,g=[];-1!==s.indexOf("label")&&g.push(t.label),-1!==s.indexOf("text")&&(a.hovertext?g.push(Array.isArray(a.hovertext)?a.hovertext[t.i]:a.hovertext):a.text&&a.text[t.i]&&g.push(a.text[t.i])),-1!==s.indexOf("value")&&g.push(m.formatPieValue(t.v,p)),-1!==s.indexOf("percent")&&g.push(m.formatPiePercent(t.v/u.vTotal,p)),f.loneHover({x0:h-l*u.r,x1:h+l*u.r,y:d,text:g.join("<br>"),name:-1!==s.indexOf("name")?a.name:void 0,color:t.color,idealAlign:t.pxmid[0]<0?"left":"right"},{container:o._hoverlayer.node(),outerContainer:o._paper.node()}),f.hover(e,r,"pie"),S=!0}function s(t){t.originalEvent=c.event,e.emit("plotly_unhover",{event:c.event,points:[t]}),S&&(f.loneUnhover(n._hoverlayer.node()),S=!1)}function h(){e._hoverdata=[t],e._hoverdata.trace=u.trace,f.click(e,c.event)}function b(e,n,r,i){return"a"+i*u.r+","+i*_+" "+y+" "+t.largeArc+(r?" 1 ":" 0 ")+i*(n[0]-e[0])+","+i*(n[1]-e[1])}if(t.hidden)return void c.select(this).selectAll("path,g").remove();l[t.pxmid[1]<0?0:1][t.pxmid[0]<0?0:1].push(t);var w=u.cx+x[0],M=u.cy+x[1],k=c.select(this),E=k.selectAll("path.surface").data([t]),S=!1;if(E.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),k.select("path.textline").remove(),k.on("mouseover",a).on("mouseout",s).on("click",h),v.pull){var T=+(Array.isArray(v.pull)?v.pull[t.i]:v.pull)||0;T>0&&(w+=T*t.pxmid[0],M+=T*t.pxmid[1])}t.cxFinal=w,t.cyFinal=M;var A=v.hole;if(t.v===u.vTotal){var C="M"+(w+t.px0[0])+","+(M+t.px0[1])+b(t.px0,t.pxmid,!0,1)+b(t.pxmid,t.px0,!0,1)+"Z";A?E.attr("d","M"+(w+A*t.px0[0])+","+(M+A*t.px0[1])+b(t.px0,t.pxmid,!1,A)+b(t.pxmid,t.px0,!1,A)+"Z"+C):E.attr("d",C)}else{var D=b(t.px0,t.px1,!0,1);if(A){var O=1-A;E.attr("d","M"+(w+A*t.px1[0])+","+(M+A*t.px1[1])+b(t.px1,t.px0,!1,A)+"l"+O*t.px0[0]+","+O*t.px0[1]+D+"Z")}else E.attr("d","M"+w+","+M+"l"+t.px0[0]+","+t.px0[1]+D+"Z")}var P=Array.isArray(v.textposition)?v.textposition[t.i]:v.textposition,L=k.selectAll("g.slicetext").data(t.text&&"none"!==P?[0]:[]);L.enter().append("g").classed("slicetext",!0),L.exit().remove(),L.each(function(){var e=c.select(this).selectAll("text").data([0]);e.enter().append("text").attr("data-notex",1),e.exit().remove(),e.text(t.text).attr({class:"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(d.font,"outside"===P?v.outsidetextfont:v.insidetextfont).call(p.convertToTspans),e.selectAll("tspan.line").attr({x:0,y:0});var n,i=d.bBox(e.node());"outside"===P?n=o(i,t):(n=r(i,t,u),"auto"===P&&n.scale<1&&(e.call(d.font,v.outsidetextfont),v.outsidetextfont.family===v.insidetextfont.family&&v.outsidetextfont.size===v.insidetextfont.size||(e.attr({"data-bb":""}),i=d.bBox(e.node())),n=o(i,t)));var a=w+t.pxmid[0]*n.rCenter+(n.x||0),s=M+t.pxmid[1]*n.rCenter+(n.y||0);n.outside&&(t.yLabelMin=s-i.height/2,t.yLabelMid=s,t.yLabelMax=s+i.height/2,t.labelExtraX=0,t.labelExtraY=0,g=!0),e.attr("transform","translate("+a+","+s+")"+(n.scale<1?"scale("+n.scale+")":"")+(n.rotate?"rotate("+n.rotate+")":"")+"translate("+-(i.left+i.right)/2+","+-(i.top+i.bottom)/2+")")})}),g&&a(l,v),s.each(function(e){if(e.labelExtraX||e.labelExtraY){var t=c.select(this),n=t.select("g.slicetext text");n.attr("transform","translate("+e.labelExtraX+","+e.labelExtraY+")"+n.attr("transform"));var r=e.cxFinal+e.pxmid[0],i=e.cyFinal+e.pxmid[1],o="M"+r+","+i,a=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var s=e.labelExtraX*e.pxmid[1]/e.pxmid[0],l=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(s)>Math.abs(l)?o+="l"+l*e.pxmid[0]/e.pxmid[1]+","+l+"H"+(r+e.labelExtraX+a):o+="l"+e.labelExtraX+","+s+"v"+(l-s)+"h"+a}else o+="V"+(e.yLabelMid+e.labelExtraY)+"h"+a;t.append("path").classed("textline",!0).call(h.stroke,v.outsidetextfont.color).attr({"stroke-width":Math.min(2,v.outsidetextfont.size/8),d:o,fill:"none"})}})})}),setTimeout(function(){u.selectAll("tspan").each(function(){var e=c.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)}},function(e,t,n){"use strict";var r=n(2),i=n(347);e.exports=function(e){e._fullLayout._pielayer.selectAll(".trace").each(function(e){var t=e[0],n=t.trace,o=r.select(this);o.style({opacity:n.opacity}),o.selectAll(".top path.surface").each(function(e){r.select(this).call(i,e,n)})})}},function(e,t,n){"use strict";function r(e,t){this.scene=e,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=o(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}function i(e,t){var n=new r(e,t.uid);return n.update(t),n}var o=n(1011),a=n(68),s=n(176),l=["xaxis","yaxis"],u=r.prototype;u.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},u.update=function(e){this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=s(e,{})},u.updateFast=function(e){var t,n,r,i,o,s,l=this.xData=this.pickXData=e.x,u=this.yData=this.pickYData=e.y,c=this.pickXYData=e.xy,f=e.xbounds&&e.ybounds,h=e.indices,d=this.bounds;if(c){if(r=c,t=c.length>>>1,f)d[0]=e.xbounds[0],d[2]=e.xbounds[1],d[1]=e.ybounds[0],d[3]=e.ybounds[1];else for(s=0;s<t;s++)i=r[2*s],o=r[2*s+1],i<d[0]&&(d[0]=i),i>d[2]&&(d[2]=i),o<d[1]&&(d[1]=o),o>d[3]&&(d[3]=o);if(h)n=h;else for(n=new Int32Array(t),s=0;s<t;s++)n[s]=s}else for(t=l.length,r=new Float32Array(2*t),n=new Int32Array(t),s=0;s<t;s++)i=l[s],o=u[s],n[s]=s,r[2*s]=i,r[2*s+1]=o,i<d[0]&&(d[0]=i),i>d[2]&&(d[2]=i),o<d[1]&&(d[1]=o),o>d[3]&&(d[3]=o);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var p=a(e.marker.color),m=a(e.marker.border.color),v=e.opacity*e.marker.opacity;p[3]*=v,this.pointcloudOptions.color=p;var g=e.marker.blend;if(null===g){g=l.length<100||u.length<100}this.pointcloudOptions.blend=g,m[3]*=v,this.pointcloudOptions.borderColor=m;var y=e.marker.sizemin,b=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=y,this.pointcloudOptions.sizeMax=b,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions),this.expandAxesFast(d,b/2)},u.expandAxesFast=function(e,t){for(var n,r,i,o=t||.5,a=0;a<2;a++)n=this.scene[l[a]],r=n._min,r||(r=[]),r.push({val:e[a],pad:o}),i=n._max,i||(i=[]),i.push({val:e[a+2],pad:o})},u.dispose=function(){this.pointcloud.dispose()},e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(628);e.exports=function(e,t,n){function o(n,o){return r.coerce(e,t,i,n,o)}o("x"),o("y"),o("xbounds"),o("ybounds"),e.xy&&e.xy instanceof Float32Array&&(t.xy=e.xy),e.indices&&e.indices instanceof Int32Array&&(t.indices=e.indices),o("text"),o("marker.color",n),o("marker.opacity"),o("marker.blend"),o("marker.sizemin"),o("marker.sizemax"),o("marker.border.color",n),o("marker.border.arearatio")}},function(e,t,n){"use strict";var r={};r.attributes=n(628),r.supplyDefaults=n(1519),r.calc=n(354),r.plot=n(1518),r.moduleType="trace",r.name="pointcloud",r.basePlotModule=n(322),r.categories=["gl2d","showLegend"],r.meta={description:["The data visualized as a point cloud set in `x` and `y`","using the WebGl plotting engine."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(21),a=n(174),s=n(173);e.exports=function(e,t){var n,l,u,c=i.getFromId(e,t.xaxis||"x"),f=i.getFromId(e,t.yaxis||"y"),h=c.makeCalcdata(t,"x"),d=f.makeCalcdata(t,"y"),p=Math.min(h.length,d.length);c._minDtick=0,f._minDtick=0,h.length>p&&h.splice(p,h.length-p),d.length>p&&d.splice(p,d.length-p);var m={padded:!0},v={padded:!0};if(o.hasMarkers(t)){if(n=t.marker,l=n.size,Array.isArray(l)){var g={type:"linear"};i.setConvert(g),l=g.makeCalcdata(t.marker,"size"),l.length>p&&l.splice(p,l.length-p)}var y,b=1.6*(t.marker.sizeref||1);y="area"===t.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/b),3)}:function(e){return Math.max((e||0)/b,3)},m.ppad=v.ppad=Array.isArray(l)?l.map(y):y(l)}a(t),!("tozerox"===t.fill||"tonextx"===t.fill&&e.firstscatter)||h[0]===h[p-1]&&d[0]===d[p-1]?t.error_y.visible||-1===["tonexty","tozeroy"].indexOf(t.fill)&&(o.hasMarkers(t)||o.hasText(t))||(m.padded=!1,m.ppad=0):m.tozero=!0,!("tozeroy"===t.fill||"tonexty"===t.fill&&e.firstscatter)||h[0]===h[p-1]&&d[0]===d[p-1]?-1!==["tonextx","tozerox"].indexOf(t.fill)&&(v.padded=!1):v.tozero=!0,i.expand(c,h,m),i.expand(f,d,v);var x=new Array(p);for(u=0;u<p;u++)x[u]=r(h[u])&&r(d[u])?{x:h[u],y:d[u]}:{x:!1,y:!1},t.ids&&(x[u].id=String(t.ids[u]));return s(x,t),e.firstscatter=!1,x}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var o=e[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},function(e,t,n){"use strict";var r=n(0),i=n(34),o=n(175),a=n(21),s=n(353),l=n(103),u=n(102),c=n(349),f=n(128),h=n(101),d=n(125);e.exports=function(e,t,n,p){function m(n,o){return r.coerce(e,t,i,n,o)}var v=s(e,t,p,m),g=v<o.PTS_LINESONLY?"lines+markers":"lines";if(!v)return void(t.visible=!1);m("customdata"),m("text"),m("hovertext"),m("mode",g),m("ids"),a.hasLines(t)&&(u(e,t,n,p,m),c(e,t,m),m("connectgaps"),m("line.simplify")),a.hasMarkers(t)&&l(e,t,n,p,m),a.hasText(t)&&f(e,t,p,m);var y=[];(a.hasMarkers(t)||a.hasText(t))&&(m("marker.maxdisplayed"),y.push("points")),m("fill"),"none"!==t.fill&&(h(e,t,n,m),a.hasLines(t)||c(e,t,m)),"tonext"!==t.fill&&"toself"!==t.fill||y.push("fills"),m("hoveron",y.join("+")||"points"),d(e,t,n,{axis:"y"}),d(e,t,n,{axis:"x",inherit:"y"})}},function(e,t,n){"use strict";var r=n(27).BADNUM;e.exports=function(e,t){function n(t){var n=_.c2p(e[t].x),i=w.c2p(e[t].y);return n!==r&&i!==r&&[n,i]}function i(e){var t=e[0]/_._length,n=e[1]/w._length;return(1+10*Math.max(0,-t,t-1,-n,n-1))*E}var o,a,s,l,u,c,f,h,d,p,m,v,g,y,b,x,_=t.xaxis,w=t.yaxis,M=t.simplify,k=t.connectGaps,E=t.baseTolerance,S=t.linear,T=[],A=.2,C=new Array(e.length),D=0;for(M||(E=A=-1),o=0;o<e.length;o++)if(a=n(o)){for(D=0,C[D++]=a,o++;o<e.length;o++){if(!(l=n(o))){if(k)continue;break}if(S){if(!((f=function(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}(l,a))<i(l)*A)){for(d=[(l[0]-a[0])/f,(l[1]-a[1])/f],u=a,m=f,v=y=b=0,h=!1,s=l,o++;o<e.length;o++){if(!(c=n(o))){if(k)continue;break}if(p=[c[0]-a[0],c[1]-a[1]],x=p[0]*d[1]-p[1]*d[0],y=Math.min(y,x),(b=Math.max(b,x))-y>i(c))break;s=c,g=p[0]*d[0]+p[1]*d[1],g>m?(m=g,l=c,h=!1):g<v&&(v=g,u=c,h=!0)}if(h?(C[D++]=l,s!==u&&(C[D++]=u)):(u!==a&&(C[D++]=u),s!==l&&(C[D++]=l)),C[D++]=s,o>=e.length||!c)break;C[D++]=c,a=c}}else C[D++]=l}T.push(C.slice(0,D))}return T}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r,i,o=null,a=0;a<n.length;++a)r=n[a],i=r[0].trace,!0===i.visible?(i._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(i.fill)&&(i._prevtrace=o,o&&(o._nexttrace=i)),o=i):i._prevtrace=i._nexttrace=null}},function(e,t,n){"use strict";function r(e,t,n){if(!t||!t.visible)return null;for(var r=a(t),i=new Array(e.length),o=0;o<e.length;o++){var s=r(+e[o],o);i[o]=[-s[0]*n,s[1]*n]}return i}function i(e){for(var t=0;t<e.length;t++)if(e[t])return e[t].length;return 0}function o(e,t){var n=[r(e.x,e.error_x,t[0]),r(e.y,e.error_y,t[1]),r(e.z,e.error_z,t[2])],o=i(n);if(0===o)return null;for(var a=new Array(o),s=0;s<o;s++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var c=0;c<2;c++)l[c][u]=n[u][s][c];a[s]=l}return a}var a=n(540);e.exports=o},function(e,t,n){"use strict";function r(e,t){this.scene=e,this.uid=t,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}function i(e,t,n){var r,i=(n+1)%3,o=(n+2)%3,a=[],s=[];for(r=0;r<e.length;++r){var l=e[r];!isNaN(l[i])&&isFinite(l[i])&&!isNaN(l[o])&&isFinite(l[o])&&(a.push([l[i],l[o]]),s.push(r))}var u=g(a);for(r=0;r<u.length;++r)for(var c=u[r],f=0;f<c.length;++f)c[f]=s[c[f]];return{positions:e,cells:u,meshColor:t}}function o(e){for(var t=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[0,0,0],i=0;i<3;i++){var o=e[i];o&&!1!==o.copy_zstyle&&(o=e[2]),o&&(t[i]=o.width/2,n[i]=b(o.color),r=o.thickness)}return{capSize:t,color:n,lineWidth:r}}function a(e){var t=[0,0];return Array.isArray(e)?[0,-1]:(e.indexOf("bottom")>=0&&(t[1]+=1),e.indexOf("top")>=0&&(t[1]-=1),e.indexOf("left")>=0&&(t[0]-=1),e.indexOf("right")>=0&&(t[0]+=1),t)}function s(e,t){return t(4*e)}function l(e){return M[e]}function u(e,t,n,r,i){var o=null;if(Array.isArray(e)){o=[];for(var a=0;a<t;a++)void 0===e[a]?o[a]=r:o[a]=n(e[a],i)}else o=n(e,y.identity);return o}function c(e,t){var n,r,i,c,f,h,d=[],p=e.fullSceneLayout,m=e.dataScale,v=p.xaxis,g=p.yaxis,w=p.zaxis,M=t.marker,E=t.line,S=t.x||[],T=t.y||[],A=t.z||[],C=S.length,D=t.xcalendar,O=t.ycalendar,P=t.zcalendar;for(r=0;r<C;r++)i=v.d2l(S[r],0,D)*m[0],c=g.d2l(T[r],0,O)*m[1],f=w.d2l(A[r],0,P)*m[2],d[r]=[i,c,f];if(Array.isArray(t.text))h=t.text;else if(void 0!==t.text)for(h=new Array(C),r=0;r<C;r++)h[r]=t.text;if(n={position:d,mode:t.mode,text:h},"line"in t&&(n.lineColor=x(E,1,C),n.lineWidth=E.width,n.lineDashes=E.dash),"marker"in t){var L=_(t);n.scatterColor=x(M,1,C),n.scatterSize=u(M.size,C,s,20,L),n.scatterMarker=u(M.symbol,C,l,"●"),n.scatterLineWidth=M.line.width,n.scatterLineColor=x(M.line,1,C),n.scatterAngle=0}"textposition"in t&&(n.textOffset=a(t.textposition),n.textColor=x(t.textfont,1,C),n.textSize=u(t.textfont.size,C,y.identity,12),n.textFont=t.textfont.family,n.textAngle=0);var I=["x","y","z"];for(n.project=[!1,!1,!1],n.projectScale=[1,1,1],n.projectOpacity=[1,1,1],r=0;r<3;++r){var N=t.projection[I[r]];(n.project[r]=N.show)&&(n.projectOpacity[r]=N.opacity,n.projectScale[r]=N.scale)}n.errorBounds=k(t,m);var R=o([t.error_x,t.error_y,t.error_z]);return n.errorColor=R.color,n.errorLineWidth=R.lineWidth,n.errorCapSize=R.capSize,n.delaunayAxis=t.surfaceaxis,n.delaunayColor=b(t.surfacecolor),n}function f(e){if(Array.isArray(e)){var t=e[0];return Array.isArray(t)&&(e=t),"rgb("+e.slice(0,3).map(function(e){return Math.round(255*e)})+")"}return null}function h(e,t){var n=new r(e,t.uid);return n.update(t),n}var d=n(976),p=n(1031),m=n(968),v=n(466),g=n(281),y=n(0),b=n(68),x=n(557),_=n(237),w=n(553),M=n(165),k=n(1526),E=r.prototype;E.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),this.textLabels?void 0!==this.textLabels[e.data.index]?e.textLabel=this.textLabels[e.data.index]:e.textLabel=this.textLabels:e.textLabel="";var t=e.data.index;return e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}},E.update=function(e){var t,n,r,o,a=this.scene.glplot.gl,s=w.solid;this.data=e;var l=c(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in w&&(s=w[l.lineDashes]),this.color=f(l.scatterColor)||f(l.lineColor),this.dataPoints=l.position,t={gl:a,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:s[0],dashScale:s[1],opacity:e.opacity,connectGaps:e.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(t):(this.linePlot=d(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=e.opacity;if(e.marker&&e.marker.opacity&&(u*=e.marker.opacity),n={gl:a,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=p(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:a,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=p(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),r={gl:a,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(r):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=m(r),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var h=i(l.position,l.delaunayColor,l.delaunayAxis);h.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(h):(h.gl=a,this.delaunayMesh=v(h),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},E.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},e.exports=h},function(e,t,n){"use strict";function r(e,t,n,r){var o=0,a=n("x"),s=n("y"),l=n("z");return i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],r),a&&s&&l&&(o=Math.min(a.length,s.length,l.length),o<a.length&&(t.x=a.slice(0,o)),o<s.length&&(t.y=s.slice(0,o)),o<l.length&&(t.z=l.slice(0,o))),o}var i=n(6),o=n(0),a=n(21),s=n(103),l=n(102),u=n(128),c=n(125),f=n(630);e.exports=function(e,t,n,i){function h(n,r){return o.coerce(e,t,f,n,r)}if(!r(e,t,h,i))return void(t.visible=!1);h("text"),h("hovertext"),h("mode"),a.hasLines(t)&&(h("connectgaps"),l(e,t,n,i,h)),a.hasMarkers(t)&&s(e,t,n,i,h),a.hasText(t)&&u(e,t,i,h);var d=(t.line||{}).color,p=(t.marker||{}).color;h("surfaceaxis")>=0&&h("surfacecolor",d||p);for(var m=["x","y","z"],v=0;v<3;++v){var g="projection."+m[v];h(g+".show")&&(h(g+".opacity"),h(g+".scale"))}c(e,t,n,{axis:"z"}),c(e,t,n,{axis:"y",inherit:"z"}),c(e,t,n,{axis:"x",inherit:"z"})}},function(e,t,n){"use strict";var r={};r.plot=n(1527),r.attributes=n(630),r.markerSymbols=n(165),r.supplyDefaults=n(1528),r.colorbar=n(80),r.calc=n(354),r.moduleType="trace",r.name="scatter3d",r.basePlotModule=n(323),r.categories=["gl3d","symbols","markerColorscale","showLegend"],r.meta={hrName:"scatter_3d",description:["The data visualized as scatter point or lines in 3D dimension","is set in `x`, `y`, `z`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","Projections are achieved via `projection`.","Surface fills are achieved via `surfaceaxis`."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(0),a=n(21),s=n(174),l=n(333);e.exports=function(e,t){var n=t.carpetTrace=l(e,t);if(n&&n.visible&&"legendonly"!==n.visible){var u;t.xaxis=n.xaxis,t.yaxis=n.yaxis;var c,f,h=t.a.length,d=new Array(h),p=!1;for(u=0;u<h;u++)if(c=t.a[u],f=t.b[u],r(c)&&r(f)){var m=n.ab2xy(+c,+f,!0),v=n.isVisible(+c,+f);v||(p=!0),d[u]={x:m[0],y:m[1],a:c,b:f,vis:v}}else d[u]={x:!1,y:!1};t._needsCull=p,d[0].carpet=n,d[0].trace=t;var g,y;if(a.hasMarkers(t)&&(g=t.marker,y=g.size,Array.isArray(y))){var b={type:"linear"};i.setConvert(b),y=b.makeCalcdata(t.marker,"size"),y.length>h&&y.splice(h,y.length-h)}return s(t),"undefined"!==typeof y&&o.mergeArray(y,d,"ms"),d}}},function(e,t,n){"use strict";var r=n(0),i=n(175),o=n(21),a=n(103),s=n(102),l=n(349),u=n(128),c=n(101),f=n(631);e.exports=function(e,t,n,h){function d(n,i){return r.coerce(e,t,f,n,i)}d("carpet"),t.xaxis="x",t.yaxis="y";var p,m=d("a"),v=d("b");if(!(p=Math.min(m.length,v.length)))return void(t.visible=!1);m&&p<m.length&&(t.a=m.slice(0,p)),v&&p<v.length&&(t.b=v.slice(0,p)),d("sum"),d("text"),d("mode",p<i.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(t)&&(s(e,t,n,h,d),l(e,t,d),d("connectgaps")),o.hasMarkers(t)&&a(e,t,n,h,d),o.hasText(t)&&u(e,t,h,d);var g=[];(o.hasMarkers(t)||o.hasText(t))&&(d("marker.maxdisplayed"),g.push("points")),d("fill"),"none"!==t.fill&&(c(e,t,n,d),o.hasLines(t)||l(e,t,d)),d("hoverinfo",1===h._dataLength?"a+b+text":void 0),"tonext"!==t.fill&&"toself"!==t.fill||g.push("fills"),d("hoveron",g.join("+")||"points")}},function(e,t,n){"use strict";var r=n(348);e.exports=function(e,t,n,i){function o(e,t){v.push((e.labelprefix&&e.labelprefix.length>0?e.labelprefix:e._hovertitle+": ")+t.toFixed(3)+e.labelsuffix)}var a=r(e,t,n,i);if(a&&!1!==a[0].index){var s=a[0];if(void 0===s.index){var l=1-s.y0/e.ya._length,u=e.xa._length,c=u*l/2,f=u-c;return s.x0=Math.max(Math.min(s.x0,f),c),s.x1=Math.max(Math.min(s.x1,f),c),a}var h=s.cd[s.index];s.a=h.a,s.b=h.b,s.xLabelVal=void 0,s.yLabelVal=void 0;var d=s.trace,p=d._carpet,m=d.hoverinfo.split("+"),v=[];-1!==m.indexOf("all")&&(m=["a","b"]),-1!==m.indexOf("a")&&o(p.aaxis,h.a),-1!==m.indexOf("b")&&o(p.baxis,h.b);var g=p.ab2ij([h.a,h.b]),y=Math.floor(g[0]),b=g[0]-y,x=Math.floor(g[1]),_=g[1]-x,w=p.evalxy([],y,x,b,_);return v.push("y: "+w[1].toFixed(3)),s.extraText=v.join("<br>"),a}}},function(e,t,n){"use strict";var r={};r.attributes=n(631),r.supplyDefaults=n(1531),r.colorbar=n(80),r.calc=n(1530),r.plot=n(1534),r.style=n(1536),r.hoverPoints=n(1532),r.selectPoints=n(1535),r.moduleType="trace",r.name="scattercarpet",r.basePlotModule=n(44),r.categories=["carpet","symbols","markerColorscale","showLegend","carpetDependent"],r.meta={hrName:"scatter_carpet",description:["Plots a scatter trace on either the first carpet axis or the","carpet axis with a matching `carpet` attribute."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(350),i=n(5);e.exports=function(e,t,n){var o,a,s,l=n[0][0].carpet,u={xaxis:i.getFromId(e,l.xaxis||"x"),yaxis:i.getFromId(e,l.yaxis||"y"),plot:t.plot};for(r(u.graphDiv,u,n),o=0;o<n.length;o++)a=n[o][0].trace,s=u.plot.selectAll("g.trace"+a.uid+" .js-line"),s.attr("clip-path","url(#clip"+l.uid+"carpet)")}},function(e,t,n){"use strict";var r=n(351);e.exports=function(e,t){var n=r(e,t);if(n){var i,o,a,s=e.cd;for(a=0;a<n.length;a++)i=n[a],o=s[i.pointNumber],i.a=o.a,i.b=o.b,i.c=o.c,delete i.x,delete i.y;return n}}},function(e,t,n){"use strict";var r=n(352);e.exports=function(e){for(var t=e._fullLayout._modules,n=0;n<t.length;n++)if("scatter"===t[n].name)return;r(e)}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o=0,a=n("locations");return a?(n("locationmode"),o=a.length):(r=n("lon")||[],i=n("lat")||[],o=Math.min(r.length,i.length),o<r.length&&(t.lon=r.slice(0,o)),o<i.length&&(t.lat=i.slice(0,o)),o)}var i=n(0),o=n(21),a=n(103),s=n(102),l=n(128),u=n(101),c=n(177);e.exports=function(e,t,n,f){function h(n,r){return i.coerce(e,t,c,n,r)}if(!r(e,t,h))return void(t.visible=!1);h("text"),h("hovertext"),h("mode"),o.hasLines(t)&&(s(e,t,n,f,h),h("connectgaps")),o.hasMarkers(t)&&a(e,t,n,f,h),o.hasText(t)&&l(e,t,f,h),h("fill"),"none"!==t.fill&&u(e,t,n,h),h("hoverinfo",1===f._dataLength?"lon+lat+location+text":void 0)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.lon=t.lon,e.lat=t.lat,e.location=t.lon?t.lon:null,e}},function(e,t,n){"use strict";function r(e,t,n){function r(e){return o.tickText(n,n.c2l(e),"hover").text+"°"}var i=e.hoverinfo,a="all"===i?l.hoverinfo.flags:i.split("+"),s=-1!==a.indexOf("location")&&Array.isArray(e.locations),u=-1!==a.indexOf("lon"),c=-1!==a.indexOf("lat"),f=-1!==a.indexOf("text"),h=[];if(s?h.push(t.loc):u&&c?h.push("("+r(t.lonlat[0])+", "+r(t.lonlat[1])+")"):u?h.push("lon: "+r(t.lonlat[0])):c&&h.push("lat: "+r(t.lonlat[1])),f){var d;t.htx?d=t.htx:e.hovertext?d=e.hovertext:t.tx?d=t.tx:e.text&&(d=e.text),Array.isArray(d)||h.push(d)}return h.join("<br>")}var i=n(40),o=n(5),a=n(27).BADNUM,s=n(176),l=n(177);e.exports=function(e){function t(e){return f.projection(e)}function n(e){var n=e.lonlat;if(n[0]===a)return 1/0;if(f.isLonLatOverEdges(n))return 1/0;var r=t(n),i=u.c2p(),o=c.c2p(),s=Math.abs(i-r[0]),l=Math.abs(o-r[1]),h=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(s*s+l*l)-h,1-3/h)}var o=e.cd,l=o[0].trace,u=e.xa,c=e.ya,f=e.subplot;if(i.getClosest(o,n,e),!1!==e.index){var h=o[e.index],d=h.lonlat,p=t(d),m=h.mrc||1;return e.x0=p[0]-m,e.x1=p[0]+m,e.y0=p[1]-m,e.y1=p[1]+m,e.loc=h.loc,e.lat=d[0],e.lon=d[1],e.color=s(l,h),e.extraText=r(l,h,f.mockAxis),[e]}}},function(e,t,n){"use strict";var r={};r.attributes=n(177),r.supplyDefaults=n(1537),r.colorbar=n(80),r.calc=n(632),r.plot=n(1541),r.hoverPoints=n(1539),r.eventData=n(1538),r.moduleType="trace",r.name="scattergeo",r.basePlotModule=n(576),r.categories=["geo","symbols","markerColorscale","showLegend"],r.meta={hrName:"scatter_geo",description:["The data visualized as scatter point or lines on a geographic map","is provided either by longitude/latitude pairs in `lon` and `lat`","respectively or by geographic location IDs or names in `locations`."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e[0].trace;if(Array.isArray(n.locations))for(var r=c(n,t),i=n.locationmode,o=0;o<e.length;o++){var a=e[o],s=f(i,a.loc,r);a.lonlat=s?s.properties.ct:[u,u]}}function i(e){var t=e.framework.selectAll("g.trace.scattergeo");t.style("opacity",function(e){return e[0].trace.opacity}),t.each(function(e){var t=e[0].trace,n=o.select(this);n.selectAll("path.point").call(a.pointStyle,t),n.selectAll("text").call(a.textPointStyle,t)}),t.selectAll("path.js-line").style("fill","none").each(function(e){var t=o.select(this),n=e.trace,r=n.line||{};t.call(s.stroke,r.color).call(a.dashLine,r.dash||"",r.width||0),"none"!==n.fill&&t.call(s.fill,n.fillcolor)})}var o=n(2),a=n(12),s=n(3),l=n(0),u=n(27).BADNUM,c=n(316).getTopojsonFeatures,f=n(555).locationToFeature,h=n(556),d=n(21);e.exports=function(e,t){function n(e){return e[0].trace.uid}function a(e,t){e.lonlat[0]===u&&o.select(t).remove()}for(var s=0;s<t.length;s++)r(t[s],e.topojson);var c=e.framework.select(".scattergeolayer").selectAll("g.trace.scattergeo").data(t,n);c.enter().append("g").attr("class","trace scattergeo"),c.exit().remove(),c.selectAll("*").remove(),c.each(function(e){var t=o.select(this),n=e[0].trace;if(d.hasLines(n)||"none"!==n.fill){var r=h.calcTraceToLineCoords(e),i="none"!==n.fill?h.makePolygon(r,n):h.makeLine(r,n);t.selectAll("path.js-line").data([i]).enter().append("path").classed("js-line",!0)}d.hasMarkers(n)&&t.selectAll("path.point").data(l.identity).enter().append("path").classed("point",!0).each(function(e){a(e,this)}),d.hasText(n)&&t.selectAll("g").data(l.identity).enter().append("g").append("text").each(function(e){a(e,this)})}),i(e)}},function(e,t,n){"use strict";function r(e,t){this.scene=e,this.uid=t,this.type="scattergl",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.connectgaps=!0,this.index=null,this.idToIndex=[],this.bounds=[0,0,0,0],this.isVisible=!1,this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1,this.line=this.initObject(d,{positions:new Float64Array(0),color:[0,0,0,1],width:1,fill:[!1,!1,!1,!1],fillColor:[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],dashes:[1]},0),this.errorX=this.initObject(p,{positions:new Float64Array(0),errors:new Float64Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},1),this.errorY=this.initObject(p,{positions:new Float64Array(0),errors:new Float64Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},2);var n={positions:new Float64Array(0),sizes:[],colors:[],glyphs:[],borderWidths:[],borderColors:[],size:12,color:[0,0,0,1],borderSize:1,borderColor:[0,0,0,1]};this.scatter=this.initObject(f,n,3),this.fancyScatter=this.initObject(h,n,4)}function i(e,t,n){return Array.isArray(t)||(t=[t]),o(e,t,n)}function o(e,t,n){for(var r=new Array(n),i=t[0],o=0;o<n;++o)r[o]=e(o>=t.length?i:t[o]);return r}function a(e,t,n){return l(O(e,n),D(t,n),n)}function s(e,t,n,r){var i=w(e,t,r);return i=Array.isArray(i[0])?i:o(v.identity,[i],r),l(i,D(n,r),r)}function l(e,t,n){for(var r=new Array(4*n),i=0;i<n;++i){for(var o=0;o<3;++o)r[4*i+o]=e[i][o];r[4*i+3]=e[i][3]*t[i]}return r}function u(e){for(var t,n=e.length,r=Math.max(1,(n-1)/Math.min(Math.max(n,1),1e3)),i=0;i<n;i+=r)if(t=e[Math.floor(i)],!m(t)&&!(t instanceof Date))return!1;return!0}function c(e,t){var n=new r(e,t.uid);return n.update(t),n}var f=n(1023),h=n(1020),d=n(974),p=n(966),m=n(4),v=n(0),g=n(5),y=n(225),b=n(79),x=n(68),_=n(1379),w=n(557),M=n(21),k=n(237),E=n(176),S=n(165),T=n(552),A=["xaxis","yaxis"],C=r.prototype;C.initObject=function(e,t,n){function r(){u||(u=e(s,t),u._trace=a,u._index=n),u.update(t)}function i(){u&&u.update(l)}function o(){u&&u.dispose()}var a=this,s=a.scene.glplot,l=v.extendFlat({},t),u=null;return{options:t,update:r,clear:i,dispose:o}},C.handlePick=function(e){var t=e.pointId;(e.object!==this.line||this.connectgaps)&&(t=this.idToIndex[e.pointId]);var n=this.pickXData[t];return{trace:this,dataCoord:e.dataCoord,traceCoord:[m(n)||!v.isDateTime(n)?n:v.dateTime2ms(n),this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:Array.isArray(this.color)?this.color[t]:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},C.isFancy=function(e){if("linear"!==this.scene.xaxis.type&&"date"!==this.scene.xaxis.type)return!0;if("linear"!==this.scene.yaxis.type)return!0;if(!e.x||!e.y)return!0;if(this.hasMarkers){var t=e.marker||{};if(Array.isArray(t.symbol)||"circle"!==t.symbol||Array.isArray(t.size)||Array.isArray(t.color)||Array.isArray(t.line.width)||Array.isArray(t.line.color)||Array.isArray(t.opacity))return!0}return!(!this.hasLines||this.connectgaps)||(!!this.hasErrorX||!!this.hasErrorY)};var D=i.bind(null,function(e){return+e}),O=i.bind(null,x),P=i.bind(null,function(e){return S[e]||"●"});C.update=function(e){!0!==e.visible?(this.isVisible=!1,this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1):(this.isVisible=!0,this.hasLines=M.hasLines(e),this.hasErrorX=!0===e.error_x.visible,this.hasErrorY=!0===e.error_y.visible,this.hasMarkers=M.hasMarkers(e)),this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.connectgaps=!!e.connectgaps,this.isVisible?this.isFancy(e)?this.updateFancy(e):this.updateFast(e):(this.line.clear(),this.errorX.clear(),this.errorY.clear(),this.scatter.clear(),this.fancyScatter.clear()),this.scene.glplot.objects.sort(function(e,t){return e._index-t._index}),this.index=e.index,this.color=E(e,{})},C.updateFast=function(e){var t,n,r=this.xData=this.pickXData=e.x,i=this.yData=this.pickYData=e.y,o=r.length,a=new Array(o),s=new Float64Array(2*o),l=this.bounds,c=0,f=0,h=e.xcalendar,d=u(r),p=!d&&"date"===y(r,h);if(d||p)for(var g=0;g<o;++g)t=r[g],n=i[g],m(n)&&(d||(t=v.dateTime2ms(t,h)),a[c++]=g,s[f++]=t,s[f++]=n,l[0]=Math.min(l[0],t),l[1]=Math.min(l[1],n),l[2]=Math.max(l[2],t),l[3]=Math.max(l[3],n));s=_(s,f),this.idToIndex=a,this.updateLines(e,s),this.updateError("X",e),this.updateError("Y",e);var b;if(this.hasMarkers){this.scatter.options.positions=s;var w=x(e.marker.color),M=x(e.marker.line.color),k=e.opacity*e.marker.opacity;w[3]*=k,this.scatter.options.color=w,M[3]*=k,this.scatter.options.borderColor=M,b=e.marker.size,this.scatter.options.size=b,this.scatter.options.borderSize=e.marker.line.width,this.scatter.update()}else this.scatter.clear();this.fancyScatter.clear(),this.expandAxesFast(l,b)},C.updateFancy=function(e){var t=this.scene,n=t.xaxis,r=t.yaxis,o=this.bounds,a=this.pickXData=n.makeCalcdata(e,"x").slice(),l=this.pickYData=r.makeCalcdata(e,"y").slice();this.xData=a.slice(),this.yData=l.slice();var u,c,f,h,d,p,m,v,g=b.calcFromTrace(e,t.fullLayout),y=a.length,x=new Array(y),w=new Float64Array(2*y),M=new Float64Array(4*y),E=new Float64Array(4*y),S=0,T=0,A=0,C=0,O="log"===n.type?n.d2l:function(e){return e},L="log"===r.type?r.d2l:function(e){return e};for(u=0;u<y;++u)this.xData[u]=f=O(a[u]),this.yData[u]=h=L(l[u]),isNaN(f)||isNaN(h)||(x[S++]=u,w[T++]=f,w[T++]=h,d=M[A++]=f-g[u].xs||0,p=M[A++]=g[u].xh-f||0,M[A++]=0,M[A++]=0,E[C++]=0,E[C++]=0,m=E[C++]=h-g[u].ys||0,v=E[C++]=g[u].yh-h||0,o[0]=Math.min(o[0],f-d),o[1]=Math.min(o[1],h-m),o[2]=Math.max(o[2],f+p),o[3]=Math.max(o[3],h+v));w=_(w,T),this.idToIndex=x,this.updateLines(e,w),this.updateError("X",e,w,M),this.updateError("Y",e,w,E);var I;if(this.hasMarkers){this.scatter.options.positions=w,this.scatter.options.sizes=new Array(S),this.scatter.options.glyphs=new Array(S),this.scatter.options.borderWidths=new Array(S),this.scatter.options.colors=new Array(4*S),this.scatter.options.borderColors=new Array(4*S);var N,R=k(e),j=e.marker,z=j.opacity,F=e.opacity,B=s(j,z,F,y),U=P(j.symbol,y),V=D(j.line.width,y),H=s(j.line,z,F,y);for(I=i(R,j.size,y),u=0;u<S;++u)for(N=x[u],this.scatter.options.sizes[u]=4*I[N],this.scatter.options.glyphs[u]=U[N],this.scatter.options.borderWidths[u]=.5*V[N],c=0;c<4;++c)this.scatter.options.colors[4*u+c]=B[4*N+c],this.scatter.options.borderColors[4*u+c]=H[4*N+c];this.fancyScatter.update()}else this.fancyScatter.clear();this.scatter.clear(),this.expandAxesFancy(a,l,I)},C.updateLines=function(e,t){var n;if(this.hasLines){var r=t;if(!e.connectgaps){var i=0,o=this.xData,s=this.yData;for(r=new Float64Array(2*o.length),n=0;n<o.length;++n)r[i++]=o[n],r[i++]=s[n]}this.line.options.positions=r;var l=a(e.line.color,e.opacity,1),u=Math.round(.5*this.line.options.width),c=(T[e.line.dash]||[1]).slice();for(n=0;n<c.length;++n)c[n]*=u;switch(e.fill){case"tozeroy":this.line.options.fill=[!1,!0,!1,!1];break;case"tozerox":this.line.options.fill=[!0,!1,!1,!1];break;default:this.line.options.fill=[!1,!1,!1,!1]}var f=x(e.fillcolor);this.line.options.color=l,this.line.options.width=2*e.line.width,this.line.options.dashes=c,this.line.options.fillColor=[f,f,f,f],this.line.update()}else this.line.clear()},C.updateError=function(e,t,n,r){var i=this["error"+e],o=t["error_"+e.toLowerCase()];"x"===e.toLowerCase()&&o.copy_ystyle&&(o=t.error_y),this["hasError"+e]?(i.options.positions=n,i.options.errors=r,i.options.capSize=o.width,i.options.lineWidth=o.thickness/2,i.options.color=a(o.color,1,1),i.update()):i.clear()},C.expandAxesFast=function(e,t){for(var n,r,i,o=t||10,a=0;a<2;a++)n=this.scene[A[a]],r=n._min,r||(r=[]),r.push({val:e[a],pad:o}),i=n._max,i||(i=[]),i.push({val:e[a+2],pad:o})},C.expandAxesFancy=function(e,t,n){var r=this.scene,i={padded:!0,ppad:n};g.expand(r.xaxis,e,i),g.expand(r.yaxis,t,i)},C.dispose=function(){this.line.dispose(),this.errorX.dispose(),this.errorY.dispose(),this.scatter.dispose(),this.fancyScatter.dispose()},e.exports=c},function(e,t,n){"use strict";var r=n(0),i=n(175),o=n(21),a=n(353),s=n(103),l=n(102),u=n(101),c=n(125),f=n(355);e.exports=function(e,t,n,h){function d(n,i){return r.coerce(e,t,f,n,i)}var p=a(e,t,h,d);if(!p)return void(t.visible=!1);d("text"),d("mode",p<i.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(t)&&(d("connectgaps"),l(e,t,n,h,d)),o.hasMarkers(t)&&s(e,t,n,h,d),d("fill"),"none"!==t.fill&&u(e,t,n,d),c(e,t,n,{axis:"y"}),c(e,t,n,{axis:"x",inherit:"y"})}},function(e,t,n){"use strict";var r={};r.attributes=n(355),r.supplyDefaults=n(1543),r.colorbar=n(80),r.calc=n(354),r.plot=n(1542),r.moduleType="trace",r.name="scattergl",r.basePlotModule=n(322),r.categories=["gl2d","symbols","errorBarsOK","markerColorscale","showLegend"],r.meta={description:["The data visualized as scatter point or lines is set in `x` and `y`","using the WebGl plotting engine.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to a numerical arrays."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(){return{geojson:d.makeBlank(),layout:{visibility:"none"},paint:{}}}function i(e,t){function n(e,n,r,i){void 0===t[n][r]&&(t[n][r]=i),e[n]=t[n][r]}var r,i=e[0].trace,o=i.marker;p.hasColorscale(i,"marker")?r=p.makeColorScaleFunc(p.extractScale(o.colorscale,o.cmin,o.cmax)):Array.isArray(o.color)&&(r=f.identity);var a;v.isBubble(i)?a=m(i):Array.isArray(o.size)&&(a=f.identity);for(var s=[],l=0;l<e.length;l++){var u=e[l],h=u.lonlat;if(!c(h)){var d={};r&&n(d,y,r(u.mc),l),a&&n(d,b,a(u.ms),l),s.push({type:"Feature",geometry:{type:"Point",coordinates:h},properties:d})}}return{type:"FeatureCollection",features:s}}function o(e){for(var t=e[0].trace,n=t.marker||{},r=n.symbol,i=t.text,o="circle"!==r?l(r):u,a=v.hasText(t)?l(i):u,s=[],f=0;f<e.length;f++){var h=e[f];c(h.lonlat)||s.push({type:"Feature",geometry:{type:"Point",coordinates:h.lonlat},properties:{symbol:o(h.mx),text:a(h.tx)}})}return{type:"FeatureCollection",features:s}}function a(e,t){var n,r=e.marker;if(Array.isArray(r.color)){for(var i=Object.keys(t[y]),o=[],a=0;a<i.length;a++){var s=i[a];o.push([t[y][s],s])}n={property:y,stops:o}}else n=r.color;return n}function s(e,t){var n,r=e.marker;if(Array.isArray(r.size)){for(var i=Object.keys(t[b]),o=[],a=0;a<i.length;a++){var s=i[a];o.push([t[b][s],+s])}o.sort(function(e,t){return e[0]-t[0]}),n={property:b,stops:o}}else n=r.size/2;return n}function l(e){return Array.isArray(e)?function(e){return e}:e?function(){return e}:u}function u(){return""}function c(e){return e[0]===h}var f=n(0),h=n(27).BADNUM,d=n(556),p=n(66),m=n(237),v=n(21),g=n(582),y="circle-color",b="circle-radius";e.exports=function(e){var t=e[0].trace,n=!0===t.visible,l="none"!==t.fill,u=v.hasLines(t),c=v.hasMarkers(t),h=v.hasText(t),p=c&&"circle"===t.marker.symbol,m=c&&"circle"!==t.marker.symbol,x=r(),_=r(),w=r(),M=r(),k={fill:x,line:_,circle:w,symbol:M};if(!n)return k;var E;if((l||u)&&(E=d.calcTraceToLineCoords(e)),l&&(x.geojson=d.makePolygon(E),x.layout.visibility="visible",f.extendFlat(x.paint,{"fill-color":t.fillcolor})),u&&(_.geojson=d.makeLine(E),_.layout.visibility="visible",f.extendFlat(_.paint,{"line-width":t.line.width,"line-color":t.line.color,"line-opacity":t.opacity})),p){var S={};S[y]={},S[b]={},w.geojson=i(e,S),w.layout.visibility="visible",f.extendFlat(w.paint,{"circle-opacity":t.opacity*t.marker.opacity,"circle-color":a(t,S),"circle-radius":s(t,S)})}if((m||h)&&(M.geojson=o(e),f.extendFlat(M.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),m&&(f.extendFlat(M.layout,{"icon-size":t.marker.size/10}),f.extendFlat(M.paint,{"icon-opacity":t.opacity*t.marker.opacity,"icon-color":t.marker.color})),h)){var T=(t.marker||{}).size,A=g(t.textposition,T);f.extendFlat(M.layout,{"text-size":t.textfont.size,"text-anchor":A.anchor,"text-offset":A.offset}),f.extendFlat(M.paint,{"text-color":t.textfont.color,"text-opacity":t.opacity})}return k}},function(e,t,n){"use strict";function r(e,t,n){var r=n("lon")||[],i=n("lat")||[],o=Math.min(r.length,i.length);return o<r.length&&(t.lon=r.slice(0,o)),o<i.length&&(t.lat=i.slice(0,o)),o}var i=n(0),o=n(21),a=n(103),s=n(102),l=n(128),u=n(101),c=n(633);e.exports=function(e,t,n,f){function h(n,r){return i.coerce(e,t,c,n,r)}if(!r(e,t,h))return void(t.visible=!1);if(h("text"),h("hovertext"),h("mode"),o.hasLines(t)&&(s(e,t,n,f,h,{noDash:!0}),h("connectgaps")),o.hasMarkers(t)){a(e,t,n,f,h,{noLine:!0});var d=t.marker;d.line={width:0},"circle"!==d.symbol&&(Array.isArray(d.size)&&(d.size=d.size[0]),Array.isArray(d.color)&&(d.color=d.color[0]))}o.hasText(t)&&l(e,t,f,h),h("fill"),"none"!==t.fill&&u(e,t,n,h),h("hoverinfo",1===f._dataLength?"lon+lat+text":void 0)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.lon=t.lon,e.lat=t.lat,e}},function(e,t,n){"use strict";function r(e,t){function n(e){return e+"°"}var r=e.hoverinfo.split("+"),i=-1!==r.indexOf("all"),o=-1!==r.indexOf("lon"),a=-1!==r.indexOf("lat"),s=t.lonlat,l=[];if(i||o&&a?l.push("("+n(s[0])+", "+n(s[1])+")"):o?l.push("lon: "+n(s[0])):a&&l.push("lat: "+n(s[1])),i||-1!==r.indexOf("text")){var u;t.htx?u=t.htx:e.hovertext?u=e.hovertext:t.tx?u=t.tx:e.text&&(u=e.text),Array.isArray(u)||l.push(u)}return l.join("<br>")}var i=n(40),o=n(176),a=n(27).BADNUM;e.exports=function(e,t,n){function s(e){var t=e.lonlat;if(t[0]===a)return 1/0;var r=Math.abs(c.c2p(t)-c.c2p([p,t[1]])),i=Math.abs(f.c2p(t)-f.c2p([t[0],n])),o=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(r*r+i*i)-o,1-3/o)}var l=e.cd,u=l[0].trace,c=e.xa,f=e.ya,h=t>=0?Math.floor((t+180)/360):Math.ceil((t-180)/360),d=360*h,p=t-d;if(i.getClosest(l,s,e),!1!==e.index){var m=l[e.index],v=m.lonlat,g=[v[0]+d,v[1]],y=c.c2p(g),b=f.c2p(g),x=m.mrc||1;return e.x0=y-x,e.x1=y+x,e.y0=b-x,e.y1=b+x,e.color=o(u,m),e.extraText=r(u,m),[e]}}},function(e,t,n){"use strict";var r={};r.attributes=n(633),r.supplyDefaults=n(1546),r.colorbar=n(80),r.calc=n(632),r.hoverPoints=n(1548),r.eventData=n(1547),r.plot=n(1550),r.moduleType="trace",r.name="scattermapbox",r.basePlotModule=n(1411),r.categories=["mapbox","gl","symbols","markerColorscale","showLegend"],r.meta={hrName:"scatter_mapbox",description:["The data visualized as scatter point, lines or marker symbols","on a Mapbox GL geographic map","is provided by longitude/latitude pairs in `lon` and `lat`."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.mapbox=e,this.map=e.map,this.uid=t,this.idSourceFill=t+"-source-fill",this.idSourceLine=t+"-source-line",this.idSourceCircle=t+"-source-circle",this.idSourceSymbol=t+"-source-symbol",this.idLayerFill=t+"-layer-fill",this.idLayerLine=t+"-layer-line",this.idLayerCircle=t+"-layer-circle",this.idLayerSymbol=t+"-layer-symbol",this.mapbox.initSource(this.idSourceFill),this.mapbox.initSource(this.idSourceLine),this.mapbox.initSource(this.idSourceCircle),this.mapbox.initSource(this.idSourceSymbol),this.map.addLayer({id:this.idLayerFill,source:this.idSourceFill,type:"fill"}),this.map.addLayer({id:this.idLayerLine,source:this.idSourceLine,type:"line"}),this.map.addLayer({id:this.idLayerCircle,source:this.idSourceCircle,type:"circle"}),this.map.addLayer({id:this.idLayerSymbol,source:this.idSourceSymbol,type:"symbol"})}function i(e){return"visible"===e.layout.visibility}var o=n(1545),a=r.prototype;a.update=function(e){var t=this.mapbox,n=o(e);t.setOptions(this.idLayerFill,"setLayoutProperty",n.fill.layout),t.setOptions(this.idLayerLine,"setLayoutProperty",n.line.layout),t.setOptions(this.idLayerCircle,"setLayoutProperty",n.circle.layout),t.setOptions(this.idLayerSymbol,"setLayoutProperty",n.symbol.layout),i(n.fill)&&(t.setSourceData(this.idSourceFill,n.fill.geojson),t.setOptions(this.idLayerFill,"setPaintProperty",n.fill.paint)),i(n.line)&&(t.setSourceData(this.idSourceLine,n.line.geojson),t.setOptions(this.idLayerLine,"setPaintProperty",n.line.paint)),i(n.circle)&&(t.setSourceData(this.idSourceCircle,n.circle.geojson),t.setOptions(this.idLayerCircle,"setPaintProperty",n.circle.paint)),i(n.symbol)&&(t.setSourceData(this.idSourceSymbol,n.symbol.geojson),t.setOptions(this.idLayerSymbol,"setPaintProperty",n.symbol.paint))},a.dispose=function(){var e=this.map;e.removeLayer(this.idLayerFill),e.removeLayer(this.idLayerLine),e.removeLayer(this.idLayerCircle),e.removeLayer(this.idLayerSymbol),e.removeSource(this.idSourceFill),e.removeSource(this.idSourceLine),e.removeSource(this.idSourceCircle),e.removeSource(this.idSourceSymbol)},e.exports=function(e,t){var n=t[0].trace,i=new r(e,n.uid);return i.update(t),i}},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(21),a=n(174),s=n(173),l=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};e.exports=function(e,t){var n,c,f,h,d,p,m=e._fullLayout[t.subplot],v=m.sum,g=t.sum||v;for(n=0;n<l.length;n++)if(f=l[n],!t[f]){for(d=t[u[f][0]],p=t[u[f][1]],h=new Array(d.length),c=0;c<d.length;c++)h[c]=g-d[c]-p[c];t[f]=h}var y,b,x,_,w,M,k=t.a.length,E=new Array(k);for(n=0;n<k;n++)y=t.a[n],b=t.b[n],x=t.c[n],r(y)&&r(b)&&r(x)?(y=+y,b=+b,x=+x,_=v/(y+b+x),1!==_&&(y*=_,b*=_,x*=_),M=y,w=x-b,E[n]={x:w,y:M,a:y,b:b,c:x}):E[n]={x:!1,y:!1};var S,T;if(o.hasMarkers(t)&&(S=t.marker,T=S.size,Array.isArray(T))){var A={type:"linear"};i.setConvert(A),T=A.makeCalcdata(t.marker,"size"),T.length>k&&T.splice(k,T.length-k)}return a(t),s(E,t),E}},function(e,t,n){"use strict";var r=n(0),i=n(175),o=n(21),a=n(103),s=n(102),l=n(349),u=n(128),c=n(101),f=n(634);e.exports=function(e,t,n,h){function d(n,i){return r.coerce(e,t,f,n,i)}var p,m=d("a"),v=d("b"),g=d("c");if(m?(p=m.length,v?(p=Math.min(p,v.length),g&&(p=Math.min(p,g.length))):p=g?Math.min(p,g.length):0):v&&g&&(p=Math.min(v.length,g.length)),!p)return void(t.visible=!1);m&&p<m.length&&(t.a=m.slice(0,p)),v&&p<v.length&&(t.b=v.slice(0,p)),g&&p<g.length&&(t.c=g.slice(0,p)),d("sum"),d("text"),d("hovertext"),d("mode",p<i.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(t)&&(s(e,t,n,h,d),l(e,t,d),d("connectgaps")),o.hasMarkers(t)&&a(e,t,n,h,d),o.hasText(t)&&u(e,t,h,d);var y=[];(o.hasMarkers(t)||o.hasText(t))&&(d("marker.maxdisplayed"),y.push("points")),d("fill"),"none"!==t.fill&&(c(e,t,n,d),o.hasLines(t)||l(e,t,d)),d("hoverinfo",1===h._dataLength?"a+b+c+text":void 0),"tonext"!==t.fill&&"toself"!==t.fill||y.push("fills"),d("hoveron",y.join("+")||"points")}},function(e,t,n){"use strict";var r=n(348),i=n(5);e.exports=function(e,t,n,o){function a(e,t){g.push(e._hovertitle+": "+i.tickText(e,t,"hover").text)}var s=r(e,t,n,o);if(s&&!1!==s[0].index){var l=s[0];if(void 0===l.index){var u=1-l.y0/e.ya._length,c=e.xa._length,f=c*u/2,h=c-f;return l.x0=Math.max(Math.min(l.x0,h),f),l.x1=Math.max(Math.min(l.x1,h),f),s}var d=l.cd[l.index];l.a=d.a,l.b=d.b,l.c=d.c,l.xLabelVal=void 0,l.yLabelVal=void 0;var p=l.trace,m=p._ternary,v=p.hoverinfo.split("+"),g=[];return-1!==v.indexOf("all")&&(v=["a","b","c"]),-1!==v.indexOf("a")&&a(m.aaxis,d.a),-1!==v.indexOf("b")&&a(m.baxis,d.b),-1!==v.indexOf("c")&&a(m.caxis,d.c),l.extraText=g.join("<br>"),s}}},function(e,t,n){"use strict";var r={};r.attributes=n(634),r.supplyDefaults=n(1552),r.colorbar=n(80),r.calc=n(1551),r.plot=n(1555),r.style=n(1557),r.hoverPoints=n(1553),r.selectPoints=n(1556),r.moduleType="trace",r.name="scatterternary",r.basePlotModule=n(1420),r.categories=["ternary","symbols","markerColorscale","showLegend"],r.meta={hrName:"scatter_ternary",description:["Provides similar functionality to the *scatter* type but on a ternary phase diagram.","The data is provided by at least two arrays out of `a`, `b`, `c` triplets."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(350);e.exports=function(e,t){var n=e.plotContainer;n.select(".scatterlayer").selectAll("*").remove();for(var i={xaxis:e.xaxis,yaxis:e.yaxis,plot:n},o=0;o<t.length;o++)t[o][0].trace._ternary=e;r(e.graphDiv,i,t)}},function(e,t,n){"use strict";var r=n(351);e.exports=function(e,t){var n=r(e,t);if(n){var i,o,a,s=e.cd;for(a=0;a<n.length;a++)i=n[a],o=s[i.pointNumber],i.a=o.a,i.b=o.b,i.c=o.c,delete i.x,delete i.y;return n}}},function(e,t,n){"use strict";var r=n(352);e.exports=function(e){for(var t=e._fullLayout._modules,n=0;n<t.length;n++)if("scatter"===t[n].name)return;r(e)}},function(e,t,n){"use strict";var r=n(88);e.exports=function(e,t){t.surfacecolor?r(t,t.surfacecolor,"","c"):r(t,t.z,"","c")}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(16),a=n(66),s=n(163);e.exports=function(e,t){var n=t[0].trace,l="cb"+n.uid,u=n.cmin,c=n.cmax,f=n.surfacecolor||n.z;if(r(u)||(u=i.aggNums(Math.min,null,f)),r(c)||(c=i.aggNums(Math.max,null,f)),e._fullLayout._infolayer.selectAll("."+l).remove(),!n.showscale)return void o.autoMargin(e,l);var h=t[0].t.cb=s(e,l),d=a.makeColorScaleFunc(a.extractScale(n.colorscale,u,c),{noNumericCheck:!0});h.fillcolor(d).filllevels({start:u,end:c,size:(c-u)/254}).options(n.colorbar)()}},function(e,t,n){"use strict";function r(e,t,n){this.scene=e,this.uid=n,this.surface=t,this.data=null,this.showContour=[!1,!1,!1],this.dataScale=1}function i(e,t){return void 0===t&&(t=1),e.map(function(e){var n=e[0],r=p(e[1]),i=r.toRgb();return{index:n,rgb:[i.r,i.g,i.b,t]}})}function o(e){var t=e[0].rgb,n=e[e.length-1].rgb;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function a(e){var t=e.shape,n=[t[0]+2,t[1]+2],r=c(new Float32Array(n[0]*n[1]),n);return d.assign(r.lo(1,1).hi(t[0],t[1]),e),d.assign(r.lo(1).hi(t[0],1),e.hi(t[0],1)),d.assign(r.lo(1,n[1]-1).hi(t[0],1),e.lo(0,t[1]-1).hi(t[0],1)),d.assign(r.lo(0,1).hi(1,t[1]),e.hi(1)),d.assign(r.lo(n[0]-1,1).hi(1,t[1]),e.lo(t[0]-1)),r.set(0,0,e.get(0,0)),r.set(0,n[1]-1,e.get(0,t[1]-1)),r.set(n[0]-1,0,e.get(t[0]-1,0)),r.set(n[0]-1,n[1]-1,e.get(t[0]-1,t[1]-1)),r}function s(e){var t=Math.max(e[0].shape[0],e[0].shape[1]);if(t<v){for(var n=v/t,r=[0|Math.floor(e[0].shape[0]*n+1),0|Math.floor(e[0].shape[1]*n+1)],i=r[0]*r[1],o=0;o<e.length;++o){var s=a(e[o]),l=c(new Float32Array(i),r);f(l,s,[n,0,0,0,n,0,0,0,1]),e[o]=l}return n}return 1}function l(e,t){var n=e.glplot.gl,i=u({gl:n}),o=new r(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}var u=n(1047),c=n(52),f=n(1265),h=n(1263),d=n(219),p=n(38),m=n(68),v=128,g=r.prototype;g.handlePick=function(e){if(e.object===this.surface){var t=[Math.min(0|Math.round(e.data.index[0]/this.dataScale-1),this.data.z[0].length-1),Math.min(0|Math.round(e.data.index[1]/this.dataScale-1),this.data.z.length-1)],n=[0,0,0];Array.isArray(this.data.x[0])?n[0]=this.data.x[t[1]][t[0]]:n[0]=this.data.x[t[0]],Array.isArray(this.data.y[0])?n[1]=this.data.y[t[1]][t[0]]:n[1]=this.data.y[t[1]],n[2]=this.data.z[t[1]][t[0]],e.traceCoordinate=n;var r=this.scene.fullSceneLayout;e.dataCoordinate=[r.xaxis.d2l(n[0],0,this.data.xcalendar)*this.scene.dataScale[0],r.yaxis.d2l(n[1],0,this.data.ycalendar)*this.scene.dataScale[1],r.zaxis.d2l(n[2],0,this.data.zcalendar)*this.scene.dataScale[2]];var i=this.data.text;return i&&i[t[1]]&&void 0!==i[t[1]][t[0]]?e.textLabel=i[t[1]][t[0]]:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}},g.setContourLevels=function(){for(var e=[[],[],[]],t=!1,n=0;n<3;++n)this.showContour[n]&&(t=!0,e[n]=this.scene.contourLevels[n]);t&&this.surface.update({levels:e})},g.update=function(e){var t,n=this.scene,r=n.fullSceneLayout,a=this.surface,l=e.opacity,u=i(e.colorscale,l),f=e.z,d=e.x,p=e.y,v=r.xaxis,g=r.yaxis,y=r.zaxis,b=n.dataScale,x=f[0].length,_=f.length,w=[c(new Float32Array(x*_),[x,_]),c(new Float32Array(x*_),[x,_]),c(new Float32Array(x*_),[x,_])],M=w[0],k=w[1],E=n.contourLevels;this.data=e;var S=e.xcalendar,T=e.ycalendar,A=e.zcalendar;h(w[2],function(e,t){return y.d2l(f[t][e],0,A)*b[2]}),Array.isArray(d[0])?h(M,function(e,t){return v.d2l(d[t][e],0,S)*b[0]}):h(M,function(e){return v.d2l(d[e],0,S)*b[0]}),Array.isArray(p[0])?h(k,function(e,t){return g.d2l(p[t][e],0,T)*b[1]}):h(k,function(e,t){return g.d2l(p[t],0,T)*b[1]});var C={colormap:u,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:e.opacity};if(C.intensityBounds=[e.cmin,e.cmax],e.surfacecolor){var D=c(new Float32Array(x*_),[x,_]);h(D,function(t,n){return e.surfacecolor[n][t]}),w.push(D)}else C.intensityBounds[0]*=b[2],C.intensityBounds[1]*=b[2];this.dataScale=s(w),e.surfacecolor&&(C.intensity=w.pop());var O=[!0,!0,!0],P=["x","y","z"];for(t=0;t<3;++t){var L=e.contours[P[t]];O[t]=L.highlight,C.showContour[t]=L.show||L.highlight,C.showContour[t]&&(C.contourProject[t]=[L.project.x,L.project.y,L.project.z],L.show?(this.showContour[t]=!0,C.levels[t]=E[t],a.highlightColor[t]=C.contourColor[t]=m(L.color),L.usecolormap?a.highlightTint[t]=C.contourTint[t]=0:a.highlightTint[t]=C.contourTint[t]=1,C.contourWidth[t]=L.width):this.showContour[t]=!1,L.highlight&&(C.dynamicColor[t]=m(L.highlightcolor),C.dynamicWidth[t]=L.highlightwidth))}o(u)&&(C.vertexColor=!0),C.coords=w,a.update(C),a.visible=e.visible,a.enableDynamic=O,a.snapToData=!0,"lighting"in e&&(a.ambientLight=e.lighting.ambient,a.diffuseLight=e.lighting.diffuse,a.specularLight=e.lighting.specular,a.roughness=e.lighting.roughness,a.fresnel=e.lighting.fresnel),"lightposition"in e&&(a.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z]),l&&l<1&&(a.supportsTransparency=!0)},g.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},e.exports=l},function(e,t,n){"use strict";function r(e,t,n){t in e&&!(n in e)&&(e[n]=e[t])}var i=n(6),o=n(0),a=n(65),s=n(356);e.exports=function(e,t,n,l){function u(n,r){return o.coerce(e,t,s,n,r)}var c,f,h=u("z");if(!h)return void(t.visible=!1);var d=h[0].length,p=h.length;if(u("x"),u("y"),i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],l),!Array.isArray(t.x))for(t.x=[],c=0;c<d;++c)t.x[c]=c;if(u("text"),!Array.isArray(t.y))for(t.y=[],c=0;c<p;++c)t.y[c]=c;["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","opacity"].forEach(function(e){u(e)});var m=u("surfacecolor");u("colorscale");var v=["x","y","z"];for(c=0;c<3;++c){var g="contours."+v[c],y=u(g+".show"),b=u(g+".highlight");if(y||b)for(f=0;f<3;++f)u(g+".project."+v[f]);y&&(u(g+".color"),u(g+".width"),u(g+".usecolormap")),b&&(u(g+".highlightcolor"),u(g+".highlightwidth"))}m||(r(e,"zmin","cmin"),r(e,"zmax","cmax"),r(e,"zauto","cauto")),a(e,t,l,u,{prefix:"",cLetter:"c"})}},function(e,t,n){"use strict";var r={};r.attributes=n(356),r.supplyDefaults=n(1561),r.colorbar=n(1559),r.calc=n(1558),r.plot=n(1560),r.moduleType="trace",r.name="surface",r.basePlotModule=n(323),r.categories=["gl3d","noOpacity"],r.meta={description:["The data the describes the coordinates of the surface is set in `z`.","Data in `z` should be a {2D array}.","Coordinates in `x` and `y` can either be 1D {arrays}","or {2D arrays} (e.g. to graph parametric surfaces).","If not provided in `x` and `y`, the x and y coordinates are assumed","to be linear starting at 0 with a unit step.","The color scale corresponds to the `z` values by default.","For custom color scales, use `surfacecolor` which should be a {2D array},","where its bounds can be controlled using `cmin` and `cmax`."].join(" ")},e.exports=r},function(e,t,n){"use strict";function r(e,t){if("string"===typeof t&&t){var n=a.nestedProperty(e,t).get();return Array.isArray(n)?n:[]}return!!Array.isArray(t)&&t.slice()}function i(e,t,n){var r;if(Array.isArray(n)){if(r={type:c(n),_categories:[]},f(r),"category"===r.type)for(var i=0;i<n.length;i++)r.d2c(n[i])}else r=u.getFromTrace(e,t,n);return r?r.d2c:"ids"===n?function(e){return String(e)}:function(e){return+e}}function o(e,t,n){function r(e){return-1!==e.indexOf(o)}var i,o=e.operation,a=e.value,s=Array.isArray(a),l=function(n){return t(n,0,e.valuecalendar)},u=function(e){return t(e,0,n)};switch(r(h)?i=l(s?a[0]:a):r(d)?i=s?[l(a[0]),l(a[1])]:[l(a),l(a)]:r(p)&&(i=s?a.map(l):[l(a)]),o){case"=":return function(e){return u(e)===i};case"<":return function(e){return u(e)<i};case"<=":return function(e){return u(e)<=i};case">":return function(e){return u(e)>i};case">=":return function(e){return u(e)>=i};case"[]":return function(e){var t=u(e);return t>=i[0]&&t<=i[1]};case"()":return function(e){var t=u(e);return t>i[0]&&t<i[1]};case"[)":return function(e){var t=u(e);return t>=i[0]&&t<i[1]};case"(]":return function(e){var t=u(e);return t>i[0]&&t<=i[1]};case"][":return function(e){var t=u(e);return t<=i[0]||t>=i[1]};case")(":return function(e){var t=u(e);return t<i[0]||t>i[1]};case"](":return function(e){var t=u(e);return t<=i[0]||t>i[1]};case")[":return function(e){var t=u(e);return t<i[0]||t>=i[1]};case"{}":return function(e){return-1!==i.indexOf(u(e))};case"}{":return function(e){return-1===i.indexOf(u(e))}}}var a=n(0),s=n(6),l=n(224),u=n(53),c=n(225),f=n(169),h=["=","<",">=",">","<="],d=["[]","()","[)","(]","][",")(","](",")["],p=["{}","}{"];t.moduleType="transform",t.name="filter",t.attributes={enabled:{valType:"boolean",dflt:!0,description:["Determines whether this filter transform is enabled or disabled."].join(" ")},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",description:["Sets the filter target by which the filter is applied.","If a string, *target* is assumed to be a reference to a data array","in the parent trace object.","To filter about nested variables, use *.* to access them.","For example, set `target` to *marker.color* to filter","about the marker color array.","If an array, *target* is then the data array by which the filter is applied."].join(" ")},operation:{valType:"enumerated",values:[].concat(h).concat(d).concat(p),dflt:"=",description:["Sets the filter operation.","*=* keeps items equal to `value`","*<* keeps items less than `value`","*<=* keeps items less than or equal to `value`","*>* keeps items greater than `value`","*>=* keeps items greater than or equal to `value`","*[]* keeps items inside `value[0]` to value[1]` including both bounds`","*()* keeps items inside `value[0]` to value[1]` excluding both bounds`","*[)* keeps items inside `value[0]` to value[1]` including `value[0]` but excluding `value[1]","*(]* keeps items inside `value[0]` to value[1]` excluding `value[0]` but including `value[1]","*][* keeps items outside `value[0]` to value[1]` and equal to both bounds`","*)(* keeps items outside `value[0]` to value[1]`","*](* keeps items outside `value[0]` to value[1]` and equal to `value[0]`","*)[* keeps items outside `value[0]` to value[1]` and equal to `value[1]`","*{}* keeps items present in a set of values","*}{* keeps items not present in a set of values"].join(" ")},value:{valType:"any",dflt:0,description:["Sets the value or values by which to filter by.","Values are expected to be in the same type as the data linked","to *target*.","When `operation` is set to one of the inequality values","("+h+")","*value* is expected to be a number or a string.","When `operation` is set to one of the interval value","("+d+")","*value* is expected to be 2-item array where the first item","is the lower bound and the second item is the upper bound.","When `operation`, is set to one of the set value","("+p+")","*value* is expected to be an array with as many items as","the desired set elements."].join(" ")}},t.supplyDefaults=function(e){function n(n,i){return a.coerce(e,r,t.attributes,n,i)}var r={};if(n("enabled")){n("operation"),n("value"),n("target");var i=s.getComponentMethod("calendars","handleDefaults");i(e,r,"valuecalendar",null),i(e,r,"targetcalendar",null)}return r},t.calcTransform=function(e,t,n){if(n.enabled){var s=n.target,u=r(t,s),c=u.length;if(c){var f=n.targetcalendar;if("string"===typeof s){var h=a.nestedProperty(t,s+"calendar").get();h&&(f=h)}for(var d="x"===s||"y"===s||"z"===s?s:u,p=i(e,t,d),m=o(n,p,f),v=l.findArrayAttributes(t),g={},y=0;y<v.length;y++){var b=v[y],x=a.nestedProperty(t,b);g[b]=a.extendDeep([],x.get()),x.set([])}for(var _=0;_<c;_++){if(m(u[_]))for(var w=0;w<v.length;w++)!function(e,n){var r=g[e];a.nestedProperty(t,e).get().push(r[n])}(v[w],_)}}}}},function(e,t,n){"use strict";function r(e,t){a.nestedProperty(e,t).set([])}function i(e,t,n,r){a.nestedProperty(e,r).set(a.nestedProperty(e,r).get().concat([a.nestedProperty(t,r).get()[n]]))}function o(e,t){var n=t.transform,o=e.transforms[t.transformIndex].groups;if(!Array.isArray(o)||0===o.length)return e;for(var l=a.filterUnique(o),u=new Array(l.length),c=o.length,f=s.findArrayAttributes(e),h=n.style||{},d=0;d<l.length;d++){var p=l[d],m=u[d]=a.extendDeepNoArrays({},e);f.forEach(r.bind(null,m));for(var v=0;v<c;v++)o[v]===p&&f.forEach(i.bind(0,m,e,v));m.name=p,m=a.extendDeepNoArrays(m,h[p]||{})}return u}var a=n(0),s=n(224);t.moduleType="transform",t.name="groupby",t.attributes={enabled:{valType:"boolean",dflt:!0,description:["Determines whether this group-by transform is enabled or disabled."].join(" ")},groups:{valType:"data_array",dflt:[],description:["Sets the groups in which the trace data will be split.","For example, with `x` set to *[1, 2, 3, 4]* and","`groups` set to *['a', 'b', 'a', 'b']*,","the groupby transform with split in one trace","with `x` [1, 3] and one trace with `x` [2, 4]."].join(" ")},style:{valType:"any",dflt:{},description:["Sets each group style.","For example, with `groups` set to *['a', 'b', 'a', 'b']*","and `style` set to *{ a: { marker: { color: 'red' } }}","marker points in group *'a'* will be drawn in red."].join(" ")}},t.supplyDefaults=function(e){function n(n,i){return a.coerce(e,r,t.attributes,n,i)}var r={};return n("enabled")?(n("groups"),n("style"),r):r},t.transform=function(e,t){for(var n=[],r=0;r<e.length;r++)n=n.concat(o(e[r],t));return n}},function(e,t,n){function r(){return!0}function i(e){return function(t,n){var i=e[t];return!!i&&!!i.queryPoint(n,r)}}function o(e){for(var t={},n=0;n<e.length;++n){var r=e[n],o=r[0][0],a=r[0][1],s=r[1][1],l=[Math.min(a,s),Math.max(a,s)];o in t?t[o].push(l):t[o]=[l]}for(var u={},c=Object.keys(t),n=0;n<c.length;++n){var f=t[c[n]];u[c[n]]=d(f)}return i(u)}function a(e,t){return function(n){var r=p.le(t,n[0]);if(r<0)return 1;var i=e[r];if(!i){if(!(r>0&&t[r]===n[0]))return 1;i=e[r-1]}for(var o=1;i;){var a=i.key,s=f(n,a[0],a[1]);if(a[0][0]<a[1][0])if(s<0)i=i.left;else{if(!(s>0))return 0;o=-1,i=i.right}else if(s>0)i=i.left;else{if(!(s<0))return 0;o=1,i=i.right}}return o}}function s(e){return 1}function l(e){return function(t){return e(t[0],t[1])?0:1}}function u(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}function c(e){for(var t=e.length,n=[],r=[],i=0;i<t;++i)for(var c=e[i],f=c.length,d=f-1,p=0;p<f;d=p++){var m=c[d],v=c[p];m[0]===v[0]?r.push([m,v]):n.push([m,v])}if(0===n.length)return 0===r.length?s:l(o(r));var g=h(n),y=a(g.slabs,g.coordinates);return 0===r.length?y:u(o(r),y)}e.exports=c;var f=n(59)[3],h=n(1683),d=n(1061),p=n(96)},function(e,t,n){"use strict";function r(e,t,n,r,s){i.length<r.length&&(i=new Float64Array(r.length),o=new Float64Array(r.length),a=new Float64Array(r.length));for(var l=0;l<r.length;++l)i[l]=e[l]-r[l],o[l]=t[l]-e[l],a[l]=n[l]-e[l];for(var u=0,c=0,f=0,h=0,d=0,p=0,l=0;l<r.length;++l){var m=o[l],v=a[l],g=i[l];u+=m*m,c+=m*v,f+=v*v,h+=g*m,d+=g*v,p+=g*g}var y,b=Math.abs(u*f-c*c),x=c*d-f*h,_=c*h-u*d;if(x+_<=b)if(x<0)_<0&&h<0?(_=0,-h>=u?(x=1,y=u+2*h+p):(x=-h/u,y=h*x+p)):(x=0,d>=0?(_=0,y=p):-d>=f?(_=1,y=f+2*d+p):(_=-d/f,y=d*_+p));else if(_<0)_=0,h>=0?(x=0,y=p):-h>=u?(x=1,y=u+2*h+p):(x=-h/u,y=h*x+p);else{var w=1/b;x*=w,_*=w,y=x*(u*x+c*_+2*h)+_*(c*x+f*_+2*d)+p}else{var M,k,E,S;x<0?(M=c+h,k=f+d,k>M?(E=k-M,S=u-2*c+f,E>=S?(x=1,_=0,y=u+2*h+p):(x=E/S,_=1-x,y=x*(u*x+c*_+2*h)+_*(c*x+f*_+2*d)+p)):(x=0,k<=0?(_=1,y=f+2*d+p):d>=0?(_=0,y=p):(_=-d/f,y=d*_+p))):_<0?(M=c+d,k=u+h,k>M?(E=k-M,S=u-2*c+f,E>=S?(_=1,x=0,y=f+2*d+p):(_=E/S,x=1-_,y=x*(u*x+c*_+2*h)+_*(c*x+f*_+2*d)+p)):(_=0,k<=0?(x=1,y=u+2*h+p):h>=0?(x=0,y=p):(x=-h/u,y=h*x+p))):(E=f+d-c-h,E<=0?(x=0,_=1,y=f+2*d+p):(S=u-2*c+f,E>=S?(x=1,_=0,y=u+2*h+p):(x=E/S,_=1-x,y=x*(u*x+c*_+2*h)+_*(c*x+f*_+2*d)+p)))}for(var T=1-x-_,l=0;l<r.length;++l)s[l]=T*e[l]+x*t[l]+_*n[l];return y<0?0:y}var i=new Float64Array(4),o=new Float64Array(4),a=new Float64Array(4);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";var r=n(49),i=n(10),o=n(636);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(49),i=n(10),o=n(15),a=n(636),s=n(1567);e.exports=function(e,t){function n(e){var t=e&&(k&&e[k]||e[E]);if("function"===typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function n(n,r,o,s,l,c,f){if(s=s||S,c=c||o,f!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[o]?n?new u(null===r[o]?"The "+l+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+l+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,o,s,l,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(e){function t(t,n,r,i,o,a){var s=t[n];if(x(s)!==e)return new u("Invalid "+i+" `"+o+"` of type `"+_(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function h(e){function t(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new u("Invalid "+i+" `"+o+"` of type `"+x(s)+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<s.length;l++){var c=e(s,l,r,i,o+"["+l+"]",a);if(c instanceof Error)return c}return null}return c(t)}function d(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||S;return new u("Invalid "+i+" `"+o+"` of type `"+M(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function p(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):r.thatReturnsNull}function m(e){function t(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=x(s);if("object"!==l)return new u("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,o+"."+c,a);if(f instanceof Error)return f}return null}return c(t)}function v(e){function t(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!==typeof i)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(i),n),r.thatReturnsNull}return c(t)}function g(e){function t(t,n,r,i,o){var s=t[n],l=x(s);if("object"!==l)return new u("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var h=f(s,c,r,i,o+"."+c,a);if(h)return h}}return null}return c(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!y(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}function x(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function _(e){if("undefined"===typeof e||null===e)return""+e;var t=x(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function M(e){return e.constructor&&e.constructor.name?e.constructor.name:S}var k="function"===typeof Symbol&&Symbol.iterator,E="@@iterator",S="<<anonymous>>",T={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:h,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new u("Invalid "+i+" `"+o+"` of type `"+x(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}(),instanceOf:d,node:function(){function e(e,t,n,r,i){return y(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:p,oneOfType:v,shape:g};return u.prototype=Error.prototype,T.checkPropTypes=s,T.PropTypes=T,T}},function(e,t,n){e.exports=n(1012)},function(e,t,n){"use strict";function r(e,t,n,a,s){for(n=n||0,a=a||e.length-1,s=s||o;a>n;){if(a-n>600){var l=a-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1);r(e,t,Math.max(n,Math.floor(t-u*f/l+h)),Math.min(a,Math.floor(t+(l-u)*f/l+h)),s)}var d=e[t],p=n,m=a;for(i(e,n,t),s(e[a],d)>0&&i(e,n,a);p<m;){for(i(e,p,m),p++,m--;s(e[p],d)<0;)p++;for(;s(e[m],d)>0;)m--}0===s(e[n],d)?i(e,n,m):(m++,i(e,m,a)),m<=t&&(n=m+1),t<=m&&(a=m-1)}}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return e<t?-1:e>t?1:0}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=i(e[o],t[o]);return r}var i=n(890);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=i(e[n]);return t}e.exports=r;var i=n(277)},function(e,t,n){"use strict";function r(e,t){for(var n=i(t),r=e.length,a=new Array(r),s=0;s<r;++s)a[s]=o(e[s],n);return a}var i=n(277),o=n(436);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=i(e[o],t[o]);return r}var i=n(437);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceInput=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(13),s=r(a),l=n(1071),u=r(l),c=n(1653);t.DebounceInput=s.default.createClass({displayName:"DebounceInput",propTypes:{element:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.func]),type:s.default.PropTypes.string,onChange:s.default.PropTypes.func.isRequired,onKeyDown:s.default.PropTypes.func,onBlur:s.default.PropTypes.func,value:s.default.PropTypes.oneOfType([s.default.PropTypes.string,s.default.PropTypes.number]),minLength:s.default.PropTypes.number,debounceTimeout:s.default.PropTypes.number,forceNotifyByEnter:s.default.PropTypes.bool,forceNotifyOnBlur:s.default.PropTypes.bool},getDefaultProps:function(){return{element:"input",type:"text",minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0}},getInitialState:function(){return{value:this.props.value||""}},componentWillMount:function(){this.createNotifier(this.props.debounceTimeout)},componentWillReceiveProps:function(e){var t=e.value,n=e.debounceTimeout;this.isDebouncing||("undefined"!==typeof t&&this.state.value!==t&&this.setState({value:t}),n!==this.props.debounceTimeout&&this.createNotifier(n))},shouldComponentUpdate:c.shouldComponentUpdate,componentWillUnmount:function(){this.notify.flush&&this.notify.flush()},isDebouncing:!1,createNotifier:function(e){var t=this;e<0?this.notify=function(){return null}:0===e?this.notify=this.doNotify:function(){var n=(0,u.default)(function(e){t.isDebouncing=!1,t.doNotify(e)},e);t.notify=function(e){t.isDebouncing=!0,n(e)}}()},doNotify:function(){this.props.onChange.apply(void 0,arguments)},forceNotify:function(e){if(this.isDebouncing){this.notify.cancel&&(this.notify.cancel(),this.isDebouncing=!1);var t=this.state.value,n=this.props.minLength;t.length>=n?this.doNotify(e):this.doNotify(o({},e,{target:o({},e.target,{value:t})}))}},onChange:function(e){var t=this;e.persist();var n=this.state.value;this.setState({value:e.target.value},function(){var r=t.state.value;if(r.length>=t.props.minLength)return void t.notify(e);n.length>r.length&&t.notify(o({},e,{target:o({},e.target,{value:""})}))})},render:function(){var e=this,t=this.props,n=t.element,r=(t.onChange,t.value,t.minLength,t.debounceTimeout,t.forceNotifyByEnter),a=t.forceNotifyOnBlur,l=t.onKeyDown,u=t.onBlur,c=i(t,["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur"]),f=r?{onKeyDown:function(t){"Enter"===t.key&&e.forceNotify(t),l&&l(t)}}:{},h=a?{onBlur:function(t){e.forceNotify(t),u&&u(t)}}:{};return s.default.createElement(n,o({},c,{onChange:this.onChange,value:this.state.value},f,h))}})},function(e,t,n){"use strict";var r=n(1576),i=r.DebounceInput;e.exports=i},function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=r},function(e,t,n){"use strict";var r=n(28),i=n(449),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case"topCompositionStart":return E.compositionStart;case"topCompositionEnd":return E.compositionEnd;case"topCompositionUpdate":return E.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==g.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"===typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var l,u;if(b?l=i(e):T?a(e,n)&&(l=E.compositionEnd):o(e,n)&&(l=E.compositionStart),!l)return null;w&&(T||l!==E.compositionStart?l===E.compositionEnd&&T&&(u=T.getData()):T=p.getPooled(r));var c=m.getPooled(l,t,n,r);if(u)c.data=u;else{var f=s(n);null!==f&&(c.data=f)}return h.accumulateTwoPhaseDispatches(c),c}function u(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==M?null:(S=!0,k);case"topTextInput":var n=t.data;return n===k&&S?null:n;default:return null}}function c(e,t){if(T){if("topCompositionEnd"===e||!b&&a(e,t)){var n=T.getData();return p.release(T),T=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return w?null:t.data;default:return null}}function f(e,t,n,r){var i;if(!(i=_?u(e,n):c(e,n)))return null;var o=v.getPooled(E.beforeInput,t,n,r);return o.data=i,h.accumulateTwoPhaseDispatches(o),o}var h=n(180),d=n(42),p=n(1586),m=n(1623),v=n(1626),g=[9,13,27,32],y=229,b=d.canUseDOM&&"CompositionEvent"in window,x=null;d.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var _=d.canUseDOM&&"TextEvent"in window&&!x&&!function(){var e=window.opera;return"object"===typeof e&&"function"===typeof e.version&&parseInt(e.version(),10)<=12}(),w=d.canUseDOM&&(!b||x&&x>8&&x<=11),M=32,k=String.fromCharCode(M),E={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},S=!1,T=null,A={eventTypes:E,extractEvents:function(e,t,n,r){return[l(e,t,n,r),f(e,t,n,r)]}};e.exports=A},function(e,t,n){"use strict";var r=n(638),i=n(42),o=(n(58),n(935),n(1632)),a=n(942),s=n(945),l=(n(15),s(function(e){return a(e)})),u=!1,c="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=l(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var l=u&&r.shorthandPropertyExpansions[a];if(l)for(var f in l)i[f]="";else i[a]=""}}}};e.exports=h},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=k.getPooled(A.change,D,e,E(e));x.accumulateTwoPhaseDispatches(t),M.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){C=e,D=t,C.attachEvent("onchange",i)}function s(){C&&(C.detachEvent("onchange",i),C=null,D=null)}function l(e,t){if("topChange"===e)return t}function u(e,t,n){"topFocus"===e?(s(),a(t,n)):"topBlur"===e&&s()}function c(e,t){C=e,D=t,O=e.value,P=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(C,"value",N),C.attachEvent?C.attachEvent("onpropertychange",h):C.addEventListener("propertychange",h,!1)}function f(){C&&(delete C.value,C.detachEvent?C.detachEvent("onpropertychange",h):C.removeEventListener("propertychange",h,!1),C=null,D=null,O=null,P=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,i(e))}}function d(e,t){if("topInput"===e)return t}function p(e,t,n){"topFocus"===e?(f(),c(t,n)):"topBlur"===e&&f()}function m(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&C&&C.value!==O)return O=C.value,D}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if("topClick"===e)return t}function y(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=n(179),x=n(180),_=n(42),w=n(28),M=n(70),k=n(81),E=n(370),S=n(371),T=n(655),A={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},C=null,D=null,O=null,P=null,L=!1;_.canUseDOM&&(L=S("change")&&(!document.documentMode||document.documentMode>8));var I=!1;_.canUseDOM&&(I=S("input")&&(!document.documentMode||document.documentMode>11));var N={get:function(){return P.get.call(this)},set:function(e){O=""+e,P.set.call(this,e)}},R={eventTypes:A,extractEvents:function(e,t,n,i){var o,a,s=t?w.getNodeFromInstance(t):window;if(r(s)?L?o=l:a=u:T(s)?I?o=d:(o=m,a=p):v(s)&&(o=g),o){var c=o(e,t);if(c){var f=k.getPooled(A.change,c,n,i);return f.type="change",x.accumulateTwoPhaseDispatches(f),f}}a&&a(e,s,t),"topBlur"===e&&y(t,s)}};e.exports=R},function(e,t,n){"use strict";var r=n(18),i=n(129),o=n(42),a=n(938),s=n(49),l=(n(10),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"===typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=r},function(e,t,n){"use strict";var r=n(180),i=n(28),o=n(239),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(s.window===s)l=s;else{var u=s.ownerDocument;l=u?u.defaultView||u.parentWindow:window}var c,f;if("topMouseOut"===e){c=t;var h=n.relatedTarget||n.toElement;f=h?i.getClosestInstanceFromNode(h):null}else c=null,f=t;if(c===f)return null;var d=null==c?l:i.getNodeFromInstance(c),p=null==f?l:i.getNodeFromInstance(f),m=o.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=d,m.relatedTarget=p;var v=o.getPooled(a.mouseEnter,f,n,s);return v.type="mouseenter",v.target=p,v.relatedTarget=d,r.accumulateEnterLeaveDispatches(m,v,c,f),[m,v]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(11),o=n(104),a=n(653);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(130),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=u},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(131),o=n(654),a=(n(362),n(372)),s=n(657);n(15);"undefined"!==typeof t&&n.i({NODE_ENV:"production",PUBLIC_URL:"."});var l={instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,l,u,c,f){if(t||e){var h,d;for(h in t)if(t.hasOwnProperty(h)){d=e&&e[h];var p=d&&d._currentElement,m=t[h];if(null!=d&&a(p,m))i.receiveComponent(d,m,s,c),t[h]=d;else{d&&(r[h]=i.getHostNode(d),i.unmountComponent(d,!1));var v=o(m,!0);t[h]=v;var g=i.mountComponent(v,s,l,u,c,f);n.push(g)}}for(h in e)!e.hasOwnProperty(h)||t&&t.hasOwnProperty(h)||(d=e[h],r[h]=i.getHostNode(d),i.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};e.exports=l}).call(t,n(72))},function(e,t,n){"use strict";var r=n(358),i=n(1596),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";function r(e){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=n(18),s=n(11),l=n(132),u=n(364),c=n(82),f=n(365),h=n(181),d=(n(58),n(648)),p=n(131),m=n(148),v=(n(10),n(149)),g=n(372),y=(n(15),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var b=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var u,c=this._currentElement.props,f=this._processContext(s),d=this._currentElement.type,p=e.getUpdateQueue(),v=i(d),g=this._constructComponent(v,c,f,p);v||null!=g&&null!=g.render?o(d)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(u=g,null===g||!1===g||l.isValidElement(g)||a("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=y.StatelessFunctional);g.props=c,g.context=f,g.refs=m,g.updater=p,this._instance=g,h.set(g,this);var x=g.state;void 0===x&&(g.state=x=null),("object"!==typeof x||Array.isArray(x))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var _;return _=g.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,s):this.performInitialMount(u,t,n,e,s),g.componentDidMount&&e.getReactMountReady().enqueue(g.componentDidMount,g),_},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var s=d.getType(e);this._renderedNodeType=s;var l=this._instantiateReactComponent(e,s!==d.EMPTY);this._renderedComponent=l;var u=p.mountComponent(l,r,t,n,this._processChildContext(i),a);return u},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(p.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!==typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var i in t)i in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",i);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?p.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o&&a("136",this.getName()||"ReactCompositeComponent");var s,l=!1;this._context===i?s=o.context:(s=this._processContext(i),l=!0);var u=t.props,c=n.props;t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,s);var f=this._processPendingState(c,s),h=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?h=o.shouldComponentUpdate(c,f,s):this._compositeType===y.PureClass&&(h=!v(u,c)||!v(o.state,f))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,s,e,i)):(this._currentElement=n,this._context=i,o.props=c,o.state=f,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var l=r[a];s(o,"function"===typeof l?l.call(n,o,e,t):l)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(g(r,i))p.receiveComponent(n,i,e,this._processChildContext(t));else{var a=p.getHostNode(n);p.unmountComponent(n,!1);var s=d.getType(i);this._renderedNodeType=s;var l=this._instantiateReactComponent(i,s!==d.EMPTY);this._renderedComponent=l;var u=p.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(a,u,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;return e.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||l.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=x},function(e,t,n){"use strict";var r=n(28),i=n(1604),o=n(647),a=n(131),s=n(70),l=n(1617),u=n(1633),c=n(652),f=n(1640);n(15);i.inject();var h={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=h},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(G[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&m("60"),"object"===typeof t.dangerouslySetInnerHTML&&U in t.dangerouslySetInnerHTML||m("61")),null!=t.style&&"object"!==typeof t.style&&m("62",r(e)))}function o(e,t,n,r){if(!(r instanceof L)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===H,s=o?i._node:i._ownerDocument;z(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;M.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;A.postMountWrapper(e)}function l(){var e=this;O.postMountWrapper(e)}function u(){var e=this;C.postMountWrapper(e)}function c(){var e=this;e._rootNodeID||m("63");var t=j(e);switch(t||m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(n,Y[n],t));break;case"source":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t),E.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent("topReset","reset",t),E.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent("topInvalid","invalid",t)]}}function f(){D.postUpdateWrapper(this)}function h(e){K.call(Z,e)||(X.test(e)||m("65",e),Z[e]=!0)}function d(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;h(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(18),v=n(11),g=n(1579),y=n(1581),b=n(129),x=n(359),_=n(130),w=n(640),M=n(179),k=n(360),E=n(238),S=n(641),T=n(28),A=n(1597),C=n(1598),D=n(642),O=n(1601),P=(n(58),n(1610)),L=n(1615),I=(n(49),n(241)),N=(n(10),n(371),n(149),n(373),n(15),S),R=M.deleteListener,j=T.getNodeFromInstance,z=E.listenTo,F=k.registrationNameModules,B={string:!0,number:!0},U="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},q={listing:!0,pre:!0,textarea:!0},G=v({menuitem:!0},W),X=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Z={},K={}.hasOwnProperty,$=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=$++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"input":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":C.mountWrapper(this,o,t),o=C.getHostProps(this,o);break;case"select":D.mountWrapper(this,o,t),o=D.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":O.mountWrapper(this,o,t),o=O.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}i(this,o);var a,f;null!=t?(a=t._namespaceURI,f=t._tag):n._tag&&(a=n._namespaceURI,f=n._tag),(null==a||a===x.svg&&"foreignobject"===f)&&(a=x.html),a===x.html&&("svg"===this._tag?a=x.svg:"math"===this._tag&&(a=x.mathml)),this._namespaceURI=a;var h;if(e.useCreateElement){var d,p=n._ownerDocument;if(a===x.html)if("script"===this._tag){var m=p.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",d=m.removeChild(m.firstChild)}else d=o.is?p.createElement(this._currentElement.type,o.is):p.createElement(this._currentElement.type);else d=p.createElementNS(a,this._currentElement.type);T.precacheNode(this,d),this._flags|=N.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(d),this._updateDOMProperties(null,o,e);var y=b(d);this._createInitialChildren(e,o,r,y),h=y}else{var _=this._createOpenTagMarkupAndPutListeners(e,o),M=this._createContentMarkup(e,o,r);h=!M&&W[this._tag]?_+"/>":_+">"+M+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":case"button":o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return h},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(F.hasOwnProperty(r))i&&o(this,r,i,e);else{"style"===r&&(i&&(i=this._previousStyleCopy=v({},t.style)),i=y.createMarkupForStyles(i,this));var a=null;null!=this._tag&&d(this._tag,t)?V.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,i)):a=w.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=I(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)b.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"input":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"option":o=C.getHostProps(this,o),a=C.getHostProps(this,a);break;case"select":o=D.getHostProps(this,o),a=D.getHostProps(this,a);break;case"textarea":o=O.getHostProps(this,o),a=O.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(f,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else F.hasOwnProperty(r)?e[r]&&R(this,r):d(this._tag,e)?V.hasOwnProperty(r)||w.deleteValueForAttribute(j(this),r):(_.properties[r]||_.isCustomAttribute(r))&&w.deleteValueForProperty(j(this),r);for(r in t){var l=t[r],u="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&l!==u&&(null!=l||null!=u))if("style"===r)if(l?l=this._previousStyleCopy=v({},l):this._previousStyleCopy=null,u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(a=a||{},a[i]=l[i])}else a=l;else if(F.hasOwnProperty(r))l?o(this,r,l,n):u&&R(this,r);else if(d(this._tag,t))V.hasOwnProperty(r)||w.setValueForAttribute(j(this),r,l);else if(_.properties[r]||_.isCustomAttribute(r)){var c=j(this);null!=l?w.setValueForProperty(c,r,l):w.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(j(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,o=B[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,u=null!=o?null:t.children,c=null!=i||null!=a,f=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return j(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),T.uncacheNode(this),M.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return j(this)}},v(p.prototype,p.Mixin,P.Mixin),e.exports=p},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(373),9);e.exports=r},function(e,t,n){"use strict";var r=n(11),i=n(129),o=n(28),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};e.exports=r},function(e,t,n){"use strict";var r=n(358),i=n(28),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);f.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=c.getNodeFromInstance(this),s=o;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),h=0;h<l.length;h++){var d=l[h];if(d!==o&&d.form===o.form){var p=c.getInstanceFromNode(d);p||a("90"),f.asap(r,p)}}}return n}var a=n(18),s=n(11),l=n(640),u=n(363),c=n(28),f=n(70),h=(n(10),n(15),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=u.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var o=parseFloat(r.value,10)||0;i!=o&&(r.value=""+i)}else i!=r.value&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=h},function(e,t,n){"use strict";function r(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"===typeof e||"number"===typeof e?t+=e:l||(l=!0))}),t}var i=n(11),o=n(132),a=n(28),s=n(642),l=(n(15),!1),u={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var l;if(l=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var u=0;u<i.length;u++)if(""+i[u]===l){a=!0;break}}else a=""+i===l}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){a.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length;return{start:o,end:o+r}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var f=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=f?0:c.toString().length,d=h+u,p=document.createRange();p.setStart(n,i),p.setEnd(o,a);var m=p.collapsed;return{start:m?d:h,end:m?h:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(e,i),l=u(e,o);if(s&&l){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}var l=n(42),u=n(1637),c=n(653),f=l.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:f?i:o,setOffsets:f?a:s};e.exports=h},function(e,t,n){"use strict";var r=n(18),i=n(11),o=n(358),a=n(129),s=n(28),l=n(241),u=(n(10),n(373),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var u=n._ownerDocument,c=u.createComment(o),f=u.createComment(" /react-text "),h=a(u.createDocumentFragment());return a.queueChild(h,a(c)),this._stringText&&a.queueChild(h,a(u.createTextNode(this._stringText))),a.queueChild(h,a(f)),s.precacheNode(this,c),this._closingComment=f,h}var d=l(this._stringText);return e.renderToStaticMarkup?d:"\x3c!--"+o+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=u},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return u.asap(r,this),n}var o=n(18),a=n(11),s=n(363),l=n(28),u=n(70),c=(n(10),n(15),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,l=t.children;null!=l&&(null!=a&&o("92"),Array.isArray(l)&&(l.length<=1||o("93"),l=l[0]),a=""+l),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||l("33"),"_hostNode"in t||l("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e||l("35"),"_hostNode"in t||l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e||l("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==a;)l.push(t),t=t._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],"bubbled",i);for(u=l.length;u-- >0;)n(l[u],"captured",o)}var l=n(18);n(10);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(11),o=n(70),a=n(240),s=n(49),l={initialize:s,close:function(){h.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];i(r.prototype,a,{getTransactionWrappers:function(){return c}});var f=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=h.isBatchingUpdates;return h.isBatchingUpdates=!0,a?e(t,n,r,i,o):f.perform(e,null,t,n,r,i,o)}};e.exports=h},function(e,t,n){"use strict";function r(){M||(M=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(h),y.EventPluginUtils.injectTreeTraversal(p),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:l,ChangeEventPlugin:a,SelectEventPlugin:_,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(f),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(i),y.DOMProperty.injectDOMPropertyConfig(u),y.DOMProperty.injectDOMPropertyConfig(x),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),y.Updates.injectReconcileTransaction(b),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var i=n(1578),o=n(1580),a=n(1582),s=n(1584),l=n(1585),u=n(1587),c=n(1589),f=n(1592),h=n(28),d=n(1594),p=n(1602),m=n(1600),v=n(1603),g=n(1607),y=n(1608),b=n(1613),x=n(1618),_=n(1619),w=n(1620),M=!1;e.exports={inject:r}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(179),o={handleTopLevel:function(e,t,n,o){r(i.extractEvents(e,t,n,o))}};e.exports=o},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=f.getNodeFromInstance(e),n=t.parentNode;return f.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=d(e.nativeEvent),n=f.getClosestInstanceFromNode(t),i=n;do{e.ancestors.push(i),i=i&&r(i)}while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,d(e.nativeEvent))}function a(e){e(p(window))}var s=n(11),l=n(448),u=n(42),c=n(104),f=n(28),h=n(70),d=n(370),p=n(940);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?l.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?l.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(130),i=n(179),o=n(361),a=n(364),s=n(643),l=n(238),u=n(645),c=n(70),f={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};e.exports=f},function(e,t,n){"use strict";var r=n(1631),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){f.processChildrenUpdates(e,t)}var c=n(18),f=n(364),h=(n(181),n(58),n(82),n(131)),d=n(1588),p=(n(49),n(1634)),m=(n(10),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=p(t,s),d.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=0,u=h.mountComponent(s,t,this,this._hostContainerInfo,n,l);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,c=null,f=0,d=0,p=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=l(c,this.moveChild(v,m,f,d)),d=Math.max(v._mountIndex,d),v._mountIndex=f):(v&&(d=Math.max(v._mountIndex,d)),c=l(c,this._mountChildAtIndex(g,o[p],m,f,t,n)),p++),f++,m=h.getHostNode(g)}for(s in i)i.hasOwnProperty(s)&&(c=l(c,this._unmountChild(r[s],i[s])));c&&u(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;d.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";function r(e){return!(!e||"function"!==typeof e.attachRef||"function"!==typeof e.detachRef)}var i=n(18),o=(n(10),{addComponentAsRefTo:function(e,t,n){r(n)||i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||i("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(11),o=n(639),a=n(104),s=n(238),l=n(646),u=(n(58),n(240)),c=n(366),f={initialize:l.getSelectionInformation,close:l.restoreSelection},h={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[f,h,d],m={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,u,m),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"===typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"===typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(1611),a={};a.attachRefs=function(e,t){if(null!==t&&"object"===typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"===typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"===typeof t&&(i=t.ref,o=t._owner),n!==i||"string"===typeof i&&o!==r},a.detachRefs=function(e,t){if(null!==t&&"object"===typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(11),o=n(104),a=n(240),s=(n(58),n(1616)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a,c),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(366),o=(n(15),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&i.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&i.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&i.enqueueSetState(e,t)},e}());e.exports=o},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),e.exports=o},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!h(g,n)){g=n;var i=u.getPooled(p.select,v,e,t);return i.type="select",i.target=m,o.accumulateTwoPhaseDispatches(i),i}return null}var o=n(180),a=n(42),s=n(28),l=n(646),u=n(81),c=n(450),f=n(655),h=n(149),d=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,b=!1,x={eventTypes:p,extractEvents:function(e,t,n,r){if(!b)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(f(o)||"true"===o.contentEditable)&&(m=o,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,i(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(b=!0)}};e.exports=x},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var o=n(18),a=n(448),s=n(180),l=n(28),u=n(1621),c=n(1622),f=n(81),h=n(1625),d=n(1627),p=n(239),m=n(1624),v=n(1628),g=n(1629),y=n(182),b=n(1630),x=n(49),_=n(368),w=(n(10),{}),M={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};w[e]=i,M[r]=i});var k={},E={eventTypes:w,extractEvents:function(e,t,n,r){var i=M[e];if(!i)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=f;break;case"topKeyPress":if(0===_(n))return null;case"topKeyDown":case"topKeyUp":a=d;break;case"topBlur":case"topFocus":a=h;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=u;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=b;break;case"topCopy":case"topCut":case"topPaste":a=c}a||o("86",e);var l=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var o=r(e),s=l.getNodeFromInstance(e);k[o]||(k[o]=a.listen(s,"click",x))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);k[n].remove(),delete k[n]}}};e.exports=E},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(239),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(182),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(182),o=n(368),a=n(1635),s=n(369),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(182),o=n(369),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(81),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(239),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;r<o;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(null==t||"boolean"===typeof t||""===t)return"";if(isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"===typeof t){t=t.trim()}return t+"px"}var i=n(638),o=(n(15),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?o.getNodeFromInstance(t):null;"function"===typeof e.render?i("44"):i("45",Object.keys(e))}var i=n(18),o=(n(82),n(28)),a=n(181),s=n(652);n(10),n(15);e.exports=r},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){if(e&&"object"===typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(362),n(657));n(15);"undefined"!==typeof t&&n.i({NODE_ENV:"production",PUBLIC_URL:"."}),e.exports=i}).call(t,n(72))},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(368),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"===typeof t)return t}var i="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var o=n(42),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(241);e.exports=r},function(e,t,n){"use strict";var r=n(647);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){var r=n(13),i=n(1642),o=n(932),a=n(897),s=r.createClass({displayName:"Highlighter",count:0,propTypes:{search:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool,i]).isRequired,caseSensitive:r.PropTypes.bool,matchElement:r.PropTypes.string,matchClass:r.PropTypes.string,matchStyle:r.PropTypes.object},getDefaultProps:function(){return{caseSensitive:!1,matchElement:"strong",matchClass:"highlight",matchStyle:{}}},render:function(){var e=a(this.props,"search","caseSensitive","matchElement","matchClass","matchStyle");return r.createElement("span",e,this.renderElement(this.props.children))},renderElement:function(e){if(this.isScalar()&&this.hasSearch()){var t=this.getSearch();return this.highlightChildren(e,t)}return this.props.children},isScalar:function(){return/string|number|boolean/.test(typeof this.props.children)},hasSearch:function(){return"undefined"!==typeof this.props.search&&this.props.search},getSearch:function(){if(this.props.search instanceof RegExp)return this.props.search;var e="";this.props.caseSensitive||(e+="i");var t=this.props.search;return"string"===typeof this.props.search&&(t=o(t)),new RegExp(t,e)},getMatchBoundaries:function(e,t){var n=t.exec(e);if(n)return{first:n.index,last:n.index+n[0].length}},highlightChildren:function(e,t){for(var n=[],r=this.props.matchElement,i=e;i;){if(!t.test(i))return n.push(this.renderPlain(i)),n;var o=this.getMatchBoundaries(i,t),a=i.slice(0,o.first);a&&n.push(this.renderPlain(a));var s=i.slice(o.first,o.last);s&&n.push(this.renderHighlight(s,r)),i=i.slice(o.last)}return n},renderPlain:function(e){return this.count++,r.DOM.span({key:this.count},e)},renderHighlight:function(e){return this.count++,r.DOM[this.props.matchElement]({key:this.count,className:this.props.matchClass,style:this.props.matchStyle},e)}});e.exports=s},function(e,t){var n=function(e,t,n,r){if(!(e[t]instanceof RegExp)){var i=typeof e[t];return new Error("Invalid "+r+" `"+t+"` of type `"+i+"` supplied to `"+n+"`, expected `RegExp`.")}};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(13),s=r(a),l=n(1301),u=r(l),c=n(1070),f=r(c),h=s.default.createClass({displayName:"Plotly",propTypes:{data:s.default.PropTypes.array,layout:s.default.PropTypes.object,config:s.default.PropTypes.object,onClick:s.default.PropTypes.func,onBeforeHover:s.default.PropTypes.func,onHover:s.default.PropTypes.func,onUnHover:s.default.PropTypes.func,onSelected:s.default.PropTypes.func},attachListeners:function(){this.props.onClick&&this.container.on("plotly_click",this.props.onClick),this.props.onBeforeHover&&this.container.on("plotly_beforehover",this.props.onBeforeHover),this.props.onHover&&this.container.on("plotly_hover",this.props.onHover),this.props.onUnHover&&this.container.on("plotly_unhover",this.props.onUnHover),this.props.onSelected&&this.container.on("plotly_selected",this.props.onSelected)},shouldComponentUpdate:function(e){return!0},componentDidMount:function(){var e=this.props,t=e.data,n=e.layout,r=e.config;u.default.newPlot(this.container,t,(0,f.default)(n),r),this.attachListeners()},componentDidUpdate:function(e){e.data===this.props.data&&e.layout===this.props.layout||(u.default.newPlot(this.container,this.props.data,this.props.layout),this.attachListeners())},componentWillUnmount:function(){u.default.purge(this.container)},resize:function(){u.default.Plots.resize(this.container)},render:function(){var e=this,t=this.props,n=(t.data,t.layout,t.config,i(t,["data","layout","config"]));return s.default.createElement("div",o({},n,{ref:function(t){return e.container=t}}))}});e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1163),s=r(a),l=n(1169),u=r(l),c=function(){function e(){i(this,e),this.refs={}}return o(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,u.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2===e.button||i(e))return!1;t._touched=!0,t._pos={x:e.clientX,y:e.clientY};var o=(0,_.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(a&&!(0,_.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.clientX,y:t._pos.y-e.clientY};var o=Math.abs(t._delta.x)+Math.abs(t._delta.y);r||i&&!(i&&o>=i)?r&&o>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,o=r.axis,a=r.getHelperDimensions,s=r.helperClass,l=r.hideSortableGhost,u=r.onSortStart,c=r.useWindowAsScrollContainer,f=n.node,h=n.collection,d=f.sortableInfo.index,p=(0,_.getElementMargin)(f),m=t.container.getBoundingClientRect(),v=a({index:d,node:f,collection:h});t.node=f,t.margin=p,t.width=v.width,t.height=v.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=m,t.index=d,t.newIndex=d,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(f),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft};var g=f.querySelectorAll("input, textarea, select"),y=f.cloneNode(!0);if([].concat(i(y.querySelectorAll("input, textarea, select"))).forEach(function(e,t){return e.value=g[t]&&g[t].value}),t.helper=t.document.body.appendChild(y),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-p.top+"px",t.helper.style.left=t.boundingClientRect.left-p.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=f,f.style.visibility="hidden",f.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(c?0:m.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(c?t.contentWindow.innerWidth:m.left+m.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(c?0:m.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(c?t.contentWindow.innerHeight:m.top+m.height)-t.boundingClientRect.top-t.height/2),s){var b;(b=t.helper.classList).add.apply(b,i(s.split(" ")))}t.listenerNode=e.touches?f:t.contentWindow,_.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),_.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:d}),u&&u({node:f,index:d,collection:h},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(_.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),_.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var a=t.manager.refs[o],s=0,l=a.length;s<l;s++){var u=a[s],c=u.node;u.edgeOffset=null,c.style[_.vendorPrefix+"Transform"]="",c.style[_.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof i&&i({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},r={x:1,y:1},i={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,r.y=i.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,r.x=i.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,r.y=i.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,r.x=i.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*r.x*n.x,top:1*r.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new x.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,y.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return s(n,t),f(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.contentWindow,r=t.getContainer,i=t.useWindowAsScrollContainer;this.container="function"===typeof r?r(this.getWrappedInstance()):(0,v.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=i?this.document.body:this.container,this.contentWindow="function"===typeof n?n():n;for(var o in this.events)!function(t){e.events.hasOwnProperty(t)&&_.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(o)}},{key:"componentWillUnmount",value:function(){var e=this;for(var t in this.events)!function(t){e.events.hasOwnProperty(t)&&_.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,n):n}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,y.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=c(t,2),r=n[0],i=n[1];return[this.getLockPixelOffset(r),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,r="px";if("string"===typeof e){var i=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,y.default)(null!==i,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=n=parseFloat(e),r=i[1]}return(0,y.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===r&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockToContainerEdges,i=this.getOffset(e),o={x:i.x-this.initialOffset.x,y:i.y-this.initialOffset.y};if(this.translate=o,r){var a=this.getLockPixelOffsets(),s=c(a,2),l=s[0],u=s[1],f={x:this.width/2-l.x,y:this.height/2-l.y},h={x:this.width/2-u.x,y:this.height/2-u.y};o.x=(0,_.limit)(this.minTranslate.x+f.x,this.maxTranslate.x-h.x,o.x),o.y=(0,_.limit)(this.minTranslate.y+f.y,this.maxTranslate.y-h.y,o.y)}"x"===n?o.y=0:"y"===n&&(o.x=0),this.helper.style[_.vendorPrefix+"Transform"]="translate3d("+o.x+"px,"+o.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=this.manager.getOrderedRefs(),i={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},o={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top};this.newIndex=null;for(var a=0,s=r.length;a<s;a++){var l=r[a].node,u=l.sortableInfo.index,c=l.offsetWidth,f=l.offsetHeight,h={width:this.width>c?c/2:this.width/2,height:this.height>f?f/2:this.height/2},d={x:0,y:0},p=r[a].edgeOffset;p||(r[a].edgeOffset=p=this.getEdgeOffset(l));var m=a<r.length-1&&r[a+1],v=a>0&&r[a-1];m&&!m.edgeOffset&&(m.edgeOffset=this.getEdgeOffset(m.node)),u!==this.index?(t&&(l.style[_.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?u<this.index&&(o.left-h.width<=p.left&&o.top<=p.top+h.height||o.top+h.height<=p.top)?(d.x=this.width+this.marginOffset.x,p.left+d.x>this.containerBoundingRect.width-h.width&&(d.x=m.edgeOffset.left-p.left,d.y=m.edgeOffset.top-p.top),null===this.newIndex&&(this.newIndex=u)):u>this.index&&(o.left+h.width>=p.left&&o.top+h.height>=p.top||o.top+h.height>=p.top+f)&&(d.x=-(this.width+this.marginOffset.x),p.left+d.x<this.containerBoundingRect.left+h.width&&(d.x=v.edgeOffset.left-p.left,d.y=v.edgeOffset.top-p.top),this.newIndex=u):u>this.index&&o.left+h.width>=p.left?(d.x=-(this.width+this.marginOffset.x),this.newIndex=u):u<this.index&&o.left<=p.left+h.width&&(d.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=u)):this.axis.y&&(u>this.index&&o.top+h.height>=p.top?(d.y=-(this.height+this.marginOffset.y),this.newIndex=u):u<this.index&&o.top<=p.top+h.height&&(d.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=u))),l.style[_.vendorPrefix+"Transform"]="translate3d("+d.x+"px,"+d.y+"px,0)"):n&&(this.sortableGhost=l,l.style.visibility="hidden",l.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,y.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return d.default.createElement(e,u({ref:t},(0,_.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(h.Component),t.displayName=(0,_.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,contentWindow:"undefined"!==typeof window?window:null,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:m.default.oneOf(["x","y","xy"]),distance:m.default.number,lockAxis:m.default.string,helperClass:m.default.string,transitionDuration:m.default.number,contentWindow:m.default.any,onSortStart:m.default.func,onSortMove:m.default.func,onSortEnd:m.default.func,shouldCancelStart:m.default.func,pressDelay:m.default.number,useDragHandle:m.default.bool,useWindowAsScrollContainer:m.default.bool,hideSortableGhost:m.default.bool,lockToContainerEdges:m.default.bool,lockOffset:m.default.oneOfType([m.default.number,m.default.string,m.default.arrayOf(m.default.oneOfType([m.default.number,m.default.string]))]),getContainer:m.default.func,getHelperDimensions:m.default.func},t.childContextTypes={manager:m.default.object.isRequired},n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=l;var h=n(13),d=r(h),p=n(357),m=r(p),v=n(178),g=n(288),y=r(g),b=n(1644),x=r(b),_=n(243)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),u(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,p.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,v.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,l({ref:t},(0,g.omit)(this.props,"collection","disabled","index")))}}]),n}(c.Component),t.displayName=(0,g.provideDisplayName)("sortableElement",e),t.contextTypes={manager:d.default.object.isRequired},t.propTypes={index:d.default.number.isRequired,collection:d.default.oneOfType([d.default.number,d.default.string]),disabled:d.default.bool},t.defaultProps={collection:0},n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(13),f=r(c),h=n(357),d=r(h),p=n(178),m=n(288),v=r(m),g=n(243)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),u(n,[{key:"componentDidMount",value:function(){(0,h.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,p.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,l({ref:t},this.props))}}]),n}(c.Component),t.displayName=(0,m.provideDisplayName)("sortableHandle",e),n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(13),f=r(c),h=n(178),d=n(288),p=r(d),m=n(243)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var i=n(243);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return i.arrayMove}});var o=n(1645),a=r(o),s=n(1646),l=r(s),u=n(1647),c=r(u);t.SortableContainer=a.default,t.SortableElement=l.default,t.SortableHandle=c.default,t.sortableContainer=a.default,t.sortableElement=l.default,t.sortableHandle=c.default},function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};e.exports=o},function(e,t,n){"use strict";var r=n(134),i=(n(10),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=i,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=10),n.release=l,n},f={addPoolingTo:c,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};e.exports=f},function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);g(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,i,n,v.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,o+(!l.key||t&&t.key===l.key?"":r(l.key)+"/")+n)),i.push(l))}function u(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,i,o);g(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function f(e,t,n){return null}function h(e,t){return g(e,f,null)}function d(e){var t=[];return u(e,t,null,v.thatReturnsArgument),t}var p=n(1650),m=n(133),v=n(49),g=n(1663),y=p.twoArgumentPooler,b=p.fourArgumentPooler,x=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,b);var _={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:h,toArray:d};e.exports=_},function(e,t,n){"use strict";function r(e){return e}function i(e,t){var n=x.hasOwnProperty(t)?x[t]:null;w.hasOwnProperty(t)&&"OVERRIDE_BASE"!==n&&h("73",t),e&&"DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n&&h("74",t)}function o(e,t){if(t){"function"===typeof t&&h("75"),m.isValidElement(t)&&h("76");var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(y)&&_.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==y){var a=t[o],s=n.hasOwnProperty(o);if(i(s,o),_.hasOwnProperty(o))_[o](e,a);else{var c=x.hasOwnProperty(o),f="function"===typeof a,d=f&&!c&&!s&&!1!==t.autobind;if(d)r.push(o,a),n[o]=a;else if(s){var p=x[o];(!c||"DEFINE_MANY_MERGED"!==p&&"DEFINE_MANY"!==p)&&h("77",p,o),"DEFINE_MANY_MERGED"===p?n[o]=l(n[o],a):"DEFINE_MANY"===p&&(n[o]=u(n[o],a))}else n[o]=a}}}else;}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in _;i&&h("78",n);var o=n in e;o&&h("79",n),e[n]=r}}}function s(e,t){e&&t&&"object"===typeof e&&"object"===typeof t||h("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]&&h("81",n),e[n]=t[n]);return e}function l(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function f(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=c(e,i)}}var h=n(134),d=n(11),p=n(374),m=n(133),v=(n(1655),n(375)),g=n(148),y=(n(10),n(15),"mixins"),b=[],x={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=l(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},M=function(){};d(M.prototype,p.prototype,w);var k={createClass:function(e){var t=r(function(e,n,r){this.__reactAutoBindPairs.length&&f(this),this.props=e,this.context=n,this.refs=g,this.updater=r||v,this.state=null;var i=this.getInitialState?this.getInitialState():null;("object"!==typeof i||Array.isArray(i))&&h("82",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new M,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],b.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render||h("83");for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){b.push(e)}}};e.exports=k},function(e,t,n){"use strict";var r=n(1662),i={shouldComponentUpdate:function(e,t){return r(this,e,t)}};e.exports=i},function(e,t,n){"use strict";var r=n(133),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(133),i=r.isValidElement,o=n(635);e.exports=o(i)},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||s}function i(){}var o=n(11),a=n(374),s=n(375),l=n(148);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"===typeof t)return t}var i="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(){return i++}var i=1;e.exports=r},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)||i("143"),e}var i=n(134),o=n(133);n(10);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return!i(e.props,t)||!i(e.state,n)}var i=n(149);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"===typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||"object"===h&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,p,m=0,v=""===t?c:t+f;if(Array.isArray(e))for(var g=0;g<e.length;g++)d=e[g],p=v+r(d,g),m+=i(d,p,n,o);else{var y=l(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var _=0;!(b=x.next()).done;)d=b.value,p=v+r(d,_++),m+=i(d,p,n,o);else for(;!(b=x.next()).done;){var w=b.value;w&&(d=w[1],p=v+u.escape(w[0])+f+r(d,0),m+=i(d,p,n,o))}}else if("object"===h){var M="",k=String(e);a("31","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,M)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(134),s=(n(82),n(659)),l=n(1659),u=(n(10),n(1649)),c=(n(15),"."),f=":";e.exports=o},function(e,t,n){"use strict";function r(e){e.sort(o);for(var t=e.length,n=0,r=0;r<t;++r){var s=e[r],l=a(s);if(0!==l){if(n>0){var u=e[n-1];if(0===i(s,u)&&a(u)!==l){n-=1;continue}}e[n++]=s}}return e.length=n,e}var i=n(280),o=n(922),a=n(441);e.exports=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"undefined"!==typeof btoa?btoa(e):"base64:"+e}function t(e){var t=new Error("(regl) "+e);throw console.error(t),t}function n(e,n){e||t(n)}function r(e){return e?": "+e:""}function i(e,n,i){e in n||t("unknown parameter ("+e+")"+r(i)+". possible values: "+Object.keys(n).join())}function o(e,n){Je(e)||t("invalid parameter type"+r(n)+". must be a typed array")}function a(e,n,i){typeof e!==n&&t("invalid parameter type"+r(i)+". expected "+n+", got "+typeof e)}function s(e,n){e>=0&&(0|e)===e||t("invalid parameter type, ("+e+")"+r(n)+". must be a nonnegative integer")}function l(e,n,i){n.indexOf(e)<0&&t("invalid value"+r(i)+". must be one of: "+n)}function u(e){Object.keys(e).forEach(function(e){et.indexOf(e)<0&&t('invalid regl constructor argument "'+e+'". must be one of '+et)})}function c(e,t){for(e+="";e.length<t;)e=" "+e;return e}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function h(e,t){this.number=e,this.line=t,this.errors=[]}function d(e,t,n){this.file=e,this.line=t,this.message=n}function p(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function m(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function v(t,n){var r=t.split("\n"),i=1,o=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=n||p(),a.unknown.lines.push(new h(0,""));for(var s=0;s<r.length;++s){var l=r[s],u=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(l);if(u)switch(u[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(u[2]);c&&(i=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new f)));break;case"define":var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);d&&(a[o].name=d[1]?e(d[2]):d[2])}a[o].lines.push(new h(i++,l))}return Object.keys(a).forEach(function(e){var t=a[e];t.lines.forEach(function(e){t.index[e.number]=e})}),a}function g(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var n=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);n?t.push(new d(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new d("unknown",0,e))}}),t}function y(e,t){t.forEach(function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}function b(e,t,r,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(t),s=i===e.FRAGMENT_SHADER?"fragment":"vertex";S(r,"string",s+" shader source must be a string",o);var l=v(r,o),u=g(a);y(l,u),Object.keys(l).forEach(function(e){function t(e,t){r.push(e),i.push(t||"")}var n=l[e];if(n.hasErrors){var r=[""],i=[""];t("file number "+e+": "+n.name+"\n","color:red;text-decoration:underline;font-weight:bold"),n.lines.forEach(function(e){if(e.errors.length>0){t(c(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),t(e.line+"\n","color:red; background-color:yellow; font-weight:bold");var n=0;e.errors.forEach(function(r){var i=r.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(i);if(o){var a=o[1];switch(i=o[2],a){case"assign":a="="}n=Math.max(e.line.indexOf(a,n),0)}else n=0;t(c("| ",6)),t(c("^^^",n+3)+"\n","font-weight:bold"),t(c("| ",6)),t(i+"\n","font-weight:bold")}),t(c("| ",6)+"\n")}else t(c(e.number,4)+"|  "),t(e.line+"\n","color:red")}),"undefined"!==typeof document?(i[0]=r.join("%c"),console.log.apply(console,i)):console.log(r.join(""))}}),n.raise("Error compiling "+s+" shader, "+l[0].name)}}function x(e,t,r,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var a=e.getProgramInfoLog(t),s=v(r,o),l=v(i,o),u='Error linking program with vertex shader, "'+l[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!==typeof document?console.log("%c"+u+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+"\n"+a),n.raise(u)}}function _(e){e._commandRef=p()}function w(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}_(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function M(e,n){var r=m();t(e+" in command "+(n||p())+("unknown"===r?"":" called from "+r))}function k(e,t,n){e||M(t,n||p())}function E(e,t,n,i){e in t||M("unknown parameter ("+e+")"+r(n)+". possible values: "+Object.keys(t).join(),i||p())}function S(e,t,n,i){typeof e!==t&&M("invalid parameter type"+r(n)+". expected "+t+", got "+typeof e,i||p())}function T(e){e()}function A(e,t,n){e.texture?l(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):l(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}function C(e,t){return e===ut||e===lt||e===ct?2:e===ft?4:ht[e]*t}function D(e){return!(e&e-1)&&!!e}function O(e,t,r){var i,o=t.width,a=t.height,s=t.channels;n(o>0&&o<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),e.wrapS===tt&&e.wrapT===tt||n(D(o)&&D(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==o&&1!==a&&n(e.minFilter!==rt&&e.minFilter!==ot&&e.minFilter!==it&&e.minFilter!==at,"min filter requires mipmap"):(n(D(o)&&D(a),"texture must be a square power of 2 to support mipmapping"),n(t.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),t.type===st&&(r.extensions.indexOf("oes_texture_float_linear")<0&&n(e.minFilter===nt&&e.magFilter===nt,"filter not supported, must enable oes_texture_float_linear"),n(!e.genMipmaps,"mipmap generation not supported with float textures"));var l=t.images;for(i=0;i<16;++i)if(l[i]){var u=o>>i,c=a>>i;n(t.mipmask&1<<i,"missing mipmap data");var f=l[i];if(n(f.width===u&&f.height===c,"invalid shape for mip images"),n(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var h=Math.ceil(C(f.type,s)*u/f.unpackAlignment)*f.unpackAlignment;n(f.data.byteLength===h*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||n(0===(t.mipmask&1<<i),"extra mipmap data");t.compressed&&n(!e.genMipmaps,"mipmap generation for compressed images not supported")}function P(e,t,r,i){var o=e.width,a=e.height,s=e.channels;n(o>0&&o<=i.maxTextureSize&&a>0&&a<=i.maxTextureSize,"invalid texture shape"),n(o===a,"cube map must be square"),n(t.wrapS===tt&&t.wrapT===tt,"wrap mode not supported by cube map");for(var l=0;l<r.length;++l){var u=r[l];n(u.width===o&&u.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(n(!u.compressed,"can not generate mipmap for compressed textures"),n(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=u.images,f=0;f<16;++f){var h=c[f];if(h){var d=o>>f,p=a>>f;n(u.mipmask&1<<f,"missing mipmap data"),n(h.width===d&&h.height===p,"invalid shape for mip images"),n(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed||(h.data?n(h.data.byteLength===d*p*Math.max(C(h.type,s),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}function L(e,t){this.id=pt++,this.type=e,this.data=t}function I(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function N(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+I(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return N(e.substr(0,r.index)).concat(N(r[1])).concat(N(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+I(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(N(i[a]));return o}function R(e){return"["+N(e).join("][")+"]"}function j(e,t){return new L(e,R(t+""))}function z(e){return"function"===typeof e&&!e._reglType||e instanceof L}function F(e,t){return"function"===typeof e?new L(mt,e):e}function B(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function U(e,t,n){function r(){var t=window.innerWidth,r=window.innerHeight;if(e!==document.body){var i=e.getBoundingClientRect();t=i.right-i.left,r=i.bottom-i.top}o.width=n*t,o.height=n*r,Qe(o.style,{width:t+"px",height:r+"px"})}function i(){window.removeEventListener("resize",r),e.removeChild(o)}var o=document.createElement("canvas");return Qe(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",Qe(e.style,{margin:0,padding:0})),window.addEventListener("resize",r,!1),r(),{canvas:o,onDestroy:i}}function V(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function H(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function Y(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function W(e){return"string"===typeof e?e.split():(dt(Array.isArray(e),"invalid extension array"),e)}function q(e){return"string"===typeof e?(dt("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function G(e){var t,n,r,i,o=e||{},a={},s=[],l=[],u="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&dt.raise(e)},h=function(){};if("string"===typeof o?(dt("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),dt(t,"invalid query string for element")):"object"===typeof o?H(o)?t=o:Y(o)?(i=o,r=i.canvas):(dt.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=q(o.canvas):"container"in o&&(n=q(o.container)),"attributes"in o&&(a=o.attributes,dt.type(a,"object","invalid context attributes")),"extensions"in o&&(s=W(o.extensions)),"optionalExtensions"in o&&(l=W(o.optionalExtensions)),"onDone"in o&&(dt.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(u=+o.pixelRatio,dt(u>0,"invalid pixel ratio"))):dt.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){dt("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var d=U(n||document.body,f,u);if(!d)return null;r=d.canvas,h=d.onDestroy}i=V(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:l,pixelRatio:u,profile:c,onDone:f,onDestroy:h}:(h(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function X(e,t){function n(t){dt.type(t,"string","extension name must be string");var n,i=t.toLowerCase();try{n=r[i]=e.getExtension(i)}catch(e){}return!!n}for(var r={},i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!n(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(!n(e))throw new Error("(regl): error restoring extension "+e)})}}}function Z(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||Je(e.data))}function K(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function $(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function J(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,(t|=n)|e>>1}function Q(e){var t=$(e),n=At[J(t)>>2];return n.length>0?n.pop():new ArrayBuffer(t)}function ee(e){At[J(e.byteLength)>>2].push(e)}function te(e,t){var n=null;switch(e){case _t:n=new Int8Array(Q(t),0,t);break;case wt:n=new Uint8Array(Q(t),0,t);break;case Mt:n=new Int16Array(Q(2*t),0,t);break;case kt:n=new Uint16Array(Q(2*t),0,t);break;case Et:n=new Int32Array(Q(4*t),0,t);break;case St:n=new Uint32Array(Q(4*t),0,t);break;case Tt:n=new Float32Array(Q(4*t),0,t);break;default:return null}return n.length!==t?n.subarray(0,t):n}function ne(e){ee(e.buffer)}function re(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function ie(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function oe(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var l=e[s],u=0;u<n;++u)for(var c=l[u],f=0;f<r;++f)i[a++]=c[f]}function ae(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var l=t[n+1],u=t[n+2],c=t[n+3];for(a=0;a<s;++a)oe(e[a],l,u,c,r,i),i+=o}else for(a=0;a<s;++a)ae(e[a],t,n+1,r,i),i+=o}function se(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||Ct.allocType(n,i);switch(t.length){case 0:break;case 1:re(e,t[0],a);break;case 2:ie(e,t[0],t[1],a);break;case 3:oe(e,t[0],t[1],t[2],a,0);break;default:ae(e,t,0,a,0)}return a}function le(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}function ue(e){return 0|$e[Object.prototype.toString.call(e)]}function ce(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function fe(e,t,n,r,i,o,a){for(var s=0,l=0;l<n;++l)for(var u=0;u<r;++u)e[s++]=t[i*l+o*u+a]}function he(e,t,n){function r(t){this.id=f++,this.buffer=e.createBuffer(),this.type=t,this.usage=Nt,this.byteLength=0,this.dimension=1,this.dtype=jt,this.persistentData=null,n.profile&&(this.stats={size:0})}function i(e,t){var n=d.pop();return n||(n=new r(e)),n.bind(),s(n,t,Rt,0,1,!1),n}function o(e){d.push(e)}function a(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function s(e,t,n,r,i,o){var s;if(e.usage=n,Array.isArray(t)){if(e.dtype=r||zt,t.length>0){var l;if(Array.isArray(t[0])){s=It(t);for(var u=1,c=1;c<s.length;++c)u*=s[c];e.dimension=u,l=Lt(t,s,e.dtype),a(e,l,n),o?e.persistentData=l:Ct.freeType(l)}else if("number"===typeof t[0]){e.dimension=i;var f=Ct.allocType(e.dtype,t.length);ce(f,t),a(e,f,n),o?e.persistentData=f:Ct.freeType(f)}else Je(t[0])?(e.dimension=t[0].length,e.dtype=r||ue(t[0])||zt,l=Lt(t,[t.length,t[0].length],e.dtype),a(e,l,n),o?e.persistentData=l:Ct.freeType(l)):dt.raise("invalid buffer data")}}else if(Je(t))e.dtype=r||ue(t),e.dimension=i,a(e,t,n),o&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(Z(t)){s=t.shape;var h=t.stride,d=t.offset,p=0,m=0,v=0,g=0;1===s.length?(p=s[0],m=1,v=h[0],g=0):2===s.length?(p=s[0],m=s[1],v=h[0],g=h[1]):dt.raise("invalid shape"),e.dtype=r||ue(t.data)||zt,e.dimension=m;var y=Ct.allocType(e.dtype,p*m);fe(y,t.data,p,m,v,g,d),a(e,y,n),o?e.persistentData=y:Ct.freeType(y)}else dt.raise("invalid buffer data")}function l(n){t.bufferCount--;var r=n.buffer;dt(r,"buffer must not be deleted already"),e.deleteBuffer(r),n.buffer=null,delete h[n.id]}function u(i,o,a,u){function c(t){var r=Nt,i=null,o=0,a=0,l=1;return Array.isArray(t)||Je(t)||Z(t)?i=t:"number"===typeof t?o=0|t:t&&(dt.type(t,"object","buffer arguments must be an object, a number or an array"),"data"in t&&(dt(null===i||Array.isArray(i)||Je(i)||Z(i),"invalid data for buffer"),i=t.data),"usage"in t&&(dt.parameter(t.usage,Pt,"invalid buffer usage"),r=Pt[t.usage]),"type"in t&&(dt.parameter(t.type,Ot,"invalid buffer type"),a=Ot[t.type]),"dimension"in t&&(dt.type(t.dimension,"number","invalid dimension"),l=0|t.dimension),"length"in t&&(dt.nni(o,"buffer length must be a nonnegative integer"),o=0|t.length)),p.bind(),i?s(p,i,r,a,l,u):(e.bufferData(p.type,o,r),p.dtype=a||jt,p.usage=r,p.dimension=l,p.byteLength=o),n.profile&&(p.stats.size=p.byteLength*Ft[p.dtype]),c}function f(t,n){dt(n+t.byteLength<=p.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+p.byteLength),e.bufferSubData(p.type,n,t)}function d(e,t){var n,r=0|(t||0);if(p.bind(),Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var i=Ct.allocType(p.dtype,e.length);ce(i,e),f(i,r),Ct.freeType(i)}else if(Array.isArray(e[0])||Je(e[0])){n=It(e);var o=Lt(e,n,p.dtype);f(o,r),Ct.freeType(o)}else dt.raise("invalid buffer data")}else if(Je(e))f(e,r);else if(Z(e)){n=e.shape;var a=e.stride,s=0,l=0,u=0,h=0;1===n.length?(s=n[0],l=1,u=a[0],h=0):2===n.length?(s=n[0],l=n[1],u=a[0],h=a[1]):dt.raise("invalid shape");var d=Array.isArray(e.data)?p.dtype:ue(e.data),m=Ct.allocType(d,s*l);fe(m,e.data,s,l,u,h,e.offset),f(m,r),Ct.freeType(m)}else dt.raise("invalid data for buffer subdata");return c}t.bufferCount++;var p=new r(o);return h[p.id]=p,a||c(i),c._reglType="buffer",c._buffer=p,c.subdata=d,n.profile&&(c.stats=p.stats),c.destroy=function(){l(p)},c}function c(){xt(h).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})}var f=0,h={};r.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},r.prototype.destroy=function(){l(this)};var d=[];return n.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(h).forEach(function(t){e+=h[t].stats.size}),e}),{create:u,createStream:i,destroyStream:o,clear:function(){xt(h).forEach(l),d.forEach(l)},getBuffer:function(e){return e&&e._buffer instanceof r?e._buffer:null},restore:c,_initBuffer:s}}function de(e,t,n,r){function i(e){this.id=f++,c[this.id]=this,this.buffer=e,this.primType=Ht,this.vertCount=0,this.type=0}function o(e){var t=d.pop();return t||(t=new i(n.create(null,Kt,!0,!1)._buffer)),s(t,e,$t,-1,-1,0,0),t}function a(e){d.push(e)}function s(r,i,o,a,s,l,u){if(r.buffer.bind(),i){var c=u;u||Je(i)&&(!Z(i)||Je(i.data))||(c=t.oes_element_index_uint?Zt:Gt),n._initBuffer(r.buffer,i,o,c,3)}else e.bufferData(Kt,l,o),r.buffer.dtype=f||Wt,r.buffer.usage=o,r.buffer.dimension=3,r.buffer.byteLength=l;var f=u;if(!u){switch(r.buffer.dtype){case Wt:case Yt:f=Wt;break;case Gt:case qt:f=Gt;break;case Zt:case Xt:f=Zt;break;default:dt.raise("unsupported type for element array")}r.buffer.dtype=f}r.type=f,dt(f!==Zt||!!t.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=s;h<0&&(h=r.buffer.byteLength,f===Gt?h>>=1:f===Zt&&(h>>=2)),r.vertCount=h;var d=a;if(a<0){d=Ht;var p=r.buffer.dimension;1===p&&(d=Ut),2===p&&(d=Vt),3===p&&(d=Ht)}r.primType=d}function l(e){r.elementsCount--,dt(null!==e.buffer,"must not double destroy elements"),delete c[e.id],e.buffer.destroy(),e.buffer=null}function u(e,t){function o(e){if(e)if("number"===typeof e)a(e),u.primType=Ht,u.vertCount=0|e,u.type=Wt;else{var t=null,n=Jt,r=-1,i=-1,l=0,c=0;Array.isArray(e)||Je(e)||Z(e)?t=e:(dt.type(e,"object","invalid arguments for elements"),"data"in e&&(t=e.data,dt(Array.isArray(t)||Je(t)||Z(t),"invalid data for element buffer")),"usage"in e&&(dt.parameter(e.usage,Pt,"invalid element buffer usage"),n=Pt[e.usage]),"primitive"in e&&(dt.parameter(e.primitive,Bt,"invalid element buffer primitive"),r=Bt[e.primitive]),"count"in e&&(dt("number"===typeof e.count&&e.count>=0,"invalid vertex count for elements"),i=0|e.count),"type"in e&&(dt.parameter(e.type,h,"invalid buffer type"),c=h[e.type]),"length"in e?l=0|e.length:(l=i,c===Gt||c===qt?l*=2:c!==Zt&&c!==Xt||(l*=4))),s(u,t,n,r,i,l,c)}else a(),u.primType=Ht,u.vertCount=0,u.type=Wt;return o}var a=n.create(null,Kt,!0),u=new i(a._buffer);return r.elementsCount++,o(e),o._reglType="elements",o._elements=u,o.subdata=function(e,t){return a.subdata(e,t),o},o.destroy=function(){l(u)},o}var c={},f=0,h={uint8:Wt,uint16:Gt};t.oes_element_index_uint&&(h.uint32=Zt),i.prototype.bind=function(){this.buffer.bind()};var d=[];return{create:u,createStream:o,destroyStream:a,getElements:function(e){return"function"===typeof e&&e._elements instanceof i?e._elements:null},clear:function(){xt(c).forEach(l)}}}function pe(e){for(var t=Ct.allocType(tn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{Qt[0]=e[n];var r=en[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function me(e){return Array.isArray(e)||Je(e)}function ve(e){return"[object "+e+"]"}function ge(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function ye(e){return!!Array.isArray(e)&&!(0===e.length||!me(e[0]))}function be(e){return Object.prototype.toString.call(e)}function xe(e){return be(e)===dr}function _e(e){return be(e)===pr}function we(e){return be(e)===mr}function Me(e){return be(e)===vr}function ke(e){if(!e)return!1;var t=be(e);return gr.indexOf(t)>=0||(ge(e)||ye(e)||Z(e))}function Ee(e){return 0|$e[Object.prototype.toString.call(e)]}function Se(e,t){var n=t.length;switch(e.type){case Rn:case jn:case zn:case Fn:var r=Ct.allocType(e.type,n);r.set(t),e.data=r;break;case Mn:e.data=pe(t);break;default:dt.raise("unsupported texture type, must specify a typed array")}}function Te(e,t){return Ct.allocType(e.type===Mn?Fn:e.type,t)}function Ae(e,t){e.type===Mn?(e.data=pe(t),Ct.freeType(t)):e.data=t}function Ce(e,t,n,r,i,o){for(var a=e.width,s=e.height,l=e.channels,u=a*s*l,c=Te(e,u),f=0,h=0;h<s;++h)for(var d=0;d<a;++d)for(var p=0;p<l;++p)c[f++]=t[n*d+r*h+i*p+o];Ae(e,c)}function De(e,t,n,r,i,o){var a;if(a="undefined"!==typeof br[e]?br[e]:hr[e]*yr[t],o&&(a*=6),i){for(var s=0,l=n;l>=1;)s+=a*l*l,l/=2;return s}return a*n*r}function Oe(e,t,n,r,i,o,a){function s(){this.internalformat=sn,this.format=sn,this.type=Rn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=0,this.width=0,this.height=0,this.channels=0}function l(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function u(e,r){if("object"===typeof r&&r){if("premultiplyAlpha"in r&&(dt.type(r.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=r.premultiplyAlpha),"flipY"in r&&(dt.type(r.flipY,"boolean","invalid texture flip"),e.flipY=r.flipY),"alignment"in r&&(dt.oneOf(r.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=r.alignment),"colorSpace"in r&&(dt.parameter(r.colorSpace,z,"invalid colorSpace"),e.colorSpace=z[r.colorSpace]),"type"in r){var i=r.type;dt(t.oes_texture_float||!("float"===i||"float32"===i),"you must enable the OES_texture_float extension in order to use floating point textures."),dt(t.oes_texture_half_float||!("half float"===i||"float16"===i),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),dt(t.webgl_depth_texture||!("uint16"===i||"uint32"===i||"depth stencil"===i),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),dt.parameter(i,F,"invalid texture type"),e.type=F[i]}var o=e.width,a=e.height,s=e.channels,l=!1;"shape"in r?(dt(Array.isArray(r.shape)&&r.shape.length>=2,"shape must be an array"),o=r.shape[0],a=r.shape[1],3===r.shape.length&&(s=r.shape[2],dt(s>0&&s<=4,"invalid number of channels"),l=!0),dt(o>=0&&o<=n.maxTextureSize,"invalid width"),dt(a>=0&&a<=n.maxTextureSize,"invalid height")):("radius"in r&&(o=a=r.radius,dt(o>=0&&o<=n.maxTextureSize,"invalid radius")),"width"in r&&(o=r.width,dt(o>=0&&o<=n.maxTextureSize,"invalid width")),"height"in r&&(a=r.height,dt(a>=0&&a<=n.maxTextureSize,"invalid height")),"channels"in r&&(s=r.channels,dt(s>0&&s<=4,"invalid number of channels"),l=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var u=!1;if("format"in r){var c=r.format;dt(t.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),dt.parameter(c,B,"invalid texture format");var f=e.internalformat=B[c];e.format=K[f],c in F&&("type"in r||(e.type=F[c])),c in U&&(e.compressed=!0),u=!0}!l&&u?e.channels=hr[e.format]:l&&!u?e.channels!==fr[e.format]&&(e.format=e.internalformat=fr[e.channels]):u&&l&&dt(e.channels===hr[e.format],"number of channels inconsistent with specified format")}}function c(t){e.pixelStorei(or,t.flipY),e.pixelStorei(ar,t.premultiplyAlpha),e.pixelStorei(sr,t.colorSpace),e.pixelStorei(ir,t.unpackAlignment)}function f(){s.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function h(e,t){var r=null;if(ke(t)?r=t:t&&(dt.type(t,"object","invalid pixel data type"),u(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),ke(t.data)&&(r=t.data)),dt(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),t.copy){dt(!r,"can not specify copy and data field for the same texture");var o=i.viewportWidth,a=i.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0,dt(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<a&&e.width>0&&e.width<=o&&e.height>0&&e.height<=a,"copy texture read out of bounds")}else if(r){if(Je(r))e.channels=e.channels||4,e.data=r,"type"in t||e.type!==Rn||(e.type=Ee(r));else if(ge(r))e.channels=e.channels||4,Se(e,r),e.alignment=1,e.needsFree=!0;else if(Z(r)){var s=r.data;Array.isArray(s)||e.type!==Rn||(e.type=Ee(s));var l,c,f,h,d,p,m=r.shape,v=r.stride;3===m.length?(f=m[2],p=v[2]):(dt(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),l=m[0],c=m[1],h=v[0],d=v[1],e.alignment=1,e.width=l,e.height=c,e.channels=f,e.format=e.internalformat=fr[f],e.needsFree=!0,Ce(e,s,h,d,p,r.offset)}else if(xe(r)||_e(r))xe(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(we(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(Me(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(ye(r)){var g=e.width||r[0].length,y=e.height||r.length,b=e.channels;b=me(r[0][0])?b||r[0][0].length:b||1;for(var x=Dt.shape(r),_=1,w=0;w<x.length;++w)_*=x[w];var M=Te(e,_);Dt.flatten(r,x,"",M),Ae(e,M),e.alignment=1,e.width=g,e.height=y,e.channels=b,e.format=e.internalformat=fr[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===Fn?dt(n.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===Mn&&dt(n.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function d(t,n,i){var o=t.element,a=t.data,s=t.internalformat,l=t.format,u=t.type,f=t.width,h=t.height;c(t),o?e.texImage2D(n,i,l,l,u,o):t.compressed?e.compressedTexImage2D(n,i,s,f,h,0,a):t.needsCopy?(r(),e.copyTexImage2D(n,i,l,t.xOffset,t.yOffset,f,h,0)):e.texImage2D(n,i,l,f,h,0,l,u,a)}function p(t,n,i,o,a){var s=t.element,l=t.data,u=t.internalformat,f=t.format,h=t.type,d=t.width,p=t.height;c(t),s?e.texSubImage2D(n,a,i,o,f,h,s):t.compressed?e.compressedTexSubImage2D(n,a,i,o,u,d,p,l):t.needsCopy?(r(),e.copyTexSubImage2D(n,a,i,o,t.xOffset,t.yOffset,d,p)):e.texSubImage2D(n,a,i,o,d,p,f,h,l)}function m(){return $.pop()||new f}function v(e){e.needsFree&&Ct.freeType(e.data),f.call(e),$.push(e)}function g(){s.call(this),this.genMipmaps=!1,this.mipmapHint=er,this.mipmask=0,this.images=Array(16)}function y(e,t,n){var r=e.images[0]=m();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function b(e,t){var n=null;if(ke(t))n=e.images[0]=m(),l(n,e),h(n,t),e.mipmask=1;else if(u(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=m(),l(n,e),n.width>>=i,n.height>>=i,h(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=m(),l(n,e),h(n,t),e.mipmask=1;l(e,e.images[0]),(e.compressed&&e.internalformat===kn||e.internalformat===En||e.internalformat===Sn||e.internalformat===Tn)&&dt(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function x(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;d(n[r],t,r)}}function _(){var e=J.pop()||new g;s.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function w(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&v(t[n]),t[n]=null;J.push(e)}function M(){this.minFilter=Gn,this.magFilter=Gn,this.wrapS=Hn,this.wrapT=Hn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=er}function k(e,t){if("min"in t){var r=t.min;dt.parameter(r,j),e.minFilter=j[r],cr.indexOf(e.minFilter)>=0&&(e.genMipmaps=!0)}if("mag"in t){var i=t.mag;dt.parameter(i,R),e.magFilter=R[i]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(dt.parameter(s,N),o=a=N[s]):Array.isArray(s)&&(dt.parameter(s[0],N),dt.parameter(s[1],N),o=N[s[0]],a=N[s[1]])}else{if("wrapS"in t){var l=t.wrapS;dt.parameter(l,N),o=N[l]}if("wrapT"in t){var u=t.wrapT;dt.parameter(u,N),a=N[u]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var c=t.anisotropic;dt("number"===typeof c&&c>=1&&c<=n.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var f=!1;switch(typeof t.mipmap){case"string":dt.parameter(t.mipmap,I,"invalid mipmap hint"),e.mipmapHint=I[t.mipmap],e.genMipmaps=!0,f=!0;break;case"boolean":f=e.genMipmaps=t.mipmap;break;case"object":dt(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,f=!0;break;default:dt.raise("invalid mipmap type")}!f||"min"in t||(e.minFilter=Zn)}}function E(n,r){e.texParameteri(r,qn,n.minFilter),e.texParameteri(r,Wn,n.magFilter),e.texParameteri(r,Bn,n.wrapS),e.texParameteri(r,Un,n.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(r,rr,n.anisotropic),n.genMipmaps&&(e.hint(Qn,n.mipmapHint),e.generateMipmap(r))}function S(t){s.call(this),this.mipmask=0,this.internalformat=sn,this.id=Q++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new M,a.profile&&(this.stats={size:0})}function T(t){e.activeTexture(ur),e.bindTexture(t.target,t.texture)}function A(){var t=ne[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(rn,null)}function C(t){var n=t.texture;dt(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(ur+r),e.bindTexture(i,null),ne[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete ee[t.id],o.textureCount--}function D(t,r){function i(e,t){var r=c.texInfo;M.call(r);var o=_();return"number"===typeof e?"number"===typeof t?y(o,0|e,0|t):y(o,0|e,0|e):e?(dt.type(e,"object","invalid arguments to regl.texture"),k(r,e),b(o,e)):y(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),c.mipmask=o.mipmask,l(c,o),dt.texture2D(r,o,n),c.internalformat=o.internalformat,i.width=o.width,i.height=o.height,T(c),x(o,rn),E(r,rn),A(),w(o),a.profile&&(c.stats.size=De(c.internalformat,c.type,o.width,o.height,r.genMipmaps,!1)),i.format=Y[c.internalformat],i.type=W[c.type],i.mag=q[r.magFilter],i.min=G[r.minFilter],i.wrapS=X[r.wrapS],i.wrapT=X[r.wrapT],i}function s(e,t,n,r){dt(!!e,"must specify image data");var o=0|t,a=0|n,s=0|r,u=m();return l(u,c),u.width=0,u.height=0,h(u,e),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,dt(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),dt(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),dt(c.mipmask&1<<s,"missing mipmap data"),dt(u.data||u.element||u.needsCopy,"missing image data"),T(c),p(u,rn,o,a,s),A(),v(u),i}function u(t,n){var r=0|t,o=0|n||r;if(r===c.width&&o===c.height)return i;i.width=c.width=r,i.height=c.height=o,T(c);for(var s=0;c.mipmask>>s;++s)e.texImage2D(rn,s,c.format,r>>s,o>>s,0,c.format,c.type,null);return A(),a.profile&&(c.stats.size=De(c.internalformat,c.type,r,o,!1,!1)),i}var c=new S(rn);return ee[c.id]=c,o.textureCount++,i(t,r),i.subimage=s,i.resize=u,i._reglType="texture2d",i._texture=c,a.profile&&(i.stats=c.stats),i.destroy=function(){c.decRef()},i}function O(t,r,i,s,c,f){function d(e,t,r,i,o,s){var c,f=D.texInfo;for(M.call(f),c=0;c<6;++c)O[c]=_();if("number"!==typeof e&&e)if("object"===typeof e)if(t)b(O[0],e),b(O[1],t),b(O[2],r),b(O[3],i),b(O[4],o),b(O[5],s);else if(k(f,e),u(D,e),"faces"in e){var h=e.faces;for(dt(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),c=0;c<6;++c)dt("object"===typeof h[c]&&!!h[c],"invalid input for cube map face"),l(O[c],D),b(O[c],h[c])}else for(c=0;c<6;++c)b(O[c],e);else dt.raise("invalid arguments to cube map");else{var p=0|e||1;for(c=0;c<6;++c)y(O[c],p,p)}for(l(D,O[0]),f.genMipmaps?D.mipmask=(O[0].width<<1)-1:D.mipmask=O[0].mipmask,dt.textureCube(D,f,O,n),D.internalformat=O[0].internalformat,d.width=O[0].width,d.height=O[0].height,T(D),c=0;c<6;++c)x(O[c],an+c);for(E(f,on),A(),a.profile&&(D.stats.size=De(D.internalformat,D.type,d.width,d.height,f.genMipmaps,!0)),d.format=Y[D.internalformat],d.type=W[D.type],d.mag=q[f.magFilter],d.min=G[f.minFilter],d.wrapS=X[f.wrapS],d.wrapT=X[f.wrapT],c=0;c<6;++c)w(O[c]);return d}function g(e,t,n,r,i){dt(!!t,"must specify image data"),dt("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=m();return l(u,D),u.width=0,u.height=0,h(u,t),u.width=u.width||(D.width>>s)-o,u.height=u.height||(D.height>>s)-a,dt(D.type===u.type&&D.format===u.format&&D.internalformat===u.internalformat,"incompatible format for texture.subimage"),dt(o>=0&&a>=0&&o+u.width<=D.width&&a+u.height<=D.height,"texture.subimage write out of bounds"),dt(D.mipmask&1<<s,"missing mipmap data"),dt(u.data||u.element||u.needsCopy,"missing image data"),T(D),p(u,an+e,o,a,s),A(),v(u),d}function C(t){var n=0|t;if(n!==D.width){d.width=D.width=n,d.height=D.height=n,T(D);for(var r=0;r<6;++r)for(var i=0;D.mipmask>>i;++i)e.texImage2D(an+r,i,D.format,n>>i,n>>i,0,D.format,D.type,null);return A(),a.profile&&(D.stats.size=De(D.internalformat,D.type,d.width,d.height,!1,!0)),d}}var D=new S(on);ee[D.id]=D,o.cubeCount++;var O=new Array(6);return d(t,r,i,s,c,f),d.subimage=g,d.resize=C,d._reglType="textureCube",d._texture=D,a.profile&&(d.stats=D.stats),d.destroy=function(){D.decRef()},d}function P(){for(var t=0;t<te;++t)e.activeTexture(ur+t),e.bindTexture(rn,null),ne[t]=null;xt(ee).forEach(C),o.cubeCount=0,o.textureCount=0}function L(){xt(ee).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!==(t.mipmask&1<<n))if(t.target===rn)e.texImage2D(rn,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(an+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);E(t.texInfo,t.target)})}var I={"don't care":er,"dont care":er,nice:nr,fast:tr},N={repeat:Vn,clamp:Hn,mirror:Yn},R={nearest:Gn,linear:Xn},j=Qe({mipmap:Jn,"nearest mipmap nearest":Zn,"linear mipmap nearest":Kn,"nearest mipmap linear":$n,"linear mipmap linear":Jn},R),z={none:0,browser:lr},F={uint8:Rn,rgba4:mn,rgb565:gn,"rgb5 a1":vn},B={alpha:ln,luminance:cn,"luminance alpha":fn,rgb:un,rgba:sn,rgba4:hn,"rgb5 a1":dn,rgb565:pn},U={};t.ext_srgb&&(B.srgb=_n,B.srgba=wn),t.oes_texture_float&&(F.float32=F.float=Fn),t.oes_texture_half_float&&(F.float16=F["half float"]=Mn),t.webgl_depth_texture&&(Qe(B,{depth:bn,"depth stencil":xn}),Qe(F,{uint16:jn,uint32:zn,"depth stencil":yn})),t.webgl_compressed_texture_s3tc&&Qe(U,{"rgb s3tc dxt1":kn,"rgba s3tc dxt1":En,"rgba s3tc dxt3":Sn,"rgba s3tc dxt5":Tn}),t.webgl_compressed_texture_atc&&Qe(U,{"rgb atc":An,"rgba atc explicit alpha":Cn,"rgba atc interpolated alpha":Dn}),t.webgl_compressed_texture_pvrtc&&Qe(U,{"rgb pvrtc 4bppv1":On,"rgb pvrtc 2bppv1":Pn,"rgba pvrtc 4bppv1":Ln,"rgba pvrtc 2bppv1":In}),t.webgl_compressed_texture_etc1&&(U["rgb etc1"]=Nn);var V=Array.prototype.slice.call(e.getParameter(nn));Object.keys(U).forEach(function(e){var t=U[e];V.indexOf(t)>=0&&(B[e]=t)});var H=Object.keys(B);n.textureFormats=H;var Y=[];Object.keys(B).forEach(function(e){var t=B[e];Y[t]=e});var W=[];Object.keys(F).forEach(function(e){var t=F[e];W[t]=e});var q=[];Object.keys(R).forEach(function(e){var t=R[e];q[t]=e});var G=[];Object.keys(j).forEach(function(e){var t=j[e];G[t]=e});var X=[];Object.keys(N).forEach(function(e){var t=N[e];X[t]=e});var K=H.reduce(function(e,t){var n=B[t];return n===cn||n===ln||n===cn||n===fn||n===bn||n===xn?e[n]=n:n===dn||t.indexOf("rgba")>=0?e[n]=sn:e[n]=un,e},{}),$=[],J=[],Q=0,ee={},te=n.maxTextureUnits,ne=Array(te).map(function(){return null});return Qe(S.prototype,{bind:function(){var t=this;t.bindCount+=1;var n=t.unit;if(n<0){for(var r=0;r<te;++r){var i=ne[r];if(i){if(i.bindCount>0)continue;i.unit=-1}ne[r]=t,n=r;break}n>=te&&dt.raise("insufficient number of texture units"),a.profile&&o.maxTextureUnits<n+1&&(o.maxTextureUnits=n+1),t.unit=n,e.activeTexture(ur+n),e.bindTexture(t.target,t.texture)}return n},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&C(this)}}),a.profile&&(o.getTotalTextureSize=function(){var e=0;return Object.keys(ee).forEach(function(t){e+=ee[t].stats.size}),e}),{create2D:D,createCube:O,clear:P,getTexture:function(e){return null},restore:L}}function Pe(e,t,n){return wr[e]*t*n}function Le(e,t,n,r,i,o){function a(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function s(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function l(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);dt(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;dt(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function u(t,n){n&&(n.texture?e.framebufferTexture2D(kr,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(kr,t,Er,n.renderbuffer._renderbuffer.renderbuffer))}function c(e){var t=Sr,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),dt.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,dt(t===Sr)):"textureCube"===o?(n=i,dt(t>=Tr&&t<Tr+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=Er):dt.raise("invalid regl object for attachment"),new a(t,n,r)}function f(e,t,n,o,s){if(n){var l=r.create2D({width:e,height:t,format:o,type:s});return l._texture.refCount=0,new a(Sr,l,null)}var u=i.create({width:e,height:t,format:o});return u._renderbuffer.refCount=0,new a(Er,null,u)}function h(e){return e&&(e.texture||e.renderbuffer)}function d(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n))}function p(){this.id=E++,S[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function m(e){e.colorAttachments.forEach(s),s(e.depthAttachment),s(e.stencilAttachment),s(e.depthStencilAttachment)}function v(t){var n=t.framebuffer;dt(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete S[t.id]}function g(t){var r;e.bindFramebuffer(kr,t.framebuffer);var i=t.colorAttachments;for(r=0;r<i.length;++r)u(Ar+r,i[r]);for(r=i.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(kr,Ar+r,Sr,null,0);e.framebufferTexture2D(kr,Or,Sr,null,0),e.framebufferTexture2D(kr,Cr,Sr,null,0),e.framebufferTexture2D(kr,Dr,Sr,null,0),u(Cr,t.depthAttachment),u(Dr,t.stencilAttachment),u(Or,t.depthStencilAttachment);var o=e.checkFramebufferStatus(kr);o!==Pr&&dt.raise("framebuffer configuration not supported, status = "+Ur[o]),e.bindFramebuffer(kr,_.next),_.cur=_.next,e.getError()}function y(e,r){function i(e,r){var o;dt(_.next!==s,"can not update framebuffer which is currently in use");var a=t.webgl_draw_buffers,u=0,d=0,p=!0,v=!0,y=null,b=!0,x="rgba",E="uint8",S=1,T=null,A=null,C=null,D=!1;if("number"===typeof e)u=0|e,d=0|r||u;else if(e){dt.type(e,"object","invalid arguments for framebuffer");var O=e;if("shape"in O){var P=O.shape;dt(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),u=P[0],d=P[1]}else"radius"in O&&(u=d=O.radius),"width"in O&&(u=O.width),"height"in O&&(d=O.height);("color"in O||"colors"in O)&&(y=O.color||O.colors,Array.isArray(y)&&dt(1===y.length||a,"multiple render targets not supported")),y||("colorCount"in O&&(S=0|O.colorCount,dt(S>0,"invalid color buffer count")),"colorTexture"in O&&(b=!!O.colorTexture,x="rgba4"),"colorType"in O&&(E=O.colorType,b?(dt(t.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),dt(t.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(dt(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==E&&"float32"!==E||(dt(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),dt.oneOf(E,k,"invalid color type")),"colorFormat"in O&&(x=O.colorFormat,w.indexOf(x)>=0?b=!0:M.indexOf(x)>=0?b=!1:b?dt.oneOf(O.colorFormat,w,"invalid color format for texture"):dt.oneOf(O.colorFormat,M,"invalid color format for renderbuffer"))),("depthTexture"in O||"depthStencilTexture"in O)&&(D=!(!O.depthTexture&&!O.depthStencilTexture),dt(!D||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in O&&("boolean"===typeof O.depth?p=O.depth:(T=O.depth,v=!1)),"stencil"in O&&("boolean"===typeof O.stencil?v=O.stencil:(A=O.stencil,p=!1)),"depthStencil"in O&&("boolean"===typeof O.depthStencil?p=v=O.depthStencil:(C=O.depthStencil,p=!1,v=!1))}else u=d=1;var L=null,I=null,N=null,R=null;if(Array.isArray(y))L=y.map(c);else if(y)L=[c(y)];else for(L=new Array(S),o=0;o<S;++o)L[o]=f(u,d,b,x,E);dt(t.webgl_draw_buffers||L.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),dt(L.length<=n.maxColorAttachments,"too many color attachments, not supported"),u=u||L[0].width,d=d||L[0].height,T?I=c(T):p&&!v&&(I=f(u,d,D,"depth","uint32")),A?N=c(A):v&&!p&&(N=f(u,d,!1,"stencil","uint8")),C?R=c(C):!T&&!A&&v&&p&&(R=f(u,d,D,"depth stencil","depth stencil")),dt(!!T+!!A+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var j=null;for(o=0;o<L.length;++o)if(l(L[o],u,d),dt(!L[o]||L[o].texture&&Ir.indexOf(L[o].texture._texture.format)>=0||L[o].renderbuffer&&Br.indexOf(L[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),L[o]&&L[o].texture){var z=Nr[L[o].texture._texture.format]*Rr[L[o].texture._texture.type];null===j?j=z:dt(j===z,"all color attachments much have the same number of bits per pixel.")}return l(I,u,d),dt(!I||I.texture&&I.texture._texture.format===Lr||I.renderbuffer&&I.renderbuffer._renderbuffer.format===jr,"invalid depth attachment for framebuffer object"),l(N,u,d),dt(!N||N.renderbuffer&&N.renderbuffer._renderbuffer.format===zr,"invalid stencil attachment for framebuffer object"),l(R,u,d),dt(!R||R.texture&&R.texture._texture.format===Fr||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Fr,"invalid depth-stencil attachment for framebuffer object"),m(s),s.width=u,s.height=d,s.colorAttachments=L,s.depthAttachment=I,s.stencilAttachment=N,s.depthStencilAttachment=R,i.color=L.map(h),i.depth=h(I),i.stencil=h(N),i.depthStencil=h(R),i.width=s.width,i.height=s.height,g(s),i}function a(e,t){dt(_.next!==s,"can not resize a framebuffer which is currently in use");var n=0|e,r=0|t||n;if(n===s.width&&r===s.height)return i;for(var o=s.colorAttachments,a=0;a<o.length;++a)d(o[a],n,r);return d(s.depthAttachment,n,r),d(s.stencilAttachment,n,r),d(s.depthStencilAttachment,n,r),s.width=i.width=n,s.height=i.height=r,g(s),i}var s=new p;return o.framebufferCount++,i(e,r),Qe(i,{resize:a,_reglType:"framebuffer",_framebuffer:s,destroy:function(){v(s),m(s)},use:function(e){_.setFBO({framebuffer:i},e)}})}function b(e){function i(e){var n;dt(a.indexOf(_.next)<0,"can not update framebuffer which is currently in use");var o=t.webgl_draw_buffers,s={color:null},l=0,u=null,c="rgba",f="uint8",h=1;if("number"===typeof e)l=0|e;else if(e){dt.type(e,"object","invalid arguments for framebuffer");var d=e;if("shape"in d){var p=d.shape;dt(Array.isArray(p)&&p.length>=2,"invalid shape for framebuffer"),dt(p[0]===p[1],"cube framebuffer must be square"),l=p[0]}else"radius"in d&&(l=0|d.radius),"width"in d?(l=0|d.width,"height"in d&&dt(d.height===l,"must be square")):"height"in d&&(l=0|d.height);("color"in d||"colors"in d)&&(u=d.color||d.colors,Array.isArray(u)&&dt(1===u.length||o,"multiple render targets not supported")),u||("colorCount"in d&&(h=0|d.colorCount,dt(h>0,"invalid color buffer count")),"colorType"in d&&(dt.oneOf(d.colorType,k,"invalid color type"),f=d.colorType),"colorFormat"in d&&(c=d.colorFormat,dt.oneOf(d.colorFormat,w,"invalid color format for texture"))),"depth"in d&&(s.depth=d.depth),"stencil"in d&&(s.stencil=d.stencil),"depthStencil"in d&&(s.depthStencil=d.depthStencil)}else l=1;var m;if(u)if(Array.isArray(u))for(m=[],n=0;n<u.length;++n)m[n]=u[n];else m=[u];else{m=Array(h);var v={radius:l,format:c,type:f};for(n=0;n<h;++n)m[n]=r.createCube(v)}for(s.color=Array(m.length),n=0;n<m.length;++n){var g=m[n];dt("function"===typeof g&&"textureCube"===g._reglType,"invalid cube map"),l=l||g.width,dt(g.width===l&&g.height===l,"invalid cube map shape"),s.color[n]={target:Tr,data:m[n]}}for(n=0;n<6;++n){for(var b=0;b<m.length;++b)s.color[b].target=Tr+n;n>0&&(s.depth=a[0].depth,s.stencil=a[0].stencil,s.depthStencil=a[0].depthStencil),a[n]?a[n](s):a[n]=y(s)}return Qe(i,{width:l,height:l,color:m})}function o(e){var t,r=0|e;if(dt(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===i.width)return i;var o=i.color;for(t=0;t<o.length;++t)o[t].resize(r);for(t=0;t<6;++t)a[t].resize(r);return i.width=i.height=r,i}var a=Array(6);return i(e),Qe(i,{faces:a,resize:o,_reglType:"framebufferCube",destroy:function(){a.forEach(function(e){e.destroy()})}})}function x(){xt(S).forEach(function(t){t.framebuffer=e.createFramebuffer(),g(t)})}var _={cur:null,next:null,dirty:!1,setFBO:null},w=["rgba"],M=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&M.push("srgba"),t.ext_color_buffer_half_float&&M.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&M.push("rgba32f");var k=["uint8"];t.oes_texture_half_float&&k.push("half float","float16"),t.oes_texture_float&&k.push("float","float32");var E=0,S={};return Qe(_,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof p)return t}return null},create:y,createCube:b,clear:function(){xt(S).forEach(v)},restore:x})}function Ie(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Vr,this.offset=0,this.stride=0,this.divisor=0}function Ne(e,t,n,r,i){for(var o=n.maxAttributes,a=new Array(o),s=0;s<o;++s)a[s]=new Ie;return{Record:Ie,scope:{},state:a}}function Re(e,t,n,r){function i(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function o(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function a(n,r,i){var o=n===Hr?c:f,a=o[r];if(!a){var s=t.str(r);a=e.createShader(n),e.shaderSource(a,s),e.compileShader(a),dt.shaderError(e,a,s,n,i),o[r]=a}return a}function s(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(n,s){var l,u,c=a(Hr,n.fragId),f=a(Yr,n.vertId),h=n.program=e.createProgram();e.attachShader(h,c),e.attachShader(h,f),e.linkProgram(h),dt.linkError(e,h,t.str(n.fragId),t.str(n.vertId),s);var d=e.getProgramParameter(h,Wr);r.profile&&(n.stats.uniformsCount=d);var p=n.uniforms;for(l=0;l<d;++l)if(u=e.getActiveUniform(h,l))if(u.size>1)for(var m=0;m<u.size;++m){var v=u.name.replace("[0]","["+m+"]");o(p,new i(v,t.id(v),e.getUniformLocation(h,v),u))}else o(p,new i(u.name,t.id(u.name),e.getUniformLocation(h,u.name),u));var g=e.getProgramParameter(h,qr);r.profile&&(n.stats.attributesCount=g);var y=n.attributes;for(l=0;l<g;++l)(u=e.getActiveAttrib(h,l))&&o(y,new i(u.name,t.id(u.name),e.getAttribLocation(h,u.name),u))}function u(){c={},f={};for(var e=0;e<d.length;++e)l(d[e])}var c={},f={},h={},d=[],p=0;return r.profile&&(n.getMaxUniformsCount=function(){var e=0;return d.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return d.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);xt(c).forEach(t),c={},xt(f).forEach(t),f={},d.forEach(function(t){e.deleteProgram(t.program)}),d.length=0,h={},n.shaderCount=0},program:function(e,t,r){dt.command(e>=0,"missing vertex shader",r),dt.command(t>=0,"missing fragment shader",r);var i=h[t];i||(i=h[t]={});var o=i[e];return o||(o=new s(t,e),n.shaderCount++,l(o,r),i[e]=o,d.push(o)),o},restore:u,shader:a,frag:-1,vert:-1}}function je(e,t,n,r,i,o){function a(a){var s;null===t.next?(dt(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),s=Xr):(dt(null!==t.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),s=t.next.colorAttachments[0].texture._texture.type,o.oes_texture_float?dt(s===Xr||s===Kr,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"):dt(s===Xr,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,u=0,c=r.framebufferWidth,f=r.framebufferHeight,h=null;Je(a)?h=a:a&&(dt.type(a,"object","invalid arguments to regl.read()"),l=0|a.x,u=0|a.y,dt(l>=0&&l<r.framebufferWidth,"invalid x offset for regl.read"),dt(u>=0&&u<r.framebufferHeight,"invalid y offset for regl.read"),c=0|(a.width||r.framebufferWidth-l),f=0|(a.height||r.framebufferHeight-u),h=a.data||null),h&&(s===Xr?dt(h instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):s===Kr&&dt(h instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),dt(c>0&&c+l<=r.framebufferWidth,"invalid width for read pixels"),dt(f>0&&f+u<=r.framebufferHeight,"invalid height for read pixels"),n();var d=c*f*4;return h||(s===Xr?h=new Uint8Array(d):s===Kr&&(h=h||new Float32Array(d))),dt.isTypedArray(h,"data buffer for regl.read() must be a typedarray"),dt(h.byteLength>=d,"data buffer for regl.read() too small"),e.pixelStorei(Zr,4),e.readPixels(l,u,c,f,Gr,s,h),h}function s(e){var n;return t.setFBO({framebuffer:e.framebuffer},function(){n=a(e)}),n}function l(e){return e&&"framebuffer"in e?s(e):a(e)}return l}function ze(e){return Array.prototype.slice.call(e)}function Fe(e){return ze(e).join("")}function Be(){function e(e){for(var t=0;t<l.length;++t)if(l[t]===e)return s[t];var n="g"+a++;return s.push(n),l.push(e),n}function t(){function e(){n.push.apply(n,ze(arguments))}function t(){var e="v"+a++;return r.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,ze(arguments)),n.push(";")),e}var n=[],r=[];return Qe(e,{def:t,toString:function(){return Fe([r.length>0?"var "+r+";":"",Fe(n)])}})}function n(){function e(e,t){r(e,t,"=",n.def(e,t),";")}var n=t(),r=t(),i=n.toString,o=r.toString;return Qe(function(){n.apply(n,ze(arguments))},{def:n.def,entry:n,exit:r,save:e,set:function(t,r,i){e(t,r),n(t,r,"=",i,";")},toString:function(){return i()+o()}})}function r(){var e=Fe(arguments),t=n(),r=n(),i=t.toString,o=r.toString;return Qe(t,{then:function(){return t.apply(t,ze(arguments)),this},else:function(){return r.apply(r,ze(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Fe(["if(",e,"){",i(),"}",t])}})}function i(e,t){function r(){var e="a"+i.length;return i.push(e),e}var i=[];t=t||0;for(var o=0;o<t;++o)r();var a=n(),s=a.toString;return c[e]=Qe(a,{arg:r,toString:function(){return Fe(["function(",i.join(),"){",s(),"}"])}})}function o(){var e=['"use strict";',u,"return {"];Object.keys(c).forEach(function(t){e.push('"',t,'":',c[t].toString(),",")}),e.push("}");var t=Fe(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,s.concat(t)).apply(null,l)}var a=0,s=[],l=[],u=t(),c={};return{global:u,link:e,block:t,proc:i,scope:n,cond:r,compile:o}}function Ue(e){return Array.isArray(e)||Je(e)||Z(e)}function Ve(e){return e.sort(function(e,t){return e===Pi?-1:t===Pi?1:e<t?-1:1})}function He(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function Ye(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function We(e){return new He(!1,!1,!1,e)}function qe(e,t){var n=e.type;if(n===ti){var r=e.data.length;return new He(!0,r>=1,r>=2,t)}if(n===oi){var i=e.data;return new He(i.thisDep,i.contextDep,i.propDep,t)}return new He(n===ii,n===ri,n===ni,t)}function Ge(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p){function m(e){return e.replace(".","_")}function v(e,t,n){var r=m(e);te.push(e),ee[r]=Q[r]=!!n,ne[r]=t}function g(e,t,n){var r=m(e);te.push(e),Array.isArray(n)?(Q[r]=n.slice(),ee[r]=n.slice()):Q[r]=ee[r]=n,re[r]=t}function y(){var e=Be(),n=e.link,r=e.global;e.id=ae++,e.batchId="0";var i=n(ie),o=e.shared={props:"a0"};Object.keys(ie).forEach(function(e){o[e]=r.def(i,".",e)}),dt.optional(function(){e.CHECK=n(dt),e.commandStr=dt.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},oe.invalidBlendCombinations=Vo});var a=e.next={},s=e.current={};Object.keys(re).forEach(function(e){Array.isArray(Q[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))});var l=e.constants={};Object.keys(oe).forEach(function(e){l[e]=r.def(JSON.stringify(oe[e]))}),e.invoke=function(t,r){switch(r.type){case ti:var i=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ni:return t.def(o.props,r.data);case ri:return t.def(o.context,r.data);case ii:return t.def("this",r.data);case oi:return r.data.append(e,t),r.data.ref}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var r=t.id(e);if(r in c)return c[r];var i=u.scope[r];return i||(i=u.scope[r]=new X),c[r]=n(i)},e}function b(e){var t,n=e.static,r=e.dynamic;if(Li in n){var i=!!n[Li];t=We(function(e,t){return i}),t.enable=i}else if(Li in r){var o=r[Li];t=qe(o,function(e,t){return e.invoke(t,o)})}return t}function x(e,t){var n=e.static,r=e.dynamic;if(Ii in n){var i=n[Ii];return i?(i=s.getFramebuffer(i),dt.command(i,"invalid framebuffer object"),We(function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Vi,n+".width"),t.set(o,"."+Hi,n+".height"),n})):We(function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Vi,r+"."+qi),t.set(r,"."+Hi,r+"."+Gi),"null"})}if(Ii in r){var o=r[Ii];return qe(o,function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");dt.optional(function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")}),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Vi,a+"?"+a+".width:"+s+"."+qi),t.set(s,"."+Hi,a+"?"+a+".height:"+s+"."+Gi),a})}return null}function _(e,t,n){function r(e){if(e in i){var r=i[e];dt.commandType(r,"object","invalid "+e,n.commandStr);var a,s,l=!0,u=0|r.x,c=0|r.y;return"width"in r?(a=0|r.width,dt.command(a>=0,"invalid "+e,n.commandStr)):l=!1,"height"in r?(s=0|r.height,dt.command(s>=0,"invalid "+e,n.commandStr)):l=!1,new He(!l&&t&&t.thisDep,!l&&t&&t.contextDep,!l&&t&&t.propDep,function(e,t){var n=e.shared.context,i=a;"width"in r||(i=t.def(n,".",Vi,"-",u));var o=s;return"height"in r||(o=t.def(n,".",Hi,"-",c)),[u,c,i,o]})}if(e in o){var f=o[e],h=qe(f,function(t,n){var r=t.invoke(n,f);dt.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)});var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Vi,"-",o,")"),l=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Hi,"-",a,")");return dt.optional(function(){t.assert(n,s+">=0&&"+l+">=0","invalid "+e)}),[o,a,s,l]});return t&&(h.thisDep=h.thisDep||t.thisDep,h.contextDep=h.contextDep||t.contextDep,h.propDep=h.propDep||t.propDep),h}return t?new He(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Vi),t.def(n,".",Hi)]}):null}var i=e.static,o=e.dynamic,a=r(Pi);if(a){var s=a;a=new He(a.thisDep,a.contextDep,a.propDep,function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+Yi,n[2]),t.set(r,"."+Wi,n[3]),n})}return{viewport:a,scissor_box:r(Oi)}}function w(e){function n(e){if(e in i){var n=t.id(i[e]);dt.optional(function(){c.shader(Wo[e],n,dt.guessCommand())});var r=We(function(){return n});return r.id=n,r}if(e in o){var a=o[e];return qe(a,function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return dt.optional(function(){n(t.shared.shader,".shader(",Wo[e],",",i,",",t.command,");")}),i})}return null}var r,i=e.static,o=e.dynamic,a=n(Ri),s=n(Ni),l=null;return Ye(a)&&Ye(s)?(l=c.program(s.id,a.id),r=We(function(e,t){return e.link(l)})):r=new He(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(e,t){var n,r=e.shared.shader;n=a?a.append(e,t):t.def(r,".",Ri);var i;i=s?s.append(e,t):t.def(r,".",Ni);var o=r+".program("+i+","+n;return dt.optional(function(){o+=","+e.command}),t.def(o+")")}),{frag:a,vert:s,progVar:r,program:l}}function M(e,t){function n(e,n){if(e in r){var o=0|r[e];return dt.command(!n||o>=0,"invalid "+e,t.commandStr),We(function(e,t){return n&&(e.OFFSET=o),o})}if(e in i){var s=i[e];return qe(s,function(t,r){var i=t.invoke(r,s);return n&&(t.OFFSET=i,dt.optional(function(){t.assert(r,i+">=0","invalid "+e)})),i})}return n&&a?We(function(e,t){return e.OFFSET="0",0}):null}var r=e.static,i=e.dynamic,a=function(){if(ji in r){var e=r[ji];Ue(e)?e=o.getElements(o.create(e,!0)):e&&(e=o.getElements(e),dt.command(e,"invalid elements",t.commandStr));var n=We(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null});return n.value=e,n}if(ji in i){var a=i[ji];return qe(a,function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,o=e.invoke(t,a),s=t.def("null"),l=t.def(r,"(",o,")"),u=e.cond(l).then(s,"=",i,".createStream(",o,");").else(s,"=",i,".getElements(",o,");");return dt.optional(function(){e.assert(u.else,"!"+o+"||"+s,"invalid elements")}),t.entry(u),t.exit(e.cond(l).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s})}return null}(),s=n(Bi,!0);return{elements:a,primitive:function(){if(zi in r){var e=r[zi];return dt.commandParameter(e,Bt,"invalid primitve",t.commandStr),We(function(t,n){return Bt[e]})}if(zi in i){var n=i[zi];return qe(n,function(e,t){var r=e.constants.primTypes,i=e.invoke(t,n);return dt.optional(function(){e.assert(t,i+" in "+r,"invalid primitive, must be one of "+Object.keys(Bt))}),t.def(r,"[",i,"]")})}return a?Ye(a)?We(a.value?function(e,t){return t.def(e.ELEMENTS,".primType")}:function(){return So}):new He(a.thisDep,a.contextDep,a.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",So)}):null}(),count:function(){if(Fi in r){var e=0|r[Fi];return dt.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),We(function(){return e})}if(Fi in i){var n=i[Fi];return qe(n,function(e,t){var r=e.invoke(t,n);return dt.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")}),r})}if(a){if(Ye(a)){if(a)return s?new He(s.thisDep,s.contextDep,s.propDep,function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return dt.optional(function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")}),n}):We(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var o=We(function(){return-1});return dt.optional(function(){o.MISSING=!0}),o}var l=new He(a.thisDep||s.thisDep,a.contextDep||s.contextDep,a.propDep||s.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")});return dt.optional(function(){l.DYNAMIC=!0}),l}return null}(),instances:n(Ui,!1),offset:s}}function k(e,t){var n=e.static,i=e.dynamic,o={};return te.forEach(function(e){function a(t,r){if(e in n){var a=t(n[e]);o[s]=We(function(){return a})}else if(e in i){var l=i[e];o[s]=qe(l,function(e,t){return r(e,t,e.invoke(t,l))})}}var s=m(e);switch(e){case vi:case si:case ai:case Ei:case fi:case Di:case xi:case wi:case Mi:case pi:return a(function(n){return dt.commandType(n,"boolean",e,t.commandStr),n},function(t,n,r){return dt.optional(function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)}),r});case hi:return a(function(n){return dt.commandParameter(n,Ho,"invalid "+e,t.commandStr),Ho[n]},function(t,n,r){var i=t.constants.compareFuncs;return dt.optional(function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Ho))}),n.def(i,"[",r,"]")});case di:return a(function(e){return dt.command(me(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,n){return dt.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]});case ci:return a(function(e){dt.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return dt.commandParameter(n,Uo,s+".srcRGB",t.commandStr),dt.commandParameter(r,Uo,s+".srcAlpha",t.commandStr),dt.commandParameter(i,Uo,s+".dstRGB",t.commandStr),dt.commandParameter(o,Uo,s+".dstAlpha",t.commandStr),dt.command(-1===Vo.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Uo[n],Uo[i],Uo[r],Uo[o]]},function(t,n,r){function i(i,a){var s=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return dt.optional(function(){t.assert(n,s+" in "+o,"invalid "+e+"."+i+a+", must be one of "+Object.keys(Uo))}),s}var o=t.constants.blendFuncs;dt.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")});var a=i("src","RGB"),s=i("dst","RGB");dt.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var l=n.def(o,"[",a,"]"),u=n.def(o,"[",i("src","Alpha"),"]");return[l,n.def(o,"[",s,"]"),u,n.def(o,"[",i("dst","Alpha"),"]")]});case ui:return a(function(n){return"string"===typeof n?(dt.commandParameter(n,Z,"invalid "+e,t.commandStr),[Z[n],Z[n]]):"object"===typeof n?(dt.commandParameter(n.rgb,Z,e+".rgb",t.commandStr),dt.commandParameter(n.alpha,Z,e+".alpha",t.commandStr),[Z[n.rgb],Z[n.alpha]]):void dt.commandRaise("invalid blend.equation",t.commandStr)},function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return dt.optional(function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(Z))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")}),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]});case li:return a(function(e){return dt.command(me(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),K(4,function(t){return+e[t]})},function(e,t,n){return dt.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),K(4,function(e){return t.def("+",n,"[",e,"]")})});case Si:return a(function(e){return dt.commandType(e,"number",s,t.commandStr),0|e},function(e,t,n){return dt.optional(function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")}),t.def(n,"|0")});case Ti:return a(function(n){dt.commandType(n,"object",s,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return dt.commandParameter(r,Ho,e+".cmp",t.commandStr),dt.commandType(i,"number",e+".ref",t.commandStr),dt.commandType(o,"number",e+".mask",t.commandStr),[Ho[r],i,o]},function(e,t,n){var r=e.constants.compareFuncs;return dt.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Io),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Ai:case Ci:return a(function(n){dt.commandType(n,"object",s,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return dt.commandParameter(r,Yo,e+".fail",t.commandStr),dt.commandParameter(i,Yo,e+".zfail",t.commandStr),dt.commandParameter(o,Yo,e+".zpass",t.commandStr),[e===Ci?Ao:To,Yo[r],Yo[i],Yo[o]]},function(t,n,r){function i(i){return dt.optional(function(){t.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+e+"."+i+", must be one of "+Object.keys(Yo))}),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",Io)}var o=t.constants.stencilOps;return dt.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[e===Ci?Ao:To,i("fail"),i("zfail"),i("zpass")]});case _i:return a(function(e){dt.commandType(e,"object",s,t.commandStr);var n=0|e.factor,r=0|e.units;return dt.commandType(n,"number",s+".factor",t.commandStr),dt.commandType(r,"number",s+".units",t.commandStr),[n,r]},function(t,n,r){return dt.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[n.def(r,".factor|0"),n.def(r,".units|0")]});case gi:return a(function(e){var n=0;return"front"===e?n=To:"back"===e&&(n=Ao),dt.command(!!n,s,t.commandStr),n},function(e,t,n){return dt.optional(function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),t.def(n,'==="front"?',To,":",Ao)});case bi:return a(function(e){return dt.command("number"===typeof e&&e>=r.lineWidthDims[0]&&e<=r.lineWidthDims[1],"invalid line width, must positive number between "+r.lineWidthDims[0]+" and "+r.lineWidthDims[1],t.commandStr),e},function(e,t,n){return dt.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+r.lineWidthDims[0]+"&&"+n+"<="+r.lineWidthDims[1],"invalid line width")}),n});case yi:return a(function(e){return dt.commandParameter(e,qo,s,t.commandStr),qo[e]},function(e,t,n){return dt.optional(function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(n+'==="cw"?'+Co+":"+Do)});case mi:return a(function(e){return dt.command(me(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,n){return dt.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),K(4,function(e){return"!!"+n+"["+e+"]"})});case ki:return a(function(e){dt.command("object"===typeof e&&e,s,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return dt.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]},function(e,t,n){return dt.optional(function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]})}}),o}function E(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=We(function(){return o});else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=We(function(e){return e.link(o)}):"framebuffer"===a||"framebufferCube"===a?(dt.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=We(function(e){return e.link(o.color[0])})):dt.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else me(o)?r=We(function(t){return t.global.def("[",K(o.length,function(n){return dt.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]}),"]")}):dt.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=qe(t,function(e,n){return e.invoke(n,t)})}),i}function S(e,n){var r=e.static,o=e.dynamic,a={};return Object.keys(r).forEach(function(e){var o=r[e],s=t.id(e),l=new X;if(Ue(o))l.state=Qr,l.buffer=i.getBuffer(i.create(o,Zi,!1,!0)),l.type=0;else{var u=i.getBuffer(o);if(u)l.state=Qr,l.buffer=u,l.type=0;else if(dt.command("object"===typeof o&&o,"invalid data for attribute "+e,n.commandStr),o.constant){var c=o.constant;l.buffer="null",l.state=ei,"number"===typeof c?l.x=c:(dt.command(me(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,n.commandStr),$r.forEach(function(e,t){t<c.length&&(l[e]=c[t])}))}else{u=Ue(o.buffer)?i.getBuffer(i.create(o.buffer,Zi,!1,!0)):i.getBuffer(o.buffer),dt.command(!!u,'missing buffer for attribute "'+e+'"',n.commandStr);var f=0|o.offset;dt.command(f>=0,'invalid offset for attribute "'+e+'"',n.commandStr);var h=0|o.stride;dt.command(h>=0&&h<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',n.commandStr);var d=0|o.size;dt.command(!("size"in o)||d>0&&d<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',n.commandStr);var p=!!o.normalized,m=0;"type"in o&&(dt.commandParameter(o.type,Ot,"invalid type for attribute "+e,n.commandStr),m=Ot[o.type]);var v=0|o.divisor;"divisor"in o&&(dt.command(0===v||$,'cannot specify divisor for attribute "'+e+'", instancing not supported',n.commandStr),dt.command(v>=0,'invalid divisor for attribute "'+e+'"',n.commandStr)),dt.optional(function(){var t=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach(function(n){dt.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",t)})}),l.buffer=u,l.state=Qr,l.size=d,l.normalized=p,l.type=m||u.dtype,l.offset=f,l.stride=h,l.divisor=v}}a[e]=We(function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(l).forEach(function(e){r[e]=l[e]}),l.buffer&&(r.buffer=e.link(l.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r})}),Object.keys(o).forEach(function(e){function t(t,r){function i(e){r(u[e],"=",o,".",e,"|0;")}var o=t.invoke(r,n),a=t.shared,s=a.isBufferArgs,l=a.buffer;dt.optional(function(){t.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+s+"("+o+")||"+l+".getBuffer("+o+")||"+l+".getBuffer("+o+".buffer)||"+s+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+a.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+e+'"')});var u={isStream:r.def(!1)},c=new X;c.state=Qr,Object.keys(c).forEach(function(e){u[e]=r.def(""+c[e])});var f=u.buffer,h=u.type;return r("if(",s,"(",o,")){",u.isStream,"=true;",f,"=",l,".createStream(",Zi,",",o,");",h,"=",f,".dtype;","}else{",f,"=",l,".getBuffer(",o,");","if(",f,"){",h,"=",f,".dtype;",'}else if("constant" in ',o,"){",u.state,"=",ei,";","if(typeof "+o+'.constant === "number"){',u[$r[0]],"=",o,".constant;",$r.slice(1).map(function(e){return u[e]}).join("="),"=0;","}else{",$r.map(function(e,t){return u[e]+"="+o+".constant.length>="+t+"?"+o+".constant["+t+"]:0;"}).join(""),"}}else{","if(",s,"(",o,".buffer)){",f,"=",l,".createStream(",Zi,",",o,".buffer);","}else{",f,"=",l,".getBuffer(",o,".buffer);","}",h,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",f,".dtype;",u.normalized,"=!!",o,".normalized;"),i("size"),i("offset"),i("stride"),i("divisor"),r("}}"),r.exit("if(",u.isStream,"){",l,".destroyStream(",f,");","}"),u}var n=o[e];a[e]=qe(n,t)}),a}function T(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=We(function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=qe(t,function(e,n){return e.invoke(n,t)})}),r}function A(e,t,n,r,i){function o(e){var t=u[e];t&&(f[e]=t)}var a=e.static,s=e.dynamic;dt.optional(function(){function e(e){Object.keys(e).forEach(function(e){dt.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',i.commandStr)})}var t=[Ii,Ni,Ri,ji,zi,Bi,Fi,Ui,Li].concat(te);e(a),e(s)});var l=x(e,i),u=_(e,l,i),c=M(e,i),f=k(e,i),h=w(e,i);o(Pi),o(m(Oi));var d=Object.keys(f).length>0,p={framebuffer:l,draw:c,shader:h,state:f,dirty:d};return p.profile=b(e,i),p.uniforms=E(n,i),p.attributes=S(t,i),p.context=T(r,i),p}function C(e,t,n){var r=e.shared,i=r.context,o=e.scope();Object.keys(n).forEach(function(r){t.save(i,"."+r);var a=n[r];o(i,".",r,"=",a.append(e,t),";")}),t(o)}function D(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;J&&(i=t.def(o.extensions,".webgl_draw_buffers"));var l,u=e.constants,c=u.drawBuffer,f=u.backBuffer;l=n?n.append(e,t):t.def(s,".next"),r||t("if(",l,"!==",s,".cur){"),t("if(",l,"){",a,".bindFramebuffer(",Fo,",",l,".framebuffer);"),J&&t(i,".drawBuffersWEBGL(",c,"[",l,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Fo,",null);"),J&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",l,";"),r||t("}")}function O(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,l=r.next,u=e.cond(s,".dirty");te.forEach(function(t){var r=m(t);if(!(r in n.state)){var c,f;if(r in a){c=a[r],f=o[r];var h=K(Q[r].length,function(e){return u.def(c,"[",e,"]")});u(e.cond(h.map(function(e,t){return e+"!=="+f+"["+t+"]"}).join("||")).then(i,".",re[r],"(",h,");",h.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";"))}else{c=u.def(l,".",r);var d=e.cond(c,"!==",s,".",r);u(d),r in ne?d(e.cond(c).then(i,".enable(",ne[r],");").else(i,".disable(",ne[r],");"),s,".",r,"=",c,";"):d(i,".",re[r],"(",c,");",s,".",r,"=",c,";")}}}),0===Object.keys(n.state).length&&u(s,".dirty=false;"),t(u)}function P(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;Ve(Object.keys(n)).forEach(function(i){var l=n[i];if(!r||r(l)){var u=l.append(e,t);if(ne[i]){var c=ne[i];Ye(l)?u?t(s,".enable(",c,");"):t(s,".disable(",c,");"):t(e.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(a,".",i,"=",u,";")}else if(me(u)){var f=o[i];t(s,".",re[i],"(",u,");",u.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";")}else t(s,".",re[i],"(",u,");",a,".",i,"=",u,";")}})}function L(e,t){$&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function I(e,t,n,r,i){function o(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function a(e){u=t.def(),e(u,"=",o(),";"),"string"===typeof i?e(p,".count+=",i,";"):e(p,".count++;"),d&&(r?(c=t.def(),e(c,"=",v,".getNumPendingQueries();")):e(v,".beginQuery(",p,");"))}function s(e){e(p,".cpuTime+=",o(),"-",u,";"),d&&(r?e(v,".pushScopeStats(",c,",",v,".getNumPendingQueries(),",p,");"):e(v,".endQuery();"))}function l(e){var n=t.def(m,".profile");t(m,".profile=",e,";"),t.exit(m,".profile=",n,";")}var u,c,f,h=e.shared,p=e.stats,m=h.current,v=h.timer,g=n.profile;if(g){if(Ye(g))return void(g.enable?(a(t),s(t.exit),l("true")):l("false"));f=g.append(e,t),l(f)}else f=t.def(m,".profile");var y=e.block();a(y),t("if(",f,"){",y,"}");var b=e.block();s(b),t.exit("if(",f,"){",b,"}")}function N(e,t,n,r,i){function o(e){switch(e){case uo:case po:case yo:return 2;case co:case mo:case bo:return 3;case fo:case vo:case xo:return 4;default:return 1}}function a(n,r,i){function o(){t("if(!",c,".buffer){",l,".enableVertexAttribArray(",u,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",c,".type!==",o,"||",c,".size!==",n,"||",p.map(function(e){return c+"."+e+"!=="+i[e]}).join("||"),"){",l,".bindBuffer(",Zi,",",h,".buffer);",l,".vertexAttribPointer(",[u,n,o,i.normalized,i.stride,i.offset],");",c,".type=",o,";",c,".size=",n,";",p.map(function(e){return c+"."+e+"="+i[e]+";"}).join(""),"}"),$){var a=i.divisor;t("if(",c,".divisor!==",a,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,a],");",c,".divisor=",a,";}")}}function a(){t("if(",c,".buffer){",l,".disableVertexAttribArray(",u,");","}if(",$r.map(function(e,t){return c+"."+e+"!=="+d[t]}).join("||"),"){",l,".vertexAttrib4f(",u,",",d,");",$r.map(function(e,t){return c+"."+e+"="+d[t]+";"}).join(""),"}")}var l=s.gl,u=t.def(n,".location"),c=t.def(s.attributes,"[",u,"]"),f=i.state,h=i.buffer,d=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];f===Qr?o():f===ei?a():(t("if(",f,"===",Qr,"){"),o(),t("}else{"),a(),t("}"))}var s=e.shared;r.forEach(function(r){var s,l=r.name,u=n.attributes[l];if(u){if(!i(u))return;s=u.append(e,t)}else{if(!i(Go))return;var c=e.scopeAttrib(l);dt.optional(function(){e.assert(t,c+".state","missing attribute "+l)}),s={},Object.keys(new X).forEach(function(e){s[e]=t.def(c,".",e)})}a(e.link(r),o(r.info.type),s)})}function R(e,n,r,i,o){for(var a,s=e.shared,l=s.gl,u=0;u<i.length;++u){var c,f=i[u],h=f.name,d=f.info.type,p=r.uniforms[h],m=e.link(f),v=m+".location";if(p){if(!o(p))continue;if(Ye(p)){var g=p.value;if(dt.command(null!==g&&"undefined"!==typeof g,'missing uniform "'+h+'"',e.commandStr),d===ko||d===Eo){dt.command("function"===typeof g&&(d===ko&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||d===Eo&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+h,e.commandStr);var y=e.link(g._texture||g.color[0]._texture);n(l,".uniform1i(",v,",",y+".bind());"),n.exit(y,".unbind();")}else if(d===_o||d===wo||d===Mo){dt.optional(function(){dt.command(me(g),"invalid matrix for uniform "+h,e.commandStr),dt.command(d===_o&&4===g.length||d===wo&&9===g.length||d===Mo&&16===g.length,"invalid length for matrix uniform "+h,e.commandStr)});var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),x=2;d===wo?x=3:d===Mo&&(x=4),n(l,".uniformMatrix",x,"fv(",v,",false,",b,");")}else{switch(d){case lo:dt.commandType(g,"number","uniform "+h,e.commandStr),a="1f";break;case uo:dt.command(me(g)&&2===g.length,"uniform "+h,e.commandStr),a="2f";break;case co:dt.command(me(g)&&3===g.length,"uniform "+h,e.commandStr),a="3f";break;case fo:dt.command(me(g)&&4===g.length,"uniform "+h,e.commandStr),a="4f";break;case go:dt.commandType(g,"boolean","uniform "+h,e.commandStr),a="1i";break;case ho:dt.commandType(g,"number","uniform "+h,e.commandStr),a="1i";break;case yo:case po:dt.command(me(g)&&2===g.length,"uniform "+h,e.commandStr),a="2i";break;case bo:case mo:dt.command(me(g)&&3===g.length,"uniform "+h,e.commandStr),a="3i";break;case xo:case vo:dt.command(me(g)&&4===g.length,"uniform "+h,e.commandStr),a="4i"}n(l,".uniform",a,"(",v,",",me(g)?Array.prototype.slice.call(g):g,");")}continue}c=p.append(e,n)}else{if(!o(Go))continue;c=n.def(s.uniforms,"[",t.id(h),"]")}d===ko?n("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):d===Eo&&n("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),dt.optional(function(){function t(t,r){e.assert(n,t,'bad data or missing for uniform "'+h+'".  '+r)}function r(e){t("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(n,r){t(s.isArrayLike+"("+c+")&&"+c+".length==="+n,"invalid vector, should have length "+n,e.commandStr)}function o(n){t("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(n===$i?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(d){case ho:r("number");break;case po:i(2,"number");break;case mo:i(3,"number");break;case vo:i(4,"number");break;case lo:r("number");break;case uo:i(2,"number");break;case co:i(3,"number");break;case fo:i(4,"number");break;case go:r("boolean");break;case yo:i(2,"boolean");break;case bo:i(3,"boolean");break;case xo:i(4,"boolean");break;case _o:i(4,"number");break;case wo:i(9,"number");break;case Mo:i(16,"number");break;case ko:o($i);break;case Eo:o(Ji)}});var _=1;switch(d){case ko:case Eo:var w=n.def(c,"._texture");n(l,".uniform1i(",v,",",w,".bind());"),n.exit(w,".unbind();");continue;case ho:case go:a="1i";break;case po:case yo:a="2i",_=2;break;case mo:case bo:a="3i",_=3;break;case vo:case xo:a="4i",_=4;break;case lo:a="1f";break;case uo:a="2f",_=2;break;case co:a="3f",_=3;break;case fo:a="4f",_=4;break;case _o:a="Matrix2fv";break;case wo:a="Matrix3fv";break;case Mo:a="Matrix4fv"}if(n(l,".uniform",a,"(",v,","),"M"===a.charAt(0)){var M=Math.pow(d-_o+2,2),k=e.global.def("new Float32Array(",M,")");n("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",K(M,function(e){return k+"["+e+"]="+c+"["+e+"]"}),",",k,")")}else n(_>1?K(_,function(e){return c+"["+e+"]"}):c);n(");")}}function j(e,t,n,r){function i(i){var o=c[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(u,".",i)}function o(){function e(){n(v,".drawElementsInstancedANGLE(",[h,p,g,d+"<<(("+g+"-"+Jr+")>>1)",m],");")}function t(){n(v,".drawArraysInstancedANGLE(",[h,d,p,m],");")}f?y?e():(n("if(",f,"){"),e(),n("}else{"),t(),n("}")):t()}function a(){function e(){n(l+".drawElements("+[h,p,g,d+"<<(("+g+"-"+Jr+")>>1)"]+");")}function t(){n(l+".drawArrays("+[h,d,p]+");")}f?y?e():(n("if(",f,"){"),e(),n("}else{"),t(),n("}")):t()}var s=e.shared,l=s.gl,u=s.draw,c=r.draw,f=function(){var i,o=c.elements,a=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(a=n),i=o.append(e,a)):i=a.def(u,".",ji),i&&a("if("+i+")"+l+".bindBuffer("+Ki+","+i+".buffer.buffer);"),i}(),h=i(zi),d=i(Bi),p=function(){var i,o=c.count,a=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(a=n),i=o.append(e,a),dt.optional(function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(a,i+">=0","missing vertex count")})):(i=a.def(u,".",Fi),dt.optional(function(){e.assert(a,i+">=0","missing vertex count")})),i}();if("number"===typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");var m,v;$&&(m=i(Ui),v=e.instancing);var g=f+".type",y=c.elements&&Ye(c.elements);$&&("number"!==typeof m||m>=0)?"string"===typeof m?(n("if(",m,">0){"),o(),n("}else if(",m,"<0){"),a(),n("}")):o():a()}function z(e,t,n,r,i){var o=y(),a=o.proc("body",i);return dt.optional(function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)}),$&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function F(e,t,n,r){L(e,t),N(e,t,n,r.attributes,function(){return!0}),R(e,t,n,r.uniforms,function(){return!0}),j(e,t,t,n)}function B(e,t){var n=e.proc("draw",1);L(e,n),C(e,n,t.context),D(e,n,t.framebuffer),O(e,n,t),P(e,n,t.state),I(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)F(e,n,t,t.shader.program);else{var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link(function(n){return z(F,e,t,n,1)}),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function U(e,t,n,r){function i(){return!0}e.batchId="a1",L(e,t),N(e,t,n,r.attributes,i),R(e,t,n,r.uniforms,i),j(e,t,t,n)}function V(e,t,n,r){function i(e){return e.contextDep&&a||e.propDep}function o(e){return!i(e)}L(e,t);var a=n.contextDep,s=t.def(),l=t.def();e.shared.props=l,e.batchId=s;var u=e.scope(),c=e.scope();if(t(u.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",c,"}",u.exit),n.needsContext&&C(e,c,n.context),n.needsFramebuffer&&D(e,c,n.framebuffer),P(e,c,n.state,i),n.profile&&i(n.profile)&&I(e,c,n,!1,!0),r)N(e,u,n,r.attributes,o),N(e,c,n,r.attributes,i),R(e,u,n,r.uniforms,o),R(e,c,n,r.uniforms,i),j(e,u,c,n);else{var f=e.global.def("{}"),h=n.shader.progVar.append(e,c),d=c.def(h,".id"),p=c.def(f,"[",d,"]");c(e.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",f,"[",d,"]=",e.link(function(t){return z(U,e,n,t,2)}),"(",h,");}",p,".call(this,a0[",s,"],",s,");")}}function H(e,t){function n(e){return e.contextDep&&i||e.propDep}var r=e.proc("batch",2);e.batchId="0",L(e,r);var i=!1,o=!0;Object.keys(t.context).forEach(function(e){i=i||t.context[e].propDep}),i||(C(e,r,t.context),o=!1);var a=t.framebuffer,s=!1;a?(a.propDep?i=s=!0:a.contextDep&&i&&(s=!0),s||D(e,r,a)):D(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(i=!0),O(e,r,t),P(e,r,t.state,function(e){return!n(e)}),t.profile&&n(t.profile)||I(e,r,t,!1,"a1"),t.contextDep=i,t.needsContext=o,t.needsFramebuffer=s;var l=t.shader.progVar;if(l.contextDep&&i||l.propDep)V(e,r,t,null);else{var u=l.append(e,r);if(r(e.shared.gl,".useProgram(",u,".program);"),t.shader.program)V(e,r,t,t.shader.program);else{var c=e.global.def("{}"),f=r.def(u,".id"),h=r.def(c,"[",f,"]");r(e.cond(h).then(h,".call(this,a0,a1);").else(h,"=",c,"[",f,"]=",e.link(function(n){return z(V,e,t,n,2)}),"(",u,");",h,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function Y(e,n){function r(t){var r=n.shader[t];r&&i.set(o.shader,"."+t,r.append(e,i))}var i=e.proc("scope",3);e.batchId="a2";var o=e.shared,a=o.current;C(e,i,n.context),n.framebuffer&&n.framebuffer.append(e,i),Ve(Object.keys(n.state)).forEach(function(t){var r=n.state[t],a=r.append(e,i);me(a)?a.forEach(function(n,r){i.set(e.next[t],"["+r+"]",n)}):i.set(o.next,"."+t,a)}),I(e,i,n,!0,!0),[ji,Bi,Fi,Ui,zi].forEach(function(t){var r=n.draw[t];r&&i.set(o.draw,"."+t,""+r.append(e,i))}),Object.keys(n.uniforms).forEach(function(r){i.set(o.uniforms,"["+t.id(r)+"]",n.uniforms[r].append(e,i))}),Object.keys(n.attributes).forEach(function(t){var r=n.attributes[t].append(e,i),o=e.scopeAttrib(t);Object.keys(new X).forEach(function(e){i.set(o,"."+e,r[e])})}),r(Ni),r(Ri),Object.keys(n.state).length>0&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",e.shared.context,",a0,",e.batchId,");")}function W(e){if("object"===typeof e&&!me(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(vt.isDynamic(e[t[n]]))return!0;return!1}}function q(e,t,n){function r(e,t){a.forEach(function(n){var r=i[n];if(vt.isDynamic(r)){var o=e.invoke(t,r);t(c,".",n,"=",o,";")}})}var i=t.static[n];if(i&&W(i)){var o=e.global,a=Object.keys(i),s=!1,l=!1,u=!1,c=e.global.def("{}");a.forEach(function(t){var n=i[t];if(vt.isDynamic(n)){"function"===typeof n&&(n=i[t]=vt.unbox(n));var r=qe(n,null);s=s||r.thisDep,u=u||r.propDep,l=l||r.contextDep}else{switch(o(c,".",t,"="),typeof n){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(e.link(n))}o(";")}}),t.dynamic[n]=new vt.DynamicVariable(oi,{thisDep:s,contextDep:l,propDep:u,ref:c,append:r}),delete t.static[n]}}function G(e,t,n,r,i){var o=y();o.stats=o.link(i),Object.keys(t.static).forEach(function(e){q(o,t,e)}),Xi.forEach(function(t){q(o,e,t)});var a=A(e,t,n,r,o);return B(o,a),Y(o,a),H(o,a),o.compile()}var X=u.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(Z.min=Oo,Z.max=Po);var $=n.angle_instanced_arrays,J=n.webgl_draw_buffers,Q={dirty:!0,profile:p.profile},ee={},te=[],ne={},re={};v(ai,to),v(si,eo),g(li,"blendColor",[0,0,0,0]),g(ui,"blendEquationSeparate",[jo,jo]),g(ci,"blendFuncSeparate",[Ro,No,Ro,No]),v(fi,ro,!0),g(hi,"depthFunc",zo),g(di,"depthRange",[0,1]),g(pi,"depthMask",!0),g(mi,mi,[!0,!0,!0,!0]),v(vi,Qi),g(gi,"cullFace",Ao),g(yi,yi,Do),g(bi,bi,1),v(xi,oo),g(_i,"polygonOffset",[0,0]),v(wi,ao),v(Mi,so),g(ki,"sampleCoverage",[1,!1]),v(Ei,no),g(Si,"stencilMask",-1),g(Ti,"stencilFunc",[Lo,0,-1]),g(Ai,"stencilOpSeparate",[To,Io,Io,Io]),g(Ci,"stencilOpSeparate",[Ao,Io,Io,Io]),v(Di,io),g(Oi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),g(Pi,Pi,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var ie={gl:e,context:h,strings:t,next:ee,current:Q,draw:f,elements:o,buffer:i,shader:c,attributes:u.state,uniforms:l,framebuffer:s,extensions:n,timer:d,isBufferArgs:Ue},oe={primTypes:Bt,compareFuncs:Ho,blendFuncs:Uo,blendEquations:Z,stencilOps:Yo,glTypes:Ot,orientationType:qo};dt.optional(function(){ie.isArrayLike=me}),J&&(oe.backBuffer=[Ao],oe.drawBuffer=K(r.maxDrawbuffers,function(e){return 0===e?[0]:K(e,function(e){return Bo+e})}));var ae=0;return{next:ee,current:Q,procs:function(){var t=y(),n=t.proc("poll"),i=t.proc("refresh"),o=t.block();n(o),i(o);var a=t.shared,s=a.gl,l=a.next,u=a.current;o(u,".dirty=false;"),D(t,n),D(t,i,null,!0);var c,f=e.getExtension("angle_instanced_arrays");f&&(c=t.link(f));for(var h=0;h<r.maxAttributes;++h){var d=i.def(a.attributes,"[",h,"]"),p=t.cond(d,".buffer");p.then(s,".enableVertexAttribArray(",h,");",s,".bindBuffer(",Zi,",",d,".buffer.buffer);",s,".vertexAttribPointer(",h,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(s,".disableVertexAttribArray(",h,");",s,".vertexAttrib4f(",h,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),i(p),f&&i(c,".vertexAttribDivisorANGLE(",h,",",d,".divisor);")}return Object.keys(ne).forEach(function(e){var r=ne[e],a=o.def(l,".",e),c=t.block();c("if(",a,"){",s,".enable(",r,")}else{",s,".disable(",r,")}",u,".",e,"=",a,";"),i(c),n("if(",a,"!==",u,".",e,"){",c,"}")}),Object.keys(re).forEach(function(e){var r,a,c=re[e],f=Q[e],h=t.block();if(h(s,".",c,"("),me(f)){var d=f.length;r=t.global.def(l,".",e),a=t.global.def(u,".",e),h(K(d,function(e){return r+"["+e+"]"}),");",K(d,function(e){return a+"["+e+"]="+r+"["+e+"];"}).join("")),n("if(",K(d,function(e){return r+"["+e+"]!=="+a+"["+e+"]"}).join("||"),"){",h,"}")}else r=o.def(l,".",e),a=o.def(u,".",e),h(r,");",u,".",e,"=",r,";"),n("if(",r,"!==",a,"){",h,"}");i(h)}),t.compile()}(),compile:G}}function Xe(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}function Ze(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Ke(e){function t(){if(0===Y.length)return k&&k.update(),void(K=null);K=gt.next(t),h();for(var e=Y.length-1;e>=0;--e){var n=Y[e];n&&n(A,null,0)}g.flush(),k&&k.update()}function n(){!K&&Y.length>0&&(K=gt.next(t))}function r(){K&&(gt.cancel(t),K=null)}function i(e){e.preventDefault(),b=!0,r(),W.forEach(function(e){e()})}function o(e){g.getError(),b=!1,x.restore(),N.restore(),P.restore(),R.restore(),j.restore(),z.restore(),k&&k.restore(),F.procs.refresh(),n(),q.forEach(function(e){e()})}function a(){Y.length=0,r(),H&&(H.removeEventListener(na,i),H.removeEventListener(ra,o)),N.clear(),z.clear(),j.clear(),R.clear(),L.clear(),P.clear(),k&&k.clear(),Z.forEach(function(e){e()})}function s(e){function t(e){var t={},n={};return Object.keys(e).forEach(function(r){var i=e[r];vt.isDynamic(i)?n[r]=vt.unbox(i,r):t[r]=i}),{dynamic:n,static:t}}function n(e){for(;d.length<e;)d.push(null);return d}function r(e,t){var r;if(b&&dt.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t){if("number"===typeof e){for(r=0;r<e;++r)h.call(this,null,t,r);return}if(Array.isArray(e)){for(r=0;r<e.length;++r)h.call(this,e[r],t,r);return}return h.call(this,e,t,0)}if("number"===typeof e){if(e>0)return f.call(this,n(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return f.call(this,e,e.length)}}dt(!!e,"invalid args to regl({...})"),dt.type(e,"object","invalid args to regl({...})");var i=t(e.context||{}),o=t(e.uniforms||{}),a=t(e.attributes||{}),s=t(function(e){function t(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}var n=Qe({},e);return delete n.uniforms,delete n.attributes,delete n.context,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),t("blend"),t("depth"),t("cull"),t("stencil"),t("polygonOffset"),t("scissor"),t("sample"),n}(e)),l={gpuTime:0,cpuTime:0,count:0},u=F.compile(s,a,o,i,l),c=u.draw,f=u.batch,h=u.scope,d=[];return Qe(r,{stats:l})}function l(e,t){var n=0;F.procs.poll();var r=t.color;r&&(g.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=Jo),"depth"in t&&(g.clearDepth(+t.depth),n|=Qo),"stencil"in t&&(g.clearStencil(0|t.stencil),n|=ea),dt(!!n,"called regl.clear with no buffer specified"),g.clear(n)}function u(e){if(dt("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)$(Qe({framebuffer:e.framebuffer.faces[t]},e),l);else $(e,l);else l(null,e)}function c(e){function t(){function t(){var e=Ze(Y,t);Y[e]=Y[Y.length-1],Y.length-=1,Y.length<=0&&r()}var n=Ze(Y,e);dt(n>=0,"cannot cancel a frame twice"),Y[n]=t}return dt.type(e,"function","regl.frame() callback must be a function"),Y.push(e),n(),{cancel:t}}function f(){var e=V.viewport,t=V.scissor_box;e[0]=e[1]=t[0]=t[1]=0,A.viewportWidth=A.framebufferWidth=A.drawingBufferWidth=e[2]=t[2]=g.drawingBufferWidth,A.viewportHeight=A.framebufferHeight=A.drawingBufferHeight=e[3]=t[3]=g.drawingBufferHeight}function h(){A.tick+=1,A.time=p(),f(),F.procs.poll()}function d(){f(),F.procs.refresh(),k&&k.update()}function p(){return(yt()-E)/1e3}function m(e,t){dt.type(t,"function","listener callback must be a function");var n;switch(e){case"frame":return c(t);case"lost":n=W;break;case"restore":n=q;break;case"destroy":n=Z;break;default:dt.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}var v=G(e);if(!v)return null;var g=v.gl,y=g.getContextAttributes(),b=g.isContextLost(),x=X(g,v);if(!x)return null;var _=B(),w=Xe(),M=x.extensions,k=$o(g,M),E=yt(),S=g.drawingBufferWidth,T=g.drawingBufferHeight,A={tick:0,time:0,viewportWidth:S,viewportHeight:T,framebufferWidth:S,framebufferHeight:T,drawingBufferWidth:S,drawingBufferHeight:T,pixelRatio:v.pixelRatio},C={},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},O=bt(g,M),P=he(g,w,v),L=de(g,M,P,w),I=Ne(g,M,O,P,_),N=Re(g,_,w,v),R=Oe(g,M,O,function(){F.procs.poll()},A,w,v),j=Mr(g,M,O,w,v),z=Le(g,M,O,R,j,w),F=Ge(g,_,M,O,P,L,R,z,C,I,N,D,A,k,v),U=je(g,z,F.procs.poll,A,y,M),V=F.next,H=g.canvas,Y=[],W=[],q=[],Z=[v.onDestroy],K=null;H&&(H.addEventListener(na,i,!1),H.addEventListener(ra,o,!1));var $=z.setFBO=s({framebuffer:vt.define.call(null,ia,"framebuffer")});d();var J=Qe(s,{clear:u,prop:vt.define.bind(null,ia),context:vt.define.bind(null,oa),this:vt.define.bind(null,aa),draw:s({}),buffer:function(e){return P.create(e,ta,!1,!1)},elements:function(e){return L.create(e,!1)},texture:R.create2D,cube:R.createCube,renderbuffer:j.create,framebuffer:z.create,framebufferCube:z.createCube,attributes:y,frame:c,on:m,limits:O,hasExtension:function(e){return O.extensions.indexOf(e.toLowerCase())>=0},read:U,destroy:a,_gl:g,_refresh:d,poll:function(){h(),k&&k.update()},now:p,stats:w});return v.onDone(null,J),J}var $e={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Je=function(e){return Object.prototype.toString.call(e)in $e},Qe=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},et=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"],tt=33071,nt=9728,rt=9984,it=9985,ot=9986,at=9987,st=5126,lt=32819,ut=32820,ct=33635,ft=34042,ht={};ht[5120]=ht[5121]=1,ht[5122]=ht[5123]=ht[36193]=ht[ct]=ht[lt]=ht[ut]=2,ht[5124]=ht[5125]=ht[st]=ht[ft]=4;var dt=Qe(n,{optional:T,raise:t,commandRaise:M,command:k,parameter:i,commandParameter:E,constructor:u,type:a,commandType:S,isTypedArray:o,nni:s,oneOf:l,shaderError:b,linkError:x,callSite:m,saveCommandRef:_,saveDrawInfo:w,framebufferFormat:A,guessCommand:p,texture2D:O,textureCube:P}),pt=0,mt=0,vt={DynamicVariable:L,define:j,isDynamic:z,unbox:F,accessor:R},gt={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},yt="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},bt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;return t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063)),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938)}},xt=function(e){return Object.keys(e).map(function(t){return e[t]})},_t=5120,wt=5121,Mt=5122,kt=5123,Et=5124,St=5125,Tt=5126,At=K(8,function(){return[]}),Ct={alloc:Q,free:ee,allocType:te,freeType:ne},Dt={shape:le,flatten:se},Ot={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pt={dynamic:35048,stream:35040,static:35044},Lt=Dt.flatten,It=Dt.shape,Nt=35044,Rt=35040,jt=5121,zt=5126,Ft=[];Ft[5120]=1,Ft[5122]=2,Ft[5124]=4,Ft[5121]=1,Ft[5123]=2,Ft[5125]=4,Ft[5126]=4;var Bt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ut=0,Vt=1,Ht=4,Yt=5120,Wt=5121,qt=5122,Gt=5123,Xt=5124,Zt=5125,Kt=34963,$t=35040,Jt=35044,Qt=new Float32Array(1),en=new Uint32Array(Qt.buffer),tn=5123,nn=34467,rn=3553,on=34067,an=34069,sn=6408,ln=6406,un=6407,cn=6409,fn=6410,hn=32854,dn=32855,pn=36194,mn=32819,vn=32820,gn=33635,yn=34042,bn=6402,xn=34041,_n=35904,wn=35906,Mn=36193,kn=33776,En=33777,Sn=33778,Tn=33779,An=35986,Cn=35987,Dn=34798,On=35840,Pn=35841,Ln=35842,In=35843,Nn=36196,Rn=5121,jn=5123,zn=5125,Fn=5126,Bn=10242,Un=10243,Vn=10497,Hn=33071,Yn=33648,Wn=10240,qn=10241,Gn=9728,Xn=9729,Zn=9984,Kn=9985,$n=9986,Jn=9987,Qn=33170,er=4352,tr=4353,nr=4354,rr=34046,ir=3317,or=37440,ar=37441,sr=37443,lr=37444,ur=33984,cr=[Zn,$n,Kn,Jn],fr=[0,cn,fn,un,sn],hr={};hr[cn]=hr[ln]=hr[bn]=1,hr[xn]=hr[fn]=2,hr[un]=hr[_n]=3,hr[sn]=hr[wn]=4;var dr=ve("HTMLCanvasElement"),pr=ve("CanvasRenderingContext2D"),mr=ve("HTMLImageElement"),vr=ve("HTMLVideoElement"),gr=Object.keys($e).concat([dr,pr,mr,vr]),yr=[];yr[Rn]=1,yr[Fn]=4,yr[Mn]=2,yr[jn]=2,yr[zn]=4;var br=[];br[hn]=2,br[dn]=2,br[pn]=2,br[xn]=4,br[kn]=.5,br[En]=.5,br[Sn]=1,br[Tn]=1,br[An]=.5,br[Cn]=1,br[Dn]=1,br[On]=.5,br[Pn]=.25,br[Ln]=.5,br[In]=.25,br[Nn]=.5;var xr=36161,_r=32854,wr=[];wr[_r]=2,wr[32855]=2,wr[36194]=2,wr[33189]=2,wr[36168]=1,wr[34041]=4,wr[35907]=4,wr[34836]=16,wr[34842]=8,wr[34843]=6;var Mr=function(e,t,n,r,i){function o(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=_r,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function a(t){var n=t.renderbuffer;dt(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(xr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete h[t.id],r.renderbufferCount--}function s(t,a){function s(t,r){var o=0,a=0,l=_r;if("object"===typeof t&&t){var h=t;if("shape"in h){var d=h.shape;dt(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),o=0|d[0],a=0|d[1]}else"radius"in h&&(o=a=0|h.radius),"width"in h&&(o=0|h.width),"height"in h&&(a=0|h.height);"format"in h&&(dt.parameter(h.format,u,"invalid renderbuffer format"),l=u[h.format])}else"number"===typeof t?(o=0|t,a="number"===typeof r?0|r:o):t?dt.raise("invalid arguments to renderbuffer constructor"):o=a=1;if(dt(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),o!==f.width||a!==f.height||l!==f.format)return s.width=f.width=o,s.height=f.height=a,f.format=l,e.bindRenderbuffer(xr,f.renderbuffer),e.renderbufferStorage(xr,l,o,a),i.profile&&(f.stats.size=Pe(f.format,f.width,f.height)),s.format=c[f.format],s}function l(t,r){var o=0|t,a=0|r||o;return o===f.width&&a===f.height?s:(dt(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),s.width=f.width=o,s.height=f.height=a,e.bindRenderbuffer(xr,f.renderbuffer),e.renderbufferStorage(xr,f.format,o,a),i.profile&&(f.stats.size=Pe(f.format,f.width,f.height)),s)}var f=new o(e.createRenderbuffer());return h[f.id]=f,r.renderbufferCount++,s(t,a),s.resize=l,s._reglType="renderbuffer",s._renderbuffer=f,i.profile&&(s.stats=f.stats),s.destroy=function(){f.decRef()},s}function l(){xt(h).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(xr,t.renderbuffer),e.renderbufferStorage(xr,t.format,t.width,t.height)}),e.bindRenderbuffer(xr,null)}var u={rgba4:_r,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(u.srgba=35907),t.ext_color_buffer_half_float&&(u.rgba16f=34842,u.rgb16f=34843),t.webgl_color_buffer_float&&(u.rgba32f=34836);var c=[];Object.keys(u).forEach(function(e){var t=u[e];c[t]=e});var f=0,h={};return o.prototype.decRef=function(){--this.refCount<=0&&a(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(h).forEach(function(t){e+=h[t].stats.size}),e}),{create:s,clear:function(){xt(h).forEach(a)},restore:l}},kr=36160,Er=36161,Sr=3553,Tr=34069,Ar=36064,Cr=36096,Dr=36128,Or=33306,Pr=36053,Lr=6402,Ir=[6408],Nr=[];Nr[6408]=4;var Rr=[];Rr[5121]=1,Rr[5126]=4,Rr[36193]=2;var jr=33189,zr=36168,Fr=34041,Br=[32854,32855,36194,35907,34842,34843,34836],Ur={};Ur[Pr]="complete",Ur[36054]="incomplete attachment",Ur[36057]="incomplete dimensions",Ur[36055]="incomplete, missing attachment",Ur[36061]="unsupported";var Vr=5126,Hr=35632,Yr=35633,Wr=35718,qr=35721,Gr=6408,Xr=5121,Zr=3333,Kr=5126,$r="xyzw".split(""),Jr=5121,Qr=1,ei=2,ti=0,ni=1,ri=2,ii=3,oi=4,ai="dither",si="blend.enable",li="blend.color",ui="blend.equation",ci="blend.func",fi="depth.enable",hi="depth.func",di="depth.range",pi="depth.mask",mi="colorMask",vi="cull.enable",gi="cull.face",yi="frontFace",bi="lineWidth",xi="polygonOffset.enable",_i="polygonOffset.offset",wi="sample.alpha",Mi="sample.enable",ki="sample.coverage",Ei="stencil.enable",Si="stencil.mask",Ti="stencil.func",Ai="stencil.opFront",Ci="stencil.opBack",Di="scissor.enable",Oi="scissor.box",Pi="viewport",Li="profile",Ii="framebuffer",Ni="vert",Ri="frag",ji="elements",zi="primitive",Fi="count",Bi="offset",Ui="instances",Vi=Ii+"Width",Hi=Ii+"Height",Yi=Pi+"Width",Wi=Pi+"Height",qi="drawingBufferWidth",Gi="drawingBufferHeight",Xi=[ci,ui,Ti,Ai,Ci,ki,Pi,Oi,_i],Zi=34962,Ki=34963,$i=3553,Ji=34067,Qi=2884,eo=3042,to=3024,no=2960,ro=2929,io=3089,oo=32823,ao=32926,so=32928,lo=5126,uo=35664,co=35665,fo=35666,ho=5124,po=35667,mo=35668,vo=35669,go=35670,yo=35671,bo=35672,xo=35673,_o=35674,wo=35675,Mo=35676,ko=35678,Eo=35680,So=4,To=1028,Ao=1029,Co=2304,Do=2305,Oo=32775,Po=32776,Lo=519,Io=7680,No=0,Ro=1,jo=32774,zo=513,Fo=36160,Bo=36064,Uo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vo=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ho={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Yo={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Wo={frag:35632,vert:35633},qo={cw:Co,ccw:Do},Go=new He(!1,!1,!1,function(){}),Xo=34918,Zo=34919,Ko=35007,$o=function(e,t){function n(){return h.pop()||f.createQueryEXT()}function r(e){h.push(e)}function i(e){var t=n();f.beginQueryEXT(Ko,t),d.push(t),u(d.length-1,d.length,e)}function o(){f.endQueryEXT(Ko)}function a(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}function s(){return p.pop()||new a}function l(e){p.push(e)}function u(e,t,n){var r=s();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,m.push(r)}function c(){var e,t,n=d.length;if(0!==n){g.length=Math.max(g.length,n+1),v.length=Math.max(v.length,n+1),v[0]=0,g[0]=0;var i=0;for(e=0,t=0;t<d.length;++t){var o=d[t];f.getQueryObjectEXT(o,Zo)?(i+=f.getQueryObjectEXT(o,Xo),r(o)):d[e++]=o,v[t+1]=i,g[t+1]=e}for(d.length=e,e=0,t=0;t<m.length;++t){var a=m[t],s=a.startQueryIndex,u=a.endQueryIndex;a.sum+=v[u]-v[s];var c=g[s],h=g[u];h===c?(a.stats.gpuTime+=a.sum/1e6,l(a)):(a.startQueryIndex=c,a.endQueryIndex=h,m[e++]=a)}m.length=e}}var f=t.ext_disjoint_timer_query;if(!f)return null;var h=[],d=[],p=[],m=[],v=[],g=[];return{beginQuery:i,endQuery:o,pushScopeStats:u,update:c,getNumPendingQueries:function(){return d.length},clear:function(){h.push.apply(h,d);for(var e=0;e<h.length;e++)f.deleteQueryEXT(h[e]);d.length=0,h.length=0},restore:function(){d.length=0,h.length=0}}},Jo=16384,Qo=256,ea=1024,ta=34962,na="webglcontextlost",ra="webglcontextrestored",ia=1,oa=2,aa=3;return Ke})},function(e,t,n){"use strict";function r(e,t){if("string"!==typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(i!==e||"undefined"===typeof i)i=e,o="";else if(o.length>=n)return o.substr(0,n);for(;n>o.length&&t>1;)1&t&&(o+=e),t>>=1,e+=e;return o+=e,o=o.substr(0,n)}var i,o="";e.exports=r},function(e,t,n){var r,i;!function(o,a){r=a,void 0!==(i="function"===typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,i=document.createElement("a"),o=1;o<e;o++)i.href=arguments[o],r=i.href,t.href=r;return n.removeChild(t),r}return e})},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=e[e.length-1],r=t,i=t-2;i>=0;--i){var o=n,a=e[i];n=o+a;var s=n-o,l=a-s;l&&(e[--r]=n,n=l)}for(var u=0,i=r;i<t;++i){var o=e[i],a=n;n=o+a;var s=n-o,l=a-s;l&&(e[u++]=l)}return e[u++]=n,e.length=u,e}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function i(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m[",n,"][",r,"]"].join("")}return t}function o(e){return 1&e?"-":""}function a(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",a(e.slice(0,t)),",",a(e.slice(t)),")"].join("")}function s(e){if(2===e.length)return["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("");for(var t=[],n=0;n<e.length;++n)t.push(["scale(",s(r(e,n)),",",o(n),e[0][n],")"].join(""));return a(t)}function l(e){return new Function("sum","scale","prod","compress",["function robustDeterminant",e,"(m){return compress(",s(i(e)),")};return robustDeterminant",e].join(""))(c,f,u,h)}var u=n(135),c=n(93),f=n(244),h=n(1668),d=6,p=[function(){return[0]},function(e){return[e[0][0]]}];!function(){for(;p.length<d;)p.push(l(p.length));for(var t=[],n=["function robustDeterminant(m){switch(m.length){"],r=0;r<d;++r)t.push("det"+r),n.push("case ",r,":return det",r,"(m);");n.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),t.push("CACHE","gen",n.join(""));var i=Function.apply(void 0,t);e.exports=i.apply(void 0,p.concat([p,l]));for(var r=0;r<p.length;++r)e.exports[r]=p[r]}()},function(e,t,n){"use strict";function r(e,t){for(var n=i(e[0],t[0]),r=1;r<e.length;++r)n=o(n,i(e[r],t[r]));return n}var i=n(135),o=n(93);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function i(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-2,"]"].join("")}return t}function o(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",o(e.slice(0,t)),",",o(e.slice(t)),")"].join("")}function a(e,t){if("m"===e.charAt(0)){if("w"===t.charAt(0)){var n=e.split("[");return["w",t.substr(1),"m",n[0].substr(1)].join("")}return["prod(",e,",",t,")"].join("")}return a(t,e)}function s(e){return!0&e?"-":""}function l(e){if(2===e.length)return[["diff(",a(e[0][0],e[1][1]),",",a(e[1][0],e[0][1]),")"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",o(l(r(e,n))),",",s(n),e[0][n],")"].join(""));return t}function u(e,t){for(var n=[],r=0;r<t-2;++r)n.push(["prod(m",e,"[",r,"],m",e,"[",r,"])"].join(""));return o(n)}function c(e){for(var t=[],n=[],a=i(e),s=0;s<e;++s)a[0][s]="1",a[e-1][s]="w"+s;for(var s=0;s<e;++s)0===(1&s)?t.push.apply(t,l(r(a,s))):n.push.apply(n,l(r(a,s)));for(var c=o(t),f=o(n),h="exactInSphere"+e,d=[],s=0;s<e;++s)d.push("m"+s);for(var p=["function ",h,"(",d.join(),"){"],s=0;s<e;++s){p.push("var w",s,"=",u(s,e),";");for(var b=0;b<e;++b)b!==s&&p.push("var w",s,"m",b,"=scale(w",s,",m",b,"[0]);")}return p.push("var p=",c,",n=",f,",d=diff(p,n);return d[d.length-1];}return ",h),new Function("sum","diff","prod","scale",p.join(""))(v,g,m,y)}function f(){return 0}function h(){return 0}function d(){return 0}function p(e){var t=x[e.length];return t||(t=x[e.length]=c(e.length)),t.apply(void 0,e)}var m=n(135),v=n(93),g=n(663),y=n(244),b=6,x=[f,h,d];!function(){for(;x.length<=b;)x.push(c(x.length));for(var t=[],n=["slow"],r=0;r<=b;++r)t.push("a"+r),n.push("o"+r);for(var i=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=b;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);e.exports=o.apply(void 0,[p].concat(x));for(var r=0;r<=b;++r)e.exports[r]=x[r]}()},function(e,t,n){"use strict";function r(e,t){if(1===e.length)return o(t,e[0]);if(1===t.length)return o(e,t[0]);if(0===e.length||0===t.length)return[0];var n=[0];if(e.length<t.length)for(var r=0;r<e.length;++r)n=i(n,o(t,e[r]));else for(var r=0;r<t.length;++r)n=i(n,o(e,t[r]));return n}var i=n(93),o=n(244);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=0;i<2;++i){var o=e[i],a=t[i],s=Math.min(o,a),l=Math.max(o,a),u=n[i],c=r[i],f=Math.min(u,c);if(Math.max(u,c)<s||l<f)return!1}return!0}function i(e,t,n,i){var a=o(e,n,i),s=o(t,n,i);if(a>0&&s>0||a<0&&s<0)return!1;var l=o(n,e,t),u=o(i,e,t);return!(l>0&&u>0||l<0&&u<0)&&(0!==a||0!==s||0!==l||0!==u||r(e,t,n,i))}e.exports=i;var o=n(59)[3]},function(e,t,n){"use strict";function r(e){return o(i(e))}e.exports=r;var i=n(898),o=n(1664)},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0,r=0;r<t;++r)n=0|Math.max(n,e[r].length);return n-1}function i(e,t){for(var n=e.length,r=f.mallocUint8(n),i=0;i<n;++i)r[i]=e[i]<t|0;return r}function o(e,t){for(var n=e.length,r=t*(t+1)/2*n|0,i=f.mallocUint32(2*r),o=0,a=0;a<n;++a)for(var s=e[a],t=s.length,l=0;l<t;++l)for(var u=0;u<l;++u){var d=s[u],p=s[l];i[o++]=0|Math.min(d,p),i[o++]=0|Math.max(d,p)}h(c(i,[o/2|0,2]));for(var m=2,a=2;a<o;a+=2)i[a-2]===i[a]&&i[a-1]===i[a+1]||(i[m++]=i[a],i[m++]=i[a+1]);return c(i,[m/2|0,2])}function a(e,t,n,r){for(var i=e.data,o=e.shape[0],a=f.mallocDouble(o),s=0,l=0;l<o;++l){var u=i[2*l],h=i[2*l+1];if(n[u]!==n[h]){var d=t[u],p=t[h];i[2*s]=u,i[2*s+1]=h,a[s++]=(p-r)/(p-d)}}return e.shape[0]=s,c(a,[s])}function s(e,t){var n=f.mallocInt32(2*t),r=e.shape[0],i=e.data;n[0]=0;for(var o=0,a=0;a<r;++a){var s=i[2*a];if(s!==o){for(n[2*o+1]=a;++o<s;)n[2*o]=a,n[2*o+1]=a;n[2*o]=a}}for(n[2*o+1]=r;++o<t;)n[2*o]=n[2*o+1]=r;return n}function l(e){for(var t=0|e.shape[0],n=e.data,r=new Array(t),i=0;i<t;++i)r[i]=[n[2*i],n[2*i+1]];return r}function u(e,t,n,u){if(n=n||0,"undefined"===typeof u&&(u=r(e)),0===e.length||u<1)return{cells:[],vertexIds:[],vertexWeights:[]};var c=i(t,+n),h=o(e,u),p=a(h,t,c,+n),m=s(h,0|t.length),v=d(u)(e,h.data,m,c),g=l(h),y=[].slice.call(p.data,0,p.shape[0]);return f.free(c),f.free(h.data),f.free(p.data),f.free(m),{cells:v,vertexIds:g,vertexWeights:y}}e.exports=u;var c=n(52),f=n(23),h=n(1270),d=n(1676)},function(e,t,n){"use strict";function r(e){var t=0,n=new Array(e+1);n[0]=[[]];for(var r=1;r<=e;++r)for(var i=n[r]=a(r),s=0;s<i.length;++s)t=Math.max(t,i[r].length);for(var l=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",e,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"],r=e+1;r>1;--r){r<e+1&&l.push("else "),l.push("if(l===",r,"){");for(var u=[],s=0;s<r;++s)u.push("(S[c["+s+"]]<<"+s+")");l.push("var M=",u.join("+"),";if(M===0||M===",(1<<r)-1,"){continue}switch(M){");for(var i=n[r-1],s=0;s<i.length;++s)l.push("case ",s,":"),function(e){if(!(e.length<=0)){l.push("R.push(");for(var t=0;t<e.length;++t){var n=e[t];t>0&&l.push(","),l.push("[");for(var r=0;r<n.length;++r){var i=n[r];r>0&&l.push(","),l.push("B(C,E,c[",i[0],"],c[",i[1],"])")}l.push("]")}l.push(");")}}(i[s]),l.push("break;");l.push("}}")}return l.push("}return R;};return getContour",e,"d"),new Function("pool",l.join(""))(o)}function i(e){var t=s[e];return t||(t=s[e]=r(e)),t}e.exports=i;var o=n(23),a=n(1253),s={}},function(e,t,n){"use strict";"use restrict";function r(e){for(var t=0,n=Math.max,r=0,i=e.length;r<i;++r)t=n(t,e[r].length);return t-1}function i(e){for(var t=-1,n=Math.max,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)t=n(t,o[a]);return t+1}function o(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t}function a(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var o=e[0]+e[1]-t[0]-t[1];return o||i(e[0],e[1])-i(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(o=a+e[2]-(s+t[2]))return o;var l=i(e[0],e[1]),u=i(t[0],t[1]),o=i(l,e[2])-i(u,t[2]);return o||i(l+e[2],a)-i(u+t[2],s);default:var c=e.slice(0);c.sort();var f=t.slice(0);f.sort();for(var h=0;h<n;++h)if(r=c[h]-f[h])return r;return 0}}function s(e,t){return a(e[0],t[0])}function l(e,t){if(t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];r.sort(s);for(var i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}return e.sort(a),e}function u(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var i=e[r];if(a(i,e[r-1])){if(r===t){t++;continue}e[t++]=i}}return e.length=t,e}function c(e,t){for(var n=0,r=e.length-1,i=-1;n<=r;){var o=n+r>>1,s=a(e[o],t);s<=0?(0===s&&(i=o),n=o+1):s>0&&(r=o-1)}return i}function f(e,t){for(var n=new Array(e.length),r=0,i=n.length;r<i;++r)n[r]=[];for(var o=[],r=0,s=t.length;r<s;++r)for(var l=t[r],u=l.length,f=1,h=1<<u;f<h;++f){o.length=b.popCount(f);for(var d=0,p=0;p<u;++p)f&1<<p&&(o[d++]=l[p]);var m=c(e,o);if(!(m<0))for(;;)if(n[m++].push(r),m>=e.length||0!==a(e[m],o))break}return n}function h(e,t){if(!t)return f(u(p(e,0)),e,0);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];for(var r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n}function d(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0|i.length,a=1,s=1<<o;a<s;++a){for(var u=[],c=0;c<o;++c)a>>>c&1&&u.push(i[c]);t.push(u)}return l(t)}function p(e,t){if(t<0)return[];for(var n=[],r=(1<<t+1)-1,i=0;i<e.length;++i)for(var o=e[i],a=r;a<1<<o.length;a=b.nextCombination(a)){for(var s=new Array(t+1),u=0,c=0;c<o.length;++c)a&1<<c&&(s[u++]=o[c]);n.push(s)}return l(n)}function m(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){for(var s=new Array(i.length-1),u=0,c=0;u<a;++u)u!==o&&(s[c++]=i[u]);t.push(s)}return l(t)}function v(e,t){for(var n=new x(t),r=0;r<e.length;++r)for(var i=e[r],o=0;o<i.length;++o)for(var a=o+1;a<i.length;++a)n.link(i[o],i[a]);for(var s=[],l=n.ranks,r=0;r<l.length;++r)l[r]=-1;for(var r=0;r<e.length;++r){var u=n.find(e[r][0]);l[u]<0?(l[u]=s.length,s.push([e[r].slice(0)])):s[l[u]].push(e[r].slice(0))}return s}function g(e){for(var t=u(l(p(e,0))),n=new x(t.length),r=0;r<e.length;++r)for(var i=e[r],o=0;o<i.length;++o)for(var a=c(t,[i[o]]),s=o+1;s<i.length;++s)n.link(a,c(t,[i[s]]));for(var f=[],h=n.ranks,r=0;r<h.length;++r)h[r]=-1;for(var r=0;r<e.length;++r){var d=n.find(c(t,[e[r][0]]));h[d]<0?(h[d]=f.length,f.push([e[r].slice(0)])):f[h[d]].push(e[r].slice(0))}return f}function y(e,t){return t?v(e,t):g(e)}var b=n(85),x=n(673);t.dimension=r,t.countVertices=i,t.cloneCells=o,t.compareCells=a,t.normalize=l,t.unique=u,t.findCell=c,t.incidence=f,t.dual=h,t.explode=d,t.skeleton=p,t.boundary=m,t.connectedComponents=y},function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,(t|=n)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";"use restrict";function r(e){for(var t=0,n=Math.max,r=0,i=e.length;r<i;++r)t=n(t,e[r].length);return t-1}function i(e){for(var t=-1,n=Math.max,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)t=n(t,o[a]);return t+1}function o(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t}function a(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var o=e[0]+e[1]-t[0]-t[1];return o||i(e[0],e[1])-i(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(o=a+e[2]-(s+t[2]))return o;var l=i(e[0],e[1]),u=i(t[0],t[1]),o=i(l,e[2])-i(u,t[2]);return o||i(l+e[2],a)-i(u+t[2],s);default:var c=e.slice(0);c.sort();var f=t.slice(0);f.sort();for(var h=0;h<n;++h)if(r=c[h]-f[h])return r;return 0}}function s(e,t){return a(e[0],t[0])}function l(e,t){if(t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];r.sort(s);for(var i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}return e.sort(a),e}function u(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var i=e[r];if(a(i,e[r-1])){if(r===t){t++;continue}e[t++]=i}}return e.length=t,e}function c(e,t){for(var n=0,r=e.length-1,i=-1;n<=r;){var o=n+r>>1,s=a(e[o],t);s<=0?(0===s&&(i=o),n=o+1):s>0&&(r=o-1)}return i}function f(e,t){for(var n=new Array(e.length),r=0,i=n.length;r<i;++r)n[r]=[];for(var o=[],r=0,s=t.length;r<s;++r)for(var l=t[r],u=l.length,f=1,h=1<<u;f<h;++f){o.length=b.popCount(f);for(var d=0,p=0;p<u;++p)f&1<<p&&(o[d++]=l[p]);var m=c(e,o);if(!(m<0))for(;;)if(n[m++].push(r),m>=e.length||0!==a(e[m],o))break}return n}function h(e,t){if(!t)return f(u(p(e,0)),e,0);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];for(var r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n}function d(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0|i.length,a=1,s=1<<o;a<s;++a){for(var u=[],c=0;c<o;++c)a>>>c&1&&u.push(i[c]);t.push(u)}return l(t)}function p(e,t){if(t<0)return[];for(var n=[],r=(1<<t+1)-1,i=0;i<e.length;++i)for(var o=e[i],a=r;a<1<<o.length;a=b.nextCombination(a)){for(var s=new Array(t+1),u=0,c=0;c<o.length;++c)a&1<<c&&(s[u++]=o[c]);n.push(s)}return l(n)}function m(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){for(var s=new Array(i.length-1),u=0,c=0;u<a;++u)u!==o&&(s[c++]=i[u]);t.push(s)}return l(t)}function v(e,t){for(var n=new x(t),r=0;r<e.length;++r)for(var i=e[r],o=0;o<i.length;++o)for(var a=o+1;a<i.length;++a)n.link(i[o],i[a]);for(var s=[],l=n.ranks,r=0;r<l.length;++r)l[r]=-1;for(var r=0;r<e.length;++r){var u=n.find(e[r][0]);l[u]<0?(l[u]=s.length,s.push([e[r].slice(0)])):s[l[u]].push(e[r].slice(0))}return s}function g(e){for(var t=u(l(p(e,0))),n=new x(t.length),r=0;r<e.length;++r)for(var i=e[r],o=0;o<i.length;++o)for(var a=c(t,[i[o]]),s=o+1;s<i.length;++s)n.link(a,c(t,[i[s]]));for(var f=[],h=n.ranks,r=0;r<h.length;++r)h[r]=-1;for(var r=0;r<e.length;++r){var d=n.find(c(t,[e[r][0]]));h[d]<0?(h[d]=f.length,f.push([e[r].slice(0)])):f[h[d]].push(e[r].slice(0))}return f}function y(e,t){return t?v(e,t):g(e)}var b=n(1678),x=n(1680);t.dimension=r,t.countVertices=i,t.cloneCells=o,t.compareCells=a,t.normalize=l,t.unique=u,t.findCell=c,t.incidence=f,t.dual=h,t.explode=d,t.skeleton=p,t.boundary=m,t.connectedComponents=y},function(e,t,n){"use strict";"use restrict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}e.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},r.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},function(e,t,n){"use strict";function r(e,t,n){return Math.abs(o(e,t,n))/Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function i(e,t,n){function i(e){if(b[e])return 1/0;var n=v[e],i=g[e];return n<0||i<0?1/0:r(t[e],t[n],t[i])}function o(e,t){var n=k[e],r=k[t];k[e]=r,k[t]=n,E[n]=t,E[r]=e}function s(e){return y[k[e]]}function l(e){return 1&e?e-1>>1:(e>>1)-1}function u(e){for(var t=s(e);;){var n=t,r=2*e+1,i=2*(e+1),a=e;if(r<S){var l=s(r);l<n&&(a=r,n=l)}if(i<S){s(i)<n&&(a=i)}if(a===e)return e;o(e,a),e=a}}function c(e){for(var t=s(e);e>0;){var n=l(e);if(n>=0){if(t<s(n)){o(e,n),e=n;continue}}return e}}function f(){if(S>0){var e=k[0];return o(0,S-1),S-=1,u(0),e}return-1}function h(e,t){var n=k[e];return y[n]===t?e:(y[n]=-1/0,c(e),f(),y[n]=t,S+=1,c(S-1))}function d(e,t){if(e[t]<0)return t;var n=t,r=t;do{var i=e[r];if(!b[r]||i<0||i===r)break;if(r=i,i=e[r],!b[r]||i<0||i===r)break;r=i,n=e[n]}while(n!==r);for(var o=t;o!==r;o=e[o])e[o]=r;return r}for(var p=t.length,m=e.length,v=new Array(p),g=new Array(p),y=new Array(p),b=new Array(p),x=0;x<p;++x)v[x]=g[x]=-1,y[x]=1/0,b[x]=!1;for(var x=0;x<m;++x){var _=e[x];if(2!==_.length)throw new Error("Input must be a graph");var w=_[1],M=_[0];-1!==g[M]?g[M]=-2:g[M]=w,-1!==v[w]?v[w]=-2:v[w]=M}for(var k=[],E=new Array(p),x=0;x<p;++x){(y[x]=i(x))<1/0?(E[x]=k.length,k.push(x)):E[x]=-1}for(var S=k.length,x=S>>1;x>=0;--x)u(x);for(;;){var T=f();if(T<0||y[T]>n)break;!function(e){if(!b[e]){b[e]=!0;var t=v[e],n=g[e];v[n]>=0&&(v[n]=t),g[t]>=0&&(g[t]=n),E[t]>=0&&h(E[t],i(t)),E[n]>=0&&h(E[n],i(n))}}(T)}for(var A=[],x=0;x<p;++x)b[x]||(E[x]=A.length,A.push(t[x].slice()));var C=(A.length,[]);return e.forEach(function(e){var t=d(v,e[0]),n=d(g,e[1]);if(t>=0&&n>=0&&t!==n){var r=E[t],i=E[n];r!==i&&C.push([r,i])}}),a.unique(a.normalize(C)),{positions:A,edges:C}}e.exports=i;var o=n(59),a=n(1679)},function(e,t,n){"use strict";function r(e,t){var n,r;if(t[0][0]<t[1][0])n=t[0],r=t[1];else{if(!(t[0][0]>t[1][0])){var i=Math.min(e[0][1],e[1][1]),a=Math.max(e[0][1],e[1][1]),s=Math.min(t[0][1],t[1][1]),l=Math.max(t[0][1],t[1][1]);return a<s?a-s:i>l?i-l:a-l}n=t[1],r=t[0]}var u,c;e[0][1]<e[1][1]?(u=e[0],c=e[1]):(u=e[1],c=e[0]);var f=o(r,n,u);return f||((f=o(r,n,c))||c-r)}function i(e,t){var n,i;if(t[0][0]<t[1][0])n=t[0],i=t[1];else{if(!(t[0][0]>t[1][0]))return r(t,e);n=t[1],i=t[0]}var a,s;if(e[0][0]<e[1][0])a=e[0],s=e[1];else{if(!(e[0][0]>e[1][0]))return-r(e,t);a=e[1],s=e[0]}var l=o(n,i,s),u=o(n,i,a);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=o(s,a,i),u=o(s,a,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return i[0]-s[0]}e.exports=i;var o=n(59)},function(e,t,n){"use strict";function r(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}function i(e,t){return e.y-t}function o(e,t){for(var n=null;e;){var r,i,a=e.key;a[0][0]<a[1][0]?(r=a[0],i=a[1]):(r=a[1],i=a[0]);var s=f(r,i,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==a[1][0])n=e,e=e.right;else{var l=o(e.right,t);if(l)return l;e=e.left}else{if(t[0]!==a[1][0])return e;var l=o(e.right,t);if(l)return l;e=e.left}}return n}function a(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function s(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}function l(e){for(var t=e.length,n=2*t,i=new Array(n),o=0;o<t;++o){var l=e[o],u=l[0][0]<l[1][0];i[2*o]=new s(l[0][0],l,u,o),i[2*o+1]=new s(l[1][0],l,!u,o)}i.sort(function(e,t){var n=e.x-t.x;return n||((n=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1]))});for(var f=c(h),d=[],p=[],m=[],o=0;o<n;){for(var v=i[o].x,g=[];o<n;){var y=i[o];if(y.x!==v)break;o+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(g.push(new a(y.segment[0][1],y.index,!0,!0)),g.push(new a(y.segment[1][1],y.index,!1,!1))):(g.push(new a(y.segment[1][1],y.index,!0,!1)),g.push(new a(y.segment[0][1],y.index,!1,!0)))):f=y.create?f.insert(y.segment,y.index):f.remove(y.segment)}d.push(f.root),p.push(v),m.push(g)}return new r(d,p,m)}e.exports=l;var u=n(96),c=n(947),f=n(59),h=n(1682);r.prototype.castUp=function(e){var t=u.le(this.coordinates,e[0]);if(t<0)return-1;var n=(this.slabs[t],o(this.slabs[t],e)),r=-1;if(n&&(r=n.value),this.coordinates[t]===e[0]){var a=null;if(n&&(a=n.key),t>0){var s=o(this.slabs[t-1],e);s&&(a?h(s.key,a)>0&&(a=s.key,r=s.value):(r=s.value,a=s.key))}var l=this.horizontal[t];if(l.length>0){var c=u.ge(l,e[1],i);if(c<l.length){var d=l[c];if(e[1]===d.y){if(d.closed)return d.index;for(;c<l.length-1&&l[c+1].y===e[1];)if(c+=1,d=l[c],d.closed)return d.index;if(d.y===e[1]&&!d.start){if((c+=1)>=l.length)return r;d=l[c]}}if(d.start)if(a){var p=f(a[0],a[1],[e[0],d.y]);a[0][0]>a[1][0]&&(p=-p),p>0&&(r=d.index)}else r=d.index;else d.y!==e[1]&&(r=d.index)}}}return r}},function(e,t,n){"use strict";function r(e,t,n,r,o){o<=4*h?i(0,o-1,e,t,n,r):f(0,o-1,e,t,n,r)}function i(e,t,n,r,i,o){for(var a=e+1;a<=t;++a){for(var s=n[a],l=r[2*a],u=r[2*a+1],c=i[a],f=o[a],h=a;h>e;){var d=n[h-1],p=r[2*(h-1)];if((d-s||l-p)>=0)break;n[h]=d,r[2*h]=p,r[2*h+1]=r[2*h-1],i[h]=i[h-1],o[h]=o[h-1],h-=1}n[h]=s,r[2*h]=l,r[2*h+1]=u,i[h]=c,o[h]=f}}function o(e,t,n,r,i,o){var a=n[e],s=r[2*e],l=r[2*e+1],u=i[e],c=o[e];n[e]=n[t],r[2*e]=r[2*t],r[2*e+1]=r[2*t+1],i[e]=i[t],o[e]=o[t],n[t]=a,r[2*t]=s,r[2*t+1]=l,i[t]=u,o[t]=c}function a(e,t,n,r,i,o){n[e]=n[t],r[2*e]=r[2*t],r[2*e+1]=r[2*t+1],i[e]=i[t],o[e]=o[t]}function s(e,t,n,r,i,o,a){var s=r[e],l=i[2*e],u=i[2*e+1],c=o[e],f=a[e];r[e]=r[t],i[2*e]=i[2*t],i[2*e+1]=i[2*t+1],o[e]=o[t],a[e]=a[t],r[t]=r[n],i[2*t]=i[2*n],i[2*t+1]=i[2*n+1],o[t]=o[n],a[t]=a[n],r[n]=s,i[2*n]=l,i[2*n+1]=u,o[n]=c,a[n]=f}function l(e,t,n,r,i,o,a,s,l,u,c){s[e]=s[t],l[2*e]=l[2*t],l[2*e+1]=l[2*t+1],u[e]=u[t],c[e]=c[t],s[t]=n,l[2*t]=r,l[2*t+1]=i,u[t]=o,c[t]=a}function u(e,t,n,r,i){return(n[e]-n[t]||r[2*t]-r[2*e]||i[e]-i[t])<0}function c(e,t,n,r,i,o,a,s){return(t-o[e]||a[2*e]-n||i-s[e])<0}function f(e,t,n,r,d,p){var m=(t-e+1)/6|0,v=e+m,g=t-m,y=e+t>>1,b=y-m,x=y+m,_=v,w=b,M=y,k=x,E=g,S=e+1,T=t-1,A=0;u(_,w,n,r,d,p)&&(A=_,_=w,w=A),u(k,E,n,r,d,p)&&(A=k,k=E,E=A),u(_,M,n,r,d,p)&&(A=_,_=M,M=A),u(w,M,n,r,d,p)&&(A=w,w=M,M=A),u(_,k,n,r,d,p)&&(A=_,_=k,k=A),u(M,k,n,r,d,p)&&(A=M,M=k,k=A),u(w,E,n,r,d,p)&&(A=w,w=E,E=A),u(w,M,n,r,d,p)&&(A=w,w=M,M=A),u(k,E,n,r,d,p)&&(A=k,k=E,E=A);var C=n[w],D=r[2*w],O=r[2*w+1],P=d[w],L=p[w],I=n[k],N=r[2*k],R=r[2*k+1],j=d[k],z=p[k],F=_,B=M,U=E,V=v,H=y,Y=g,W=n[F],q=n[B],G=n[U];n[V]=W,n[H]=q,n[Y]=G;for(var X=0;X<2;++X){var Z=r[2*F+X],K=r[2*B+X],$=r[2*U+X];r[2*V+X]=Z,r[2*H+X]=K,r[2*Y+X]=$}var J=d[F],Q=d[B],ee=d[U];d[V]=J,d[H]=Q,d[Y]=ee;var te=p[F],ne=p[B],re=p[U];p[V]=te,p[H]=ne,p[Y]=re,a(b,e,n,r,d,p),a(x,t,n,r,d,p);for(var ie=S;ie<=T;++ie)if(c(ie,C,D,O,P,n,r,d))ie!==S&&o(ie,S,n,r,d,p),++S;else if(!c(ie,I,N,R,j,n,r,d))for(;;){if(c(T,I,N,R,j,n,r,d)){c(T,C,D,O,P,n,r,d)?(s(ie,S,T,n,r,d,p),++S,--T):(o(ie,T,n,r,d,p),--T);break}if(--T<ie)break}l(e,S-1,C,D,O,P,L,n,r,d,p),l(t,T+1,I,N,R,j,z,n,r,d,p),S-2-e<=h?i(e,S-2,n,r,d,p):f(e,S-2,n,r,d,p),t-(T+2)<=h?i(T+2,t,n,r,d,p):f(T+2,t,n,r,d,p),T-S<=h?i(S,T,n,r,d,p):f(S,T,n,r,d,p)}e.exports=r;var h=32},function(e,t,n){!function(e){function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(e,t){var a,s,l,u,c,f,h,d=1,p=e.length,m="",v=[],g=!0,y="";for(s=0;s<p;s++)if("string"===(m=r(e[s])))v[v.length]=e[s];else if("array"===m){if(u=e[s],u[2])for(a=t[d],l=0;l<u[2].length;l++){if(!a.hasOwnProperty(u[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",u[2][l]));a=a[u[2][l]]}else a=u[1]?t[u[1]]:t[d++];if("function"==r(a)&&(a=a()),o.not_string.test(u[8])&&o.not_json.test(u[8])&&"number"!=r(a)&&isNaN(a))throw new TypeError(n("[sprintf] expecting number but found %s",r(a)));switch(o.number.test(u[8])&&(g=a>=0),u[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,u[6]?parseInt(u[6]):0);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"g":a=u[7]?parseFloat(a).toPrecision(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}o.json.test(u[8])?v[v.length]=a:(!o.number.test(u[8])||g&&!u[3]?y="":(y=g?"+":"-",a=a.toString().replace(o.sign,"")),f=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",h=u[6]-(y+a).length,c=u[6]&&h>0?i(f,h):"",v[v.length]=u[5]?y+a+c:"0"===f?y+c+a:c+y+a)}return v.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=o.text.exec(t)))r[r.length]=n[0];else if(null!==(n=o.modulo.exec(t)))r[r.length]="%";else{if(null===(n=o.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var a=[],s=n[2],l=[];if(null===(l=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=o.key_access.exec(s)))a[a.length]=l[1];else{if(null===(l=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=l[1]}n[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}t=t.substring(n[0].length)}return r};var a=function(e,t,r){return r=(t||[]).slice(0),r.splice(0,0,e),n.apply(null,r)};t.sprintf=n,t.vsprintf=a}("undefined"===typeof window||window)},function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){this.options=d(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function o(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function a(e,t){var n=e.geometry.coordinates;return{x:u(n[0]),y:c(n[1]),zoom:1/0,id:t,parentId:-1}}function s(e){return{type:"Feature",properties:l(e),geometry:{type:"Point",coordinates:[f(e.x),h(e.y)]}}}function l(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return d(d({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function u(e){return e/360+.5}function c(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function f(e){return 360*(e-.5)}function h(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function d(e,t){for(var n in t)e[n]=t[n];return e}function p(e){return e.x}function m(e){return e.y}var v=n(1066);e.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var n="prepare "+e.length+" points";t&&console.time(n),this.points=e;var r=e.map(a);t&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=v(r,p,m,this.options.nodeSize,Float32Array),r=this._cluster(r,i),t&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=v(r,p,m,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var n=this.trees[this._limitZoom(t)],r=n.range(u(e[0]),c(e[3]),u(e[2]),c(e[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.numPoints?s(a):this.points[a.id])}return i},getChildren:function(e,t){for(var n=this.trees[t+1].points[e],r=this.options.radius/(this.options.extent*Math.pow(2,t)),i=this.trees[t+1].within(n.x,n.y,r),o=[],a=0;a<i.length;a++){var l=this.trees[t+1].points[i[a]];l.parentId===e&&o.push(l.numPoints?s(l):this.points[l.id])}return o},getLeaves:function(e,t,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,t,n,r,0),i},getTile:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options.extent,a=this.options.radius,s=a/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,u),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null},getClusterExpansionZoom:function(e,t){for(;t<this.options.maxZoom;){var n=this.getChildren(e,t);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},_appendLeaves:function(e,t,n,r,i,o){for(var a=this.getChildren(t,n),s=0;s<a.length;s++){var l=a[s].properties;if(l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,n+1,r,i,o):o<i?o++:e.push(a[s]),e.length===r)break}return o},_addTileFeatures:function(e,t,n,r,i,o){for(var a=0;a<e.length;a++){var s=t[e[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?l(s):this.points[s.id].properties})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,t)),i=0;i<e.length;i++){var a=e[i];if(!(a.zoom<=t)){a.zoom=t;var s=this.trees[t+1],l=s.within(a.x,a.y,r),u=a.numPoints||1,c=a.x*u,f=a.y*u,h=null;this.options.reduce&&(h=this.options.initial(),this._accumulate(h,a));for(var d=0;d<l.length;d++){var p=s.points[l[d]];if(t<p.zoom){var m=p.numPoints||1;p.zoom=t,c+=p.x*m,f+=p.y*m,u+=m,p.parentId=i,this.options.reduce&&this._accumulate(h,p)}}1===u?n.push(a):(a.parentId=i,n.push(o(c/u,f/u,u,i,h)))}}return n},_accumulate:function(e,t){var n=t.numPoints?t.properties:this.options.map(this.points[t.id].properties);this.options.reduce(e,n)}}},function(e,t,n){"use strict";function r(e){return e.split("").map(function(e){return e in i?i[e]:""}).join("")}e.exports=r;var i={" ":" ",0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻",a:"ᵃ",b:"ᵇ",c:"ᶜ",d:"ᵈ",e:"ᵉ",f:"ᶠ",g:"ᵍ",h:"ʰ",i:"ⁱ",j:"ʲ",k:"ᵏ",l:"ˡ",m:"ᵐ",n:"ⁿ",o:"ᵒ",p:"ᵖ",r:"ʳ",s:"ˢ",t:"ᵗ",u:"ᵘ",v:"ᵛ",w:"ʷ",x:"ˣ",y:"ʸ",z:"ᶻ"}},function(e,t,n){"use strict";(function(t){function r(e){for(var t=e.cells,n=e.positions,r=new Float32Array(6*t.length),i=0,o=0,a=0;a<t.length;++a)for(var s=t[a],l=0;l<3;++l){var u=n[s[l]];r[i++]=u[0],r[i++]=u[1]+1.4,o=Math.max(u[0],o)}return{data:r,shape:o}}function i(e,t,n){var n=n||{},a=s[e];a||(a=s[e]={" ":{data:new Float32Array(0),shape:.2}});var l=a[t];if(!l)if(t.length<=1||!/\d/.test(t))l=a[t]=r(o(t,{triangles:!0,font:e,textAlign:n.textAlign||"left",textBaseline:"alphabetic"}));else{for(var u=t.split(/(\d|\s)/),c=new Array(u.length),f=0,h=0,d=0;d<u.length;++d)c[d]=i(e,u[d]),f+=c[d].data.length,h+=c[d].shape,d>0&&(h+=.02);for(var p=new Float32Array(f),m=0,v=-.5*h,d=0;d<c.length;++d){for(var g=c[d].data,y=0;y<g.length;y+=2)p[m++]=g[y]+v,p[m++]=g[y+1];v+=c[d].shape+.02}l=a[t]={data:p,shape:h}}return l}e.exports=i;var o=n(378),a=window||t.global||{},s=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}}).call(t,n(72))},function(e,t,n){"use strict";function r(e,t,n,r,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=e+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(e,t,n,r,i,a,s){for(var l=0;l<t;l++){for(var u=0;u<n;u++)r[u]=e[u*t+l];for(o(r,i,a,s,n),u=0;u<n;u++)e[u*t+l]=i[u]}for(u=0;u<n;u++){for(l=0;l<t;l++)r[l]=e[u*t+l];for(o(r,i,a,s,t),l=0;l<t;l++)e[u*t+l]=Math.sqrt(i[l])}}function o(e,t,n,r,i){n[0]=0,r[0]=-a,r[1]=+a;for(var o=1,s=0;o<i;o++){for(var l=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);l<=r[s];)s--,l=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);s++,n[s]=o,r[s]=l,r[s+1]=+a}for(o=0,s=0;o<i;o++){for(;r[s+1]<o;)s++;t[o]=(o-n[s])*(o-n[s])+e[n[s]]}}e.exports=r;var a=1e20;r.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=t.data,r=0;r<this.size*this.size;r++){var o=n[4*r+3]/255;this.gridOuter[r]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[r]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(i(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),i(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var s=this.gridOuter[r]-this.gridInner[r],l=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))));n[4*r+0]=l,n[4*r+1]=l,n[4*r+2]=l,n[4*r+3]=255}return t}},function(e,t,n){"use strict";function r(e,t){var n=a(getComputedStyle(e).getPropertyValue(t));return n[0]*o(n[1],e)}function i(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var i=r(n,"font-size")/128;return t.removeChild(n),i}function o(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return i(e,t);case"em":return r(t,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}var a=n(1277);e.exports=o;var s=96},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}},function(e,t,n){"use strict";function r(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)}function i(e,t){function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Polygon":s(e.arcs);break;case"MultiPolygon":e.arcs.forEach(s)}}function s(e){e.forEach(function(t){t.forEach(function(t){(u[t=t<0?~t:t]||(u[t]=[])).push(e)})}),c.push(e)}function l(t){return r(n.i(o.b)(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var u={},c=[],f=[];return t.forEach(i),c.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,f.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){u[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),c.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:f.map(function(t){var r,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){u[e<0?~e:e].length<2&&i.push(e)})})}),i=n.i(a.a)(e,i),(r=i.length)>1)for(var o,s,c=1,f=l(i[0]);c<r;++c)(o=l(i[c]))>f&&(s=i[0],i[0]=i[c],i[c]=s,f=o);return i})}}t.b=i;var o=n(376),a=n(671);t.a=function(e){return n.i(o.b)(e,i.apply(this,arguments))}},function(e,t,n){"use strict";function r(e,t,r){var o,s,l;if(arguments.length>1)o=i(e,t,r);else for(s=0,o=new Array(l=e.arcs.length);s<l;++s)o[s]=s;return{type:"MultiLineString",arcs:n.i(a.a)(e,o)}}function i(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function i(e){e.forEach(r)}function o(e){e.forEach(i)}function a(e){e.forEach(o)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":o(e.arcs);break;case"MultiPolygon":a(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==n?function(e){u.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}t.b=r;var o=n(376),a=n(671);t.a=function(e){return n.i(o.b)(e,r.apply(this,arguments))}},function(e,t,n){"use strict";var r=n(1691);t.a=function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=a[e];n?n.push(t):a[e]=[t]})}function i(e,n){e.forEach(function(e){t(e,n)})}function o(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){o(e,t)}):e.type in l&&l[e.type](e.arcs,t)}var a={},s=e.map(function(){return[]}),l={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(e,t){e.forEach(function(e){i(e,t)})}};e.forEach(o);for(var u in a)for(var c=a[u],f=c.length,h=0;h<f;++h)for(var d=h+1;d<f;++d){var p,m=c[h],v=c[d];(p=s[m])[u=n.i(r.a)(p,v)]!==v&&p.splice(u,0,v),(p=s[v])[u=n.i(r.a)(p,m)]!==m&&p.splice(u,0,m)}return s}},function(e,t,n){"use strict";var r=n(669);t.a=function(e,t){function i(e){e[0]=Math.round((e[0]-l)/u),e[1]=Math.round((e[1]-c)/f)}function o(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"Point":i(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(i)}}if(!((t=Math.floor(t))>=2))throw new Error("n must be ≥2");if(e.transform)throw new Error("already quantized");var a,s=n.i(r.a)(e),l=s[0],u=(s[2]-l)/(t-1)||1,c=s[1],f=(s[3]-c)/(t-1)||1;e.arcs.forEach(function(e){for(var t,n,r,i=1,o=1,a=e.length,s=e[0],h=s[0]=Math.round((s[0]-l)/u),d=s[1]=Math.round((s[1]-c)/f);i<a;++i)s=e[i],n=Math.round((s[0]-l)/u),r=Math.round((s[1]-c)/f),n===h&&r===d||(t=e[o++],t[0]=n-h,h=n,t[1]=r-d,d=r);o<2&&(t=e[o++],t[0]=0,t[1]=0),e.length=o});for(a in e.objects)o(e.objects[a]);return e.transform={scale:[u,f],translate:[l,c]},e}},function(e,t,n){"use strict";t.a=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}},function(e,t,n){"use strict";var r=n(670);t.a=function(e){if(null==(t=e.transform))return r.a;var t,n,i,o=t.scale[0],a=t.scale[1],s=t.translate[0],l=t.translate[1];return function(e,t){t||(n=i=0);var r=Math.round((e[0]-s)/o),u=Math.round((e[1]-l)/a);return e[0]=r-n,n=r,e[1]=u-i,i=u,e}}},function(e,t,n){"use strict";function r(e){if(e<0)return[];if(0===e)return[[0]];for(var t=0|Math.round(a(e+1)),n=[],r=0;r<t;++r){for(var s=i.unrank(e,r),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);o(s)<1&&(l[0]=u,l[e]=0),n.push(l)}return n}e.exports=r;var i=n(1280),o=n(1279),a=n(948)},function(e,t,n){"use strict";function r(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function i(e){return Math.min(1,Math.max(-1,e))}function o(e){var t=Math.abs(e[0]),n=Math.abs(e[1]),r=Math.abs(e[2]),i=[0,0,0];t>Math.max(n,r)?i[2]=1:n>Math.max(t,r)?i[0]=1:i[1]=1;for(var o=0,a=0,s=0;s<3;++s)o+=e[s]*e[s],a+=i[s]*e[s];for(var s=0;s<3;++s)i[s]-=a/o*e[s];return h(i,i),i}function a(e,t,n,r,i,o,a,s){this.center=l(n),this.up=l(r),this.right=l(i),this.radius=l([o]),this.angle=l([a,s]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}function s(e){e=e||{};var t=e.center||[0,0,0],n=e.up||[0,1,0],i=e.right||o(n),s=e.radius||1,l=e.theta||0,u=e.phi||0;if(t=[].slice.call(t,0,3),n=[].slice.call(n,0,3),h(n,n),i=[].slice.call(i,0,3),h(i,i),"eye"in e){var c=e.eye,p=[c[0]-t[0],c[1]-t[1],c[2]-t[2]];f(i,p,n),r(i[0],i[1],i[2])<1e-6?i=o(n):h(i,i),s=r(p[0],p[1],p[2]);var m=d(n,p)/s,v=d(i,p)/s;u=Math.acos(m),l=Math.acos(v)}return s=Math.log(s),new a(e.zoomMin,e.zoomMax,t,n,i,s,l,u)}e.exports=s;var l=n(451),u=n(86),c=n(982),f=n(476),h=n(287),d=n(477),p=a.prototype;p.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},p.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},p.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,n=this.computedRight,i=0,o=0,a=0;a<3;++a)o+=t[a]*n[a],i+=t[a]*t[a];for(var s=Math.sqrt(i),l=0,a=0;a<3;++a)n[a]-=t[a]*o/i,l+=n[a]*n[a],t[a]/=s;for(var u=Math.sqrt(l),a=0;a<3;++a)n[a]/=u;var c=this.computedToward;f(c,t,n),h(c,c);for(var d=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],m=this.computedAngle[1],v=Math.cos(p),g=Math.sin(p),y=Math.cos(m),b=Math.sin(m),x=this.computedCenter,_=v*y,w=g*y,M=b,k=-v*b,E=-g*b,S=y,T=this.computedEye,A=this.computedMatrix,a=0;a<3;++a){var C=_*n[a]+w*c[a]+M*t[a];A[4*a+1]=k*n[a]+E*c[a]+S*t[a],A[4*a+2]=C,A[4*a+3]=0}var D=A[1],O=A[5],P=A[9],L=A[2],I=A[6],N=A[10],R=O*N-P*I,j=P*L-D*N,z=D*I-O*L,F=r(R,j,z);R/=F,j/=F,z/=F,A[0]=R,A[4]=j,A[8]=z;for(var a=0;a<3;++a)T[a]=x[a]+A[2+4*a]*d;for(var a=0;a<3;++a){for(var l=0,B=0;B<3;++B)l+=A[a+4*B]*T[B];A[12+a]=-l}A[15]=1},p.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n};var m=[0,0,0];p.rotate=function(e,t,n,r){if(this.angle.move(e,t,n),r){this.recalcMatrix(e);var i=this.computedMatrix;m[0]=i[2],m[1]=i[6],m[2]=i[10];for(var o=this.computedUp,a=this.computedRight,s=this.computedToward,l=0;l<3;++l)i[4*l]=o[l],i[4*l+1]=a[l],i[4*l+2]=s[l];c(i,i,r,m);for(var l=0;l<3;++l)o[l]=i[4*l],a[l]=i[4*l+1];this.up.set(e,o[0],o[1],o[2]),this.right.set(e,a[0],a[1],a[2])}},p.pan=function(e,t,n,i){t=t||0,n=n||0,i=i||0,this.recalcMatrix(e);var o=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),o[1]),s=o[5],l=o[9],u=r(a,s,l);a/=u,s/=u,l/=u;var c=o[0],f=o[4],h=o[8],d=c*a+f*s+h*l;c-=a*d,f-=s*d,h-=l*d;var p=r(c,f,h);c/=p,f/=p,h/=p;var m=c*t+a*n,v=f*t+s*n,g=h*t+l*n;this.center.move(e,m,v,g);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+i),this.radius.set(e,Math.log(y))},p.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},p.setMatrix=function(e,t,n,o){var a=1;"number"===typeof n&&(a=0|n),(a<0||a>3)&&(a=1);var s=(a+2)%3;t||(this.recalcMatrix(e),t=this.computedMatrix);var l=t[a],c=t[a+4],f=t[a+8];if(o){var h=Math.abs(l),d=Math.abs(c),p=Math.abs(f),m=Math.max(h,d,p);h===m?(l=l<0?-1:1,c=f=0):p===m?(f=f<0?-1:1,l=c=0):(c=c<0?-1:1,l=f=0)}else{var v=r(l,c,f);l/=v,c/=v,f/=v}var g=t[s],y=t[s+4],b=t[s+8],x=g*l+y*c+b*f;g-=l*x,y-=c*x,b-=f*x;var _=r(g,y,b);g/=_,y/=_,b/=_;var w=c*b-f*y,M=f*g-l*b,k=l*y-c*g,E=r(w,M,k);w/=E,M/=E,k/=E,this.center.jump(e,Y,W,q),this.radius.idle(e),this.up.jump(e,l,c,f),this.right.jump(e,g,y,b);var S,T;if(2===a){var A=t[1],C=t[5],D=t[9],O=A*g+C*y+D*b,P=A*w+C*M+D*k;S=R<0?-Math.PI/2:Math.PI/2,T=Math.atan2(P,O)}else{var L=t[2],I=t[6],N=t[10],R=L*l+I*c+N*f,j=L*g+I*y+N*b,z=L*w+I*M+N*k;S=Math.asin(i(R)),T=Math.atan2(z,j)}this.angle.jump(e,T,S),this.recalcMatrix(e);var F=t[2],B=t[6],U=t[10],V=this.computedMatrix;u(V,t);var H=V[15],Y=V[12]/H,W=V[13]/H,q=V[14]/H,G=Math.exp(this.computedRadius[0]);this.center.jump(e,Y-F*G,W-B*G,q-U*G)},p.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},p.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},p.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},p.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},p.lookAt=function(e,t,n,o){this.recalcMatrix(e),t=t||this.computedEye,n=n||this.computedCenter,o=o||this.computedUp;var a=o[0],s=o[1],l=o[2],u=r(a,s,l);if(!(u<1e-6)){a/=u,s/=u,l/=u;var c=t[0]-n[0],f=t[1]-n[1],h=t[2]-n[2],d=r(c,f,h);if(!(d<1e-6)){c/=d,f/=d,h/=d;var p=this.computedRight,m=p[0],v=p[1],g=p[2],y=a*m+s*v+l*g;m-=y*a,v-=y*s,g-=y*l;var b=r(m,v,g);if(!(b<.01&&(m=s*h-l*f,v=l*c-a*h,g=a*f-s*c,(b=r(m,v,g))<1e-6))){m/=b,v/=b,g/=b,this.up.set(e,a,s,l),this.right.set(e,m,v,g),this.center.set(e,n[0],n[1],n[2]),this.radius.set(e,Math.log(d));var x=s*g-l*v,_=l*m-a*g,w=a*v-s*m,M=r(x,_,w);x/=M,_/=M,w/=M;var k=a*c+s*f+l*h,E=m*c+v*f+g*h,S=x*c+_*f+w*h,T=Math.asin(i(k)),A=Math.atan2(S,E),C=this.angle._state,D=C[C.length-1],O=C[C.length-2];D%=2*Math.PI;var P=Math.abs(D+2*Math.PI-A),L=Math.abs(D-A),I=Math.abs(D-2*Math.PI-A);P<L&&(D+=2*Math.PI),I<L&&(D-=2*Math.PI),this.angle.jump(this.angle.lastT(),D,O),this.angle.set(e,A,T)}}}}},function(e,t){function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=n,n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){"undefined"===typeof t&&(t=1e-6);var n,r,i,o,a;for(i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,(i=e)<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=n(675);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){for(var r=t.textAlign||"start",i=t.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=e.length,l=0;l<s;++l)for(var u=e[l],c=0;c<2;++c)o[c]=0|Math.min(o[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var f=0;switch(r){case"center":f=-.5*(o[0]+a[0]);break;case"right":case"end":f=-a[0];break;case"left":case"start":f=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var h=0;switch(i){case"hanging":case"top":h=-o[1];break;case"middle":h=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":h=-3*n;break;case"bottom":h=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var d=1/n;return"lineHeight"in t?d*=+t.lineHeight:"width"in t?d=t.width/(a[0]-o[0]):"height"in t&&(d=t.height/(a[1]-o[1])),e.map(function(e){return[d*(e[0]+f),d*(e[1]+h)]})}function i(e,t,n,r){var i=0|Math.ceil(t.measureText(n).width+2*r);if(i>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var o=3*r;e.height<o&&(e.height=o),t.fillStyle="#000",t.fillRect(0,0,e.width,e.height),t.fillStyle="#fff",t.fillText(n,r,2*r);var a=t.getImageData(0,0,i,o);return c(a.data,[o,i,4]).pick(-1,-1,0).transpose(1,0)}function o(e,t){var n=u(e,128);return t?f(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function a(e,t,n,i){var a=o(e,i),s=r(a.positions,t,n),l=a.edges,u="ccw"===t.orientation;if(h(s,l),t.polygons||t.polygon||t.polyline){for(var c=p(l,s),f=new Array(c.length),m=0;m<c.length;++m){for(var v=c[m],g=new Array(v.length),y=0;y<v.length;++y){for(var b=v[y],x=new Array(b.length),_=0;_<b.length;++_)x[_]=s[b[_]].slice();u&&x.reverse(),g[y]=x}f[m]=g}return f}return t.triangles||t.triangulate||t.triangle?{cells:d(s,l,{delaunay:!1,exterior:!1,interior:!0}),positions:s}:{edges:l,positions:s}}function s(e,t,n){try{return a(e,t,n,!0)}catch(e){}try{return a(e,t,n,!1)}catch(e){}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function l(e,t,n,r){var o=r.size||64,a=r.font||"normal";return n.font=o+"px "+a,n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",s(i(t,n,e,o),r,o)}e.exports=l,e.exports.processPixels=s;var u=n(667),c=n(52),f=n(1681),h=n(911),d=n(904),p=n(1283)},function(e,t,n){function r(e){var t=[];for(var n in e.layers)t.push(o(e.layers[n]));var r=new c;return f.tile.write({layers:t},r),r.finish()}function i(e){var t={};for(var n in e)t[n]=new h(e[n].features),t[n].name=n;return r({layers:t})}function o(e){for(var t={name:e.name||"",version:e.version||1,extent:e.extent||4096,keys:[],values:[],features:[]},n={},r={},i=0;i<e.length;i++){var o=e.feature(i);o.geometry=l(o.loadGeometry());var a=[];for(var s in o.properties){var c=n[s];"undefined"===typeof c&&(t.keys.push(s),c=t.keys.length-1,n[s]=c);var f=u(o.properties[s]),h=r[f.key];"undefined"===typeof h&&(t.values.push(f),h=t.values.length-1,r[f.key]=h),a.push(c),a.push(h)}o.tags=a,t.features.push(o)}return t}function a(e,t){return(t<<3)+(7&e)}function s(e){return e<<1^e>>31}function l(e){for(var t=[],n=0,r=0,i=e.length,o=0;o<i;o++){var l=e[o];t.push(a(1,1));for(var u=0;u<l.length;u++){1===u&&t.push(a(2,l.length-1));var c=l[u].x-n,f=l[u].y-r;t.push(s(c),s(f)),n+=c,r+=f}}return t}function u(e){var t,n=typeof e;return"string"===n?t={string_value:e}:"boolean"===n?t={bool_value:e}:"number"===n?t=e%1!==0?{double_value:e}:e<0?{sint_value:e}:{uint_value:e}:(e=JSON.stringify(e),t={string_value:e}),t.key=n+":"+e,t}var c=n(162),f=n(1705),h=n(1704);e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=i,e.exports.GeoJSONWrapper=h},function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length}function i(e){this.id="number"===typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var o=n(22),a=n(183).VectorTileFeature;e.exports=r,r.prototype.feature=function(e){return new i(this.features[e])},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},function(e,t,n){"use strict";function r(e,t){return e.readFields(i,{layers:[]},t)}function i(e,t,n){3===e&&t.layers.push(h(n,n.readVarint()+n.pos))}function o(e,t){var n;if(void 0!==e.layers)for(n=0;n<e.layers.length;n++)t.writeMessage(3,p,e.layers[n])}function a(e,t){return e.readFields(s,{},t)}function s(e,t,n){1===e?t.string_value=n.readString():2===e?t.float_value=n.readFloat():3===e?t.double_value=n.readDouble():4===e?t.int_value=n.readVarint():5===e?t.uint_value=n.readVarint():6===e?t.sint_value=n.readSVarint():7===e&&(t.bool_value=n.readBoolean())}function l(e,t){void 0!==e.string_value&&t.writeStringField(1,e.string_value),void 0!==e.float_value&&t.writeFloatField(2,e.float_value),void 0!==e.double_value&&t.writeDoubleField(3,e.double_value),void 0!==e.int_value&&t.writeVarintField(4,e.int_value),void 0!==e.uint_value&&t.writeVarintField(5,e.uint_value),void 0!==e.sint_value&&t.writeSVarintField(6,e.sint_value),void 0!==e.bool_value&&t.writeBooleanField(7,e.bool_value)}function u(e,t){var n=e.readFields(c,{},t);return void 0===n.type&&(n.type="Unknown"),n}function c(e,t,n){1===e?t.id=n.readVarint():2===e?t.tags=n.readPackedVarint():3===e?t.type=n.readVarint():4===e&&(t.geometry=n.readPackedVarint())}function f(e,t){void 0!==e.id&&t.writeVarintField(1,e.id),void 0!==e.tags&&t.writePackedVarint(2,e.tags),void 0!==e.type&&t.writeVarintField(3,e.type),void 0!==e.geometry&&t.writePackedVarint(4,e.geometry)}function h(e,t){return e.readFields(d,{features:[],keys:[],values:[]},t)}function d(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():2===e?t.features.push(u(n,n.readVarint()+n.pos)):3===e?t.keys.push(n.readString()):4===e?t.values.push(a(n,n.readVarint()+n.pos)):5===e&&(t.extent=n.readVarint())}function p(e,t){void 0!==e.version&&t.writeVarintField(15,e.version),void 0!==e.name&&t.writeStringField(1,e.name);var n;if(void 0!==e.features)for(n=0;n<e.features.length;n++)t.writeMessage(2,f,e.features[n]);if(void 0!==e.keys)for(n=0;n<e.keys.length;n++)t.writeStringField(3,e.keys[n]);if(void 0!==e.values)for(n=0;n<e.values.length;n++)t.writeMessage(4,l,e.values[n]);void 0!==e.extent&&t.writeVarintField(5,e.extent)}var m=t.tile={read:r,write:o};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:a,write:l},m.feature={read:u,write:f},m.layer={read:h,write:p}},function(e,t){!function(){"use strict";function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}function n(e){return!(e.substr(0,d.length)==d&&"___"===e.substr(e.length-3))}function r(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(h(e)){t={key:e};try{return f(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function i(e){return e.prototype=null,Object.freeze(e)}function o(){y||"undefined"===typeof console||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"===typeof ses||!ses.ok||ses.ok()){"undefined"!==typeof ses&&(ses.weakMapPermitHostObjects=t);var a=!1;if("function"===typeof WeakMap){var s=WeakMap;if("undefined"!==typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new s,u=Object.freeze({});if(l.set(u,1),1===l.get(u))return void(e.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),f=Object.defineProperty,h=Object.isExtensible,d="weakmap:",p=d+"ident:"+Math.random()+"___";if("undefined"!==typeof crypto&&"function"===typeof crypto.getRandomValues&&"function"===typeof ArrayBuffer&&"function"===typeof Uint8Array){var m=new ArrayBuffer(25),v=new Uint8Array(m);crypto.getRandomValues(v),p=d+"rand:"+Array.prototype.map.call(v,function(e){return(e%36).toString(36)}).join("")+"___"}if(f(Object,"getOwnPropertyNames",{value:function(e){return c(e).filter(n)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(e){return g(e).filter(n)}})}!function(){var e=Object.freeze;f(Object,"freeze",{value:function(t){return r(t),e(t)}});var t=Object.seal;f(Object,"seal",{value:function(e){return r(e),t(e)}});var n=Object.preventExtensions;f(Object,"preventExtensions",{value:function(e){return r(e),n(e)}})}();var y=!1,b=0,x=function(){function e(e,t){var n,i=r(e);return i?u in i?i[u]:t:(n=s.indexOf(e),n>=0?l[n]:t)}function t(e){var t=r(e);return t?u in t:s.indexOf(e)>=0}function n(e,t){var n,i=r(e);return i?i[u]=t:(n=s.indexOf(e),n>=0?l[n]=t:(n=s.length,l[n]=t,s[n]=e)),this}function a(e){var t,n,i=r(e);return i?u in i&&delete i[u]:!((t=s.indexOf(e))<0)&&(n=s.length-1,s[t]=void 0,l[t]=l[n],s[t]=s[n],s.length=n,l.length=n,!0)}this instanceof x||o();var s=[],l=[],u=b++;return Object.create(x.prototype,{get___:{value:i(e)},has___:{value:i(t)},set___:{value:i(n)},delete___:{value:i(a)}})};x.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"===typeof s?function(){function n(){function e(e,t){return c?u.has(e)?u.get(e):c.get___(e,t):u.get(e,t)}function n(e){return u.has(e)||!!c&&c.has___(e)}function r(e){var t=!!u.delete(e);return c?c.delete___(e)||t:t}this instanceof x||o();var l,u=new s,c=void 0,f=!1;return l=a?function(e,t){return u.set(e,t),u.has(e)||(c||(c=new x),c.set(e,t)),this}:function(e,t){if(f)try{u.set(e,t)}catch(n){c||(c=new x),c.set___(e,t)}else u.set(e,t);return this},Object.create(x.prototype,{get___:{value:i(e)},has___:{value:i(n)},set___:{value:i(l)},delete___:{value:i(r)},permitHostObjects___:{value:i(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");f=!0})}})}a&&"undefined"!==typeof Proxy&&(Proxy=void 0),n.prototype=x.prototype,e.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!==typeof Proxy&&(Proxy=void 0),e.exports=x)}}()},function(e,t,n){function r(){var e={};return function(t){if(("object"!==typeof t||null===t)&&"function"!==typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:i(t,e)}}var i=n(1708);e.exports=r},function(e,t){function n(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}e.exports=n},function(e,t){var n=arguments[3],r=arguments[4],i=arguments[5],o=JSON.stringify;e.exports=function(e,t){function a(e){v[e]=!0;for(var t in r[e][1]){var n=r[e][1][t];v[n]||a(n)}}for(var s,l=Object.keys(i),u=0,c=l.length;u<c;u++){var f=l[u],h=i[f].exports;if(h===e||h&&h.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},u=0,c=l.length;u<c;u++){var f=l[u];d[f]=f}r[s]=[Function(["require","module","exports"],"("+e+")(self)"),d]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,r[p]=[Function(["require"],"var f = require("+o(s)+");(f.default ? f.default : f)(self);"),m];var v={};a(p);var g="("+n+")({"+Object.keys(v).map(function(e){return o(e)+":["+r[e][0]+","+o(r[e][1])+"]"}).join(",")+"},{},["+o(p)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return b;var x=y.createObjectURL(b),_=new Worker(x);return _.objectURL=x,_}},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t,n){!function(e,n){n(t)}(0,function(e){function t(e,t,r,i,o,a){return a=a||{},e+"?"+["bbox="+n(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+t].join("&")}function n(e,t,n){t=Math.pow(2,n)-t-1;var i=r(256*e,256*t,n),o=r(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}e.getURL=t,e.getTileBBox=n,e.getMercCoords=r,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function i(e,t,n,r){var i,o;if("object"===typeof e)i=e,o=t||{};else{if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=31))throw new Error("Solar day outside range 1 - 31");i={year:e,month:t,day:n},o=r||{}}var a=p[i.year-p[0]],s=i.year<<9|i.month<<5|i.day;o.year=s>=a?i.year:i.year-1,a=p[o.year-p[0]];var l,u=a>>9&4095,c=a>>5&15,f=31&a,h=new Date(u,c-1,f),m=new Date(i.year,i.month-1,i.day);l=Math.round((m-h)/864e5);var v,g=d[o.year-d[0]];for(v=0;v<13;v++){var y=g&1<<12-v?30:29;if(l<y)break;l-=y}var b=g>>13;return!b||v<b?(o.isIntercalary=!1,o.month=1+v):v===b?(o.isIntercalary=!0,o.month=v):(o.isIntercalary=!1,o.month=v),o.day=1+l,o}function o(e,t,n,r,i){var o,a;if("object"===typeof e)a=e,o=t||{};else{if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");var s;"object"===typeof r?(s=!1,o=r):(s=!!r,o=i||{}),a={year:e,month:t,day:n,isIntercalary:s}}var l;l=a.day-1;var u,c=d[a.year-d[0]],f=c>>13;u=f?a.month>f?a.month:a.isIntercalary?a.month:a.month-1:a.month-1;for(var h=0;h<u;h++){l+=c&1<<12-h?30:29}var m=p[a.year-p[0]],v=m>>9&4095,g=m>>5&15,y=31&m,b=new Date(v,g-1,y+l);return o.year=b.getFullYear(),o.month=1+b.getMonth(),o.day=b.getDate(),o}var a=n(39),s=n(11),l=a.instance();r.prototype=new a.baseCalendar,s(r.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,t){if("string"===typeof e){var n=e.match(c);return n?n[0]:""}var r=this._validateYear(e),i=e.month(),o=""+this.toChineseMonth(r,i);return t&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(r,i)&&(o+="i"),o},monthNames:function(e){if("string"===typeof e){var t=e.match(f);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=this.toChineseMonth(n,r),o=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][i-1];return this.isIntercalaryMonth(n,r)&&(o="闰"+o),o},monthNamesShort:function(e){if("string"===typeof e){var t=e.match(h);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=this.toChineseMonth(n,r),o=["一","二","三","四","五","六","七","八","九","十","十一","十二"][i-1];return this.isIntercalaryMonth(n,r)&&(o="闰"+o),o},parseMonth:function(e,t){e=this._validateYear(e);var n,r=parseInt(t);if(isNaN(r))"闰"===t[0]&&(n=!0,t=t.substring(1)),"月"===t[t.length-1]&&(t=t.substring(0,t.length-1)),r=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(t);else{var i=t[t.length-1];n="i"===i||"I"===i}return this.toMonthIndex(e,r,n)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,t){if(e.year&&(e=e.year()),"number"!==typeof e||e<1888||e>2111)throw t.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,t,n){var r=this.intercalaryMonth(e);if(n&&t!==r||t<1||t>12)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return r?!n&&t<=r?t-1:t:t-1},toChineseMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var n=this.intercalaryMonth(e),r=n?12:11;if(t<0||t>r)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?t<n?t+1:t:t+1},intercalaryMonth:function(e){return e=this._validateYear(e),d[e-d[0]]>>13},isIntercalaryMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var n=this.intercalaryMonth(e);return!!n&&n===t},leapYear:function(e){return 0!==this.intercalaryMonth(e)},weekOfYear:function(e,t,n){var r,i=this._validateYear(e,a.local.invalidyear),o=p[i-p[0]],s=o>>9&4095,u=o>>5&15,c=31&o;r=l.newDate(s,u,c),r.add(4-(r.dayOfWeek()||7),"d");var f=this.toJD(e,t,n)-r.toJD();return 1+Math.floor(f/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){e.year&&(t=e.month(),e=e.year()),e=this._validateYear(e);var n=d[e-d[0]];if(t>(n>>13?12:11))throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return n&1<<12-t?30:29},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,s,n,a.local.invalidDate);e=this._validateYear(r.year()),t=r.month(),n=r.day();var i=this.isIntercalaryMonth(e,t),s=this.toChineseMonth(e,t),u=o(e,s,n,i);return l.toJD(u.year,u.month,u.day)},fromJD:function(e){var t=l.fromJD(e),n=i(t.year(),t.month(),t.day()),r=this.toMonthIndex(n.year,n.month,n.isIntercalary);return this.newDate(n.year,r,n.day)},fromString:function(e){var t=e.match(u),n=this._validateYear(+t[1]),r=+t[2],i=!!t[3],o=this.toMonthIndex(n,r,i),a=+t[4];return this.newDate(n,o,a)},add:function(e,t,n){var i=e.year(),o=e.month(),a=this.isIntercalaryMonth(i,o),s=this.toChineseMonth(i,o),l=Object.getPrototypeOf(r.prototype).add.call(this,e,t,n);if("y"===n){var u=l.year(),c=l.month(),f=this.isIntercalaryMonth(u,s),h=a&&f?this.toMonthIndex(u,s,!0):this.toMonthIndex(u,s,!1);h!==c&&l.month(h)}return l}});var u=/^\s*(-?\d\d\d\d|\d\d)[-\/](\d?\d)([iI]?)[-\/](\d?\d)/m,c=/^\d?\d[iI]?/m,f=/^闰?十?[一二三四五六七八九]?月/m,h=/^闰?十?[一二三四五六七八九]?/m;a.calendars.chinese=r;var d=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],p=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=t.year()+(t.year()<0?1:0);return e%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return e=r.year(),e<0&&e++,r.day()+30*(r.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),i.calendars.coptic=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),400},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,n){return(this._validate(e,t,n,i.local.invalidDate).day()+1)%8},weekDay:function(e,t,n){var r=this.dayOfWeek(e,t,n);return r>=2&&r<=6},extraInfo:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return{century:a[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return e=r.year()+(r.year()<0?1:0),t=r.month(),(n=r.day())+(t>1?16:0)+(t>2?32*(t-2):0)+400*(e-1)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=400*(t-1),e+=e>15?16:0;var n=Math.floor(e/32)+1,r=e-32*(n-1)+1;return this.newDate(t<=0?t-1:t,n,r)}});var a={20:"Fruitbat",21:"Anchovy"};i.calendars.discworld=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=t.year()+(t.year()<0?1:0);return e%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return e=r.year(),e<0&&e++,r.day()+30*(r.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),i.calendars.ethiopian=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function i(e,t){return e-t*Math.floor(e/t)}var o=n(39),a=n(11);r.prototype=new o.baseCalendar,a(r.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){return e=e<0?e+1:e,i(7*e+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear).year(),this.toJD(-1===e?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,o.local.invalidMonth),12===t&&this.leapYear(e)?30:8===t&&5===i(this.daysInYear(e),10)?30:9===t&&3===i(this.daysInYear(e),10)?29:this.daysPerMonth[t-1]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},extraInfo:function(e,t,n){var r=this._validate(e,t,n,o.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(e,t,n){var r=this._validate(e,t,n,o.local.invalidDate);e=r.year(),t=r.month(),n=r.day();var i=e<=0?e+1:e,a=this.jdEpoch+this._delay1(i)+this._delay2(i)+n+1;if(t<7){for(var s=7;s<=this.monthsInYear(e);s++)a+=this.daysInMonth(e,s);for(var s=1;s<t;s++)a+=this.daysInMonth(e,s)}else for(var s=7;s<t;s++)a+=this.daysInMonth(e,s);return a},_delay1:function(e){var t=Math.floor((235*e-234)/19),n=12084+13753*t,r=29*t+Math.floor(n/25920);return i(3*(r+1),7)<3&&r++,r},_delay2:function(e){var t=this._delay1(e-1),n=this._delay1(e);return this._delay1(e+1)-n===356?2:n-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var t=Math.floor(98496*(e-this.jdEpoch)/35975351)-1;e>=this.toJD(-1===t?1:t+1,7,1);)t++;for(var n=e<this.toJD(t,1,1)?7:1;e>this.toJD(t,n,this.daysInMonth(t,n));)n++;var r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),o.calendars.hebrew=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,i.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return e=r.year(),t=r.month(),n=r.day(),e=e<=0?e+1:e,n+Math.ceil(29.5*(t-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var n=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1),r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),i.calendars.islamic=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=t.year()<0?t.year()+1:t.year();return e%4===0},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);return e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<=2&&(e--,t+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=t+1524,r=Math.floor((n-122.1)/365.25),i=Math.floor(365.25*r),o=Math.floor((n-i)/30.6001),a=o-Math.floor(o<14?1:13),s=r-Math.floor(a>2?4716:4715),l=n-i-Math.floor(30.6001*o);return s<=0&&s--,this.newDate(s,a,l)}}),i.calendars.julian=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function i(e,t){return e-t*Math.floor(e/t)}function o(e,t){return i(e-1,t)+1}var a=n(39),s=n(11);r.prototype=new a.baseCalendar,s(r.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,a.local.invalidYear),!1},formatYear:function(e){e=this._validate(e,this.minMonth,this.minDay,a.local.invalidYear).year();var t=Math.floor(e/400);return e%=400,e+=e<0?400:0,t+"."+Math.floor(e/20)+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n],10);if(Math.abs(r)>19||n>0&&r<0)throw"Invalid Mayan year";t=20*t+r}return t},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,a.local.invalidYear),18},weekOfYear:function(e,t,n){return this._validate(e,t,n,a.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,a.local.invalidYear),360},daysInMonth:function(e,t){return this._validate(e,t,this.minDay,a.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,n){return this._validate(e,t,n,a.local.invalidDate).day()},weekDay:function(e,t,n){return this._validate(e,t,n,a.local.invalidDate),!0},extraInfo:function(e,t,n){var r=this._validate(e,t,n,a.local.invalidDate),i=r.toJD(),o=this._toHaab(i),s=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(e){e-=this.jdEpoch;var t=i(e+8+340,365);return[Math.floor(t/20)+1,i(t,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[o(e+20,20),o(e+4,13)]},toJD:function(e,t,n){var r=this._validate(e,t,n,a.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e%=360,e+=e<0?360:0;var n=Math.floor(e/20),r=e%20;return this.newDate(t,n,r)}}),a.calendars.mayan=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar;var a=i.instance("gregorian");o(r.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return a.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidMonth),e=r.year();e<0&&e++;for(var o=r.day(),s=1;s<r.month();s++)o+=this.daysPerMonth[s-1];return o+a.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var t=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(t+1,1,1);)t++;for(var n=e-Math.floor(this.toJD(t,1,1)+.5)+1,r=1;n>this.daysInMonth(t,r);)n-=this.daysInMonth(t,r),r++;return this.newDate(t,r,n)}}),i.calendars.nanakshahi=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear).year(),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,i.local.invalidMonth),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate);e=r.year(),t=r.month(),n=r.day();var o=i.instance(),a=0,s=t,l=e;this._createMissingCalendarData(e);var u=e-(s>9||9===s&&n>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(9!==t&&(a=n,s--);9!==s;)s<=0&&(s=12,l--),a+=this.NEPALI_CALENDAR_DATA[l][s],s--;return 9===t?(a+=n-this.NEPALI_CALENDAR_DATA[l][0])<0&&(a+=o.daysInYear(u)):a+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],o.newDate(u,1,1).add(a,"d").toJD()},fromJD:function(e){var t=i.instance(),n=t.fromJD(e),r=n.year(),o=n.dayOfYear(),a=r+56;this._createMissingCalendarData(a);for(var s=9,l=this.NEPALI_CALENDAR_DATA[a][0],u=this.NEPALI_CALENDAR_DATA[a][s]-l+1;o>u;)s++,s>12&&(s=1,a++),u+=this.NEPALI_CALENDAR_DATA[a][s];var c=this.NEPALI_CALENDAR_DATA[a][s]-(u-o);return this.newDate(a,s,c)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var n=e-1;n<e+2;n++)"undefined"===typeof this.NEPALI_CALENDAR_DATA[n]&&(this.NEPALI_CALENDAR_DATA[n]=t)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),i.calendars.nepali=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function i(e,t){return e-t*Math.floor(e/t)}var o=n(39),a=n(11);r.prototype=new o.baseCalendar,a(r.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear);return 682*((t.year()-(t.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,o.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var r=this._validate(e,t,n,o.local.invalidDate);e=r.year(),t=r.month(),n=r.day();var a=e-(e>=0?474:473),s=474+i(a,2820);return n+(t<=7?31*(t-1):30*(t-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(a/2820)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=e-this.toJD(475,1,1),n=Math.floor(t/1029983),r=i(t,1029983),o=2820;if(1029982!==r){var a=Math.floor(r/366),s=i(r,366);o=Math.floor((2134*a+2816*s+2815)/1028522)+a+1}var l=o+2820*n+474;l=l<=0?l-1:l;var u=e-this.toJD(l,1,1)+1,c=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),f=e-this.toJD(l,c,1)+1;return this.newDate(l,c,f)}}),o.calendars.persian=r,o.calendars.jalali=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11),a=i.instance();r.prototype=new i.baseCalendar,o(r.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=this._t2gYear(t.year());return a.leapYear(e)},weekOfYear:function(e,t,n){var r=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=this._t2gYear(r.year());return a.weekOfYear(e,r.month(),r.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate),e=this._t2gYear(r.year());return a.toJD(e,r.month(),r.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),i.calendars.taiwan=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11),a=i.instance();r.prototype=new i.baseCalendar,o(r.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=this._t2gYear(t.year());return a.leapYear(e)},weekOfYear:function(e,t,n){var r=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),e=this._t2gYear(r.year());return a.weekOfYear(e,r.month(),r.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,i.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate),e=this._t2gYear(r.year());return a.toJD(e,r.month(),r.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),i.calendars.thai=r},function(e,t,n){function r(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}var i=n(39),o=n(11);r.prototype=new i.baseCalendar,o(r.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear);return 355===this.daysInYear(t.year())},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var t=0,n=1;n<=12;n++)t+=this.daysInMonth(e,n);return t},daysInMonth:function(e,t){for(var n=this._validate(e,t,this.minDay,i.local.invalidMonth),r=n.toJD()-24e5+.5,o=0,s=0;s<a.length;s++){if(a[s]>r)return a[o]-a[o-1];o++}return 30},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var r=this._validate(e,t,n,i.local.invalidDate),o=12*(r.year()-1)+r.month()-15292;return r.day()+a[o-1]-1+24e5-.5},fromJD:function(e){for(var t=e-24e5+.5,n=0,r=0;r<a.length&&!(a[r]>t);r++)n++;var i=n+15292,o=Math.floor((i-1)/12),s=o+1,l=i-12*o,u=t-a[n-1]+1;return this.newDate(s,l,u)},isValid:function(e,t,n){var r=i.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(e=null!=e.year?e.year:e,r=e>=1276&&e<=1500),r},_validate:function(e,t,n,r){var o=i.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw r.replace(/\{0\}/,this.local.name);return o}}),i.calendars.ummalqura=r;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},function(e,t,n){var r=n(11),i=n(39);r(i.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),i.local=i.regionalOptions[""],r(i.cdate.prototype,{formatDate:function(e,t){return"string"!==typeof e&&(t=e,e=""),this._calendar.formatDate(e||"",this,t)}}),r(i.baseCalendar.prototype,{UNIX_EPOCH:i.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:i.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,t,n){if("string"!==typeof e&&(n=t,t=e,e=""),!t)return"";if(t.calendar()!==this)throw i.local.invalidFormat||i.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,n=n||{};for(var r=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,a=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,l=n.monthNames||this.local.monthNames,u=(n.calculateWeek||this.local.calculateWeek,function(t,n){for(var r=1;v+r<e.length&&e.charAt(v+r)===t;)r++;return v+=r-1,Math.floor(r/(n||1))>1}),c=function(e,t,n,r){var i=""+t;if(u(e,r))for(;i.length<n;)i="0"+i;return i},f=this,h=this.local.digits,d=function(e){return n.localNumbers&&h?h(e):e},p="",m=!1,v=0;v<e.length;v++)if(m)"'"!==e.charAt(v)||u("'")?p+=e.charAt(v):m=!1;else switch(e.charAt(v)){case"d":p+=d(c("d",t.day(),2));break;case"D":p+=function(e,t,n,r){return u(e)?r[t]:n[t]}("D",t.dayOfWeek(),r,o);break;case"o":p+=c("o",t.dayOfYear(),3);break;case"w":p+=c("w",t.weekOfYear(),2);break;case"m":p+=function(e){return"function"===typeof a?a.call(f,e,u("m")):d(c("m",e.month(),2))}(t);break;case"M":p+=function(e,t){return t?"function"===typeof l?l.call(f,e):l[e.month()-f.minMonth]:"function"===typeof s?s.call(f,e):s[e.month()-f.minMonth]}(t,u("M"));break;case"y":p+=u("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":u("Y",2),p+=t.formatYear();break;case"J":p+=t.toJD();break;case"@":p+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":p+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?p+="'":m=!0;break;default:p+=e.charAt(v)}return p},parseDate:function(e,t,n){if(null==t)throw i.local.invalidArguments||i.regionalOptions[""].invalidArguments;if(""===(t="object"===typeof t?t.toString():t+""))return null;e=e||this.local.dateFormat,n=n||{};var r=n.shortYearCutoff||this.shortYearCutoff;r="string"!==typeof r?r:this.today().year()%100+parseInt(r,10);for(var o=n.dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,l=n.monthNumbers||this.local.monthNumbers,u=n.monthNamesShort||this.local.monthNamesShort,c=n.monthNames||this.local.monthNames,f=-1,h=-1,d=-1,p=-1,m=-1,v=!1,g=!1,y=function(t,n){for(var r=1;k+r<e.length&&e.charAt(k+r)===t;)r++;return k+=r-1,Math.floor(r/(n||1))>1},b=function(e,n){var r=y(e,n),o=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(e)+1],a=new RegExp("^-?\\d{1,"+o+"}"),s=t.substring(M).match(a);if(!s)throw(i.local.missingNumberAt||i.regionalOptions[""].missingNumberAt).replace(/\{0\}/,M);return M+=s[0].length,parseInt(s[0],10)},x=this,_=function(e,n,r,o){for(var a=y(e,o)?r:n,s=0;s<a.length;s++)if(t.substr(M,a[s].length).toLowerCase()===a[s].toLowerCase())return M+=a[s].length,s+x.minMonth;throw(i.local.unknownNameAt||i.regionalOptions[""].unknownNameAt).replace(/\{0\}/,M)},w=function(){if(t.charAt(M)!==e.charAt(k))throw(i.local.unexpectedLiteralAt||i.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,M);M++},M=0,k=0;k<e.length;k++)if(g)"'"!==e.charAt(k)||y("'")?w():g=!1;else switch(e.charAt(k)){case"d":p=b("d");break;case"D":_("D",o,a);break;case"o":m=b("o");break;case"w":b("w");break;case"m":d=function(){if("function"===typeof l){y("m");var e=l.call(x,t.substring(M));return M+=e.length,e}return b("m")}();break;case"M":d=function(){if("function"===typeof c){var e=y("M")?c.call(x,t.substring(M)):u.call(x,t.substring(M));return M+=e.length,e}return _("M",u,c)}();break;case"y":var E=k;v=!y("y",2),k=E,h=b("y",2);break;case"Y":h=b("Y",2);break;case"J":f=b("J")+.5,"."===t.charAt(M)&&(M++,b("J"));break;case"@":f=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":M=t.length;break;case"'":y("'")?w():g=!0;break;default:w()}if(M<t.length)throw i.local.unexpectedText||i.regionalOptions[""].unexpectedText;if(-1===h?h=this.today().year():h<100&&v&&(h+=-1===r?1900:this.today().year()-this.today().year()%100-(h<=r?0:100)),"string"===typeof d&&(d=s.call(this,h,d)),m>-1){d=1,p=m;for(var S=this.daysInMonth(h,d);p>S;S=this.daysInMonth(h,d))d++,p-=S}return f>-1?this.fromJD(f):this.newDate(h,d,p)},determineDate:function(e,t,n,r,i){n&&"object"!==typeof n&&(i=r,r=n,n=null),"string"!==typeof r&&(i=r,r="");var o=this;return t=t?t.newDate():null,e=null==e?t:"string"===typeof e?function(e){try{return o.parseDate(r,e,i)}catch(e){}e=e.toLowerCase();for(var t=(e.match(/^c/)&&n?n.newDate():null)||o.today(),a=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=a.exec(e);s;)t.add(parseInt(s[1],10),s[2]||"d"),s=a.exec(e);return t}(e):"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?t:o.today().add(e,"d"):o.newDate(e)}})},function(e,t,n){e.exports=n(147)({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},function(e,t,n){"use strict";function r(e,t){var n=[];return t=+t||0,i(e.hi(e.shape[0]-1),n,t),n}e.exports=r;var i=n(1727)},function(e,t,n){e.exports=n.p+"static/media/new_coffee.b27b05e8.png"},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(13),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(379),s=o.default.createClass({displayName:"ActivityFeed",render:function(){return o.default.createElement("div",{className:"activity-feed"},this.props.activity.map(function(e){return o.default.createElement(a,{comments:[r({},e)]})}))}});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Item=t.List=void 0;var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(t.List=function(e){var t=e.label,n=e.showDisabled,r=e.headerMenuItems,a=e.onHeaderMenuItemChange,s=void 0===a?function(){}:a,l=e.children,u=e.targets,c=e.onTargetChange,f=void 0===c?function(){}:c;return i.default.createElement("div",{className:"list-table-wrapper report-builder-table-checklist"},i.default.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},i.default.createElement("thead",{className:"no-border"},i.default.createElement("tr",{className:"list-table-header"},i.default.createElement("th",null,i.default.createElement("div",{className:"list-table-header-attribute-type ",style:{display:"inline-block",width:"calc(100% - 46px)"}},t),i.default.createElement("div",{style:{display:"inline-block",width:45,textAlign:"right",position:"relative"}},n?i.default.createElement("i",{className:"fa fa-eye-slash",style:{opacity:.25,marginRight:5}}):null,i.default.createElement("i",{className:"fa fa-bars","data-toggle":"dropdown",style:{opacity:.5}}),i.default.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},r.map(function(e){var t=e.name,n=e.value;return i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return s({name:t,value:!n})}},i.default.createElement("i",{className:"fa "+(n?"fa-check-square blue":" fa-square-o")})," ",t))})))))),i.default.createElement("tbody",null,i.default.createElement("tr",{className:"list-table-content"},i.default.createElement("td",{className:"list-table-content-column"},i.default.createElement("div",{className:"list-table-column-wrapper constrained"},i.default.createElement("table",{className:"list-table-column"},i.default.createElement("tbody",{className:"no-border-x no-border-y"},i.default.createElement("tr",{className:"list-table-checklist-row"},i.default.createElement("td",null,i.default.createElement("strong",{style:{fontSize:14,color:"#aaa"}},"Select Filters")," ",i.default.createElement(o,{targets:u,onTargetChange:f}))),l))))))))},t.Item=function(e){var t=e.label,n=e.value,r=void 0!==n&&n,o=e.onChange,a=void 0===o?function(){}:o;return i.default.createElement("tr",{className:"list-table-checklist-row"},i.default.createElement("td",null,i.default.createElement("div",{style:{position:"relative"}},i.default.createElement("div",{onClick:a},i.default.createElement("i",{className:r?"fa fa-check-square blue":"fa fa-square-o"}),i.default.createElement("strong",{style:{fontSize:14}},t)))))},i.default.createClass({displayName:"TargetSelector",getInitialState:function(){return{open:!1}},toggleDropdown:function(){this.setState({open:!this.state.open})},render:function(){var e=this.props,t=e.targets,n=e.onTargetChange;return i.default.createElement("span",null,t.length?i.default.createElement("div",{className:"list-table-checklist-dropdown"},i.default.createElement("a",{className:"meta dropdown-toggle",onClick:this.toggleDropdown}," ",i.default.createElement("i",{className:"fa fa-chevron-down"})),i.default.createElement("ul",{className:"targets "+(this.state.open?"open":"")},t.map(function(e){var t=e.name,r=e.value;return i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return n({name:t,value:r})}},i.default.createElement("i",{className:r?"fa fa-check-square blue":"fa fa-square-o"}),t))}))):null)}}))},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(124),s=n(1641),l=n(379),u=n(679),c=i.default.createClass({displayName:"CommentCardHistoryList",getInitialState:function(){return{query:""}},updateSearchQuery:function(e){this.setState({query:e})},valuesMatchSearch:function(e){return new RegExp(this.state.query,"ig").test(JSON.stringify(e))},checkFilters:function(e){return!this.state.query.length||this.valuesMatchSearch(e)},mapComments:function(e){var t=this.state;return o.map(e,function(e){return{key:o.uniqueId(),date:e.date,iconName:e.iconName,iconStyle:{},title:e.authorName,visibleContent:e.commentItems.slice(0,2).map(function(e){return i.default.createElement("div",{key:o.uniqueId(),className:"comment-card-item open"},i.default.createElement("div",{className:"comment-card-item-title"},i.default.createElement(s,{search:t.query},i.default.createElement(u,{name:e.type}))),i.default.createElement("p",{className:"comment-card-item-text"},i.default.createElement(s,{search:t.query},e.text)))}),hiddenContent:e.commentItems.slice(2).map(function(e){return i.default.createElement("div",{key:o.uniqueId(),className:"comment-card-item open"},i.default.createElement("div",{className:"comment-card-item-title"},i.default.createElement(s,{search:t.query},i.default.createElement(u,{name:e.type}))),i.default.createElement("p",{className:"comment-card-item-text"},i.default.createElement(s,{search:t.query},e.text)))}),checkbox:!1}})},render:function(){var e=o.groupBy(o.filter(this.mapComments(this.props.comments),this.checkFilters),function(e){return a(e.date).startOf("day").format()}),t=i.default.createElement("h4",{className:"meta comment-card-empty text-center"},this.props.emptySeachResultsText||"No results found.");return i.default.createElement("div",{className:"comment-card-list"},i.default.createElement(f,{handleSearchQuery:this.updateSearchQuery}),o.map(e,function(e){return i.default.createElement(l,{comments:e})}),e.length<1?t:null)}}),f=i.default.createClass({displayName:"CommentCardFilters",handleSearchInput:function(e){this.props.handleSearchQuery(e.target.value)},render:function(){return i.default.createElement("div",{className:"comment-card-filters"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-md-6"},i.default.createElement("input",{className:"form-control",type:"text",placeholder:"Search to filter responses",onChange:this.handleSearchInput}))))}});e.exports=c},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(246),s=n(1643),l=i.default.createClass({displayName:"ComplexBarChart",getInitialState:function(){return{width:0,height:0}},componentDidMount:function(){this.setLegendStyling(),this.setInitialWidthAndHeight(this.props),window.addEventListener("resize",this.setWidthAndHeight.bind(this,this.props))},componentWillReceiveProps:function(e){this.setWidthAndHeight(e)},componentDidUpdate:function(){this.setLegendStyling()},componentWillUnmount:function(){window.removeEventListener("resize",this.setWidthAndHeight)},setLegendStyling:function(){var e=this.refs.plotlyWrapper.querySelectorAll("svg")[1],t=e.querySelectorAll(".infolayer .legend")[0];if(t){var n=t.getBBox().width>300?.4:1;$(t).css({opacity:n})}},setInitialWidthAndHeight:function(e){var t=this.refs.plotlyWrapper,n=this.setWidthAndHeight,r=setInterval(function(){return t.offsetWidth>0?(clearInterval(r),n(e)):null},50)},setWidthAndHeight:function(){var e=this.refs.plotlyWrapper,t=this.refs.plotlyWrapper.querySelectorAll("svg")[1],n=t.querySelectorAll(".infolayer .legend")[0],r=n?n.getBBox().height:100;return this.setState({width:e.offsetWidth,height:r})},getCumulativePercentage:function(e,t){var n=e.slice(0,t+1);return o.sum(n)},getAnnotations:function(e){function t(e,t,n){var r=1/(n+1);return e+(r*(n/2)*-1+r*t+r/2)}return this.areAnnotationsNecessary(e)?o.flatten(o.map(e,function(n,r){return o.flatten(o.map(n.y,function(n,i){return{x:t(i,r,e.length),y:n,text:null!=n?Number(n.toFixed(1)):"No Data",xanchor:"center",yanchor:"bottom",showarrow:!1}}))})):[]},getStackedAnnotations:function(e){var t=this.getCumulativePercentage,n=this.buildMappableDataStructure;return o.filter(o.flatten(o.map(n(e),function(e,n){return o.flatten(o.map(e.y,function(r,i){return{text:o.round(r,1).toString()+"%",x:n,y:t(e.y,i)-r/2,showarrow:!1}}))})),function(e){return"0%"!==e.text})},buildMappableDataStructure:function(e){var t=o.uniq(o.flatten(o.map(e,"x")));return o.map(t,function(e){return{x:e,y:[]}})},areAnnotationsNecessary:function(e){var t=o.uniq(o.flatten(o.map(e,"x")));return e.length*t.length<17},convertDataToPlotlyFormat:function(e){var t=this.props;if(o.isArray(e))return o.map(e,function(n,r){return o.extend(n,{type:"bar",marker:{color:t.percentage?a.rubric(n.scale)[n.scaleIndex]:a(e.length)[r]}})});if(o.isObject(e)){var n=[];return n.push(o.extend(e,{type:"bar",marker:{color:a(e.x?e.x.length:0)}})),n}return e},removeTargetLine:function(){var e=this.refs.plotlyWrapper.querySelectorAll(".target");null!=e&&e.length>0&&o.each(e,function(e){e.parentNode.removeChild(e)})},insertTargetLine:function(e){var t=void 0;if(this.removeTargetLine(),!e.percentage){t=e&&e.targetValue?e:this.props;var n=t.maxScaleValue||5,r=this.refs.plotlyWrapper.querySelectorAll("svg")[0],i=r.querySelectorAll(".subplot rect")[0],o=r.querySelectorAll(".subplot [clip-path]")[0],a=this.refs.plotlyWrapper.querySelectorAll(".hoverlayer")[0],s=document.createElementNS("http://www.w3.org/2000/svg","line"),l=document.createElementNS("http://www.w3.org/2000/svg","text"),u=document.createElementNS("http://www.w3.org/2000/svg","rect"),c=i.getBBox().height-i.getBBox().height/n*t.targetValue+10;s.setAttribute("class","target"),s.setAttribute("stroke","#1FAF84"),s.setAttribute("stroke-dasharray","4, 4"),s.setAttribute("stroke-width","2"),s.setAttribute("x1",0),s.setAttribute("x2",this.refs.plotlyWrapper.offsetWidth),s.setAttribute("y1",c||0),s.setAttribute("y2",c||0),l.setAttribute("class","target"),l.setAttribute("x",36),l.setAttribute("y",c+5||0),l.setAttribute("fill","#1FAF84"),l.textContent="Seeing Success",u.setAttribute("class","target"),u.setAttribute("x",30),u.setAttribute("y",c-12.5||0),u.setAttribute("height",25),u.setAttribute("width",125),u.setAttribute("fill","#fff"),u.setAttribute("stroke","#1FAF84"),u.setAttribute("stroke-width",3),a.insertBefore(l,a.lastChild),a.insertBefore(u,a.lastChild),o.insertBefore(s,o.firstChild)}},shouldXAxisTicksRotate:function(){var e=[],t=0;return e=o.isArray(this.props.data)?o.uniq(o.flatten(o.map(this.props.data,"x"))):this.props.data.x||[],o.each(e,function(e){var n=8*e.length;n>t&&(t=n)}),t>this.state.width/e.length},render:function(){var e=25*this.props.data.length,t=this.shouldXAxisTicksRotate()?250:50,n={annotations:this.props.percentage?this.getStackedAnnotations(this.props.data):[],showlegend:o.isArray(this.props.data),width:this.state.width,barmode:this.props.percentage?"stack":"",height:(e>300?e:300)+t,margin:{l:20,r:20,b:t,t:20,pad:0},font:{family:"'Open Sans', 'Museo Sans', 'Helvetica', 'serif'",size:11,color:"#444"},legend:{font:{size:13}},yaxis:{range:[0,this.props.percentage?100:this.props.maxScaleValue]},xaxis:{type:"category",tickangle:this.shouldXAxisTicksRotate()?45:0}},r={displayModeBar:!1,staticPlot:!0};return i.default.createElement("div",{ref:"plotlyWrapper",className:"complex-bar-chart"},i.default.createElement(s,{data:this.convertDataToPlotlyFormat(this.props.data),key:n.annotations.length,layout:n,config:r}))}});e.exports=l},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=i.default.createClass({displayName:"GroupingsListTable",renderColumn:function(e,t){var n=o.orderBy(e.listItems,["score","name"],["desc","asc"]);return i.default.createElement("table",{className:"no-border list-table-column",key:t},i.default.createElement("tbody",{className:"no-border-x no-border-y"},n.map(function(e,n){return i.default.createElement("tr",{className:"list-table-name-row",key:String(t)+String(n)},i.default.createElement("td",null,i.default.createElement("div",{className:"list-table-score",style:e.iconStyles}),i.default.createElement("div",{className:"list-table-teacher"},e.teacher)))})))},render:function(){return i.default.createElement("div",{className:"list-table-wrapper"},i.default.createElement("table",{className:"list-table no-border table-responsive",ref:"table"},i.default.createElement("thead",{className:"no-border",ref:"heading"},i.default.createElement("tr",{className:"list-table-header"},this.props.lists.map(function(e){return i.default.createElement("th",{width:this.props.evenColumns?100/this.props.lists.length+"%":""},i.default.createElement("div",{className:"list-table-header-cell"},e.simpleTitle?i.default.createElement("span",null):i.default.createElement("div",{className:"meta list-table-header-cell-meta"},i.default.createElement("span",null,e.listItems.length),i.default.createElement("span",{style:{color:"#bbb"}},this.props.genericQuestionText?"selected":"interested in")),i.default.createElement("div",null,e.title)))},this))),i.default.createElement("tbody",null,i.default.createElement("tr",{className:"list-table-content"},this.props.lists.map(function(e,t){return i.default.createElement("td",{className:"list-table-content-column"},i.default.createElement("div",{className:"list-table-column-wrapper constrained","data-column-wrapper":!0},this.renderColumn(e,t)))},this)))))}});e.exports=a},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(637),s=n(678),l=i.default.createClass({displayName:"Heatmap",mixins:[a],getInitialState:function(){return{expandedRows:new Set}},expandRow:function(e){var t=this.state.expandedRows;t.add(e),this.setState({expandedRows:new Set(t)})},collapseRow:function(e){var t=this.state.expandedRows;t.delete(e),this.setState({expandedRows:new Set(t)})},renderRows:function(){var e=this,t=this.state.expandedRows,n=this.expandRow,r=this.collapseRow;return o.map(this.props.rows,function(a){var s=t.has(a.id);return[i.default.createElement(c,{isExpandable:!0,boldGoal:!0,isExpanded:s,expandFunction:n.bind(null,a.id),collapseFunction:r.bind(null,a.id),row:a,columns:e.props.columns,renderTitleHover:e.props.renderTitleHover,key:a.id+"-"+a.data.length+"-"+s}),s?o.map(a.children,function(t){return i.default.createElement(c,{isExpandable:!1,boldGoal:!1,row:t,columns:e.props.columns,renderTitleHover:e.props.renderTitleHover,key:t.id+"-"+a.data.length+"-"})}):i.default.createElement("tr",null)]})},render:function(){return i.default.createElement("div",{className:"table-responsive"},i.default.createElement("table",{className:"table heatmap dashboard-table no-border no-stripe text-center",style:{tableLayout:"auto",overflowX:"scroll"}},i.default.createElement(u,{counts:this.props.counts,columns:this.props.columns}),i.default.createElement("tbody",null,this.renderRows())))}}),u=i.default.createClass({displayName:"HeatmapHeaderRow",mixins:[a],renderExpanderColumn:function(){return i.default.createElement("th",{style:{width:"15px"}})},renderRowNameColumn:function(){return i.default.createElement("th",{style:{width:"250px"}})},renderDataColumn:function(e){return i.default.createElement("th",{className:"text-center column-header-label",style:{fontWeight:"600",width:"30px",fontSize:"100%"}},i.default.createElement("div",null,e))},renderUnknownCell:function(){return i.default.createElement("th",null)},renderColumnHeaders:function(){var e=this.props.columns,t=this.renderExpanderColumn,n=this.renderRowNameColumn,r=this.renderDataColumn,i=this.renderUnknownColumn;return e.map(function(e){return"expander"===e.type?t():"rowName"===e.type?n():"data"===e.type?r(e.columnTitle):i()})},renderResponseCounts:function(){var e=this.props.columns,t=this.props.counts;return e.map(function(e){return"expander"===e.type?i.default.createElement("th",null):"rowName"===e.type?i.default.createElement("th",{className:"meta response-count-label text-right"},"Response Count"):"data"===e.type?i.default.createElement("th",{className:"text-center response-count meta"},t[e.index]):i.default.createElement("th",{className:"text-center response-count meta"})})},render:function(){return i.default.createElement("thead",null,i.default.createElement("tr",null,this.renderColumnHeaders()),i.default.createElement("tr",null,this.renderResponseCounts()))}}),c=i.default.createClass({displayName:"HeatmapRow",mixins:[a],renderExpanderCell:function(){var e=this.props.isExpandable&&this.props.row.children&&this.props.row.children.length;return i.default.createElement("td",{style:{borderTop:"0",borderBottom:"0"}},e&&this.props.isExpanded?i.default.createElement("a",{onClick:this.props.collapseFunction,style:{cursor:"pointer"}},i.default.createElement("i",{className:"fa fa-chevron-down"})):e&&!this.props.isExpanded?i.default.createElement("a",{onClick:this.props.expandFunction,style:{cursor:"pointer"}},i.default.createElement("i",{className:"fa fa-chevron-right"})):i.default.createElement("span",null))},renderRowNameCell:function(){var e=this.props.row,t=this.props.boldGoal,n=this.props.renderTitleHover,r=n?n(e):null,o=t?"text-left table-label goalName bold":"text-left table-label goalName notBold",a=i.default.createElement("div",{style:{minWidth:"250px"}},e.name,r?i.default.createElement(s,{content:r,title:e.name,position:"top",style:{maxWidth:150}},i.default.createElement("i",{className:"fa fa-info-circle text-info"})):i.default.createElement("i",null));return i.default.createElement("td",{className:o},a)},renderDataCell:function(e,t){var n=this.props.row.data[e],r=n.renderHover(),a=n.totalCount+(o.isNil(n.groupName)?" Total Responses":" Responses from "+n.groupName);return i.default.createElement("td",{className:"colored meta",style:{backgroundColor:n.color}},r?i.default.createElement(s,{content:n.renderHover(),title:a,position:t?"left":"top"},this.renderDataCellText(n)):this.renderDataCellText(n))},renderDataCellText:function(e){return i.default.createElement("span",{style:{color:e.textColor}},null!=e.value?e.value:"")},renderUnknownCell:function(){return i.default.createElement("td",null)},renderCells:function(){var e=this.props.columns,t=this.renderExpanderCell,n=this.renderRowNameCell,r=this.renderDataCell,i=this.renderUnknownCell;return e.map(function(o,a){var s=a===e.length-1;return"expander"===o.type?t():"rowName"===o.type?n():"data"===o.type?r(o.index,s):i()})},render:function(){return i.default.createElement("tr",{style:{height:"55px"},className:this.props.isExpandable?"expandable":"collapsable"},this.renderCells())}});e.exports=l},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=i.default.createClass({displayName:"Histogram",render:function(){var e=this.props.histogram;return e?i.default.createElement("div",null,i.default.createElement("table",{className:"no-border"},i.default.createElement("tr",{className:"no-border-x no-border-y",style:{fontSize:"11px",height:"20px"}},i.default.createElement("th",{style:{width:"110px",fontSize:"inherit"}},"Rating"),i.default.createElement("th",{style:{width:"190px",fontSize:"inherit"}},"Rubric"),i.default.createElement("th",{style:{width:"90px",fontSize:"inherit"}},"Responses")),o.map(e,function(e){var t=e.range,n=e.count,r=e.percent,o=e.rubricText,a=e.color,s=t.left+" - "+t.right;return i.default.createElement("tr",{className:"no-border-x no-border-y",style:{fontSize:"11px",lineHeight:"13px"}},i.default.createElement("td",{style:{width:"110px",fontSize:"inherit",lineHeight:"inherit",padding:"0px",paddingLeft:"5px"}},s),i.default.createElement("td",{style:{width:"190px",fontSize:"inherit",lineHeight:"inherit",padding:"0px 5px 0px 0px"}},i.default.createElement("div",{style:{position:"relative",height:"45px",verticalAlign:"middle",fontSize:"inherit",margin:"5px"}},i.default.createElement("div",{style:{width:r+"%",height:"100%",position:"absolute",background:a}}," "),i.default.createElement("div",{style:{position:"absolute",height:"45px",width:"100%",paddingTop:"3px",paddingBottom:"3px"}},i.default.createElement("div",{style:{position:"relative",width:"100%",fontWeight:"400",color:"black",margin:"3px",height:"39px",overflow:"hidden",textOverflow:"ellipsis"}},o||i.default.createElement("i",{style:{fontSize:"inherit",width:"100%",textAlign:"left"}},"(No text available)"))))),i.default.createElement("td",{style:{width:"90px",fontSize:"inherit",lineHeight:"inherit",padding:"0px",paddingLeft:"4px"}},n,"/ ",r,"%"))}))):null}});e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){var t=e.iconClass,n=void 0===t?"":t,r=e.onClick,o=void 0===r?function(){}:r,a=e.isActive,s=void 0!==a&&a,l=e.title,u=e.helpText;return i.default.createElement("a",{className:"widget-button widget-button--small "+(s?"active":""),onClick:o},i.default.createElement("div",{className:"circle-icon--small active-indicator meeting-goals fa fa-check"}),i.default.createElement("div",{className:"widget-button-icon"},i.default.createElement("div",{className:"fa circle-icon "+n+" "+(s?"meeting-goals":"gray")})),l?i.default.createElement("h4",null,l):null,u?i.default.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},i.default.createElement("em",null,u)):null)};o.propTypes={iconClass:i.default.PropTypes.string.isRequired,onClick:i.default.PropTypes.func,isActive:i.default.PropTypes.bool,title:i.default.PropTypes.string,helpText:i.default.PropTypes.string},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){var t=e.children;return React.createElement("table",{className:"list-table list-table--simple table-responsive no-border"},t)};i.propTypes={children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node])},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){var t=e.children,n=e.subHeader,r=void 0===n?null:n;return React.createElement("tbody",null,React.createElement("tr",{className:"list-table-content"},React.createElement("td",{className:"list-table-content-column"},r,React.createElement("div",{className:"list-table-column-wrapper constrained"},t))))};i.propTypes={children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node])},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){var t=e.children;return React.createElement("thead",{className:"no-border"},React.createElement("tr",{className:"list-table-header"},React.createElement("th",null,t)))};i.propTypes={children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node])},t.default=i},function(e,t,n){"use strict";var r=n(13),i=function(e){var t=e.isLoaded,n=e.message;return React.createElement("div",{style:{display:t?"none":"block"},className:"modal fade "+(t?"":"in"),tabIndex:"-1",role:"dialog","aria-hidden":"true"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-body text-center"},React.createElement("div",{className:"loading-modal-image"}),React.createElement("h3",{className:"loading-modal-text"},n)))))};i.propTypes={isLoaded:r.PropTypes.bool,message:r.PropTypes.string},i.defaultProps={isLoaded:!0,message:"Loading your dashboard"},e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),o=r(i),a=n(50),s=r(a),l=n(1648),u=function(e){var t=e.differenceCallback,n=void 0===t?function(e){return e}:t,r=e.options,i=void 0===r?[]:r,a=e.onReorder,u=void 0===a?function(){}:a,h=e.onSelect,d=void 0===h?function(){}:h,p=e.onUnselect,m=void 0===p?function(){}:p,v=e.renderSelectedOption,g=void 0===v?function(){}:v,y=e.renderUnselectedOption,b=void 0===y?function(){}:y,x=e.selectedOptions,_=void 0===x?[]:x,w=e.selectedHelpText,M=void 0===w?"Sort or remove the selected options below":w,k=e.selectedTitle,E=void 0===k?"":k,S=e.unselectedHelpText,T=void 0===S?"Select an option below to add it the list on the right":S,A=e.unselectedTitle,C=void 0===A?"":A,D=s.default.differenceBy(i,_,n),O=function(e){var t=e.oldIndex,n=e.newIndex;return u((0,l.arrayMove)(_,t,n))};return o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-md-6 multi-select-column"},o.default.createElement("h5",null,C),o.default.createElement("div",{className:"multi-select-column-content"},o.default.createElement("p",{className:"text-center"},o.default.createElement("em",null,T)),o.default.createElement(c,{options:D,renderOption:b,onSelect:d}))),o.default.createElement("div",{className:"col-md-6 multi-select-column"},o.default.createElement("h5",null,E),o.default.createElement("div",{className:"multi-select-column-content"},o.default.createElement("p",{className:"text-center"},o.default.createElement("em",null,M)),o.default.createElement(f,{items:_,renderOption:g,onSortEnd:O,onUnselect:m,useDragHandle:!0}))))};u.propTypes={onReorder:o.default.PropTypes.func,onSelect:o.default.PropTypes.func,onUnselect:o.default.PropTypes.func,options:o.default.PropTypes.array,renderSelectedOption:o.default.PropTypes.func.isRequired,renderUnselectedOption:o.default.PropTypes.func.isRequired,selectedOptions:o.default.PropTypes.array};var c=function(e){var t=e.options,n=void 0===t?[]:t,r=e.onSelect,i=void 0===r?function(){}:r,a=e.renderOption,s=void 0===a?function(){}:a;return o.default.createElement("div",{className:"multi-select-options"},n.map(function(e){return o.default.createElement("div",{className:"multi-select-option",onClick:function(){i(e)}},s(e))}))};c.propTypes={options:o.default.PropTypes.array,onSelect:o.default.PropTypes.func};var f=(0,l.SortableContainer)(function(e){var t=e.items,n=e.renderOption,r=e.onUnselect;return o.default.createElement("div",null,t.map(function(e,t){return o.default.createElement(d,{key:"item-"+t,index:t,value:e},o.default.createElement("div",{className:"multi-select-selected"},o.default.createElement("div",{className:"multi-select-selected-drag"},o.default.createElement(h,null,o.default.createElement("i",{className:"fa fa-grip  multi-select-drag-indicator"}),o.default.createElement("div",{className:"multi-select-selected-drag-content"},n(e)))),o.default.createElement("i",{className:"fa fa-times multi-select-unselect",onClick:r.bind(null,e)})))}))});f.propTypes={options:o.default.PropTypes.array,onChange:o.default.PropTypes.func};var h=(0,l.SortableHandle)(function(e){var t=e.children;return o.default.createElement("span",null,t)});h.propTypes={children:o.default.PropTypes.element};var d=(0,l.SortableElement)(function(e){var t=e.children;return o.default.createElement("div",null,t)});d.propTypes={children:o.default.PropTypes.element},t.default=u},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(380),a=i.default.createClass({displayName:"MultipleChoiceResponse",render:function(){return i.default.createElement("div",{className:"multiple-choice-response"},i.default.createElement(o,this.props))}});e.exports=a},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(677),s=n(246),l=i.default.createClass({displayName:"MultipleChoiceResult",getInitialState:function(){return{contentView:"responses"}},getAlternateContentButtonText:function(){return"responses"===this.state.contentView?"Drill In":"View Chart"},getAlternateContentView:function(){return"responses"===this.state.contentView?"groupings":"responses"},changeView:function(){this.setState({contentView:this.getAlternateContentView()})},renderContent:function(){if("responses"===this.state.contentView){var e=this.props.sliceAmount?this.props.sliceAmount:this.props.question.answers.length;return i.default.createElement(u,{question:this.props.question,teachersByAnswers:this.props.teachersByAnswers,sliceAmount:e})}return i.default.createElement("div",null,this.props.groupingsContent||"")},render:function(){return i.default.createElement("div",{className:"multiple-choice-question"},i.default.createElement("table",{className:"multiple-choice-question-header"},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",{className:"multiple-choice-question-icon"},i.default.createElement("i",{className:"fa fa-list-ul circle-icon--small meeting-goals"})),i.default.createElement("td",null,i.default.createElement("h4",{className:"multiple-choice-question-title"},this.props.question.title)),i.default.createElement("td",{className:"multiple-choice-question-actions"},i.default.createElement("a",{className:"btn btn-block btn-default",onClick:this.changeView},this.getAlternateContentButtonText()))))),this.renderContent())}}),u=i.default.createClass({displayName:"MultipleChoiceAnswers",getInitialState:function(){return{resultsView:"bars",colors:s(this.props.question.answers.length),slice:!0}},getMaxCount:function(){return o.chain(this.props.question.answers).map(function(e){return e.count}).max().value()},getPercentage:function(e){return o.round(e/this.props.question.totalCount*100,0)},getAllPercentages:function(){var e=this,t=o.orderBy(this.props.question.answers,"count","desc");return o.map(t,function(t){return e.getPercentage(t.count)})},getAllCounts:function(){var e=o.orderBy(this.props.question.answers,"count","desc");return o.map(e,function(e){return e.count})},getWidth:function(e){return e/this.getMaxCount()*100},getColorColumn:function(e,t){var n=this.state.colors[t];return i.default.createElement("td",{className:"multiple-choice-color-key-wrapper"},i.default.createElement("span",{className:"multiple-choice-color-key",style:{backgroundColor:n}}))},getCountColumn:function(e){return i.default.createElement("td",{className:"multiple-choice-pie-chart-count"},e.count)},getBarChartColumn:function(e,t){var n=this.state.colors[t];return i.default.createElement("td",{className:"multiple-choice-bar-chart-line-wrapper"},i.default.createElement("span",{className:"multiple-choice-bar-chart-line",style:{width:"calc("+this.getWidth(e.count)+"% - 40px)",backgroundColor:n}}),i.default.createElement("span",{className:"multiple-choice-bar-chart-count meta"},e.count))},getPieChartColumn:function(e,t){if(0!==t)return"";var n=this.getSize();return i.default.createElement("td",{className:"multiple-choice-pie-chart-wrapper",rowSpan:this.props.question.answers.length},i.default.createElement(a,{colors:this.state.colors,percentages:this.getAllPercentages(),width:n,height:n}))},getSize:function(){return this.refs.tbody.offsetHeight-20},getAnswerRow:function(e,t){var n=this.state.resultsView,r="pie"===n?this.getColorColumn(e,t):i.default.createElement("td",{style:{display:"none"}}),o="pie"===n?this.getCountColumn(e,t):i.default.createElement("td",{style:{display:"none"}}),a="bars"===n?this.getBarChartColumn(e,t):this.getPieChartColumn(e,t);return i.default.createElement("tr",{className:"multiple-choice-answer-row",key:e.text+e.count.toString()+t.toString()},i.default.createElement("td",{className:"multiple-choice-answer-title-count"},i.default.createElement("strong",{className:"meta"},this.getPercentage(e.count)+"%")),r,o,i.default.createElement("td",{className:"multiple-choice-answer-title-text"},e.title),a)},getAnswerRows:function(){var e=this;return o.chain(this.props.question.answers).orderBy("count","desc").map(function(t,n){return e.getAnswerRow(t,n)}).thru(function(t){return e.state.slice?t.slice(0,e.props.sliceAmount):t}).value()},getActiveClass:function(e){return e===this.state.resultsView?" btn-primary":""},toggleView:function(e){this.setState({resultsView:e})},showToggle:function(){return!1},showViewMore:function(){return this.props.sliceAmount<this.props.question.answers.length},toggleViewMore:function(){this.setState({slice:!this.state.slice})},render:function(){return i.default.createElement("div",{className:"multiple-choice-answers-wrapper"},i.default.createElement("table",{className:"multiple-choice-answers no-border"},i.default.createElement("tbody",{ref:"tbody"},this.getAnswerRows().map(function(e){return e}))),this.showViewMore()?i.default.createElement("div",{className:"multiple-choice-answers-view-more"},i.default.createElement("a",{className:"meta view-more-button",onClick:this.toggleViewMore},i.default.createElement("i",{className:"fa "+(this.state.slice?"fa-plus":"fa-minus")})," View ",this.state.slice?"More":"Less")):i.default.createElement("span",null),i.default.createElement("div",{className:"multiple-choice-answers-footer"},i.default.createElement("div",{className:"multiple-choice-answers-total"},i.default.createElement("span",{className:"meta"},"Total Number of Responses: ",i.default.createElement("strong",null,this.props.question.totalCount))),this.showToggle()?i.default.createElement("div",{className:"multiple-choice-answers-toggle"},i.default.createElement("span",{className:"meta"},"Show results as"),i.default.createElement("a",{className:"btn btn-xs"+this.getActiveClass("bars"),onClick:this.toggleView.bind(this,"bars")},"Bars"),i.default.createElement("a",{className:"btn btn-xs"+this.getActiveClass("pie"),onClick:this.toggleView.bind(this,"pie")},"Pie")):i.default.createElement("span",null)))}});e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(13),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAdd=n.onAdd.bind(n),n}return o(t,e),a(t,[{key:"onAdd",value:function(){var e=this.select.value,t={};"customText"===e?(t.type=e,t.name="Custom Text"):"randomNumber"===e?(t.type=e,t.name="Random Number"):(t.type="attribute",t.name=e),this.props.onAdd(t)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"name-creator"},l.default.createElement("div",{className:"name-creator-new"},l.default.createElement("select",{className:"form-control",ref:function(t){e.select=t}},this.props.attributes.map(function(e){return l.default.createElement("option",{value:e},e)}),l.default.createElement("option",{value:"customText"},"Custom Text"),l.default.createElement("option",{value:"randomNumber"},"Random Number")),l.default.createElement("a",{className:"btn btn-default name-creator-new-button",onClick:this.onAdd},l.default.createElement("i",{className:"fa fa-plus"})," Add")),l.default.createElement("div",{className:"name-creator-wrapper"},this.props.activeOptions.map(function(t,n){return l.default.createElement(c,{key:n,onRemove:function(){e.props.onRemove(n)},option:t})})))}}]),t}(l.default.Component);t.default=u;var c=function(e){var t=e.option,n=e.onRemove;return"customText"===t.type?l.default.createElement(d,{onRemove:n}):"randomNumber"===t.type?l.default.createElement(p,{onRemove:n}):l.default.createElement(h,{option:t,onRemove:n})},f=function(e){var t=e.option,n=e.children,r=e.onRemove;return l.default.createElement("div",{className:"name-creator-option"},l.default.createElement("div",{className:"name-creator-option-content"},t.name?l.default.createElement("h5",null,l.default.createElement("strong",null,t.name)):null,n),l.default.createElement("i",{className:"fa fa-times name-creator-option-remove",onClick:r}))},h=function(e){var t=e.option,n=e.onRemove;return l.default.createElement(f,{option:t,onRemove:n})},d=function(e){var t=e.onRemove;return l.default.createElement(f,{option:{name:""},onRemove:t},l.default.createElement("input",{className:"form-control",placeholder:"Add custom text here"}))},p=function(e){var t=e.onRemove;return l.default.createElement(f,{option:{name:"Random Number"},onRemove:t})}},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.createClass({displayName:"ProgressBar",render:function(){return i.default.createElement("div",{className:"progress big"},i.default.createElement("div",{className:"progress-bar progress-bar-success "+("0%"===this.props.width?"progress-bar-empty":""),style:{width:this.props.width}},this.props.width))}});e.exports=o},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(50),a=n(124),s=n(380),l=i.default.createClass({displayName:"responseItem",getCoveredTopicRows:function(e){return e.length?o.map(e,function(e){return i.default.createElement("span",{className:"response-item-topics-row"},i.default.createElement("div",{className:"circle-icon--score "+e.scoreClass,style:e.scoreStyle}),i.default.createElement("div",{className:"response-item-topics-text"},e.name))}):[i.default.createElement("span",{className:"response-item-topics-row"},"No data available")]},getQuestionRows:function(e){return e.length?o.map(e,function(e){return i.default.createElement("span",{className:"response-item-questions-row"},i.default.createElement("div",{className:"circle-icon--small fa "+e.iconClass}),i.default.createElement("div",{className:"response-item-questions-title"},e.title),i.default.createElement("div",{className:"response-item-questions-text"},e.text))}):[i.default.createElement("span",{className:"response-item-questions-row"},"No data available")]},getRespondentOrReferentText:function(){return this.props.response.referentText?i.default.createElement("span",null," ",i.default.createElement("span",{className:"response-item-title-light"},"about")," ",this.props.response.referentText):this.props.response.respondentText?i.default.createElement("span",null," ",i.default.createElement("span",{className:"response-item-title-light"},"by")," ",this.props.response.respondentText):""},render:function(){var e=this.props.response;return i.default.createElement("div",{className:"response-item"},i.default.createElement("div",{className:"response-item-date-column"},i.default.createElement("div",{className:"response-item-date"},i.default.createElement("div",{className:"response-item-date-month"},a(e.date).format("MMM")),i.default.createElement("div",{className:"response-item-date-day"},a(e.date).format("DD")),i.default.createElement("div",{className:"response-item-date-year"},a(e.date).format("YYYY")))),i.default.createElement("div",{className:"response-item-content"},i.default.createElement("div",{className:"response-item-title"},i.default.createElement("h4",{className:"response-item-title-text"},e.title," ",this.getRespondentOrReferentText())),i.default.createElement("div",{className:"response-item-actions"},i.default.createElement("div",{className:"btn-group"},i.default.createElement("button",{className:"btn btn-sm btn-primary"},this.props.renderResponseModal()),i.default.createElement("button",{className:"btn btn-sm btn-default dropdown-toggle","data-toggle":"dropdown"},"Reports ",i.default.createElement("span",{className:"caret"})),i.default.createElement("ul",{className:"dropdown-menu",role:"menu"},e.reports.map(function(e){return i.default.createElement("li",null,i.default.createElement("a",{href:e.url},"View ",e.name))})))),i.default.createElement("div",{className:"response-item-topics"},i.default.createElement(s,{title:"Covered Topics",listItems:this.getCoveredTopicRows(e.goals)})),i.default.createElement("div",{className:"response-item-questions"},i.default.createElement(s,{title:"Questions",listItems:this.getQuestionRows(e.questions)}))))}});e.exports=l},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(246).rubric,a=n(442),s=i.default.createClass({displayName:"Rubric",getTextColor:function(e){return a(e).luminance()<.31?"white":"#666"},render:function(){var e=this.props.colors||o(this.props.scores.length),t=(100/this.props.scores.length).toString()+"%",n={width:(100-this.props.seeingSuccess/this.props.scores.length*100).toString()+"%",left:(this.props.seeingSuccess/this.props.scores.length*100).toString()+"%"};return i.default.createElement("div",{className:"rubric",style:{position:"relative",paddingTop:this.props.seeingSuccess?"30px":0}},i.default.createElement("table",{className:"no-border"},i.default.createElement("tbody",{className:"no-border-x "},i.default.createElement("tr",{className:"text-center"},this.props.scores.map(function(n,r){return i.default.createElement("td",{style:{width:t}},i.default.createElement("div",{style:{backgroundColor:e[r],border:"2.5px solid "+e[r]}},i.default.createElement("span",{className:"rubric-score-number",style:{backgroundColor:e[r],color:this.getTextColor(e[r])}},r+1)))},this)),i.default.createElement("tr",null,this.props.scores.map(function(e){return i.default.createElement("td",null,i.default.createElement("div",{className:"text-center"},e))})))),this.props.seeingSuccess?i.default.createElement("div",{className:"rubric-seeing-success meta",style:n},"Seeing Success"):i.default.createElement("span",null))}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(50),u=r(l),c=n(13),f=r(c),h=n(178),d=r(h),p={query:"",activeIndex:-1},m=function(e){return 40===e.keyCode},v=function(e){return 38===e.keyCode},g=function(e){return 13===e.keyCode},y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=p,n.onSearchInput=n.onSearchInput.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.handleSelection=n.handleSelection.bind(n),n}return a(t,e),s(t,[{key:"onSearchInput",value:function(e){this.setState({query:e.target.value})}},{key:"onKeyPress",value:function(e){this.props.items.length&&(v(e)&&(e.preventDefault(),this.setNewActiveIndexForUpArrow()),m(e)&&(e.preventDefault(),this.setNewActiveIndexForDownArrow()),g(e)&&(e.preventDefault(),this.handleSelection(e,this.getResults()[this.state.activeIndex])))}},{key:"setNewActiveIndexForUpArrow",value:function(){return this.setState(function(e){var t=e.activeIndex;return{activeIndex:t>-1?t-1:-1}})}},{key:"setNewActiveIndexForDownArrow",value:function(){var e=this;return this.setState(function(t){var n=t.activeIndex;return{activeIndex:n<e.getResults().length-1?n+1:n}})}},{key:"getResults",value:function(){return this.state.query.length?this.props.filterMethod(this.state.query,this.props.items).slice(0,5):[]}},{key:"navigateToSelectedLink",value:function(){var e=d.default.findDOMNode(this).querySelectorAll(".active a");e[0]&&(window.location=e[0].href)}},{key:"handleSelection",value:function(e,t){this.props.handleSelectionMethod?this.props.handleSelectionMethod(e,t):this.navigateToSelectedLink(),this.props.resetOnSelection&&this.setState(p)}},{key:"render",value:function(){return f.default.createElement("div",{className:"search-box"},f.default.createElement("div",{className:"input-group"},f.default.createElement("span",{className:"input-group-addon"},f.default.createElement("i",{className:"fa fa-search"})),f.default.createElement("input",{className:"form-control search-box-input",type:"text",value:this.state.query,onChange:this.onSearchInput,placeholder:this.props.placeholder,onKeyDown:this.onKeyPress})),f.default.createElement(b,{activeIndex:this.state.activeIndex,results:this.getResults(),renderResultMethod:this.props.renderResultMethod,onClickForResult:this.handleSelection}))}}]),t}(c.Component);t.default=y,y.propTypes={filterMethod:c.PropTypes.func.isRequired,items:c.PropTypes.array.isRequired,handleSelectionMethod:c.PropTypes.func,placeholder:c.PropTypes.string,renderResultMethod:c.PropTypes.func.isRequired,resetOnSelection:c.PropTypes.bool},y.defaultProps={placeholder:"Search",resetOnSelection:!1};var b=function(e){var t=e.results,n=e.activeIndex,r=e.renderResultMethod,i=e.onClickForResult;return f.default.createElement("div",{className:t.length?"search-box-results":""},t.map(function(e,t){return f.default.createElement("div",{key:u.default.uniqueId(),className:"search-box-result"+(t===n?" active":""),onClick:function(t){return i(t,e)}},r(e))}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInput=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(13),u=r(l),c=n(1577),f=r(c),h=t.SearchInput=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"search-box search-filters"},u.default.createElement("div",{className:"input-group"},u.default.createElement("span",{className:"input-group-addon"},u.default.createElement("i",{className:"fa fa-search"})),u.default.createElement(f.default,{className:"form-control search-box-input",minLength:this.props.minLength,debounceTimeout:this.props.debounceTimeout,placeholder:this.props.placeholder,onChange:function(t){return e.props.onChange(t)}}),this.props.children?u.default.createElement("div",null,u.default.createElement("i",{className:"fa fa-caret-down search-filters-toggle","data-toggle":"collapse","data-target":"#filtersDropdown"}),u.default.createElement("div",{className:"collapse search-filters-dropdown",id:"filtersDropdown"},this.props.children)):null))}}]),t}(u.default.Component);h.propTypes={placeholder:u.default.PropTypes.string,onChange:u.default.PropTypes.func,minLength:u.default.PropTypes.number,debounceTimeout:u.default.PropTypes.number},h.defaultProps={onChange:function(){},placeholder:"Search",minLength:2,debounceTimeout:15},t.default=h},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(124),a=i.default.createClass({displayName:"SurveysList",render:function(){return i.default.createElement("div",{className:"surveys-list"},this.props.surveys.map(function(e){return i.default.createElement(s,e)}))}}),s=i.default.createClass({displayName:"SurveysListItem",render:function(){return i.default.createElement("div",{className:"surveys-list-item"},i.default.createElement("div",{className:"surveys-list-item-icon"},i.default.createElement("div",{className:"surveys-list-item-icon-svg"}),this.props.isOpen?"":i.default.createElement("span",{className:"label label-danger"},"Closed")),i.default.createElement("div",{className:"surveys-list-item-content"},i.default.createElement("div",{className:"surveys-list-item-title"},this.props.name||""),i.default.createElement("div",{className:"surveys-list-item-date"},"Opened: ",o(this.props.created).format("MM/DD/YY")||""),i.default.createElement("div",{className:"surveys-list-item-date"},"Last Activity: ",o(this.props.lastActivity).format("MM/DD/YY")||""),i.default.createElement("p",{className:"surveys-list-item-response-totals meta orange"},this.props.totalRepsonses||""," Response",1!==this.props.totalRepsonses?"s":"")),i.default.createElement("div",{className:"surveys-list-item-button"},i.default.createElement("a",{href:this.props.url,className:"btn btn-default"},"Explore Survey Form"),this.props.formUrl&&this.props.formUrl.length?i.default.createElement("div",{style:{fontSize:12,textAlign:"center",marginTop:10}},i.default.createElement("a",{href:this.props.formUrl,target:"blank",style:{color:"#888"}},"View Form")):""))}});e.exports=a},function(e,t,n){"use strict";var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(124),a=i.default.createClass({displayName:"SurveysList",render:function(){return i.default.createElement("div",{className:"surveys-list"},this.props.surveys.map(function(e){return i.default.createElement(s,e)}))}}),s=i.default.createClass({displayName:"SurveysListItem",render:function(){return i.default.createElement("div",{className:"surveys-list-item"},i.default.createElement("div",{className:"surveys-list-item-inner"},i.default.createElement("div",{className:"surveys-list-item-icon"},i.default.createElement("div",{className:"surveys-list-item-icon-svg"}),this.props.isOpen?"":i.default.createElement("span",{className:"label label-danger"},"Closed")),i.default.createElement("div",{className:"surveys-list-item-content"},i.default.createElement("a",{href:this.props.url},i.default.createElement("div",{className:"surveys-list-item-title"},this.props.name||"")),i.default.createElement("div",{className:"surveys-list-item-date"},"Opened: ",o(this.props.created).isValid()?o(this.props.created).format("MM/DD/YY"):"Not available"),i.default.createElement("div",{className:"surveys-list-item-date"},"Last Activity: ",o(this.props.lastActivity).isValid()?o(this.props.lastActivity).format("MM/DD/YY"):"Not available")),i.default.createElement("div",{className:"surveys-list-item-count"},i.default.createElement("p",{className:"surveys-list-item-response-totals meta"},i.default.createElement("span",{className:"orange"},this.props.totalRepsonses||0)," Response",1!==this.props.totalRepsonses?"s":"")),i.default.createElement("div",{className:"surveys-list-item-button"},i.default.createElement("a",{href:this.props.url,className:"btn btn-trans btn-primary"},"View Report"),this.props.actionsMenu&&this.props.actionsMenu.length?i.default.createElement(l,{actionsMenu:this.props.actionsMenu}):"",this.props.formUrl&&this.props.formUrl.length?i.default.createElement("div",{style:{fontSize:12,textAlign:"center",marginTop:10}},i.default.createElement("a",{href:this.props.formUrl,target:"blank",style:{color:"#888"}},"View Form")):"")))}}),l=function(e){var t=e.actionsMenu,n=void 0===t?[]:t;return i.default.createElement("div",{style:{position:"relative",display:"inline-block"}},i.default.createElement("a",{href:"",className:"btn btn-default btn-trans dropdown-toggle","data-toggle":"dropdown"}," Manage ",i.default.createElement("i",{className:"fa fa-caret-down"})),i.default.createElement("ul",{className:"dropdown-menu",role:"menu"},n.map(function(e){return i.default.createElement(u,e)})))},u=function(e){var t=e.icon,n=e.name,r=e.onClick,o=void 0===r?function(){}:r,a=e.href;return i.default.createElement("li",null,a?i.default.createElement("a",{onClick:o,href:a},i.default.createElement("i",{className:"fa "+(t||"")})," ",n):i.default.createElement("a",{onClick:o},i.default.createElement("i",{className:"fa "+(t||"")})," ",n))};e.exports=a},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(13),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(50),s=n(124),l=o.default.createClass({displayName:"Timeline",getInitialState:function(){return{offset:0}},getTimelineOffsetStyles:function(e,t){return e<=5?{marginLeft:0}:{marginLeft:"calc("+1.882*(e-5-t)*-1+"% - 5px)"}},updateItemClasses:function(e,t,n){a.each(e,function(e){e.extraClass="non-active"});for(var r=t;r<n;r++)e[r]&&(e[r].extraClass="active ");return e},handleLeftClick:function(){this.state.offset<this.props.timelineEvents.length-5&&this.setState({offset:this.state.offset+1})},handleRightClick:function(){this.state.offset>0&&this.setState({offset:this.state.offset-1})},render:function(){var e=this.props.timelineEvents.length,t=e-this.state.offset-5,n=e-this.state.offset,i=this.getTimelineOffsetStyles(e,this.state.offset),s=this.updateItemClasses(this.props.timelineEvents,t,n)||[];return o.default.createElement("div",{className:"timeline"},o.default.createElement("div",null,o.default.createElement("a",{className:"timeline-move-left "+(this.state.offset<e-5?"":" inactive"),onClick:this.handleLeftClick},o.default.createElement("i",{className:"fa fa-chevron-left"})),o.default.createElement("a",{className:"timeline-move-right "+(this.state.offset>0?"":" inactive"),onClick:this.handleRightClick},o.default.createElement("i",{className:"fa fa-chevron-right"}))),o.default.createElement("div",{className:"timline-line"}),o.default.createElement("div",{className:"timeline-events"+(e<=5?" centered":"")},o.default.createElement("div",{className:"timeline-events-inner",style:i},a.map(s,function(e){return o.default.createElement(u,r({key:a.uniqueId()},e))},this))))}}),u=o.default.createClass({displayName:"TimelineEvent",render:function(){var e=s(this.props.date).format("D MMM YY");return o.default.createElement("div",{className:"timeline-event text-center "+this.props.extraClass},o.default.createElement("div",{className:"timeline-event-date meta"},e),o.default.createElement("div",{className:"circle-icon"},o.default.createElement("i",{className:"fa fa-"+this.props.iconClass})),o.default.createElement("div",{className:"timeline-event-content"},o.default.createElement("h4",{className:"timeline-event-content-title"},this.props.title),o.default.createElement("div",{className:"timeline-event-content-inner"},this.props.content)))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(357),u=r(l),c=n(13),f=r(c),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getInitialState",value:function(){return{closed:!0}}},{key:"handleToggle",value:function(){var e=this;this.setState({closed:!this.state.closed},function(){return e.props.handleToggle(e.state.closed)})}},{key:"render",value:function(){return f.default.createElement("div",null,this.props.children,f.default.createElement("a",{className:"meta view-more-button",onClick:this.handleToggle},f.default.createElement("i",{className:"fa "+(this.state.closed?"fa-plus":"fa-minus")})," View ",this.state.closed?"More":"Less"))}}]),t}(c.Component);h.propTypes={children:u.default.element,handleToggle:u.default.func},h.defaultProps={children:f.default.createElement("div",null),handleToggle:function(){}},t.default=h},function(e,t){},function(e,t,n){n(680),e.exports=n(681)}]);
//# sourceMappingURL=main.cf2b501d.js.map